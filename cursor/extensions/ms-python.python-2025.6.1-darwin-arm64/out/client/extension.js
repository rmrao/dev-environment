/*! For license information please see extension.js.LICENSE.txt */
(()=>{var __webpack_modules__={90967:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionActivationManager=void 0;const o=n(25891),s=n(9019),a=n(54661),c=n(552),l=n(22408),u=n(86156),p=n(23167),d=n(61905),h=n(63999),f=n(11925);let v=class{constructor(e,t,n,r,i,o,s,a,c){this.activationServices=e,this.singleActivationServices=t,this.documentManager=n,this.autoSelection=r,this.appDiagnostics=i,this.workspaceService=o,this.fileSystem=s,this.activeResourceService=a,this.interpreterPathService=c,this.activatedWorkspaces=new Set,this.isInterpreterSetForWorkspacePromises=new Map,this.disposables=[]}filterServices(){this.workspaceService.isTrusted||(this.activationServices=this.activationServices.filter((e=>e.supportedWorkspaceTypes.untrustedWorkspace)),this.singleActivationServices=this.singleActivationServices.filter((e=>e.supportedWorkspaceTypes.untrustedWorkspace))),this.workspaceService.isVirtualWorkspace&&(this.activationServices=this.activationServices.filter((e=>e.supportedWorkspaceTypes.virtualWorkspace)),this.singleActivationServices=this.singleActivationServices.filter((e=>e.supportedWorkspaceTypes.virtualWorkspace)))}dispose(){for(;this.disposables.length>0;)this.disposables.shift().dispose();this.docOpenedHandler&&(this.docOpenedHandler.dispose(),this.docOpenedHandler=void 0)}async activate(e){this.filterServices(),await this.initialize(),await Promise.all([...this.singleActivationServices.map((e=>e.activate())),this.activateWorkspace(this.activeResourceService.getActiveResource(),e)])}async activateWorkspace(e,t){const n=this.workspaceService.getWorkspaceFolder(e);e=n?n.uri:void 0;const r=this.getWorkspaceKey(e);this.activatedWorkspaces.has(r)||(this.activatedWorkspaces.add(r),this.workspaceService.isTrusted&&(await this.autoSelection.autoSelectInterpreter(e),await this.interpreterPathService.copyOldInterpreterStorageValuesToNew(e)),await(0,h.sendActivationTelemetry)(this.fileSystem,this.workspaceService,e),await Promise.all(this.activationServices.map((n=>n.activate(e,t)))),await this.appDiagnostics.performPreStartupHealthCheck(e))}async initialize(){this.addHandlers(),this.addRemoveDocOpenedHandlers()}onDocOpened(e){var t;if(e.languageId!==c.PYTHON_LANGUAGE)return;const n=this.getWorkspaceKey(e.uri),r=((null===(t=this.workspaceService.workspaceFolders)||void 0===t?void 0:t.length)||0)>0;""===n&&r||this.activatedWorkspaces.has(n)||this.activateWorkspace(e.uri).ignoreErrors()}addHandlers(){this.disposables.push(this.workspaceService.onDidChangeWorkspaceFolders(this.onWorkspaceFoldersChanged,this))}addRemoveDocOpenedHandlers(){this.hasMultipleWorkspaces()?this.docOpenedHandler||(this.docOpenedHandler=this.documentManager.onDidOpenTextDocument(this.onDocOpened,this)):this.docOpenedHandler&&(this.docOpenedHandler.dispose(),this.docOpenedHandler=void 0)}onWorkspaceFoldersChanged(){const e=this.workspaceService.workspaceFolders.map((e=>this.getWorkspaceKey(e.uri))),t=Array.from(this.activatedWorkspaces.keys()).filter((t=>e.indexOf(t)<0));if(t.length>0)for(const e of t)this.activatedWorkspaces.delete(e);this.addRemoveDocOpenedHandlers()}hasMultipleWorkspaces(){var e;return((null===(e=this.workspaceService.workspaceFolders)||void 0===e?void 0:e.length)||0)>1}getWorkspaceKey(e){return this.workspaceService.getWorkspaceFolderIdentifier(e,"")}};t.ExtensionActivationManager=v,r([(0,d.traceDecoratorError)("Failed to activate a workspace")],v.prototype,"activateWorkspace",null),t.ExtensionActivationManager=v=r([(0,o.injectable)(),i(0,(0,o.multiInject)(f.IExtensionActivationService)),i(1,(0,o.multiInject)(f.IExtensionSingleActivationService)),i(2,(0,o.inject)(a.IDocumentManager)),i(3,(0,o.inject)(p.IInterpreterAutoSelectionService)),i(4,(0,o.inject)(s.IApplicationDiagnostics)),i(5,(0,o.inject)(a.IWorkspaceService)),i(6,(0,o.inject)(l.IFileSystem)),i(7,(0,o.inject)(a.IActiveResourceService)),i(8,(0,o.inject)(u.IInterpreterPathService))],v)},72076:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Commands=void 0,function(e){e.RestartLS="python.analysis.restartLanguageServer"}(n||(t.Commands=n={}))},81420:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.LanguageServerAnalysisOptionsWithEnv=t.LanguageServerAnalysisOptionsBase=void 0;const i=n(54980),o=n(99),s=n(552),a=n(68989),c=n(61905);class l{constructor(e,t){this.workspace=t,this.didChange=new i.EventEmitter,this.output=e.channel}async initialize(e,t){}get onDidChange(){return this.didChange.event}dispose(){this.didChange.dispose()}async getAnalysisOptions(){const e=this.getWorkspaceFolder();return{documentSelector:this.getDocumentFilters(e),workspaceFolder:e,synchronize:{configurationSection:this.getConfigSectionsToSynchronize()},outputChannel:this.output,revealOutputChannelOn:o.RevealOutputChannelOn.Never,initializationOptions:await this.getInitializationOptions()}}getWorkspaceFolder(){}getDocumentFilters(e){return this.workspace.isVirtualWorkspace?[{language:s.PYTHON_LANGUAGE}]:s.PYTHON}getConfigSectionsToSynchronize(){return[s.PYTHON_LANGUAGE]}async getInitializationOptions(){}}t.LanguageServerAnalysisOptionsBase=l,r([(0,c.traceDecoratorError)("Failed to get analysis options")],l.prototype,"getAnalysisOptions",null);class u extends l{constructor(e,t,n){super(t,n),this.envVarsProvider=e,this.disposables=[],this.envPythonPath=""}async initialize(e,t){const n=this.envVarsProvider.onDidEnvironmentVariablesChange(this.onEnvVarChange,this);this.disposables.push(n)}dispose(){super.dispose(),this.disposables.forEach((e=>e.dispose()))}async getEnvPythonPath(){const e=await this.envVarsProvider.getEnvironmentVariables();return this.envPythonPath=e.PYTHONPATH||"",this.envPythonPath}onEnvVarChange(){this.notifyifEnvPythonPathChanged().ignoreErrors()}async notifyifEnvPythonPathChanged(){const e=(await this.envVarsProvider.getEnvironmentVariables()).PYTHONPATH||"";this.envPythonPath!==e&&this.didChange.fire()}}t.LanguageServerAnalysisOptionsWithEnv=u,r([(0,a.debounceSync)(1e3)],u.prototype,"onEnvVarChange",null)},63508:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.FileBasedCancellationStrategy=void 0;const s=n(76982),a=o(n(79896)),c=o(n(70857)),l=o(n(16928)),u=n(99);function p(e){return l.join(c.tmpdir(),"python-languageserver-cancellation",e)}function d(e,t){return l.join(p(e),`cancellation-${String(t)}.tmp`)}function h(e){try{e()}catch(e){}}class f{constructor(e){this.folderName=e;const t=p(e);h((()=>a.mkdirSync(t,{recursive:!0})))}async sendCancellation(e,t){const n=d(this.folderName,t);h((()=>a.writeFileSync(n,"",{flag:"w"})))}cleanup(e){h((()=>a.unlinkSync(d(this.folderName,e))))}dispose(){const e=p(this.folderName);function t(e){const n=a.lstatSync(e);if(n)if(n.isDirectory()&&!n.isSymbolicLink()){for(const n of a.readdirSync(e))t(l.join(e,n));a.rmdirSync(e)}else a.unlinkSync(e)}h((()=>t(e)))}}t.FileBasedCancellationStrategy=class{constructor(){const e=(0,s.randomBytes)(21).toString("hex");this._sender=new f(e)}get receiver(){return u.CancellationReceiverStrategy.Message}get sender(){return this._sender}getCommandLineArguments(){return[`--cancellationReceive=file:${this._sender.folderName}`]}dispose(){this._sender.dispose()}}},29408:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.setDefaultLanguageServer=void 0;const i=n(25891),o=n(552),s=n(86156),a=n(11925);let c=class{constructor(e){this.defaultLSType=e}};c=r([(0,i.injectable)()],c),t.setDefaultLanguageServer=async function(e,t){const n=await async function(e){return e.getExtension(o.PYLANCE_EXTENSION_ID)?a.LanguageServerType.Node:a.LanguageServerType.Jedi}(e);t.addSingletonInstance(s.IDefaultLanguageServer,new c(n))}},52111:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LanguageServerChangeHandler=t.promptForPylanceInstall=void 0;const r=n(54980),i=n(552),o=n(7855),s=n(14152),a=n(11925);async function c(e,t,n,o){const c=await e.showWarningMessage(s.Pylance.pylanceRevertToJediPrompt,s.Pylance.pylanceInstallPylance,s.Pylance.pylanceRevertToJedi,s.Pylance.remindMeLater);if(c===s.Pylance.pylanceInstallPylance)t.executeCommand("extension.open",i.PYLANCE_EXTENSION_ID);else if(c===s.Pylance.pylanceRevertToJedi){const e=n.getConfiguration("python").inspect("languageServer");let t;(null==e?void 0:e.workspaceValue)?t=r.ConfigurationTarget.Workspace:(null==e?void 0:e.globalValue)&&(t=r.ConfigurationTarget.Global),t&&await o.updateSetting("languageServer",a.LanguageServerType.Jedi,void 0,t)}}t.promptForPylanceInstall=c,t.LanguageServerChangeHandler=class{constructor(e,t,n,r,i,s){this.currentLsType=e,this.extensions=t,this.appShell=n,this.commands=r,this.workspace=i,this.configService=s,this.pylanceInstallCompletedDeferred=(0,o.createDeferred)(),this.disposables=[],this.pylanceInstalled=!1,this.pylanceInstalled=this.isPylanceInstalled(),this.disposables.push(t.onDidChange((async()=>{await this.extensionsChangeHandler()})))}dispose(){for(var e;this.disposables.length;)null===(e=this.disposables.pop())||void 0===e||e.dispose()}get pylanceInstallCompleted(){return this.pylanceInstallCompletedDeferred.promise}async handleLanguageServerChange(e){this.currentLsType!==e&&e!==a.LanguageServerType.Microsoft&&(e!==a.LanguageServerType.Node||this.isPylanceInstalled()||await c(this.appShell,this.commands,this.workspace,this.configService),this.currentLsType=e)}async extensionsChangeHandler(){const e=this.pylanceInstalled;this.pylanceInstalled=this.isPylanceInstalled(),e===this.pylanceInstalled&&this.pylanceInstallCompletedDeferred.resolve()}isPylanceInstalled(){return!!this.extensions.getExtension(i.PYLANCE_EXTENSION_ID)}}},8650:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.LoadLanguageServerExtension=void 0;const o=n(25891),s=n(54661),a=n(86156);let c=class{constructor(e,t){this.commandManager=e,this.disposables=t,this.supportedWorkspaceTypes={untrustedWorkspace:!0,virtualWorkspace:!0}}activate(){const e=this.commandManager.registerCommand("python._loadLanguageServerExtension",(()=>{}));return this.disposables.push(e),Promise.resolve()}};t.LoadLanguageServerExtension=c,t.LoadLanguageServerExtension=c=r([(0,o.injectable)(),i(0,(0,o.inject)(s.ICommandManager)),i(1,(0,o.inject)(a.IDisposableRegistry))],c)},30704:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.LanguageServerOutputChannel=void 0;const o=n(25891),s=n(54661);n(87295);const a=n(86156),c=n(14152);let l=class{constructor(e,t,n){this.appShell=e,this.commandManager=t,this.disposable=n,this.registered=!1}get channel(){return this.output||(this.output=this.appShell.createOutputChannel(c.OutputChannelNames.languageServer),this.disposable.push(this.output),this.registerCommand().ignoreErrors()),this.output}async registerCommand(){this.registered||(this.registered=!0,await this.commandManager.executeCommand("setContext","python.hasLanguageServerOutputChannel",!0),this.disposable.push(this.commandManager.registerCommand("python.viewLanguageServerOutput",(()=>{var e;return null===(e=this.output)||void 0===e?void 0:e.show(!0)}))),this.disposable.push({dispose:()=>{this.registered=!1}}))}};t.LanguageServerOutputChannel=l,t.LanguageServerOutputChannel=l=r([(0,o.injectable)(),i(0,(0,o.inject)(s.IApplicationShell)),i(1,(0,o.inject)(s.ICommandManager)),i(2,(0,o.inject)(a.IDisposableRegistry))],l)},17839:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionSurveyPrompt=t.extensionSurveyStateKeys=void 0;const c=n(25891),l=s(n(83480)),u=n(54980),p=n(54661),d=n(94496);n(87295);const h=n(22408),f=n(86156),v=n(14152),g=n(61905),m=n(51535),y=n(53322);var b;!function(e){e.doNotShowAgain="doNotShowExtensionSurveyAgain",e.disableSurveyForTime="doNotShowExtensionSurveyUntilTime"}(b||(t.extensionSurveyStateKeys=b={}));const _=72576e5;let E=class{constructor(e,t,n,r,i,o,s,a,c=10,l=108e5){this.appShell=e,this.browserService=t,this.persistentState=n,this.random=r,this.experiments=i,this.appEnvironment=o,this.platformService=s,this.workspace=a,this.sampleSizePerOneHundredUsers=c,this.waitTimeToShowSurvey=l,this.supportedWorkspaceTypes={untrustedWorkspace:!1,virtualWorkspace:!0}}async activate(){await this.experiments.inExperiment(d.ShowExtensionSurveyPrompt.experiment)&&this.shouldShowBanner()&&setTimeout((()=>this.showSurvey().ignoreErrors()),this.waitTimeToShowSurvey)}shouldShowBanner(){if(u.env.uiKind===(null===u.UIKind||void 0===u.UIKind?void 0:u.UIKind.Web))return!1;let e=!0;const t=this.workspace.getConfiguration("telemetry");return t&&(e=t.get("feedback.enabled",!0)),!!e&&(!this.persistentState.createGlobalPersistentState(b.doNotShowAgain,!1).value&&(!this.persistentState.createGlobalPersistentState(b.disableSurveyForTime,!1,_).value&&!(this.random.getRandomInt(0,100)>=this.sampleSizePerOneHundredUsers)))}async showSurvey(){const e=[v.ExtensionSurveyBanner.bannerLabelYes,v.ExtensionSurveyBanner.maybeLater,v.Common.doNotShowAgain],t=await this.appShell.showInformationMessage(v.ExtensionSurveyBanner.bannerMessage,...e);(0,m.sendTelemetryEvent)(y.EventName.EXTENSION_SURVEY_PROMPT,void 0,{selection:t?["Yes","Maybe later","Don't show again"][e.indexOf(t)]:void 0}),t&&(t===v.ExtensionSurveyBanner.bannerLabelYes?(this.launchSurvey(),await this.persistentState.createGlobalPersistentState(b.disableSurveyForTime,!1,_).updateValue(!0)):t===v.Common.doNotShowAgain&&await this.persistentState.createGlobalPersistentState(b.doNotShowAgain,!1).updateValue(!0))}launchSurvey(){const e=`https://aka.ms/AA5rjx5?${l.stringify({o:encodeURIComponent(this.platformService.osType),v:encodeURIComponent(this.appEnvironment.vscodeVersion),e:encodeURIComponent(this.appEnvironment.packageJson.version),m:encodeURIComponent(this.appEnvironment.sessionId)})}`;this.browserService.launch(e)}};t.ExtensionSurveyPrompt=E,o([(0,g.traceDecoratorError)("Failed to check whether to display prompt for extension survey")],E.prototype,"shouldShowBanner",null),o([(0,g.traceDecoratorError)("Failed to display prompt for extension survey")],E.prototype,"showSurvey",null),t.ExtensionSurveyPrompt=E=o([(0,c.injectable)(),a(0,(0,c.inject)(p.IApplicationShell)),a(1,(0,c.inject)(f.IBrowserService)),a(2,(0,c.inject)(f.IPersistentStateFactory)),a(3,(0,c.inject)(f.IRandom)),a(4,(0,c.inject)(f.IExperimentService)),a(5,(0,c.inject)(p.IApplicationEnvironment)),a(6,(0,c.inject)(h.IPlatformService)),a(7,(0,c.inject)(p.IWorkspaceService))],E)},82275:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.JediLanguageServerAnalysisOptions=void 0;const s=o(n(16928)),a=n(81420);class c extends a.LanguageServerAnalysisOptionsWithEnv{constructor(e,t,n,r){super(e,t,r),this.configurationService=n,this.resource=void 0}async initialize(e,t){return this.resource=e,this.interpreter=t,super.initialize(e,t)}getWorkspaceFolder(){return this.workspace.getWorkspaceFolder(this.resource)}async getInitializationOptions(){var e,t;const n=this.configurationService.getSettings(this.resource),r=null===(e=this.getWorkspaceFolder())||void 0===e?void 0:e.uri.fsPath,i=n.autoComplete?n.autoComplete.extraPaths.map((e=>s.isAbsolute(e)?e:r?s.join(r,e):"")):[];return r&&i.unshift(r),{markupKindPreferred:"markdown",completion:{resolveEagerly:!1,disableSnippets:!0},diagnostics:{enable:!0,didOpen:!0,didSave:!0,didChange:!0},hover:{disable:{keyword:{all:!0}}},workspace:{extraPaths:i.filter((e=>e.length>0)).filter(((e,t,n)=>n.indexOf(e)===t)),environmentPath:null===(t=this.interpreter)||void 0===t?void 0:t.path,symbols:{maxSymbols:0}},semantic_tokens:{enable:!0}}}}t.JediLanguageServerAnalysisOptions=c},66486:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.JediLanguageClientFactory=void 0;const s=o(n(16928)),a=n(99),c=n(552);t.JediLanguageClientFactory=class{constructor(e){this.interpreterService=e}async createLanguageClient(e,t,n){const r=s.join(c.EXTENSION_ROOT_DIR,"python_files","run-jedi-language-server.py"),i=await this.interpreterService.getActiveInterpreter(e),o={command:i?i.path:"python",args:[r]};return new a.LanguageClient(c.PYTHON_LANGUAGE,"Python Jedi",o,n)}}},51002:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JediLanguageClientMiddleware=void 0;const r=n(69515),i=n(11925);class o extends r.LanguageClientMiddleware{constructor(e,t){super(e,i.LanguageServerType.Jedi,t)}}t.JediLanguageClientMiddleware=o},1096:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.JediLanguageServerProxy=void 0,n(87295);const i=n(51535),o=n(53322),s=n(47193),a=n(43761),c=n(61905);class l{constructor(e){this.factory=e,this.disposables=[]}static versionTelemetryProps(e){return{lsVersion:e.lsVersion}}dispose(){this.stop().ignoreErrors()}async start(e,t,n){var r;this.lsVersion=null!==(r=n.middleware?n.middleware.serverVersion:void 0)&&void 0!==r?r:"0.19.3";try{const r=await this.factory.createLanguageClient(e,t,n);this.registerHandlers(r),await r.start(),this.languageClient=r}catch(e){throw(0,c.traceError)("Failed to start language server:",e),new Error("Launching Jedi language server using python failed, see output.")}}async stop(){for(var e;this.disposables.length>0;)this.disposables.shift().dispose();if(this.languageClient){const t=this.languageClient;this.languageClient=void 0;const n=null===(e=t._serverProcess)||void 0===e?void 0:e.pid,r=()=>{n&&(0,a.killPid)(n)};try{await t.stop(),await t.dispose(),r()}catch(e){(0,c.traceError)("Stopping language client failed",e),r()}}}loadExtension(){}registerHandlers(e){const t=new s.ProgressReporting(e);this.disposables.push(t)}}t.JediLanguageServerProxy=l,r([(0,c.traceDecoratorVerbose)("Disposing language server")],l.prototype,"dispose",null),r([(0,c.traceDecoratorError)("Failed to start language server"),(0,i.captureTelemetry)(o.EventName.JEDI_LANGUAGE_SERVER_ENABLED,void 0,!0,void 0,l.versionTelemetryProps)],l.prototype,"start",null),r([(0,c.traceDecoratorVerbose)("Stopping language server")],l.prototype,"stop",null),r([(0,i.captureTelemetry)(o.EventName.JEDI_LANGUAGE_SERVER_READY,void 0,!0,void 0,l.versionTelemetryProps)],l.prototype,"registerHandlers",null)},94796:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.JediLanguageServerManager=void 0;const a=s(n(21605)),c=s(n(16928));n(87295);const l=n(68989),u=n(84090),p=n(51535),d=n(53322),h=n(72076),f=n(51002),v=n(61905);class g{constructor(e,t,n,r){this.serviceContainer=e,this.analysisOptions=t,this.languageServerProxy=n,this.disposables=[],this.connected=!1,g.commandDispose&&g.commandDispose.dispose(),g.commandDispose=r.registerCommand(h.Commands.RestartLS,(()=>{this.restartLanguageServer().ignoreErrors()}))}static versionTelemetryProps(e){return{lsVersion:e.lsVersion}}dispose(){this.stopLanguageServer().ignoreErrors(),g.commandDispose.dispose(),this.disposables.forEach((e=>e.dispose()))}async start(e,t){this.resource=e,this.interpreter=t,this.analysisOptions.onDidChange(this.restartLanguageServerDebounced,this,this.disposables);try{const e=await a.readFile(c.join(u.EXTENSION_ROOT_DIR,"python_files","jedilsp_requirements","requirements.txt"),"utf-8"),t=/jedi-language-server==([0-9\.]*)/.exec(e);t&&2===t.length&&([,this.lsVersion]=t)}catch(e){(0,v.traceVerbose)("Failed to get jedi-language-server version: ",e)}await this.analysisOptions.initialize(e,t),await this.startLanguageServer()}connect(){var e;this.connected||(this.connected=!0,null===(e=this.middleware)||void 0===e||e.connect())}disconnect(){var e;this.connected&&(this.connected=!1,null===(e=this.middleware)||void 0===e||e.disconnect())}restartLanguageServerDebounced(){this.restartLanguageServer().ignoreErrors()}async restartLanguageServer(){await this.stopLanguageServer(),await this.startLanguageServer()}async startLanguageServer(){const e=await this.analysisOptions.getAnalysisOptions();this.middleware=new f.JediLanguageClientMiddleware(this.serviceContainer,this.lsVersion),e.middleware=this.middleware,this.connected&&this.middleware.connect(),await this.languageServerProxy.start(this.resource,this.interpreter,e)}async stopLanguageServer(){this.languageServerProxy&&await this.languageServerProxy.stop()}}t.JediLanguageServerManager=g,o([(0,v.traceDecoratorError)("Failed to start language server")],g.prototype,"start",null),o([(0,l.debounceSync)(1e3)],g.prototype,"restartLanguageServerDebounced",null),o([(0,v.traceDecoratorError)("Failed to restart language server"),(0,v.traceDecoratorVerbose)("Restarting language server")],g.prototype,"restartLanguageServer",null),o([(0,p.captureTelemetry)(d.EventName.JEDI_LANGUAGE_SERVER_STARTUP,void 0,!0,void 0,g.versionTelemetryProps),(0,v.traceDecoratorVerbose)("Starting language server")],g.prototype,"startLanguageServer",null),o([(0,v.traceDecoratorVerbose)("Stopping language server")],g.prototype,"stopLanguageServer",null)},69515:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LanguageClientMiddleware=void 0;const r=n(51535),i=n(82950);class o extends i.LanguageClientMiddlewareBase{constructor(e,t,n){super(e,t,r.sendTelemetryEvent,n)}}t.LanguageClientMiddleware=o},82950:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.LanguageClientMiddlewareBase=void 0;const s=o(n(16928)),a=n(54980),c=n(96353),l=n(552),u=n(7855),p=n(51080),d=n(53694),h=n(29413),f=n(53322),v=n(11925),g=3e5,m=6e4;t.LanguageClientMiddlewareBase=class{configurationHook(e,t){}get connected(){return this.connectedPromise.promise}constructor(e,t,n,r){this.serviceContainer=e,this.sendTelemetryEventFunc=n,this.serverVersion=r,this.lastCaptured=new Map,this.nextWindow=0,this.eventCount=0,this.workspace={configuration:async(e,t,n)=>{var r,i;if(!this.serviceContainer)return n(e,t);const o=this.serviceContainer.get(h.IInterpreterService),s=this.serviceContainer.get(d.IEnvironmentVariablesProvider);let l=n(e,t);if((0,u.isThenable)(l)&&(l=await l),l instanceof c.ResponseError)return l;for(const[t,n]of e.items.entries()){if("python"===n.section){const e=n.scopeUri?a.Uri.parse(n.scopeUri):void 0,c=l[t];c.pythonPath=null!==(i=null===(r=await o.getActiveInterpreter(e))||void 0===r?void 0:r.path)&&void 0!==i?i:"python";const u=(await s.getEnvironmentVariables(e)).PYTHONPATH;u&&(c._envPYTHONPATH=u)}this.configurationHook(n,l[t])}return l}},this.connectedPromise=(0,u.createDeferred)(),this.notebooks={didOpen:this.didOpenNotebook.bind(this),didSave:this.didSaveNotebook.bind(this),didChange:this.didChangeNotebook.bind(this),didClose:this.didCloseNotebook.bind(this)},this.handleDiagnostics=this.handleDiagnostics.bind(this),this.didOpen=this.didOpen.bind(this),this.didSave=this.didSave.bind(this),this.didChange=this.didChange.bind(this),this.didClose=this.didClose.bind(this),this.willSave=this.willSave.bind(this),this.willSaveWaitUntil=this.willSaveWaitUntil.bind(this),t===v.LanguageServerType.Node?this.eventName=f.EventName.LANGUAGE_SERVER_REQUEST:t===v.LanguageServerType.Jedi&&(this.eventName=f.EventName.JEDI_LANGUAGE_SERVER_REQUEST)}connect(){this.connectedPromise.resolve(!0)}disconnect(){this.connectedPromise=(0,u.createDeferred)(),this.connectedPromise.resolve(!1)}didChange(){return this.callNext("didChange",arguments)}didOpen(){return this.callNext("didOpen",arguments)}didClose(){return this.callNext("didClose",arguments)}didSave(){return this.callNext("didSave",arguments)}willSave(){return this.callNext("willSave",arguments)}willSaveWaitUntil(){return this.callNext("willSaveWaitUntil",arguments)}async didOpenNotebook(){return this.callNotebooksNext("didOpen",arguments)}async didSaveNotebook(){return this.callNotebooksNext("didSave",arguments)}async didChangeNotebook(){return this.callNotebooksNext("didChange",arguments)}async didCloseNotebook(){return this.callNotebooksNext("didClose",arguments)}async provideCompletionItem(){if(await this.connected)return this.callNextAndSendTelemetry("textDocument/completion",g,"provideCompletionItem",arguments,((e,t)=>t?{resultLength:Array.isArray(t)?t.length:t.items.length}:{resultLength:0}))}async provideHover(){if(await this.connected)return this.callNextAndSendTelemetry("textDocument/hover",g,"provideHover",arguments)}async handleDiagnostics(e,t,n){if(await this.connected){const t=e.fsPath,n=t?s.basename(t):void 0;if(!n||!n.startsWith(l.HiddenFilePrefix))return this.callNext("handleDiagnostics",arguments)}}async resolveCompletionItem(){if(await this.connected)return this.callNextAndSendTelemetry("completionItem/resolve",g,"resolveCompletionItem",arguments)}async provideSignatureHelp(){if(await this.connected)return this.callNextAndSendTelemetry("textDocument/signatureHelp",g,"provideSignatureHelp",arguments)}async provideDefinition(){if(await this.connected)return this.callNextAndSendTelemetry("textDocument/definition",m,"provideDefinition",arguments)}async provideReferences(){if(await this.connected)return this.callNextAndSendTelemetry("textDocument/references",m,"provideReferences",arguments)}async provideDocumentHighlights(){if(await this.connected)return this.callNext("provideDocumentHighlights",arguments)}async provideDocumentSymbols(){if(await this.connected)return this.callNextAndSendTelemetry("textDocument/documentSymbol",g,"provideDocumentSymbols",arguments)}async provideWorkspaceSymbols(){if(await this.connected)return this.callNextAndSendTelemetry("workspace/symbol",m,"provideWorkspaceSymbols",arguments)}async provideCodeActions(){if(await this.connected)return this.callNextAndSendTelemetry("textDocument/codeAction",g,"provideCodeActions",arguments)}async provideCodeLenses(){if(await this.connected)return this.callNextAndSendTelemetry("textDocument/codeLens",g,"provideCodeLenses",arguments)}async resolveCodeLens(){if(await this.connected)return this.callNextAndSendTelemetry("codeLens/resolve",g,"resolveCodeLens",arguments)}async provideDocumentFormattingEdits(){if(await this.connected)return this.callNext("provideDocumentFormattingEdits",arguments)}async provideDocumentRangeFormattingEdits(){if(await this.connected)return this.callNext("provideDocumentRangeFormattingEdits",arguments)}async provideOnTypeFormattingEdits(){if(await this.connected)return this.callNextAndSendTelemetry("textDocument/onTypeFormatting",g,"provideOnTypeFormattingEdits",arguments)}async provideRenameEdits(){if(await this.connected)return this.callNextAndSendTelemetry("textDocument/rename",m,"provideRenameEdits",arguments)}async prepareRename(){if(await this.connected)return this.callNextAndSendTelemetry("textDocument/prepareRename",m,"prepareRename",arguments)}async provideDocumentLinks(){if(await this.connected)return this.callNext("provideDocumentLinks",arguments)}async resolveDocumentLink(){if(await this.connected)return this.callNext("resolveDocumentLink",arguments)}async provideDeclaration(){if(await this.connected)return this.callNextAndSendTelemetry("textDocument/declaration",m,"provideDeclaration",arguments)}async provideTypeDefinition(){if(await this.connected)return this.callNextAndSendTelemetry("textDocument/typeDefinition",m,"provideTypeDefinition",arguments)}async provideImplementation(){if(await this.connected)return this.callNext("provideImplementation",arguments)}async provideDocumentColors(){if(await this.connected)return this.callNext("provideDocumentColors",arguments)}async provideColorPresentations(){if(await this.connected)return this.callNext("provideColorPresentations",arguments)}async provideFoldingRanges(){if(await this.connected)return this.callNextAndSendTelemetry("textDocument/foldingRange",g,"provideFoldingRanges",arguments)}async provideSelectionRanges(){if(await this.connected)return this.callNextAndSendTelemetry("textDocument/selectionRange",m,"provideSelectionRanges",arguments)}async prepareCallHierarchy(){if(await this.connected)return this.callNext("prepareCallHierarchy",arguments)}async provideCallHierarchyIncomingCalls(){if(await this.connected)return this.callNext("provideCallHierarchyIncomingCalls",arguments)}async provideCallHierarchyOutgoingCalls(){if(await this.connected)return this.callNext("provideCallHierarchyOutgoingCalls",arguments)}async provideDocumentSemanticTokens(){if(await this.connected)return this.callNext("provideDocumentSemanticTokens",arguments)}async provideDocumentSemanticTokensEdits(){if(await this.connected)return this.callNext("provideDocumentSemanticTokensEdits",arguments)}async provideDocumentRangeSemanticTokens(){if(await this.connected)return this.callNext("provideDocumentRangeSemanticTokens",arguments)}async provideLinkedEditingRange(){if(await this.connected)return this.callNext("provideLinkedEditingRange",arguments)}callNext(e,t){return this.notebookAddon&&this.notebookAddon[e]?this.notebookAddon[e](...t):t[t.length-1](...t)}callNotebooksNext(e,t){var n;return(null===(n=this.notebookAddon)||void 0===n?void 0:n.notebooks)&&this.notebookAddon.notebooks[e]?this.notebookAddon.notebooks[e](...t):t[t.length-1](...t)}callNextAndSendTelemetry(e,t,n,r,i){const o=Date.now(),s=new p.StopWatch;let a=!1;const c=[...r];c[c.length-1]=(...e)=>(a=!0,r[r.length-1](...e)),o>this.nextWindow&&(this.nextWindow=o+36e5,this.eventCount=0);const l=this.lastCaptured.get(e),d=n=>{if(this.eventName&&a&&this.eventCount<100&&(!l||o-l>t)){this.lastCaptured.set(e,o),this.eventCount+=1;const t=e.replace(/\//g,"."),r={lsVersion:this.serverVersion||"unknown",method:t};let a=s.elapsedTime;i&&(a={duration:a,...i(this,n)}),this.sendTelemetryEventFunc(this.eventName,a,r)}return n},h=this.callNext(n,c);return(0,u.isThenable)(h)?h.then(d):d(h)}}},44501:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeLanguageServerAnalysisOptions=void 0;const r=n(81420);class i extends r.LanguageServerAnalysisOptionsBase{constructor(e,t){super(e,t)}getConfigSectionsToSynchronize(){return[...super.getConfigSectionsToSynchronize(),"jupyter.runStartupCommands"]}async getInitializationOptions(){return{experimentationSupport:!0,trustedWorkspaceSupport:!0}}}t.NodeLanguageServerAnalysisOptions=i},55856:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.NodeLanguageClientFactory=t.PYLANCE_NAME=void 0;const s=o(n(16928)),a=n(99),c=n(552);t.PYLANCE_NAME="Pylance",t.NodeLanguageClientFactory=class{constructor(e,t){this.fs=e,this.extensions=t}async createLanguageClient(e,n,r){var i;const o=(null===(i=r.connectionOptions)||void 0===i?void 0:i.cancellationStrategy).getCommandLineArguments(),l=this.extensions.getExtension(c.PYLANCE_EXTENSION_ID),u=l?l.extensionPath:"",p=s.join(u,"dist","server.bundle.js"),d=s.join(u,"dist","server.js"),h=await this.fs.fileExists(d)?d:p,f={run:{module:p,transport:a.TransportKind.ipc,args:o},debug:{module:h,transport:a.TransportKind.ipc,options:{execArgv:["--nolazy","--inspect=6600"]},args:o}};return new a.LanguageClient(c.PYTHON_LANGUAGE,t.PYLANCE_NAME,f,r)}}},4992:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeLanguageClientMiddleware=void 0;const r=n(69515),i=n(11925);class o extends r.LanguageClientMiddleware{constructor(e,t){super(e,i.LanguageServerType.Node,t)}}t.NodeLanguageClientMiddleware=o},60690:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.NodeLanguageServerProxy=void 0,n(87295);const i=n(99),o=n(51535),s=n(53322),a=n(63508),c=n(47193),l=n(61905),u=n(552);var p,d;!function(e){e.Method="python/inExperiment"}(p||(p={})),function(e){e.Method="python/getExperimentValue"}(d||(d={}));class h{constructor(e,t,n,r,i,o){this.factory=e,this.experimentService=t,this.interpreterPathService=n,this.environmentService=r,this.workspace=i,this.extensions=o,this.disposables=[]}static versionTelemetryProps(e){return{lsVersion:e.lsVersion}}dispose(){this.stop().ignoreErrors()}async start(e,t,n){const r=await this.getPylanceExtension();this.lsVersion=(null==r?void 0:r.packageJSON.version)||"0";const i=null==r?void 0:r.exports;if(i&&i.client&&i.client.isEnabled())return this.pylanceApi=i,void await i.client.start();this.cancellationStrategy=new a.FileBasedCancellationStrategy,n.connectionOptions={cancellationStrategy:this.cancellationStrategy};const o=await this.factory.createLanguageClient(e,t,n);this.registerHandlers(o,e),this.disposables.push(this.workspace.onDidGrantWorkspaceTrust((()=>{o.sendNotification("python/workspaceTrusted",{isTrusted:!0})}))),await o.start(),this.languageClient=o}async stop(){if(this.pylanceApi){const e=this.pylanceApi;this.pylanceApi=void 0,await e.client.stop()}for(;this.disposables.length>0;)this.disposables.shift().dispose();if(this.languageClient){const e=this.languageClient;this.languageClient=void 0;try{await e.stop(),await e.dispose()}catch(e){(0,l.traceError)("Stopping language client failed",e)}}this.cancellationStrategy&&(this.cancellationStrategy.dispose(),this.cancellationStrategy=void 0)}loadExtension(){}registerHandlers(e,t){const n=new c.ProgressReporting(e);this.disposables.push(n),this.disposables.push(this.interpreterPathService.onDidChange((()=>{e.sendNotification(i.DidChangeConfigurationNotification.type,{settings:null})}))),this.disposables.push(this.environmentService.onDidEnvironmentVariablesChange((()=>{e.sendNotification(i.DidChangeConfigurationNotification.type,{settings:null})}))),e.onTelemetry((e=>{var t;const n=e.EventName||s.EventName.LANGUAGE_SERVER_TELEMETRY,r={...e.Properties,method:null===(t=e.Properties.method)||void 0===t?void 0:t.replace(/\//g,".")};(0,o.sendTelemetryEvent)(n,e.Measurements,r,e.Exception)})),e.onRequest(p.Method,(async e=>({inExperiment:await this.experimentService.inExperiment(e.experimentName)}))),e.onRequest(d.Method,(async e=>({value:await this.experimentService.getExperimentValue(e.experimentName)}))),this.disposables.push(e.onRequest("python/isTrustedWorkspace",(async()=>({isTrusted:this.workspace.isTrusted}))))}async getPylanceExtension(){const e=this.extensions.getExtension(u.PYLANCE_EXTENSION_ID);if(e)return e.isActive||await e.activate(),e}}t.NodeLanguageServerProxy=h,r([(0,l.traceDecoratorVerbose)("Disposing language server")],h.prototype,"dispose",null),r([(0,l.traceDecoratorError)("Failed to start language server"),(0,o.captureTelemetry)(s.EventName.LANGUAGE_SERVER_ENABLED,void 0,!0,void 0,h.versionTelemetryProps)],h.prototype,"start",null),r([(0,l.traceDecoratorVerbose)("Disposing language server")],h.prototype,"stop",null),r([(0,o.captureTelemetry)(s.EventName.LANGUAGE_SERVER_READY,void 0,!0,void 0,h.versionTelemetryProps)],h.prototype,"registerHandlers",null)},52462:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.NodeLanguageServerManager=void 0,n(87295);const i=n(68989),o=n(51535),s=n(53322),a=n(72076),c=n(4992),l=n(61905),u=n(552);class p{constructor(e,t,n,r,i){this.serviceContainer=e,this.analysisOptions=t,this.languageServerProxy=n,this.extensions=i,this.disposables=[],this.connected=!1,this.started=!1,p.commandDispose&&p.commandDispose.dispose(),p.commandDispose=r.registerCommand(a.Commands.RestartLS,(()=>{(0,o.sendTelemetryEvent)(s.EventName.LANGUAGE_SERVER_RESTART,void 0,{reason:"command"}),this.restartLanguageServer().ignoreErrors()}))}static versionTelemetryProps(e){return{lsVersion:e.lsVersion}}dispose(){this.stopLanguageServer().ignoreErrors(),p.commandDispose.dispose(),this.disposables.forEach((e=>e.dispose()))}async start(e,t){if(this.started)throw new Error("Language server already started");this.resource=e,this.interpreter=t,this.analysisOptions.onDidChange(this.restartLanguageServerDebounced,this,this.disposables);const n=this.extensions.getExtension(u.PYLANCE_EXTENSION_ID);this.lsVersion=(null==n?void 0:n.packageJSON.version)||"0",await this.analysisOptions.initialize(e,t),await this.startLanguageServer(),this.started=!0}connect(){var e;this.connected||(this.connected=!0,null===(e=this.middleware)||void 0===e||e.connect())}disconnect(){var e;this.connected&&(this.connected=!1,null===(e=this.middleware)||void 0===e||e.disconnect())}restartLanguageServerDebounced(){(0,o.sendTelemetryEvent)(s.EventName.LANGUAGE_SERVER_RESTART,void 0,{reason:"settings"}),this.restartLanguageServer().ignoreErrors()}async restartLanguageServer(){await this.stopLanguageServer(),await this.startLanguageServer()}async startLanguageServer(){const e=await this.analysisOptions.getAnalysisOptions();this.middleware=new c.NodeLanguageClientMiddleware(this.serviceContainer,this.lsVersion),e.middleware=this.middleware,this.connected&&this.middleware.connect(),await this.languageServerProxy.start(this.resource,this.interpreter,e)}async stopLanguageServer(){this.languageServerProxy&&await this.languageServerProxy.stop()}}t.NodeLanguageServerManager=p,r([(0,l.traceDecoratorError)("Failed to start language server")],p.prototype,"start",null),r([(0,i.debounceSync)(1e3)],p.prototype,"restartLanguageServerDebounced",null),r([(0,l.traceDecoratorError)("Failed to restart language server"),(0,l.traceDecoratorVerbose)("Restarting language server")],p.prototype,"restartLanguageServer",null),r([(0,o.captureTelemetry)(s.EventName.LANGUAGE_SERVER_STARTUP,void 0,!0,void 0,p.versionTelemetryProps),(0,l.traceDecoratorVerbose)("Starting language server")],p.prototype,"startLanguageServer",null),r([(0,l.traceDecoratorVerbose)("Stopping language server")],p.prototype,"stopLanguageServer",null)},3440:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PartialModeStatusItem=void 0;const o=n(25891),s=n(54661),a=n(86156),c=n(14152);let l=class{constructor(e,t){this.workspace=e,this.disposables=t,this.supportedWorkspaceTypes={untrustedWorkspace:!0,virtualWorkspace:!0}}async activate(){const{isTrusted:e,isVirtualWorkspace:t}=this.workspace;if(e&&!t)return;const n=this.createStatusItem();n&&this.disposables.push(n)}createStatusItem(){const e=n(54980);if("createLanguageStatusItem"in e.languages){const t=e.languages.createLanguageStatusItem("python.projectStatus",{language:"python"});return t.name=c.LanguageService.statusItem.name,t.severity=e.LanguageStatusSeverity.Warning,t.text=c.LanguageService.statusItem.text,t.detail=this.workspace.isTrusted?c.LanguageService.virtualWorkspaceStatusItem.detail:c.LanguageService.statusItem.detail,t.command={title:c.Common.learnMore,command:"vscode.open",arguments:[e.Uri.parse("https://aka.ms/AAdzyh4")]},t}}};t.PartialModeStatusItem=l,t.PartialModeStatusItem=l=r([(0,o.injectable)(),i(0,(0,o.inject)(s.IWorkspaceService)),i(1,(0,o.inject)(a.IDisposableRegistry))],l)},47193:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressReporting=void 0;const r=n(54980),i=n(7855);t.ProgressReporting=class{constructor(e){this.languageClient=e,this.languageClient.onNotification("python/setStatusBarMessage",(e=>{this.statusBarMessage&&this.statusBarMessage.dispose(),this.statusBarMessage=r.window.setStatusBarMessage(e)})),this.languageClient.onNotification("python/beginProgress",(e=>{this.progressDeferred||this.beginProgress()})),this.languageClient.onNotification("python/reportProgress",(e=>{this.progress||this.beginProgress(),this.progress.report({message:e})})),this.languageClient.onNotification("python/endProgress",(e=>{this.progressDeferred&&(this.progressDeferred.resolve(),this.progressDeferred=void 0,this.progress=void 0)}))}dispose(){this.statusBarMessage&&this.statusBarMessage.dispose()}beginProgress(){this.progressDeferred=(0,i.createDeferred)(),r.window.withProgress({location:r.ProgressLocation.Window,title:""},(e=>(this.progress=e,this.progressDeferred.promise)))}}},4525:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.RequirementsTxtLinkActivator=t.generatePyPiLink=void 0;const i=n(25891),o=n(54980);function s(e){const t=e.match(/^([A-Z0-9]|[A-Z0-9][A-Z0-9._-]*)($|=| |;|\[)/i);return t?`https://pypi.org/project/${t[1]}/`:null}t.generatePyPiLink=s;let a=class{constructor(){this.supportedWorkspaceTypes={untrustedWorkspace:!0,virtualWorkspace:!0}}async activate(){o.languages.registerHoverProvider([{pattern:"**/*requirement*.txt"},{pattern:"**/requirements/*.txt"}],{provideHover(e,t){const n=s(e.lineAt(t.line).text);return n?new o.Hover(n):null}})}};t.RequirementsTxtLinkActivator=a,t.RequirementsTxtLinkActivator=a=r([(0,i.injectable)()],a)},1048:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const r=n(90967),i=n(17839),o=n(30704),s=n(11925),a=n(8650),c=n(3440),l=n(14764),u=n(68597),p=n(4525);t.registerTypes=function(e){e.addSingleton(s.IExtensionActivationService,c.PartialModeStatusItem),e.add(s.IExtensionActivationManager,r.ExtensionActivationManager),e.addSingleton(s.ILanguageServerOutputChannel,o.LanguageServerOutputChannel),e.addSingleton(s.IExtensionSingleActivationService,i.ExtensionSurveyPrompt),e.addSingleton(s.IExtensionSingleActivationService,a.LoadLanguageServerExtension),e.addSingleton(l.ILanguageServerWatcher,u.LanguageServerWatcher),e.addBinding(l.ILanguageServerWatcher,s.IExtensionActivationService),e.addSingleton(s.IExtensionSingleActivationService,p.RequirementsTxtLinkActivator)}},11925:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.IExtensionSingleActivationService=t.ILanguageServerOutputChannel=t.ILanguageServerProxy=t.ILanguageServerManager=t.ILanguageServerAnalysisOptions=t.ILanguageClientFactory=t.ILanguageServerActivator=t.LanguageServerType=t.IExtensionActivationService=t.IExtensionActivationManager=void 0,t.IExtensionActivationManager=Symbol("IExtensionActivationManager"),t.IExtensionActivationService=Symbol("IExtensionActivationService"),function(e){e.Jedi="Jedi",e.JediLSP="JediLSP",e.Microsoft="Microsoft",e.Node="Pylance",e.None="None"}(n||(t.LanguageServerType=n={})),t.ILanguageServerActivator=Symbol("ILanguageServerActivator"),t.ILanguageClientFactory=Symbol("ILanguageClientFactory"),t.ILanguageServerAnalysisOptions=Symbol("ILanguageServerAnalysisOptions"),t.ILanguageServerManager=Symbol("ILanguageServerManager"),t.ILanguageServerProxy=Symbol("ILanguageServerProxy"),t.ILanguageServerOutputChannel=Symbol("ILanguageServerOutputChannel"),t.IExtensionSingleActivationService=Symbol("IExtensionSingleActivationService")},34287:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildApi=void 0;const r=n(99),i=n(55856),o=n(11925),s=n(552),a=n(86156),c=n(62582),l=n(29413),u=n(93616),p=n(61905),d=n(65532),h=n(51535),f=n(5448),v=n(73354);t.buildApi=function(e,t,n,g){const m=n.get(a.IConfigurationService),y=n.get(l.IInterpreterService);t.addSingleton(u.JupyterExtensionIntegration,u.JupyterExtensionIntegration),t.addSingleton(u.JupyterExtensionPythonEnvironments,u.JupyterExtensionPythonEnvironments),t.addSingleton(f.TensorboardExtensionIntegration,f.TensorboardExtensionIntegration);const b=n.get(u.JupyterExtensionIntegration),_=n.get(u.JupyterExtensionPythonEnvironments),E=n.get(f.TensorboardExtensionIntegration),S=n.get(o.ILanguageServerOutputChannel),w={ready:e.catch((e=>((0,p.traceError)("Failure during activation.",e),Promise.reject(e)))),jupyter:{registerHooks:()=>b.integrateWithJupyterExtension()},tensorboard:{registerHooks:()=>E.integrateWithTensorboardExtension()},debug:{getRemoteLauncherCommand:async(e,t,n=!0)=>(0,c.getDebugpyLauncherArgs)({host:e,port:t,waitUntilDebuggerAttaches:n}),getDebuggerPackagePath:async()=>(0,v.getDebugpyPath)()},settings:{onDidChangeExecutionDetails:y.onDidChangeInterpreterConfiguration,getExecutionDetails(e){const{pythonPath:t}=m.getSettings(e);return{execCommand:""===t?void 0:[t]}}},pylance:{createClient:(...e)=>{var t;const n=e[1];return n.outputChannel=null!==(t=n.outputChannel)&&void 0!==t?t:S.channel,new r.LanguageClient(s.PYTHON_LANGUAGE,i.PYLANCE_NAME,e[0],n)},start:e=>e.start(),stop:e=>e.stop(),getTelemetryReporter:()=>(0,h.getTelemetryReporter)()},environments:(0,d.buildEnvironmentApi)(g,n,_)};return(0,s.isTestExecution)()&&(w.serviceContainer=n,w.serviceManager=t),w}},46225:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PythonExtension=t.PVSC_EXTENSION_ID=void 0;const r=n(54980);var i;t.PVSC_EXTENSION_ID="ms-python.python",function(e){e.api=async function(){const e=r.extensions.getExtension(t.PVSC_EXTENSION_ID);if(void 0===e)throw new Error("Python extension is not installed or is disabled");return e.isActive||await e.activate(),e.exports}}(i||(t.PythonExtension=i={}))},54767:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ApplicationDiagnostics=void 0;const o=n(25891),s=n(54980),a=n(54661),c=n(552),l=n(9100),u=n(61905),p=n(79576);async function d(e,t){await Promise.all(e.map((async e=>{const n=await e.diagnose(t);n.length>0&&(function(e){e.forEach((e=>{const t=`Diagnostic Code: ${e.code}, Message: ${e.message}`;switch(e.severity){case s.DiagnosticSeverity.Error:case s.DiagnosticSeverity.Warning:(0,u.traceLog)(t);break;default:(0,u.traceVerbose)(t)}}))}(n),await e.handle(n))})))}let h=class{constructor(e){this.serviceContainer=e}register(){}async performPreStartupHealthCheck(e){if((0,c.isTestExecution)())return;let t=this.serviceContainer.getAll(p.IDiagnosticsService);this.serviceContainer.get(a.IWorkspaceService).isTrusted||(t=t.filter((e=>e.runInUntrustedWorkspace))),await d(t.filter((e=>!e.runInBackground)),e),d(t.filter((e=>e.runInBackground)),e).ignoreErrors()}};t.ApplicationDiagnostics=h,t.ApplicationDiagnostics=h=r([(0,o.injectable)(),i(0,(0,o.inject)(l.IServiceContainer))],h)},36236:function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseDiagnosticsService=t.BaseDiagnostic=void 0;const s=n(25891),a=n(54661),c=n(83597),l=n(51535),u=n(53322),p=n(79576);let d=class{constructor(e,t,n,r,i,o=!0,s="default"){this.code=e,this.message=t,this.severity=n,this.scope=r,this.resource=i,this.shouldShowPrompt=o,this.invokeHandler=s}};t.BaseDiagnostic=d,t.BaseDiagnostic=d=i([(0,s.injectable)()],d);let h=r=class{constructor(e,t,n,r=!1,i=!1){this.supportedDiagnosticCodes=e,this.serviceContainer=t,this.disposableRegistry=n,this.runInBackground=r,this.runInUntrustedWorkspace=i,this.filterService=t.get(p.IDiagnosticFilterService),n.push(this)}dispose(){}async handle(e){if(0===e.length)return;const t=await(0,c.asyncFilter)(e,(async e=>{if(!await this.canHandle(e))return!1;if(e.invokeHandler&&"always"===e.invokeHandler)return!0;const t=this.getDiagnosticsKey(e);return-1===r.handledDiagnosticCodeKeys.indexOf(t)&&(r.handledDiagnosticCodeKeys.push(t),!0)}));await this.onHandle(t)}async canHandle(e){return(0,l.sendTelemetryEvent)(u.EventName.DIAGNOSTICS_MESSAGE,void 0,{code:e.code}),this.supportedDiagnosticCodes.filter((t=>t===e.code)).length>0}getDiagnosticsKey(e){if(e.scope===p.DiagnosticScope.Global)return e.code;const t=this.serviceContainer.get(a.IWorkspaceService),n=e.resource?t.getWorkspaceFolder(e.resource):void 0;return`${e.code}dbe75733-0407-4124-a1b2-ca769dc30523${n?n.uri.fsPath:""}`}};t.BaseDiagnosticsService=h,h.handledDiagnosticCodeKeys=[],t.BaseDiagnosticsService=h=r=i([(0,s.injectable)(),o(0,(0,s.unmanaged)()),o(1,(0,s.unmanaged)()),o(2,(0,s.unmanaged)()),o(3,(0,s.unmanaged)()),o(4,(0,s.unmanaged)())],h)},59411:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.EnvironmentPathVariableDiagnosticsService=t.EnvironmentPathVariableDiagnosticsServiceId=void 0;const o=n(25891),s=n(54980),a=n(54661);n(87295);const c=n(22408),l=n(86156),u=n(14152),p=n(9100),d=n(36236),h=n(97033),f=n(10284),v=n(77295),g=n(79576);class m extends d.BaseDiagnostic{constructor(e,t){super(f.DiagnosticCodes.InvalidEnvironmentPathVariableDiagnostic,e,s.DiagnosticSeverity.Warning,g.DiagnosticScope.Global,t)}}t.EnvironmentPathVariableDiagnosticsServiceId="EnvironmentPathVariableDiagnosticsServiceId";let y=class extends d.BaseDiagnosticsService{constructor(e,t){super([f.DiagnosticCodes.InvalidEnvironmentPathVariableDiagnostic],e,t,!0,!0),this.platform=this.serviceContainer.get(c.IPlatformService),this.messageService=e.get(g.IDiagnosticHandlerService,v.DiagnosticCommandPromptHandlerServiceId)}async diagnose(e){if(this.platform.isWindows&&this.doesPathVariableHaveInvalidEntries()){const t=this.serviceContainer.get(a.IApplicationEnvironment),n="The environment variable '{0}' seems to have some paths containing the '\"' character. The existence of such a character is known to have caused the {1} extension to not load. If the extension fails to load please modify your paths to remove this '\"' character.".format(this.platform.pathVariableName,t.extensionName);return[new m(n,e)]}return[]}async onHandle(e){if(0===e.length||!this.canHandle(e[0]))return;const t=e[0];if(await this.filterService.shouldIgnoreDiagnostic(t.code))return;const n=this.serviceContainer.get(h.IDiagnosticsCommandFactory),r=[{prompt:u.Common.ignore},{prompt:u.Common.alwaysIgnore,command:n.createCommand(t,{type:"ignore",options:g.DiagnosticScope.Global})},{prompt:u.Common.moreInfo,command:n.createCommand(t,{type:"launch",options:"https://aka.ms/Niq35h"})}];await this.messageService.handle(t,{commandPrompts:r})}doesPathVariableHaveInvalidEntries(){const e=this.serviceContainer.get(l.ICurrentProcess).env[this.platform.pathVariableName],t=this.serviceContainer.get(l.IPathUtils).delimiter;return(e||"").split(t).filter((e=>e.indexOf('"')>=0)).length>0}};t.EnvironmentPathVariableDiagnosticsService=y,t.EnvironmentPathVariableDiagnosticsService=y=r([(0,o.injectable)(),i(0,(0,o.inject)(p.IServiceContainer)),i(1,(0,o.inject)(l.IDisposableRegistry))],y)},98285:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidPythonPathInDebuggerService=t.InvalidPythonPathInDebuggerServiceId=void 0;const c=n(25891),l=s(n(16928)),u=n(54980),p=n(54661);n(87295);const d=n(86156),h=n(14152),f=n(79985),v=n(46108),g=n(29413),m=n(9100),y=n(61905),b=n(36236),_=n(97033),E=n(10284),S=n(77295),w=n(79576),P={[E.DiagnosticCodes.InvalidPythonPathInDebuggerSettingsDiagnostic]:h.Diagnostics.invalidPythonPathInDebuggerSettings,[E.DiagnosticCodes.InvalidPythonPathInDebuggerLaunchDiagnostic]:h.Diagnostics.invalidPythonPathInDebuggerLaunch};class T extends b.BaseDiagnostic{constructor(e,t){super(e,P[e],u.DiagnosticSeverity.Error,w.DiagnosticScope.WorkspaceFolder,t,void 0,"always")}}t.InvalidPythonPathInDebuggerServiceId="InvalidPythonPathInDebuggerServiceId";let C=class extends b.BaseDiagnosticsService{constructor(e,t,n,r,i,o,s,a){super([E.DiagnosticCodes.InvalidPythonPathInDebuggerSettingsDiagnostic,E.DiagnosticCodes.InvalidPythonPathInDebuggerLaunchDiagnostic],e,s,!0),this.workspace=t,this.commandFactory=n,this.interpreterHelper=r,this.documentManager=i,this.configService=o,this.messageService=a}async diagnose(){return[]}async validatePythonPath(e,t,n){return"${command:python.interpreterPath}"!==(e=e?this.resolveVariables(e,n):void 0)&&e||(e=this.configService.getSettings(n).pythonPath),!!await this.interpreterHelper.getInterpreterInformation(e).catch((()=>{}))||((0,y.traceError)(`Invalid Python Path '${e}'`),t===v.PythonPathSource.launchJson?this.handle([new T(E.DiagnosticCodes.InvalidPythonPathInDebuggerLaunchDiagnostic,n)]).catch((e=>(0,y.traceError)("Failed to handle invalid python path in launch.json debugger",e))).ignoreErrors():this.handle([new T(E.DiagnosticCodes.InvalidPythonPathInDebuggerSettingsDiagnostic,n)]).catch((e=>(0,y.traceError)("Failed to handle invalid python path in settings.json debugger",e))).ignoreErrors(),!1)}async onHandle(e){if(0===e.length||!this.canHandle(e[0]))return;const t=e[0],n=this.getCommandPrompts(t);await this.messageService.handle(t,{commandPrompts:n})}resolveVariables(e,t){return new f.SystemVariables(t,void 0,this.workspace).resolveAny(e)}getCommandPrompts(e){switch(e.code){case E.DiagnosticCodes.InvalidPythonPathInDebuggerSettingsDiagnostic:return[{prompt:h.Common.selectPythonInterpreter,command:this.commandFactory.createCommand(e,{type:"executeVSCCommand",options:"python.setInterpreter"})}];case E.DiagnosticCodes.InvalidPythonPathInDebuggerLaunchDiagnostic:return[{prompt:h.Common.openLaunch,command:{diagnostic:e,invoke:async()=>{const e=(t=u.workspace.workspaceFolders[0],l.join(t.uri.fsPath,".vscode","launch.json"));var t;const n=await this.documentManager.openTextDocument(e);await this.documentManager.showTextDocument(n)}}}];default:throw new Error("Invalid diagnostic for 'InvalidPythonPathInDebuggerService'")}}};t.InvalidPythonPathInDebuggerService=C,t.InvalidPythonPathInDebuggerService=C=o([(0,c.injectable)(),a(0,(0,c.inject)(m.IServiceContainer)),a(1,(0,c.inject)(p.IWorkspaceService)),a(2,(0,c.inject)(_.IDiagnosticsCommandFactory)),a(3,(0,c.inject)(g.IInterpreterHelper)),a(4,(0,c.inject)(p.IDocumentManager)),a(5,(0,c.inject)(d.IConfigurationService)),a(6,(0,c.inject)(d.IDisposableRegistry)),a(7,(0,c.inject)(w.IDiagnosticHandlerService)),a(7,(0,c.named)(S.DiagnosticCommandPromptHandlerServiceId))],C)},20785:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.JediPython27NotSupportedDiagnosticService=t.JediPython27NotSupportedDiagnosticServiceId=t.JediPython27NotSupportedDiagnostic=void 0;const o=n(25891),s=n(54980),a=n(11925),c=n(54661),l=n(86156),u=n(14152),p=n(29413),d=n(9100),h=n(36236),f=n(97033),v=n(10284),g=n(77295),m=n(79576);class y extends h.BaseDiagnostic{constructor(e,t){super(v.DiagnosticCodes.JediPython27NotSupportedDiagnostic,e,s.DiagnosticSeverity.Warning,m.DiagnosticScope.Global,t)}}t.JediPython27NotSupportedDiagnostic=y,t.JediPython27NotSupportedDiagnosticServiceId="JediPython27NotSupportedDiagnosticServiceId";let b=class extends h.BaseDiagnosticsService{constructor(e,t,n,r,i,o){super([v.DiagnosticCodes.JediPython27NotSupportedDiagnostic],e,o,!0),this.interpreterService=t,this.workspaceService=n,this.configurationService=r,this.messageService=i}async diagnose(e){var t,n;const r=await this.interpreterService.getActiveInterpreter(e),{languageServer:i}=this.configurationService.getSettings(e);return await this.updateLanguageServerSetting(e),r&&(null!==(n=null===(t=r.version)||void 0===t?void 0:t.major)&&void 0!==n?n:0)<3&&i===a.LanguageServerType.Jedi?[new y(u.Python27Support.jediMessage,e)]:[]}async onHandle(e){if(0===e.length||!this.canHandle(e[0]))return;const t=e[0];if(await this.filterService.shouldIgnoreDiagnostic(t.code))return;const n=this.serviceContainer.get(f.IDiagnosticsCommandFactory),r=[{prompt:u.Common.gotIt},{prompt:u.Common.doNotShowAgain,command:n.createCommand(t,{type:"ignore",options:m.DiagnosticScope.Global})}];await this.messageService.handle(t,{commandPrompts:r})}async updateLanguageServerSetting(e){const t=this.workspaceService.getConfiguration("python",e).inspect("languageServer");let n;if((null==t?void 0:t.workspaceValue)===a.LanguageServerType.JediLSP)n=s.ConfigurationTarget.Workspace;else{if((null==t?void 0:t.globalValue)!==a.LanguageServerType.JediLSP)return;n=s.ConfigurationTarget.Global}await this.configurationService.updateSetting("languageServer",a.LanguageServerType.Jedi,e,n)}};t.JediPython27NotSupportedDiagnosticService=b,t.JediPython27NotSupportedDiagnosticService=b=r([i(0,(0,o.inject)(d.IServiceContainer)),i(1,(0,o.inject)(p.IInterpreterService)),i(2,(0,o.inject)(c.IWorkspaceService)),i(3,(0,o.inject)(l.IConfigurationService)),i(4,(0,o.inject)(m.IDiagnosticHandlerService)),i(4,(0,o.named)(g.DiagnosticCommandPromptHandlerServiceId)),i(5,(0,o.inject)(l.IDisposableRegistry))],b)},71346:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidMacPythonInterpreterService=t.InvalidMacPythonInterpreterServiceId=t.InvalidMacPythonInterpreterDiagnostic=void 0;const o=n(25891),s=n(54980);n(87295);const a=n(22408),c=n(86156),l=n(29413),u=n(9100),p=n(36236),d=n(97033),h=n(10284),f=n(77295),v=n(79576),g=n(14152),m={[h.DiagnosticCodes.MacInterpreterSelected]:s.l10n.t("The selected macOS system install of Python is not recommended, some functionality in the extension will be limited. [Install another version of Python](https://www.python.org/downloads) or select a different interpreter for the best experience. [Learn more](https://aka.ms/AA7jfor).")};class y extends p.BaseDiagnostic{constructor(e,t){super(e,m[e],s.DiagnosticSeverity.Error,v.DiagnosticScope.WorkspaceFolder,t)}}t.InvalidMacPythonInterpreterDiagnostic=y,t.InvalidMacPythonInterpreterServiceId="InvalidMacPythonInterpreterServiceId";let b=class extends p.BaseDiagnosticsService{constructor(e,t,n,r){super([h.DiagnosticCodes.MacInterpreterSelected],e,t,!0),this.platform=n,this.helper=r,this.changeThrottleTimeout=1e3,this.addPythonPathChangedHandler()}dispose(){this.timeOut&&"number"!=typeof this.timeOut&&(clearTimeout(this.timeOut),this.timeOut=void 0)}async diagnose(e){if(!this.platform.isMac)return[];const t=this.serviceContainer.get(c.IConfigurationService).getSettings(e);return await this.helper.isMacDefaultPythonPath(t.pythonPath)?[new y(h.DiagnosticCodes.MacInterpreterSelected,e)]:[]}async onHandle(e){if(0===e.length)return;const t=this.serviceContainer.get(v.IDiagnosticHandlerService,f.DiagnosticCommandPromptHandlerServiceId);await Promise.all(e.map((async e=>{const n=await this.canHandle(e),r=await this.filterService.shouldIgnoreDiagnostic(e.code);if(!n||r)return;const i=this.getCommandPrompts(e);await t.handle(e,{commandPrompts:i,message:e.message})})))}addPythonPathChangedHandler(){const e=this.serviceContainer.get(c.IDisposableRegistry),t=this.serviceContainer.get(c.IInterpreterPathService);e.push(t.onDidChange((e=>this.onDidChangeConfiguration(e))))}async onDidChangeConfiguration(e){const t=e.uri;this.timeOut&&"number"!=typeof this.timeOut&&(clearTimeout(this.timeOut),this.timeOut=void 0),this.timeOut=setTimeout((()=>{this.timeOut=void 0,this.diagnose(t).then((e=>this.handle(e))).ignoreErrors()}),this.changeThrottleTimeout)}getCommandPrompts(e){const t=this.serviceContainer.get(d.IDiagnosticsCommandFactory);if(e.code===h.DiagnosticCodes.MacInterpreterSelected)return[{prompt:g.Common.selectPythonInterpreter,command:t.createCommand(e,{type:"executeVSCCommand",options:"python.setInterpreter"})},{prompt:g.Common.doNotShowAgain,command:t.createCommand(e,{type:"ignore",options:v.DiagnosticScope.Global})}];throw new Error("Invalid diagnostic for 'InvalidMacPythonInterpreterService'")}};t.InvalidMacPythonInterpreterService=b,t.InvalidMacPythonInterpreterService=b=r([(0,o.injectable)(),i(0,(0,o.inject)(u.IServiceContainer)),i(1,(0,o.inject)(c.IDisposableRegistry)),i(2,(0,o.inject)(a.IPlatformService)),i(3,(0,o.inject)(l.IInterpreterHelper))],b)},34470:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PowerShellActivationHackDiagnosticsService=t.PowerShellActivationHackDiagnosticsServiceId=t.PowershellActivationNotAvailableDiagnostic=void 0;const o=n(25891),s=n(54980);n(87295);const a=n(32077),c=n(86156),l=n(14152),u=n(9100),p=n(61905),d=n(51535),h=n(53322),f=n(36236),v=n(97033),g=n(10284),m=n(77295),y=n(79576),b=s.l10n.t("Activation of the selected Python environment is not supported in PowerShell. Consider changing your shell to Command Prompt.");class _ extends f.BaseDiagnostic{constructor(e){super(g.DiagnosticCodes.EnvironmentActivationInPowerShellWithBatchFilesNotSupportedDiagnostic,b,s.DiagnosticSeverity.Warning,y.DiagnosticScope.Global,e,void 0,"always")}}t.PowershellActivationNotAvailableDiagnostic=_,t.PowerShellActivationHackDiagnosticsServiceId="EnvironmentActivationInPowerShellWithBatchFilesNotSupportedDiagnostic";let E=class extends f.BaseDiagnosticsService{constructor(e,t){super([g.DiagnosticCodes.EnvironmentActivationInPowerShellWithBatchFilesNotSupportedDiagnostic],e,t,!0),this.messageService=e.get(y.IDiagnosticHandlerService,m.DiagnosticCommandPromptHandlerServiceId)}async diagnose(){return[]}async onHandle(e){if(0===e.length||!this.canHandle(e[0]))return;const t=e[0];if(await this.filterService.shouldIgnoreDiagnostic(t.code))return;const n=this.serviceContainer.get(v.IDiagnosticsCommandFactory),r=this.serviceContainer.get(c.ICurrentProcess),i=this.serviceContainer.get(c.IConfigurationService),o=[{prompt:l.Common.useCommandPrompt,command:{diagnostic:t,invoke:async()=>{(0,d.sendTelemetryEvent)(h.EventName.DIAGNOSTICS_ACTION,void 0,{action:"switchToCommandPrompt"}),(0,a.useCommandPromptAsDefaultShell)(r,i).catch((e=>(0,p.traceError)("Use Command Prompt as default shell",e)))}}},{prompt:l.Common.ignore},{prompt:l.Common.alwaysIgnore,command:n.createCommand(t,{type:"ignore",options:y.DiagnosticScope.Global})},{prompt:l.Common.moreInfo,command:n.createCommand(t,{type:"launch",options:"https://aka.ms/CondaPwsh"})}];await this.messageService.handle(t,{commandPrompts:o})}};t.PowerShellActivationHackDiagnosticsService=E,t.PowerShellActivationHackDiagnosticsService=E=r([(0,o.injectable)(),i(0,(0,o.inject)(u.IServiceContainer)),i(1,(0,o.inject)(c.IDisposableRegistry))],E)},46592:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PylanceDefaultDiagnosticService=t.PylanceDefaultDiagnosticServiceId=t.PylanceDefaultDiagnostic=t.PYLANCE_PROMPT_MEMENTO=void 0;const o=n(25891),s=n(54980),a=n(86156),c=n(14152),l=n(9100),u=n(36236),p=n(10284),d=n(77295),h=n(79576);t.PYLANCE_PROMPT_MEMENTO="pylanceDefaultPromptMemento";class f extends u.BaseDiagnostic{constructor(e,t){super(p.DiagnosticCodes.PylanceDefaultDiagnostic,e,s.DiagnosticSeverity.Information,h.DiagnosticScope.Global,t)}}t.PylanceDefaultDiagnostic=f,t.PylanceDefaultDiagnosticServiceId="PylanceDefaultDiagnosticServiceId";let v=class extends u.BaseDiagnosticsService{constructor(e,t,n,r){super([p.DiagnosticCodes.PylanceDefaultDiagnostic],e,r,!0,!0),this.context=t,this.messageService=n,this.initialMementoValue=void 0,this.initialMementoValue=this.context.globalState.get("extensionVersion")}async diagnose(e){return await this.shouldShowPrompt()?[new f(c.Diagnostics.pylanceDefaultMessage,e)]:[]}async onHandle(e){if(0===e.length||!this.canHandle(e[0]))return;const t=e[0];if(await this.filterService.shouldIgnoreDiagnostic(t.code))return;const n=[{prompt:c.Common.ok}];await this.messageService.handle(t,{commandPrompts:n,onClose:this.updateMemento.bind(this)})}async updateMemento(){await this.context.globalState.update(t.PYLANCE_PROMPT_MEMENTO,!0)}async shouldShowPrompt(){const e=this.initialMementoValue,n=this.context.globalState.get(t.PYLANCE_PROMPT_MEMENTO);return void 0===e?(await this.updateMemento(),!1):void 0===n}};t.PylanceDefaultDiagnosticService=v,t.PylanceDefaultDiagnosticService=v=r([i(0,(0,o.inject)(l.IServiceContainer)),i(1,(0,o.inject)(a.IExtensionContext)),i(2,(0,o.inject)(h.IDiagnosticHandlerService)),i(2,(0,o.named)(d.DiagnosticCommandPromptHandlerServiceId)),i(3,(0,o.inject)(a.IDisposableRegistry))],v)},43923:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidPythonInterpreterService=t.InvalidPythonInterpreterServiceId=t.DefaultShellDiagnostic=t.InvalidPythonInterpreterDiagnostic=void 0;const c=n(25891),l=n(54980);n(87295);const u=s(n(16928)),p=n(86156),d=n(29413),h=n(9100),f=n(36236),v=n(97033),g=n(10284),m=n(77295),y=n(79576),b=n(14152),_=n(552),E=n(54661),S=n(51535),w=n(53322),P=n(68989),T=n(98803),C=n(48112),x=n(22408),I=n(61905),O=n(13931),R=n(62982),D=n(35026),k=n(25943),A={[g.DiagnosticCodes.NoPythonInterpretersDiagnostic]:l.l10n.t("No Python interpreter is selected. Please select a Python interpreter to enable features such as IntelliSense, linting, and debugging."),[g.DiagnosticCodes.InvalidPythonInterpreterDiagnostic]:l.l10n.t("An Invalid Python interpreter is selected{0}, please try changing it to enable features such as IntelliSense, linting, and debugging. See output for more details regarding why the interpreter is invalid."),[g.DiagnosticCodes.InvalidComspecDiagnostic]:l.l10n.t('We detected an issue with one of your environment variables that breaks features such as IntelliSense, linting and debugging. Try setting the "ComSpec" variable to a valid Command Prompt path in your system to fix it.'),[g.DiagnosticCodes.IncompletePathVarDiagnostic]:l.l10n.t('We detected an issue with "Path" environment variable that breaks features such as IntelliSense, linting and debugging. Please edit it to make sure it contains the "System32" subdirectories.'),[g.DiagnosticCodes.DefaultShellErrorDiagnostic]:l.l10n.t('We detected an issue with your default shell that breaks features such as IntelliSense, linting and debugging. Try resetting "ComSpec" and "Path" environment variables to fix it.')};class N extends f.BaseDiagnostic{constructor(e,t,n,r=y.DiagnosticScope.WorkspaceFolder){var i;let o="";if(n.workspaceFile&&n.workspaceFolders&&(null===(i=n.workspaceFolders)||void 0===i?void 0:i.length)>1){const e=n.getWorkspaceFolder(t);e&&(o=` ${l.l10n.t("for workspace")} ${u.basename(e.uri.fsPath)}`)}super(e,A[e].format(o),l.DiagnosticSeverity.Error,r,t,void 0,"always")}}t.InvalidPythonInterpreterDiagnostic=N;class j extends f.BaseDiagnostic{constructor(e,t,n=y.DiagnosticScope.Global){super(e,A[e],l.DiagnosticSeverity.Error,n,t,void 0,"always")}}t.DefaultShellDiagnostic=j,t.InvalidPythonInterpreterServiceId="InvalidPythonInterpreterServiceId";let M=class extends f.BaseDiagnosticsService{constructor(e,t){super([g.DiagnosticCodes.NoPythonInterpretersDiagnostic,g.DiagnosticCodes.InvalidPythonInterpreterDiagnostic,g.DiagnosticCodes.InvalidComspecDiagnostic,g.DiagnosticCodes.IncompletePathVarDiagnostic,g.DiagnosticCodes.DefaultShellErrorDiagnostic],e,t,!1),this.supportedWorkspaceTypes={untrustedWorkspace:!1,virtualWorkspace:!0}}async activate(){const e=this.serviceContainer.get(E.ICommandManager);this.disposableRegistry.push(e.registerCommand(_.Commands.TriggerEnvironmentSelection,(e=>this.triggerEnvSelectionIfNecessary(e))));const t=this.serviceContainer.get(d.IInterpreterService);this.disposableRegistry.push(t.onDidChangeInterpreterConfiguration((t=>e.executeCommand(_.Commands.TriggerEnvironmentSelection,t).then(T.noop,T.noop))))}async diagnose(e){return this.diagnoseDefaultShell(e)}async _manualDiagnose(e){const t=this.serviceContainer.get(E.IWorkspaceService),n=this.serviceContainer.get(d.IInterpreterService),r=await this.diagnoseDefaultShell(e);if(r.length>0)return r;const i=await n.hasInterpreters(),o="python"===this.serviceContainer.get(p.IInterpreterPathService).get(e);return!i&&o?[new N(g.DiagnosticCodes.NoPythonInterpretersDiagnostic,e,t,y.DiagnosticScope.Global)]:await n.getActiveInterpreter(e)?[]:[new N(g.DiagnosticCodes.InvalidPythonInterpreterDiagnostic,e,t)]}async triggerEnvSelectionIfNecessary(e){const t=await this._manualDiagnose(e);return!t.length||(this.handle(t).ignoreErrors(),!1)}async diagnoseDefaultShell(e){if((0,C.getOSType)()!==C.OSType.Windows)return[];const t=this.serviceContainer.get(d.IInterpreterService);if(await t.getActiveInterpreter(e))return[];try{await this.shellExecPython()}catch(t){if(-4058===t.errno)return(0,I.traceError)("ComSpec is likely set to an invalid value",(0,C.getEnvironmentVariable)("ComSpec")),await this.isComspecInvalid()?[new j(g.DiagnosticCodes.InvalidComspecDiagnostic,e)]:this.isPathVarIncomplete()?((0,I.traceError)("PATH env var appears to be incomplete",process.env.Path,process.env.PATH),[new j(g.DiagnosticCodes.IncompletePathVarDiagnostic,e)]):[new j(g.DiagnosticCodes.DefaultShellErrorDiagnostic,e)]}return[]}async isComspecInvalid(){var e;const t=null!==(e=(0,C.getEnvironmentVariable)("ComSpec"))&&void 0!==e?e:"";return this.serviceContainer.get(x.IFileSystem).fileExists(t).then((e=>!e))}isPathVarIncomplete(){var e;const t=(0,R.getSearchPathEnvVarNames)(),n=null!==(e=(0,C.getEnvironmentVariable)("SystemRoot"))&&void 0!==e?e:"C:\\WINDOWS",r=u.join(n,"system32");for(const e of t){const t=(0,C.getEnvironmentVariable)(e);if(t&&(0,k.normCasePath)(t).includes((0,k.normCasePath)(r)))return!1}return!0}async shellExecPython(){const e=this.serviceContainer.get(p.IConfigurationService),{pythonPath:t}=e.getSettings(),[n]=(0,O.getExecutable)(),r=[t,...n].reduce(((e,t)=>e?`${e} ${t.toCommandArgumentForPythonExt()}`:`${t.toCommandArgumentForPythonExt()}`),""),i=this.serviceContainer.get(D.IProcessServiceFactory);return(await i.create()).shellExec(r,{timeout:15e3})}async onHandle(e){if(0===e.length)return;const t=this.serviceContainer.get(y.IDiagnosticHandlerService,m.DiagnosticCommandPromptHandlerServiceId);await Promise.all(e.map((async e=>{if(!this.canHandle(e))return;const n=this.getCommandPrompts(e),r=function(e){if(e.code===g.DiagnosticCodes.NoPythonInterpretersDiagnostic)return e=>{(0,S.sendTelemetryEvent)(w.EventName.PYTHON_NOT_INSTALLED_PROMPT,void 0,{selection:e?"Download":"Ignore"})}}(e);await t.handle(e,{commandPrompts:n,message:e.message,onClose:r})})))}getCommandPrompts(e){const t=this.serviceContainer.get(v.IDiagnosticsCommandFactory);if(e.code===g.DiagnosticCodes.InvalidComspecDiagnostic||e.code===g.DiagnosticCodes.IncompletePathVarDiagnostic||e.code===g.DiagnosticCodes.DefaultShellErrorDiagnostic){const n={InvalidComspecDiagnostic:"https://aka.ms/AAk3djo",IncompletePathVarDiagnostic:"https://aka.ms/AAk744c",DefaultShellErrorDiagnostic:"https://aka.ms/AAk7qix"};return[{prompt:b.Common.seeInstructions,command:t.createCommand(e,{type:"launch",options:n[e.code]})}]}const n=[{prompt:b.Common.selectPythonInterpreter,command:t.createCommand(e,{type:"executeVSCCommand",options:_.Commands.Set_Interpreter})}];return e.code===g.DiagnosticCodes.InvalidPythonInterpreterDiagnostic&&n.push({prompt:b.Common.openOutputPanel,command:t.createCommand(e,{type:"executeVSCCommand",options:_.Commands.ViewOutput})}),n}};t.InvalidPythonInterpreterService=M,o([(0,P.cache)(-1,!0)],M.prototype,"shellExecPython",null),o([(0,P.cache)(1e3,!0)],M.prototype,"onHandle",null),t.InvalidPythonInterpreterService=M=o([(0,c.injectable)(),a(0,(0,c.inject)(h.IServiceContainer)),a(1,(0,c.inject)(p.IDisposableRegistry))],M)},25660:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.SwitchToDefaultLanguageServerDiagnosticService=t.SwitchToDefaultLanguageServerDiagnosticServiceId=t.SwitchToDefaultLanguageServerDiagnostic=void 0;const o=n(25891),s=n(54980),a=n(11925),c=n(54661),l=n(86156),u=n(14152),p=n(9100),d=n(36236),h=n(10284),f=n(77295),v=n(79576);class g extends d.BaseDiagnostic{constructor(e,t){super(h.DiagnosticCodes.SwitchToDefaultLanguageServerDiagnostic,e,s.DiagnosticSeverity.Warning,v.DiagnosticScope.Global,t)}}t.SwitchToDefaultLanguageServerDiagnostic=g,t.SwitchToDefaultLanguageServerDiagnosticServiceId="SwitchToDefaultLanguageServerDiagnosticServiceId";let m=class extends d.BaseDiagnosticsService{constructor(e,t,n,r){super([h.DiagnosticCodes.JediPython27NotSupportedDiagnostic],e,r,!0,!0),this.workspaceService=t,this.messageService=n}diagnose(e){let t=!1;const n=this.workspaceService.getConfiguration("python"),r=n.inspect("languageServer");return(null==r?void 0:r.workspaceValue)===a.LanguageServerType.Microsoft&&(n.update("languageServer","Default",s.ConfigurationTarget.Workspace),t=!0),(null==r?void 0:r.globalValue)===a.LanguageServerType.Microsoft&&(n.update("languageServer","Default",s.ConfigurationTarget.Global),t=!0),Promise.resolve(t?[new g(u.SwitchToDefaultLS.bannerMessage,e)]:[])}async onHandle(e){if(0===e.length||!this.canHandle(e[0]))return;const t=e[0];await this.filterService.shouldIgnoreDiagnostic(t.code)||await this.messageService.handle(t,{commandPrompts:[{prompt:u.Common.gotIt}]})}};t.SwitchToDefaultLanguageServerDiagnosticService=m,t.SwitchToDefaultLanguageServerDiagnosticService=m=r([(0,o.injectable)(),i(0,(0,o.inject)(p.IServiceContainer)),i(1,(0,o.inject)(c.IWorkspaceService)),i(2,(0,o.inject)(v.IDiagnosticHandlerService)),i(2,(0,o.named)(f.DiagnosticCommandPromptHandlerServiceId)),i(3,(0,o.inject)(l.IDisposableRegistry))],m)},71127:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseDiagnosticCommand=void 0,t.BaseDiagnosticCommand=class{constructor(e){this.diagnostic=e}}},40646:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExecuteVSCCommand=void 0;const r=n(54661),i=n(51535),o=n(53322),s=n(71127);class a extends s.BaseDiagnosticCommand{constructor(e,t,n){super(e),this.serviceContainer=t,this.commandName=n}async invoke(){return(0,i.sendTelemetryEvent)(o.EventName.DIAGNOSTICS_ACTION,void 0,{commandName:this.commandName}),this.serviceContainer.get(r.ICommandManager).executeCommand(this.commandName).then((()=>{}))}}t.ExecuteVSCCommand=a},59958:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DiagnosticsCommandFactory=void 0;const o=n(25891),s=n(9100),a=n(40646),c=n(91776),l=n(99893);let u=class{constructor(e){this.serviceContainer=e}createCommand(e,t){const n=t.type;switch(t.type){case"ignore":return new c.IgnoreDiagnosticCommand(e,this.serviceContainer,t.options);case"launch":return new l.LaunchBrowserCommand(e,this.serviceContainer,t.options);case"executeVSCCommand":return new a.ExecuteVSCCommand(e,this.serviceContainer,t.options);default:throw new Error(`Unknown Diagnostic command commandType '${n}'`)}}};t.DiagnosticsCommandFactory=u,t.DiagnosticsCommandFactory=u=r([(0,o.injectable)(),i(0,(0,o.inject)(s.IServiceContainer))],u)},91776:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IgnoreDiagnosticCommand=void 0;const r=n(51535),i=n(53322),o=n(79576),s=n(71127);class a extends s.BaseDiagnosticCommand{constructor(e,t,n){super(e),this.serviceContainer=t,this.scope=n}invoke(){return(0,r.sendTelemetryEvent)(i.EventName.DIAGNOSTICS_ACTION,void 0,{ignoreCode:this.diagnostic.code}),this.serviceContainer.get(o.IDiagnosticFilterService).ignoreDiagnostic(this.diagnostic.code,this.scope)}}t.IgnoreDiagnosticCommand=a},99893:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LaunchBrowserCommand=void 0;const r=n(86156),i=n(51535),o=n(53322),s=n(71127);class a extends s.BaseDiagnosticCommand{constructor(e,t,n){super(e),this.serviceContainer=t,this.url=n}async invoke(){return(0,i.sendTelemetryEvent)(o.EventName.DIAGNOSTICS_ACTION,void 0,{url:this.url}),this.serviceContainer.get(r.IBrowserService).launch(this.url)}}t.LaunchBrowserCommand=a},97033:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IDiagnosticsCommandFactory=void 0,t.IDiagnosticsCommandFactory=Symbol("IDiagnosticsCommandFactory")},10284:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.DiagnosticCodes=void 0,function(e){e.InvalidEnvironmentPathVariableDiagnostic="InvalidEnvironmentPathVariableDiagnostic",e.InvalidDebuggerTypeDiagnostic="InvalidDebuggerTypeDiagnostic",e.NoPythonInterpretersDiagnostic="NoPythonInterpretersDiagnostic",e.MacInterpreterSelected="MacInterpreterSelected",e.InvalidPythonPathInDebuggerSettingsDiagnostic="InvalidPythonPathInDebuggerSettingsDiagnostic",e.InvalidPythonPathInDebuggerLaunchDiagnostic="InvalidPythonPathInDebuggerLaunchDiagnostic",e.EnvironmentActivationInPowerShellWithBatchFilesNotSupportedDiagnostic="EnvironmentActivationInPowerShellWithBatchFilesNotSupportedDiagnostic",e.InvalidPythonInterpreterDiagnostic="InvalidPythonInterpreterDiagnostic",e.InvalidComspecDiagnostic="InvalidComspecDiagnostic",e.IncompletePathVarDiagnostic="IncompletePathVarDiagnostic",e.DefaultShellErrorDiagnostic="DefaultShellErrorDiagnostic",e.LSNotSupportedDiagnostic="LSNotSupportedDiagnostic",e.PythonPathDeprecatedDiagnostic="PythonPathDeprecatedDiagnostic",e.JustMyCodeDiagnostic="JustMyCodeDiagnostic",e.ConsoleTypeDiagnostic="ConsoleTypeDiagnostic",e.ConfigPythonPathDiagnostic="ConfigPythonPathDiagnostic",e.PylanceDefaultDiagnostic="PylanceDefaultDiagnostic",e.JediPython27NotSupportedDiagnostic="JediPython27NotSupportedDiagnostic",e.SwitchToDefaultLanguageServerDiagnostic="SwitchToDefaultLanguageServerDiagnostic",e.SwitchToPreReleaseExtensionDiagnostic="SwitchToPreReleaseExtensionDiagnostic"}(n||(t.DiagnosticCodes=n={}))},84907:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DiagnosticFilterService=t.FilterKeys=void 0;const o=n(25891),s=n(86156),a=n(9100),c=n(79576);var l;!function(e){e.GlobalDiagnosticFilter="GLOBAL_DIAGNOSTICS_FILTER",e.WorkspaceDiagnosticFilter="WORKSPACE_DIAGNOSTICS_FILTER"}(l||(t.FilterKeys=l={}));let u=class{constructor(e){this.serviceContainer=e}async shouldIgnoreDiagnostic(e){const t=this.serviceContainer.get(s.IPersistentStateFactory),n=t.createGlobalPersistentState(l.GlobalDiagnosticFilter,[]),r=t.createWorkspacePersistentState(l.WorkspaceDiagnosticFilter,[]);return n.value.indexOf(e)>=0||r.value.indexOf(e)>=0}async ignoreDiagnostic(e,t){const n=this.serviceContainer.get(s.IPersistentStateFactory),r=t===c.DiagnosticScope.Global?n.createGlobalPersistentState(l.GlobalDiagnosticFilter,[]):n.createWorkspacePersistentState(l.WorkspaceDiagnosticFilter,[]),i=r.value.slice();await r.updateValue(i.concat(e))}};t.DiagnosticFilterService=u,t.DiagnosticFilterService=u=r([(0,o.injectable)(),i(0,(0,o.inject)(a.IServiceContainer))],u)},77295:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DiagnosticCommandPromptHandlerService=t.DiagnosticCommandPromptHandlerServiceId=void 0;const o=n(25891),s=n(54980),a=n(54661),c=n(9100);t.DiagnosticCommandPromptHandlerServiceId="DiagnosticCommandPromptHandlerServiceId";let l=class{constructor(e){this.appShell=e.get(a.IApplicationShell)}async handle(e,t={commandPrompts:[]}){const n=t.commandPrompts.map((e=>e.prompt)),r=await this.displayMessage(t.message?t.message:e.message,e.severity,n);if(t.onClose&&t.onClose(r),!r)return;const i=t.commandPrompts.find((e=>e.prompt===r));i&&i.command&&await i.command.invoke()}async displayMessage(e,t,n){switch(t){case s.DiagnosticSeverity.Error:return this.appShell.showErrorMessage(e,...n);case s.DiagnosticSeverity.Warning:return this.appShell.showWarningMessage(e,...n);default:return this.appShell.showInformationMessage(e,...n)}}};t.DiagnosticCommandPromptHandlerService=l,t.DiagnosticCommandPromptHandlerService=l=r([(0,o.injectable)(),i(0,(0,o.inject)(c.IServiceContainer))],l)},16037:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const r=n(11925),i=n(9019),o=n(54767),s=n(59411),a=n(98285),c=n(20785),l=n(71346),u=n(34470),p=n(46592),d=n(43923),h=n(25660),f=n(59958),v=n(97033),g=n(84907),m=n(77295),y=n(79576);t.registerTypes=function(e){e.addSingleton(y.IDiagnosticFilterService,g.DiagnosticFilterService),e.addSingleton(y.IDiagnosticHandlerService,m.DiagnosticCommandPromptHandlerService,m.DiagnosticCommandPromptHandlerServiceId),e.addSingleton(y.IDiagnosticsService,s.EnvironmentPathVariableDiagnosticsService,s.EnvironmentPathVariableDiagnosticsServiceId),e.addSingleton(y.IDiagnosticsService,d.InvalidPythonInterpreterService,d.InvalidPythonInterpreterServiceId),e.addSingleton(r.IExtensionSingleActivationService,d.InvalidPythonInterpreterService),e.addSingleton(y.IDiagnosticsService,a.InvalidPythonPathInDebuggerService,a.InvalidPythonPathInDebuggerServiceId),e.addSingleton(y.IDiagnosticsService,u.PowerShellActivationHackDiagnosticsService,u.PowerShellActivationHackDiagnosticsServiceId),e.addSingleton(y.IDiagnosticsService,l.InvalidMacPythonInterpreterService,l.InvalidMacPythonInterpreterServiceId),e.addSingleton(y.IDiagnosticsService,p.PylanceDefaultDiagnosticService,p.PylanceDefaultDiagnosticServiceId),e.addSingleton(y.IDiagnosticsService,c.JediPython27NotSupportedDiagnosticService,c.JediPython27NotSupportedDiagnosticServiceId),e.addSingleton(y.IDiagnosticsService,h.SwitchToDefaultLanguageServerDiagnosticService,h.SwitchToDefaultLanguageServerDiagnosticServiceId),e.addSingleton(v.IDiagnosticsCommandFactory,f.DiagnosticsCommandFactory),e.addSingleton(i.IApplicationDiagnostics,o.ApplicationDiagnostics)}},79576:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.IInvalidPythonPathInDebuggerService=t.IInvalidPythonPathInSettings=t.IDiagnosticHandlerService=t.IDiagnosticFilterService=t.IDiagnosticsService=t.DiagnosticScope=void 0,function(e){e.Global="Global",e.WorkspaceFolder="WorkspaceFolder"}(n||(t.DiagnosticScope=n={})),t.IDiagnosticsService=Symbol("IDiagnosticsService"),t.IDiagnosticFilterService=Symbol("IDiagnosticFilterService"),t.IDiagnosticHandlerService=Symbol("IDiagnosticHandlerService"),t.IInvalidPythonPathInSettings=Symbol("IInvalidPythonPathInSettings"),t.IInvalidPythonPathInDebuggerService=Symbol("IInvalidPythonPathInDebuggerService")},72290:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const r=n(16037);t.registerTypes=function(e){(0,r.registerTypes)(e)}},9019:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IApplicationDiagnostics=void 0,t.IApplicationDiagnostics=Symbol("IApplicationDiagnostics")},92544:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ActiveResourceService=void 0;const o=n(25891),s=n(54661);let a=class{constructor(e,t){this.documentManager=e,this.workspaceService=t}getActiveResource(){const e=this.documentManager.activeTextEditor;return e&&!e.document.isUntitled?e.document.uri:Array.isArray(this.workspaceService.workspaceFolders)&&this.workspaceService.workspaceFolders.length>0?this.workspaceService.workspaceFolders[0].uri:void 0}};t.ActiveResourceService=a,t.ActiveResourceService=a=r([(0,o.injectable)(),i(0,(0,o.inject)(s.IDocumentManager)),i(1,(0,o.inject)(s.IWorkspaceService))],a)},17913:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ApplicationEnvironment=void 0;const c=n(25891),l=s(n(16928)),u=n(99589),p=s(n(54980)),d=n(61905),h=n(22408),f=n(86156),v=n(48112);let g=class{constructor(e,t,n){this.platform=e,this.pathUtils=t,this.process=n}get userSettingsFile(){const e="insiders"===this.channel?"Code - Insiders":"Code";switch(this.platform.osType){case v.OSType.OSX:return l.join(this.pathUtils.home,"Library","Application Support",e,"User","settings.json");case v.OSType.Linux:return l.join(this.pathUtils.home,".config",e,"User","settings.json");case v.OSType.Windows:return this.process.env.APPDATA?l.join(this.process.env.APPDATA,e,"User","settings.json"):void 0;default:return}}get appName(){return p.env.appName}get vscodeVersion(){return p.version}get appRoot(){return p.env.appRoot}get uiKind(){return p.env.uiKind}get language(){return p.env.language}get sessionId(){return p.env.sessionId}get machineId(){return p.env.machineId}get remoteName(){return p.env.remoteName}get extensionName(){return this.packageJson.displayName}get shell(){return p.env.shell}get onDidChangeShell(){try{return p.env.onDidChangeShell}catch(e){return(0,d.traceError)("Failed to get onDidChangeShell API",e),(new p.EventEmitter).event}}get packageJson(){return n(8330)}get channel(){return this.appName.indexOf("Insider")>0?"insiders":"stable"}get extensionChannel(){const e=(0,u.parse)(this.packageJson.version);return!e||e.prerelease.length>0||e.minor%2==1?"insiders":"stable"}get uriScheme(){return p.env.uriScheme}};t.ApplicationEnvironment=g,t.ApplicationEnvironment=g=o([(0,c.injectable)(),a(0,(0,c.inject)(h.IPlatformService)),a(1,(0,c.inject)(f.IPathUtils)),a(2,(0,c.inject)(f.ICurrentProcess))],g)},17850:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.ApplicationShell=void 0;const i=n(25891),o=n(54980),s=n(61905);let a=class{get onDidChangeWindowState(){return o.window.onDidChangeWindowState}showInformationMessage(e,t,...n){return o.window.showInformationMessage(e,t,...n)}showWarningMessage(e,t,...n){return o.window.showWarningMessage(e,t,...n)}showErrorMessage(e,t,...n){return o.window.showErrorMessage(e,t,...n)}showQuickPick(e,t,n){return o.window.showQuickPick(e,t,n)}showOpenDialog(e){return o.window.showOpenDialog(e)}showSaveDialog(e){return o.window.showSaveDialog(e)}showInputBox(e,t){return o.window.showInputBox(e,t)}showTextDocument(e,t,n){return o.window.showTextDocument(e,t,n)}openUrl(e){o.env.openExternal(o.Uri.parse(e))}setStatusBarMessage(e,t){return o.window.setStatusBarMessage(e,t)}createStatusBarItem(e,t,n){return n?o.window.createStatusBarItem(n,e,t):o.window.createStatusBarItem(e,t)}showWorkspaceFolderPick(e){return o.window.showWorkspaceFolderPick(e)}withProgress(e,t){return o.window.withProgress(e,t)}withProgressCustomIcon(e,t){const n=(new o.CancellationTokenSource).token,r=this.createStatusBarItem(o.StatusBarAlignment.Left),i={report:t=>{r.text=`${e} ${t.message}`}};return r.show(),t(i,n).then((e=>(r.dispose(),e)))}createQuickPick(){return o.window.createQuickPick()}createInputBox(){return o.window.createInputBox()}createTreeView(e,t){return o.window.createTreeView(e,t)}createOutputChannel(e){return o.window.createOutputChannel(e,{log:!0})}createLanguageStatusItem(e,t){return o.languages.createLanguageStatusItem(e,t)}get onDidWriteTerminalData(){try{return o.window.onDidWriteTerminalData}catch(e){return(0,s.traceError)("Failed to get proposed API onDidWriteTerminalData",e),(new o.EventEmitter).event}}get onDidExecuteTerminalCommand(){try{return o.window.onDidExecuteTerminalCommand}catch(e){return void(0,s.traceError)("Failed to get proposed API TerminalExecutedCommand",e)}}};t.ApplicationShell=a,t.ApplicationShell=a=r([(0,i.injectable)()],a)},99382:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.ClipboardService=void 0;const i=n(25891),o=n(54980);let s=class{async readText(){return o.env.clipboard.readText()}async writeText(e){await o.env.clipboard.writeText(e)}};t.ClipboardService=s,t.ClipboardService=s=r([(0,i.injectable)()],s)},36418:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.CommandManager=void 0;const i=n(25891),o=n(54980);let s=class{registerCommand(e,t,n){return o.commands.registerCommand(e,t,n)}registerTextEditorCommand(e,t,n){return o.commands.registerTextEditorCommand(e,t,n)}executeCommand(e,...t){return o.commands.executeCommand(e,...t)}getCommands(e){return o.commands.getCommands(e)}};t.CommandManager=s,t.CommandManager=s=r([(0,i.injectable)()],s)},54083:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CreatePythonFileCommandHandler=void 0;const o=n(25891),s=n(552),a=n(54661),c=n(51535),l=n(53322),u=n(86156);let p=class{constructor(e,t,n,r){this.commandManager=e,this.workspaceService=t,this.appShell=n,this.disposables=r,this.supportedWorkspaceTypes={untrustedWorkspace:!0,virtualWorkspace:!0}}async activate(){this.disposables.push(this.commandManager.registerCommand(s.Commands.CreateNewFile,this.createPythonFile,this))}async createPythonFile(){const e=await this.workspaceService.openTextDocument({language:"python"});this.appShell.showTextDocument(e),(0,c.sendTelemetryEvent)(l.EventName.CREATE_NEW_FILE_COMMAND)}};t.CreatePythonFileCommandHandler=p,t.CreatePythonFileCommandHandler=p=r([(0,o.injectable)(),i(0,(0,o.inject)(a.ICommandManager)),i(1,(0,o.inject)(a.IWorkspaceService)),i(2,(0,o.inject)(a.IApplicationShell)),i(3,(0,o.inject)(u.IDisposableRegistry))],p)},19329:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ReloadVSCodeCommandHandler=void 0;const o=n(25891),s=n(14152),a=n(98803),c=n(54661);let l=class{constructor(e,t){this.commandManager=e,this.appShell=t,this.supportedWorkspaceTypes={untrustedWorkspace:!1,virtualWorkspace:!0}}async activate(){this.commandManager.registerCommand("python.reloadVSCode",this.onReloadVSCode,this)}async onReloadVSCode(e){await this.appShell.showInformationMessage(e,s.Common.reload)===s.Common.reload&&this.commandManager.executeCommand("workbench.action.reloadWindow").then(a.noop,a.noop)}};t.ReloadVSCodeCommandHandler=l,t.ReloadVSCodeCommandHandler=l=r([(0,o.injectable)(),i(0,(0,o.inject)(c.ICommandManager)),i(1,(0,o.inject)(c.IApplicationShell))],l)},40205:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ReportIssueCommandHandler=void 0;const c=s(n(70857)),l=s(n(16928)),u=n(25891),p=n(2543),d=s(n(25943)),h=n(54661),f=n(84090),v=n(29413),g=n(552),m=n(86156),y=n(51535),b=n(53322),_=n(25297),E=n(41414),S=n(79985),w=n(34467);let P=class{constructor(e,t,n,r,i){var o,s,a;this.commandManager=e,this.workspaceService=t,this.interpreterService=n,this.configurationService=r,this.supportedWorkspaceTypes={untrustedWorkspace:!1,virtualWorkspace:!0},this.argSettingsPath=l.join(f.EXTENSION_ROOT_DIR,"resources","report_issue_user_settings.json"),this.templatePath=l.join(f.EXTENSION_ROOT_DIR,"resources","report_issue_template.md"),this.userDataTemplatePath=l.join(f.EXTENSION_ROOT_DIR,"resources","report_issue_user_data_template.md"),this.packageJSONSettings=null===(a=null===(s=null===(o=i.packageJson)||void 0===o?void 0:o.contributes)||void 0===s?void 0:s.configuration)||void 0===a?void 0:a.properties}async activate(){this.commandManager.registerCommand(g.Commands.ReportIssue,this.openReportIssue,this)}async openReportIssue(){var e,t,n,r;const i=this.configurationService.getSettings(),o=JSON.parse(await d.readFile(this.argSettingsPath,"utf8"));let s="";Object.keys(i).forEach((e=>{const t=o[e];if(t)if("object"==typeof t){let n=!1;const r=i[e];"object"==typeof r&&Object.keys(t).forEach((i=>{const o=t[i];if(o){const t=this.getDefaultValue(`${e}.${i}`);if(void 0===t||!(0,p.isEqual)(t,r[i])){n||(s=s.concat(c.EOL,e,c.EOL),n=!0);const t=!0===o?JSON.stringify(r[i]):'"<placeholder>"';s=s.concat(" ",i,": ",t,c.EOL)}}}))}else{const n=this.getDefaultValue(e);if(void 0===n||!(0,p.isEqual)(n,i[e])){const n=!0===t?JSON.stringify(i[e]):'"<placeholder>"';s=s.concat(c.EOL,e,": ",n,c.EOL)}}}));const a=await d.readFile(this.templatePath,"utf8"),l=await d.readFile(this.userDataTemplatePath,"utf8"),u=await this.interpreterService.getActiveInterpreter(),h=null!==(t=null===(e=null==u?void 0:u.version)||void 0===e?void 0:e.raw)&&void 0!==t?t:"",f=this.workspaceService.getConfiguration("python").get("languageServer")||"Not Found",v=(null==u?void 0:u.envType)||_.EnvironmentType.Unknown,g=(null!==(r=null===(n=this.workspaceService.workspaceFolders)||void 0===n?void 0:n.length)&&void 0!==r?r:0)>1&&""!==s?`Multiroot scenario, following user settings may not apply:${c.EOL}`:"",m=(0,w.getExtensions)().filter((e=>!e.id.startsWith("vscode."))).sort(((e,t)=>e.packageJSON.name&&t.packageJSON.name?e.packageJSON.name.localeCompare(t.packageJSON.name):e.id.localeCompare(t.id))).map((e=>{let t=e.packageJSON.publisher;return t&&(t=t.substring(0,3)),`|${e.packageJSON.name}|${t}|${e.packageJSON.version}|`}));await this.commandManager.executeCommand("workbench.action.openIssueReporter",{extensionId:"ms-python.python",issueBody:a,data:l.format(h,v,f,g,s,m.join("\n"))}),(0,y.sendTelemetryEvent)(b.EventName.USE_REPORT_ISSUE_COMMAND,void 0,{})}getDefaultValue(e){var t;if(!this.packageJSONSettings)return;const n=E.PythonSettings.getSettingsUriAndTarget(void 0,this.workspaceService).uri;return new S.SystemVariables(n,void 0,this.workspaceService).resolveAny(null===(t=this.packageJSONSettings[`python.${e}`])||void 0===t?void 0:t.default)}};t.ReportIssueCommandHandler=P,t.ReportIssueCommandHandler=P=o([(0,u.injectable)(),a(0,(0,u.inject)(h.ICommandManager)),a(1,(0,u.inject)(h.IWorkspaceService)),a(2,(0,u.inject)(v.IInterpreterService)),a(3,(0,u.inject)(m.IConfigurationService)),a(4,(0,u.inject)(h.IApplicationEnvironment))],P)},55597:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ContextKeyManager=void 0;const o=n(25891),s=n(54661);let a=class{constructor(e){this.commandManager=e,this.values=new Map}async setContext(e,t){return this.values.get(e)===t?Promise.resolve():(this.values.set(e,t),this.commandManager.executeCommand("setContext",e,t))}};t.ContextKeyManager=a,t.ContextKeyManager=a=r([(0,o.injectable)(),i(0,(0,o.inject)(s.ICommandManager))],a)},19419:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionContextKey=void 0,function(e){e.showInstallPythonTile="showInstallPythonTile",e.HasFailedTests="hasFailedTests",e.RefreshingTests="refreshingTests",e.IsJupyterInstalled="isJupyterInstalled"}(n||(t.ExtensionContextKey=n={}))},49044:function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.DebugService=void 0;const o=n(25891),s=n(54980);let a=r=class{get activeDebugConsole(){return s.debug.activeDebugConsole}get activeDebugSession(){return s.debug.activeDebugSession}get breakpoints(){return s.debug.breakpoints}get onDidChangeActiveDebugSession(){return s.debug.onDidChangeActiveDebugSession}get onDidStartDebugSession(){return s.debug.onDidStartDebugSession}get onDidReceiveDebugSessionCustomEvent(){return s.debug.onDidReceiveDebugSessionCustomEvent}get onDidTerminateDebugSession(){return s.debug.onDidTerminateDebugSession}get onDidChangeBreakpoints(){return s.debug.onDidChangeBreakpoints}registerDebugConfigurationProvider(e,t){return s.debug.registerDebugConfigurationProvider(e,t)}registerDebugAdapterTrackerFactory(e,t){return s.debug.registerDebugAdapterTrackerFactory(e,t)}startDebugging(e,t,n){return s.debug.startDebugging(e,t,n)}addBreakpoints(e){s.debug.addBreakpoints(e)}removeBreakpoints(e){s.debug.removeBreakpoints(e)}registerDebugAdapterDescriptorFactory(e,t){return s.debug.registerDebugAdapterDescriptorFactory(e,t)}};t.DebugService=a,a.instance=new r,t.DebugService=a=r=i([(0,o.injectable)()],a)},51536:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentManager=void 0;const i=n(25891),o=n(54980);let s=class{get textDocuments(){return o.workspace.textDocuments}get activeTextEditor(){return o.window.activeTextEditor}get visibleTextEditors(){return o.window.visibleTextEditors}get onDidChangeActiveTextEditor(){return o.window.onDidChangeActiveTextEditor}get onDidChangeTextDocument(){return o.workspace.onDidChangeTextDocument}get onDidChangeVisibleTextEditors(){return o.window.onDidChangeVisibleTextEditors}get onDidChangeTextEditorSelection(){return o.window.onDidChangeTextEditorSelection}get onDidChangeTextEditorOptions(){return o.window.onDidChangeTextEditorOptions}get onDidChangeTextEditorViewColumn(){return o.window.onDidChangeTextEditorViewColumn}get onDidOpenTextDocument(){return o.workspace.onDidOpenTextDocument}get onDidCloseTextDocument(){return o.workspace.onDidCloseTextDocument}get onDidSaveTextDocument(){return o.workspace.onDidSaveTextDocument}showTextDocument(e,t,n){return o.window.showTextDocument(e,t,n)}openTextDocument(e){return o.workspace.openTextDocument(e)}applyEdit(e){return o.workspace.applyEdit(e)}createTextEditorDecorationType(e){return o.window.createTextEditorDecorationType(e)}};t.DocumentManager=s,t.DocumentManager=s=r([(0,i.injectable)()],s)},90256:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.Extensions=void 0;const c=n(25891),l=n(54980),u=s(n(5031)),p=s(n(16928)),d=n(22408),h=n(552);let f=class{constructor(e){this.fs=e}get all(){return l.extensions.all}get onDidChange(){return l.extensions.onDidChange}getExtension(e){return l.extensions.getExtension(e)}get cachedExtensions(){return this._cachedExtensions||(this._cachedExtensions=l.extensions.all,l.extensions.onDidChange((()=>{this._cachedExtensions=l.extensions.all}))),this._cachedExtensions}async determineExtensionFromCallStack(){const{stack:e}=new Error;if(e){const t=p.join(h.EXTENSION_ROOT_DIR.toLowerCase(),p.sep),n=e.split("\n").map((e=>{const t=/\((.*)\)/.exec(e);if(t)return t[1]})).filter((e=>e&&!e.toLowerCase().startsWith(t))).filter((e=>this.cachedExtensions.some((t=>e.includes(t.extensionUri.path)||e.includes(t.extensionUri.fsPath)))));u.parse(new Error("Ex")).forEach((e=>{const r=e.getFileName();r&&!r.toLowerCase().startsWith(t)&&n.push(r)}));for(const e of n){let t=p.dirname(e),n=e;for(;t&&t.length<n.length;){const e=p.join(t,"package.json");if(await this.fs.pathExists(e)){const t=await this.fs.readFile(e);try{const e=JSON.parse(t);return{extensionId:`${e.publisher}.${e.name}`,displayName:e.displayName}}catch(e){}}n=t,t=p.dirname(t)}}}return{extensionId:"unknown",displayName:"unknown"}}};t.Extensions=f,t.Extensions=f=o([(0,c.injectable)(),a(0,(0,c.inject)(d.IFileSystem))],f)},44137:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.LanguageService=void 0;const i=n(25891),o=n(54980);let s=class{registerCompletionItemProvider(e,t,...n){return o.languages.registerCompletionItemProvider(e,t,...n)}};t.LanguageService=s,t.LanguageService=s=r([(0,i.injectable)()],s)},69922:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressService=void 0;const r=n(7855);t.ProgressService=class{constructor(e){this.shell=e}showProgress(e){this.deferred||this.createProgress(e)}hideProgress(){this.deferred&&(this.deferred.resolve(),this.deferred=void 0)}createProgress(e){this.shell.withProgress(e,(()=>(this.deferred=(0,r.createDeferred)(),this.deferred.promise)))}}},22099:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalManager=void 0;const i=n(25891),o=n(54980),s=n(61905);let a=class{constructor(){this.didOpenTerminal=new o.EventEmitter,o.window.onDidOpenTerminal((e=>{this.didOpenTerminal.fire(c(e))}))}get onDidCloseTerminal(){return o.window.onDidCloseTerminal}get onDidOpenTerminal(){return this.didOpenTerminal.event}createTerminal(e){return c(o.window.createTerminal(e))}onDidChangeTerminalShellIntegration(e){return o.window.onDidChangeTerminalShellIntegration(e)}onDidEndTerminalShellExecution(e){return o.window.onDidEndTerminalShellExecution(e)}};function c(e){if(!e.isPatched){const t=e.sendText.bind(e);e.sendText=(e,n=!0)=>((0,s.traceLog)(`Send text to terminal: ${e}`),t(e,n)),e.isPatched=!0}return e}t.TerminalManager=a,t.TerminalManager=a=r([(0,i.injectable)()],a)},54661:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IClipboard=t.IActiveResourceService=t.ILanguageService=t.IApplicationEnvironment=t.IDebugService=t.ITerminalManager=t.IWorkspaceService=t.IDocumentManager=t.IJupyterExtensionDependencyManager=t.IContextKeyManager=t.ICommandManager=t.IApplicationShell=void 0,t.IApplicationShell=Symbol("IApplicationShell"),t.ICommandManager=Symbol("ICommandManager"),t.IContextKeyManager=Symbol("IContextKeyManager"),t.IJupyterExtensionDependencyManager=Symbol("IJupyterExtensionDependencyManager"),t.IDocumentManager=Symbol("IDocumentManager"),t.IWorkspaceService=Symbol("IWorkspaceService"),t.ITerminalManager=Symbol("ITerminalManager"),t.IDebugService=Symbol("IDebugManager"),t.IApplicationEnvironment=Symbol("IApplicationEnvironment"),t.ILanguageService=Symbol("ILanguageService"),t.IActiveResourceService=Symbol("IActiveResourceService"),t.IClipboard=Symbol("IClipboard")},2761:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.PythonWelcome=void 0,function(e){e.name="pythonWelcome",e.windowsInstallId="python.installPythonWin8",e.linuxInstallId="python.installPythonLinux",e.macOSInstallId="python.installPythonMac"}(n||(t.PythonWelcome=n={}))},68397:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceService=void 0;const a=n(25891),c=s(n(16928)),l=n(54980),u=n(48112);let p=class{get onDidChangeConfiguration(){return l.workspace.onDidChangeConfiguration}get rootPath(){return Array.isArray(l.workspace.workspaceFolders)&&l.workspace.workspaceFolders.length>0?l.workspace.workspaceFolders[0].uri.fsPath:void 0}get workspaceFolders(){return l.workspace.workspaceFolders}get onDidChangeWorkspaceFolders(){return l.workspace.onDidChangeWorkspaceFolders}get workspaceFile(){return l.workspace.workspaceFile}getConfiguration(e,t,n=!1){return n?l.workspace.getConfiguration(e,{uri:t,languageId:"python"}):l.workspace.getConfiguration(e,t)}getWorkspaceFolder(e){return e?l.workspace.getWorkspaceFolder(e):void 0}asRelativePath(e,t){return l.workspace.asRelativePath(e,t)}createFileSystemWatcher(e,t,n,r){return l.workspace.createFileSystemWatcher(e,t,n,r)}findFiles(e,t,n,r){const i=void 0===t?this.searchExcludes:t;return l.workspace.findFiles(e,i,n,r)}getWorkspaceFolderIdentifier(e,t=""){const n=e?l.workspace.getWorkspaceFolder(e):void 0;return n?c.normalize((0,u.getOSType)()===u.OSType.Windows?n.uri.fsPath.toUpperCase():n.uri.fsPath):t}get isVirtualWorkspace(){return!(!l.workspace.workspaceFolders||!l.workspace.workspaceFolders.every((e=>"file"!==e.uri.scheme)))}get isTrusted(){return l.workspace.isTrusted}get onDidGrantWorkspaceTrust(){return l.workspace.onDidGrantWorkspaceTrust}openTextDocument(e){return l.workspace.openTextDocument(e)}get searchExcludes(){const e=this.getConfiguration("search.exclude");return`{${Object.keys(e).filter((t=>!0===e.get(t))).join(",")}}`}async save(e){try{return await l.workspace.save(e)}catch(e){return}}};t.WorkspaceService=p,t.WorkspaceService=p=o([(0,a.injectable)()],p)},7854:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Cancellation=t.wrapCancellationTokens=t.createPromiseFromCancellation=t.CancellationError=void 0;const s=n(54980),a=n(7855),c=o(n(14152));class l extends Error{constructor(){super(c.Common.canceled)}}var u;t.CancellationError=l,t.createPromiseFromCancellation=function(e){return new Promise(((t,n)=>{e.token&&e.token.onCancellationRequested((()=>{if(e.token.isCancellationRequested){if("resolve"===e.cancelAction)return t(e.defaultValue);if("reject"===e.cancelAction)return n(new l)}}))}))},t.wrapCancellationTokens=function(...e){const t=new s.CancellationTokenSource;for(const n of e)if(n){if(n.isCancellationRequested)return n;n.onCancellationRequested((()=>t.cancel()))}return t.token},function(e){function t(e){return!!e&&e.isCancellationRequested}e.race=function(e,t){if(t){const n=(0,a.createDeferred)();return t.onCancellationRequested((()=>{n.completed||n.reject(new l)})),t.isCancellationRequested?n.reject(new l):e(t).then((e=>{n.completed||n.resolve(e)})).catch((e=>{n.completed||n.reject(e)})),n.promise}return e()},e.isCanceled=t,e.throwIfCanceled=function(e){if(t(e))throw new l}}(u||(t.Cancellation=u={}))},41414:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.PythonSettings=void 0;const a=s(n(16928)),c=s(n(79896)),l=n(54980),u=n(11925);n(87295);const p=n(51535),d=n(53322),h=n(63999),f=n(68397),v=n(552),g=n(68989),m=n(79985),y=n(48112),b=n(65900);class _{get onDidChange(){return this.changed.event}static onConfigChange(){return _.configChanged.event}get pythonPath(){return this._pythonPath}set pythonPath(e){if(this._pythonPath!==e)try{this._pythonPath=this.getPythonExecutable(e)}catch(t){this._pythonPath=e}}get defaultInterpreterPath(){return this._defaultInterpreterPath}set defaultInterpreterPath(e){if(this._defaultInterpreterPath!==e)try{this._defaultInterpreterPath=this.getPythonExecutable(e)}catch(t){this._defaultInterpreterPath=e}}constructor(e,t,n,r,i,o){this.interpreterAutoSelectionService=t,this.interpreterPathService=r,this.defaultLS=i,this.extensions=o,this.envFile="",this.venvPath="",this.venvFolders=[],this.activeStateToolPath="",this.condaPath="",this.pipenvPath="",this.poetryPath="",this.pixiToolPath="",this.devOptions=[],this.globalModuleInstallation=!1,this.languageServer=u.LanguageServerType.Node,this.languageServerIsDefault=!0,this.changed=new l.EventEmitter,this.disposables=[],this._pythonPath="python",this._defaultInterpreterPath="",this.workspace=n||new f.WorkspaceService,this.workspaceRoot=e,this.initialize()}static getInstance(e,t,n,r,i,o){n=n||new f.WorkspaceService;const s=_.getSettingsUriAndTarget(e,n).uri,a=s?s.fsPath:"";if(!_.pythonSettings.has(a)){const c=new _(s,t,n,r,i,o);_.pythonSettings.set(a,c),c.onDidChange((e=>_.debounceConfigChangeNotification(e)));const l=n.getConfiguration("editor",e||null),u=!!l&&l.get("formatOnType",!1);(0,p.sendTelemetryEvent)(d.EventName.FORMAT_ON_TYPE,void 0,{enabled:u})}return _.pythonSettings.get(a)}static debounceConfigChangeNotification(e){_.configChanged.fire(e)}static getSettingsUriAndTarget(e,t){t=t||new f.WorkspaceService;const n=e?t.getWorkspaceFolder(e):void 0;let r=n?n.uri:void 0;return!r&&Array.isArray(t.workspaceFolders)&&t.workspaceFolders.length>0&&(r=t.workspaceFolders[0].uri),{uri:r,target:r?l.ConfigurationTarget.WorkspaceFolder:l.ConfigurationTarget.Global}}static dispose(){if(!(0,v.isTestExecution)())throw new Error("Dispose can only be called from unit tests");_.pythonSettings.forEach((e=>e&&e.dispose())),_.pythonSettings.clear()}static toSerializable(e){const t={};return Object.entries(e).forEach((e=>{const[n,r]=e;n.includes("Manager")||n.includes("Service")||n.includes("onDid")||(t[n]=r)})),t}dispose(){this.disposables.forEach((e=>e&&e.dispose())),this.disposables=[]}update(e){var t,n,r,i,o;const s=null===(t=this.workspaceRoot)||void 0===t?void 0:t.fsPath,a=new m.SystemVariables(void 0,s,this.workspace);this.pythonPath=this.getPythonPath(a,s);const c=a.resolveAny(e.get("defaultInterpreterPath"));if(this.defaultInterpreterPath=c||v.DEFAULT_INTERPRETER_SETTING,this.defaultInterpreterPath===v.DEFAULT_INTERPRETER_SETTING){const e=this.interpreterAutoSelectionService.getAutoSelectedInterpreter(this.workspaceRoot);this.defaultInterpreterPath=null!==(n=null==e?void 0:e.path)&&void 0!==n?n:this.defaultInterpreterPath}this.defaultInterpreterPath=E(this.defaultInterpreterPath,s),this.venvPath=a.resolveAny(e.get("venvPath")),this.venvFolders=a.resolveAny(e.get("venvFolders"));const l=a.resolveAny(e.get("activeStateToolPath"));this.activeStateToolPath=l&&l.length>0?E(l,s):l;const p=a.resolveAny(e.get("condaPath"));this.condaPath=p&&p.length>0?E(p,s):p;const d=a.resolveAny(e.get("pipenvPath"));this.pipenvPath=d&&d.length>0?E(d,s):d;const f=a.resolveAny(e.get("poetryPath"));this.poetryPath=f&&f.length>0?E(f,s):f;const g=a.resolveAny(e.get("pixiToolPath"));this.pixiToolPath=g&&g.length>0?E(g,s):g,this.interpreter=null!==(r=e.get("interpreter"))&&void 0!==r?r:{infoVisibility:"onPythonRelated"};let y=e.get("languageServer");y=a.resolveAny(y),y&&"Default"!==y&&"Microsoft"!==y&&Object.values(u.LanguageServerType).includes(y)?"JediLSP"===y?(this.languageServer=u.LanguageServerType.Jedi,this.languageServerIsDefault=!1):(this.languageServer=y,this.languageServerIsDefault=!1):(this.extensions.getExtension(v.PYREFLY_EXTENSION_ID)&&!0!==e.get("pyrefly.disableLanguageServices")?this.languageServer=u.LanguageServerType.None:this.languageServer=null!==(o=null===(i=this.defaultLS)||void 0===i?void 0:i.defaultLSType)&&void 0!==o?o:u.LanguageServerType.None,this.languageServerIsDefault=!0);const b=a.resolveAny(e.get("autoComplete"));this.autoComplete?Object.assign(this.autoComplete,b):this.autoComplete=b;const _=e.get("envFile");this.envFile=a.resolveAny(_),(0,h.sendSettingTelemetry)(this.workspace,_),this.devOptions=a.resolveAny(e.get("devOptions")),this.devOptions=Array.isArray(this.devOptions)?this.devOptions:[],this.globalModuleInstallation=!0===e.get("globalModuleInstallation");const S=a.resolveAny(e.get("testing"));this.testing?Object.assign(this.testing,S):(this.testing=S,(0,v.isTestExecution)()&&!this.testing&&(this.testing={pytestArgs:[],unittestArgs:[],promptToConfigure:!0,debugPort:3e3,pytestEnabled:!1,unittestEnabled:!1,pytestPath:"pytest",autoTestDiscoverOnSaveEnabled:!0,autoTestDiscoverOnSavePattern:"**/*.py"})),this.testing=this.testing?this.testing:{promptToConfigure:!0,debugPort:3e3,pytestArgs:[],pytestEnabled:!1,pytestPath:"pytest",unittestArgs:[],unittestEnabled:!1,autoTestDiscoverOnSaveEnabled:!0,autoTestDiscoverOnSavePattern:"**/*.py"},this.testing.pytestPath=E(a.resolveAny(this.testing.pytestPath),s),this.testing.cwd&&(this.testing.cwd=E(a.resolveAny(this.testing.cwd),s)),this.testing.pytestArgs=this.testing.pytestArgs.map((e=>a.resolveAny(e))),this.testing.unittestArgs=this.testing.unittestArgs.map((e=>a.resolveAny(e)));const w=a.resolveAny(e.get("terminal"));this.terminal?Object.assign(this.terminal,w):(this.terminal=w,(0,v.isTestExecution)()&&!this.terminal&&(this.terminal={})),this.terminal=this.terminal?this.terminal:{executeInFileDir:!0,focusAfterLaunch:!1,launchArgs:[],activateEnvironment:!0,activateEnvInCurrentTerminal:!1,enableShellIntegration:!1},this.REPL=e.get("REPL");const P=e.get("experiments");this.experiments?Object.assign(this.experiments,P):this.experiments=P,this.experiments=this.experiments?this.experiments:{enabled:!0,optInto:[],optOutFrom:[]}}getPythonExecutable(e){return function(e){if("python"===(e=(0,b.untildify)(e))||-1===e.indexOf(a.sep)||a.basename(e)===a.dirname(e))return e;if(S(e))return e;const t=["python","python4","python3.6","python3.5","python3","python2.7","python2","python3.7","python3.8","python3.9"];for(let n of t)if((0,y.isWindows)()){if(n=`${n}.exe`,S(a.join(e,n)))return a.join(e,n);if(S(a.join(e,"Scripts",n)))return a.join(e,"Scripts",n)}else{if(S(a.join(e,n)))return a.join(e,n);if(S(a.join(e,"bin",n)))return a.join(e,"bin",n)}return e}(e)}onWorkspaceFoldersChanged(){const e=this.workspace.workspaceFolders.map((e=>e.uri.fsPath)),t=Array.from(_.pythonSettings.keys()).filter((t=>e.indexOf(t)<0));if(t.length>0)for(const e of t)_.pythonSettings.delete(e)}register(){_.pythonSettings=new Map,this.initialize()}onDidChanged(e){const t=this.workspace.getConfiguration("python",this.workspaceRoot);this.update(t),this.debounceChangeNotification(e)}initialize(){this.disposables.push(this.workspace.onDidChangeWorkspaceFolders(this.onWorkspaceFoldersChanged,this)),this.disposables.push(this.interpreterAutoSelectionService.onDidChangeAutoSelectedInterpreter((()=>{this.onDidChanged()}))),this.disposables.push(this.workspace.onDidChangeConfiguration((e=>{e.affectsConfiguration("python")&&this.onDidChanged(e)}))),this.interpreterPathService&&this.disposables.push(this.interpreterPathService.onDidChange((()=>{this.onDidChanged()})));const e=this.workspace.getConfiguration("python",this.workspaceRoot);e&&this.update(e)}debounceChangeNotification(e){this.changed.fire(e)}getPythonPath(e,t){if(this.pythonPath=e.resolveAny(this.interpreterPathService.get(this.workspaceRoot)),!process.env.CI_DISABLE_AUTO_SELECTION&&(0===this.pythonPath.length||"python"===this.pythonPath)&&this.interpreterAutoSelectionService){const e=this.interpreterAutoSelectionService.getAutoSelectedInterpreter(this.workspaceRoot);e&&(this.pythonPath=e.path,this.workspaceRoot&&this.interpreterAutoSelectionService.setWorkspaceInterpreter(this.workspaceRoot,e).ignoreErrors())}return E(this.pythonPath,t)}}function E(e,t){return t||(t=__dirname),e=(0,b.untildify)(e),(0,v.isTestExecution)()&&!e?t:-1===e.indexOf(a.sep)||a.isAbsolute(e)?e:a.resolve(t,e)}function S(e){return c.existsSync(e)&&a.basename((0,y.getOSType)()===y.OSType.Windows?e.toLowerCase():e).startsWith("python")}t.PythonSettings=_,_.pythonSettings=new Map,_.configChanged=new l.EventEmitter,o([(0,g.debounceSync)(1)],_.prototype,"debounceChangeNotification",null),o([(0,g.debounceSync)(1)],_,"debounceConfigChangeNotification",null)},21590:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PipEnvExecutionPath=void 0;const o=n(25891),s=n(86156);let a=class{constructor(e){this.configService=e}get executable(){return this.configService.getSettings().pipenvPath}};t.PipEnvExecutionPath=a,t.PipEnvExecutionPath=a=r([(0,o.injectable)(),i(0,(0,o.inject)(s.IConfigurationService))],a)},84599:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigurationService=void 0;const o=n(25891),s=n(54980),a=n(23167),c=n(9100),l=n(54661),u=n(41414),p=n(552),d=n(86156);let h=class{constructor(e){this.serviceContainer=e,this.workspaceService=this.serviceContainer.get(l.IWorkspaceService)}get onDidChange(){return u.PythonSettings.onConfigChange()}getSettings(e){const t=this.serviceContainer.get(a.IInterpreterAutoSelectionService),n=this.serviceContainer.get(d.IInterpreterPathService),r=this.serviceContainer.tryGet(d.IDefaultLanguageServer),i=this.serviceContainer.get(d.IExtensions);return u.PythonSettings.getInstance(e,t,this.workspaceService,n,r,i)}async updateSectionSetting(e,t,n,r,i){let o={uri:r,target:i||s.ConfigurationTarget.WorkspaceFolder};"python"===e&&i!==s.ConfigurationTarget.Global&&(o=u.PythonSettings.getSettingsUriAndTarget(r,this.workspaceService)),i=i||o.target;const a=this.workspaceService.getConfiguration(e,o.uri),c=a.inspect(t);void 0!==c&&(i===s.ConfigurationTarget.Global&&c.globalValue===n||i===s.ConfigurationTarget.Workspace&&c.workspaceValue===n||i===s.ConfigurationTarget.WorkspaceFolder&&c.workspaceFolderValue===n)||(await a.update(t,n,i),await this.verifySetting(a,i,t,n))}async updateSetting(e,t,n,r){return this.updateSectionSetting("python",e,t,n,r)}isTestExecution(){return"1"===process.env.VSC_PYTHON_CI_TEST}async verifySetting(e,t,n,r){if(this.isTestExecution()&&!(0,p.isUnitTestExecution)()){let i=0;do{const o=e.inspect(n);if(!o&&void 0===r)break;if(o&&void 0!==r){let e;if(e=t===s.ConfigurationTarget.Global?o.globalValue:t===s.ConfigurationTarget.Workspace?o.workspaceValue:o.workspaceFolderValue,e===r)break}await new Promise((e=>setTimeout(e,250))),i+=1}while(i<20)}}};t.ConfigurationService=h,t.ConfigurationService=h=r([(0,o.injectable)(),i(0,(0,o.inject)(c.IServiceContainer))],h)},552:function(e,t,n){"use strict";var r,i,o,s,a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),c=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||a(t,e,n)};function l(){return"1"===process.env.VSC_PYTHON_UNIT_TEST}Object.defineProperty(t,"__esModule",{value:!0}),t.UseProposedApi=t.isUnitTestExecution=t.isTestExecution=t.isCI=t.DEFAULT_INTERPRETER_SETTING=t.ThemeIcons=t.Octicons=t.Commands=t.CommandSource=t.AppinsightsKey=t.TENSORBOARD_EXTENSION_ID=t.JUPYTER_EXTENSION_ID=t.PYREFLY_EXTENSION_ID=t.PYLANCE_EXTENSION_ID=t.PVSC_EXTENSION_ID=t.PYTHON_NOTEBOOKS=t.PYTHON=t.InteractiveScheme=t.InteractiveInputScheme=t.NotebookCellScheme=t.PYTHON_WARNINGS=t.PYTHON_LANGUAGE=void 0,t.PYTHON_LANGUAGE="python",t.PYTHON_WARNINGS="PYTHONWARNINGS",t.NotebookCellScheme="vscode-notebook-cell",t.InteractiveInputScheme="vscode-interactive-input",t.InteractiveScheme="vscode-interactive",t.PYTHON=[{scheme:"file",language:t.PYTHON_LANGUAGE},{scheme:"untitled",language:t.PYTHON_LANGUAGE},{scheme:"vscode-notebook",language:t.PYTHON_LANGUAGE},{scheme:t.NotebookCellScheme,language:t.PYTHON_LANGUAGE},{scheme:t.InteractiveInputScheme,language:t.PYTHON_LANGUAGE}],t.PYTHON_NOTEBOOKS=[{scheme:"vscode-notebook",language:t.PYTHON_LANGUAGE},{scheme:t.NotebookCellScheme,language:t.PYTHON_LANGUAGE},{scheme:t.InteractiveInputScheme,language:t.PYTHON_LANGUAGE}],t.PVSC_EXTENSION_ID="ms-python.python",t.PYLANCE_EXTENSION_ID="ms-python.vscode-pylance",t.PYREFLY_EXTENSION_ID="meta.pyrefly",t.JUPYTER_EXTENSION_ID="ms-toolsai.jupyter",t.TENSORBOARD_EXTENSION_ID="ms-toolsai.tensorboard",t.AppinsightsKey="0c6ae279ed8443289764825290e4f9e2-1a736e7c-1324-4338-be46-fc2a58ae4d14-7255",function(e){e.ui="ui",e.commandPalette="commandpalette"}(r||(t.CommandSource=r={})),function(e){e.ClearStorage="python.clearCacheAndReload",e.CreateNewFile="python.createNewFile",e.ClearWorkspaceInterpreter="python.clearWorkspaceInterpreter",e.Create_Environment="python.createEnvironment",e.Create_Environment_Button="python.createEnvironment-button",e.Create_Environment_Check="python.createEnvironmentCheck",e.Create_Terminal="python.createTerminal",e.Debug_In_Terminal="python.debugInTerminal",e.Exec_In_Terminal="python.execInTerminal",e.Exec_In_Terminal_Icon="python.execInTerminal-icon",e.Exec_In_Separate_Terminal="python.execInDedicatedTerminal",e.Exec_In_REPL="python.execInREPL",e.Exec_Selection_In_Django_Shell="python.execSelectionInDjangoShell",e.Exec_In_REPL_Enter="python.execInREPLEnter",e.Exec_In_IW_Enter="python.execInInteractiveWindowEnter",e.Exec_Selection_In_Terminal="python.execSelectionInTerminal",e.GetSelectedInterpreterPath="python.interpreterPath",e.InstallJupyter="python.installJupyter",e.InstallPython="python.installPython",e.InstallPythonOnLinux="python.installPythonOnLinux",e.InstallPythonOnMac="python.installPythonOnMac",e.PickLocalProcess="python.pickLocalProcess",e.ReportIssue="python.reportIssue",e.Set_Interpreter="python.setInterpreter",e.Set_ShebangInterpreter="python.setShebangInterpreter",e.Start_REPL="python.startREPL",e.Start_Native_REPL="python.startNativeREPL",e.Tests_Configure="python.configureTests",e.Tests_CopilotSetup="python.copilotSetupTests",e.TriggerEnvironmentSelection="python.triggerEnvSelection",e.ViewOutput="python.viewOutput"}(i||(t.Commands=i={})),function(e){e.Add="$(add)",e.Test_Pass="$(check)",e.Test_Fail="$(alert)",e.Test_Error="$(x)",e.Test_Skip="$(circle-slash)",e.Downloading="$(cloud-download)",e.Installing="$(desktop-download)",e.Search="$(search)",e.Search_Stop="$(search-stop)",e.Star="$(star-full)",e.Gear="$(gear)",e.Warning="$(warning)",e.Error="$(error)",e.Lightbulb="$(lightbulb)",e.Folder="$(folder)"}(o||(t.Octicons=o={})),function(e){e.Refresh="refresh",e.SpinningLoader="loading~spin"}(s||(t.ThemeIcons=s={})),t.DEFAULT_INTERPRETER_SETTING="python",t.isCI="true"===process.env.TRAVIS||void 0!==process.env.TF_BUILD||"true"===process.env.GITHUB_ACTIONS,t.isTestExecution=function(){return"1"===process.env.VSC_PYTHON_CI_TEST||l()},t.isUnitTestExecution=l,t.UseProposedApi=Symbol("USE_VSC_PROPOSED_API"),c(n(84090),t)},99663:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContextKey=void 0,t.ContextKey=class{get value(){return this.lastValue}constructor(e,t){this.name=e,this.commandManager=t}async set(e){this.lastValue!==e&&(this.lastValue=e,await this.commandManager.executeCommand("setContext",this.name,this.lastValue))}}},76366:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WrappedError=t.ErrorUtils=void 0;const r=n(70857);t.ErrorUtils=class{static outputHasModuleNotInstalledError(e,t){return!(!t||!(t.indexOf(`No module named ${e}`)>0||t.indexOf(`No module named '${e}'`)>0))}};class i extends Error{constructor(e,t){super(e),this.stack=`${new Error("").stack}${r.EOL}${r.EOL}${t.stack}`}}t.WrappedError=i},45612:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModuleNotInstalledError=void 0;class n extends Error{constructor(e){super(`Module '${e}' not installed.`)}}t.ModuleNotInstalledError=n},94496:(e,t)=>{"use strict";var n,r,i,o,s;Object.defineProperty(t,"__esModule",{value:!0}),t.EnableTestAdapterRewrite=t.DiscoveryUsingWorkers=t.TerminalEnvVarActivation=t.ShowToolsExtensionPrompt=t.ShowExtensionSurveyPrompt=void 0,function(e){e.experiment="pythonSurveyNotification"}(n||(t.ShowExtensionSurveyPrompt=n={})),function(e){e.experiment="pythonPromptNewToolsExt"}(r||(t.ShowToolsExtensionPrompt=r={})),function(e){e.experiment="pythonTerminalEnvVarActivation"}(i||(t.TerminalEnvVarActivation=i={})),function(e){e.experiment="pythonDiscoveryUsingWorkers"}(o||(t.DiscoveryUsingWorkers=o={})),function(e){e.experiment="pythonTestAdapter"}(s||(t.EnableTestAdapterRewrite=s={}))},8103:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inTerminalEnvVarExperiment=void 0;const r=n(54980),i=n(94496),o=n(552),s=n(61905);t.inTerminalEnvVarExperiment=function(e){return!(0,o.isTestExecution)()&&r.env.remoteName&&r.workspace.workspaceFolders&&r.workspace.workspaceFolders.length>1?((0,s.traceInfo)("Not enabling terminal env var experiment in multiroot remote workspaces"),!1):!!e.inExperimentSync(i.TerminalEnvVarActivation.experiment)}},169:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ExperimentService=void 0;const o=n(25891),s=n(54980),a=n(41566),c=n(61905),l=n(51535),u=n(53322),p=n(54661),d=n(552),h=n(86156),f=n(46885),v="vscode";let g=class{constructor(e,t,n){this.workspaceService=e,this.appEnvironment=t,this.persistentState=n,this._optInto=[],this._optOutFrom=[],this.experiments=this.persistentState.createGlobalPersistentState("VSCode.ABExp.FeatureData",{features:[]});const r=this.workspaceService.getConfiguration("python"),i=r.get("experiments.optInto")||[],o=r.get("experiments.optOutFrom")||[];if(this._optInto=i.filter((e=>!e.endsWith("control"))),this._optOutFrom=o.filter((e=>!e.endsWith("control"))),this._optOutFrom.includes("All")||!1===r.get("experiments.enabled")?this.enabled=!1:this.enabled=!0,!this.enabled)return;let s;s="insiders"===this.appEnvironment.channel?a.TargetPopulation.Insiders:a.TargetPopulation.Public;const c=new f.ExperimentationTelemetry;this.experimentationService=(0,a.getExperimentationService)(d.PVSC_EXTENSION_ID,this.appEnvironment.packageJson.version,s,c,this.experiments.storage)}async activate(){if(this.experimentationService){const e=Date.now();await this.experimentationService.initializePromise,0===this.experiments.value.features.length&&(await this.experimentationService.initialFetch,(0,l.sendTelemetryEvent)(u.EventName.PYTHON_EXPERIMENTS_INIT_PERFORMANCE,Date.now()-e)),this.logExperiments()}!function(e,t,n){const r=m("python.experiments.optInto",n),i=m("python.experiments.optOutFrom",n),o=e.filter((e=>r.includes(e))),s=t.filter((e=>i.includes(e)));JSON.stringify(o.sort()),(0,l.sendTelemetryEvent)(u.EventName.PYTHON_EXPERIMENTS_OPT_IN_OPT_OUT_SETTINGS,void 0,{optedInto:JSON.stringify(o.sort()),optedOutFrom:JSON.stringify(s.sort())})}(this._optInto,this._optOutFrom,this.appEnvironment.packageJson)}async inExperiment(e){return this.inExperimentSync(e)}inExperimentSync(e){return!!this.experimentationService&&(!this._optOutFrom.includes("All")&&!this._optOutFrom.includes(e)&&(this._optInto.includes("All")||this._optInto.includes(e)?(this.experimentationService.getTreatmentVariable(v,e),!0):!0===this.experimentationService.getTreatmentVariable(v,e)))}async getExperimentValue(e){if(this.experimentationService&&!this._optOutFrom.includes("All")&&!this._optOutFrom.includes(e))return this.experimentationService.getTreatmentVariable(v,e)}logExperiments(){const e=this.workspaceService.getConfiguration("telemetry");let t=!1;e&&!1===e.get("enableTelemetry")&&((0,c.traceLog)("Telemetry is disabled"),t=!0),e&&"off"===e.get("telemetryLevel")&&((0,c.traceLog)("Telemetry level is off"),t=!0),t&&(0,c.traceLog)("Experiments are disabled, only manually opted experiments are active."),this._optOutFrom.includes("All")?(0,c.traceLog)(s.l10n.t("Experiment '{0}' is inactive","All")):this._optInto.includes("All")?(0,c.traceLog)(s.l10n.t("Experiment '{0}' is active","All")):(this._optOutFrom.filter((e=>"All"!==e&&e.toLowerCase().startsWith("python"))).forEach((e=>{(0,c.traceLog)(s.l10n.t("Experiment '{0}' is inactive",e))})),this._optInto.filter((e=>"All"!==e&&e.toLowerCase().startsWith("python"))).forEach((e=>{(0,c.traceLog)(s.l10n.t("Experiment '{0}' is active",e))})),t||this.experiments.value.features.forEach((e=>{!e.toLowerCase().startsWith("python")||this._optOutFrom.includes(e)||this._optInto.includes(e)||(0,c.traceLog)(s.l10n.t("Experiment '{0}' is active",e))})))}};function m(e,t){var n;const r=t.contributes.configuration.properties[e];return r&&null!==(n=r.items.enum)&&void 0!==n?n:[]}t.ExperimentService=g,t.ExperimentService=g=r([(0,o.injectable)(),i(0,(0,o.inject)(p.IWorkspaceService)),i(1,(0,o.inject)(p.IApplicationEnvironment)),i(2,(0,o.inject)(h.IPersistentStateFactory))],g)},46885:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExperimentationTelemetry=void 0;const r=n(51535);t.ExperimentationTelemetry=class{setSharedProperty(e,t){(0,r.setSharedProperty)(e,t)}postEvent(e,t){const n={};t.forEach(((e,t)=>{n[t]=e})),(0,r.sendTelemetryEvent)(e,void 0,n)}}},87295:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),String.prototype.toCommandArgumentForPythonExt=function(){return this?!(this.indexOf(" ")>=0||this.indexOf("&")>=0||this.indexOf("(")>=0||this.indexOf(")")>=0)||this.startsWith('"')||this.endsWith('"')?this.toString():`"${this}"`:this},String.prototype.fileToCommandArgumentForPythonExt=function(){return this?this.toCommandArgumentForPythonExt().replace(/\\/g,"/"):this},String.prototype.trimQuotes=function(){return this?this.replace(/(^['"])|(['"]$)/g,""):this},Promise.prototype.ignoreErrors=function(){return this.catch((()=>{}))},String.prototype.format||(String.prototype.format=function(){const e=arguments;return this.replace(/{(\d+)}/g,((t,n)=>void 0===e[n]?t:e[n]))})},65900:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.untildify=t.isNotInstalledError=void 0;const s=o(n(70857)),a=n(45612);t.isNotInstalledError=function(e){const t=e;if("object"!=typeof e||null===e)return!1;if(e instanceof a.ModuleNotInstalledError)return!0;const n=e.message.indexOf("No module named")>=0;return"ENOENT"===t.code||127===t.code||n},t.untildify=function(e){return e.replace(/^~($|\/|\\)/,`${s.homedir()}$1`)}},8534:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.InstallationChannelManager=void 0;const o=n(25891),s=n(29413),a=n(9100),c=n(25297),l=n(54661),u=n(22408),p=n(14152),d=n(98803),h=n(19065),f=n(18399);let v=class{constructor(e){this.serviceContainer=e}async getInstallationChannel(e,t){const n=await this.getInstallationChannels(t);if(1===n.length)return n[0];const r=h.ProductNames.get(e),i=this.serviceContainer.get(l.IApplicationShell);if(0===n.length)return void await this.showNoInstallersMessage((0,d.isResource)(t)?t:void 0);const o=`Select an option to install ${r}`,s=n.map((e=>({label:`Install using ${e.displayName}`,description:"",installer:e}))),a=await i.showQuickPick(s,{matchOnDescription:!0,matchOnDetail:!0,placeHolder:o});return a?a.installer:void 0}async getInstallationChannels(e){const t=this.serviceContainer.getAll(f.IModuleInstaller),n=[];if(0===t.length)return[];t.sort(((e,t)=>t.priority-e.priority));let r=t[0].priority;for(const i of t){if(i.priority!==r){if(n.length>0)break;r=i.priority}await i.isSupported(e)&&n.push(i)}return n}async showNoInstallersMessage(e){const t=this.serviceContainer.get(s.IInterpreterService),n=await t.getActiveInterpreter(e);if(!n)return;const r=this.serviceContainer.get(l.IApplicationShell);let i;if(i=n.envType===c.EnvironmentType.Conda?await r.showErrorMessage(p.Installer.noCondaOrPipInstaller,p.Installer.searchForHelp):await r.showErrorMessage(p.Installer.noPipInstaller,p.Installer.searchForHelp),"Search for help"===i){const e=this.serviceContainer.get(u.IPlatformService),t=e.isWindows?"Windows":e.isMac?"MacOS":"Linux";r.openUrl(`https://www.bing.com/search?q=Install Pip ${t} ${n.envType===c.EnvironmentType.Conda?"Conda":""}`)}}};t.InstallationChannelManager=v,t.InstallationChannelManager=v=r([(0,o.injectable)(),i(0,(0,o.inject)(a.IServiceContainer))],v)},29449:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CondaInstaller=void 0;const o=n(25891),s=n(29413),a=n(9100),c=n(6514),l=n(25297),u=n(86156),p=n(98803),d=n(9418),h=n(18399);let f=class extends d.ModuleInstaller{constructor(e){super(e)}get name(){return"Conda"}get displayName(){return"Conda"}get type(){return l.ModuleInstallerType.Conda}get priority(){return 10}async isSupported(e){if(!1===this._isCondaAvailable)return!1;const t=this.serviceContainer.get(s.ICondaService);return this._isCondaAvailable=await t.isCondaAvailable(),!!this._isCondaAvailable&&this.isCurrentEnvironmentACondaEnvironment(e)}async getExecutionInfo(e,t,n=0){var r;const i=this.serviceContainer.get(s.ICondaService),o=!0,a=await i.getCondaFile(o),l=(0,p.isResource)(t)?this.serviceContainer.get(u.IConfigurationService).getSettings(t).pythonPath:null!==(r=(0,c.getEnvPath)(t.path,t.envPath).path)&&void 0!==r?r:"",f=this.serviceContainer.get(s.IComponentAdapter),v=await f.getCondaEnvironment(l),g=[n&h.ModuleInstallFlags.upgrade?"update":"install"];return[u.Product.tensorboard].map(d.translateProductToModule).includes(e)&&g.push("-c","conda-forge"),v&&v.name?(g.push("--name"),g.push(v.name.toCommandArgumentForPythonExt())):v&&v.path&&(g.push("--prefix"),g.push(v.path.fileToCommandArgumentForPythonExt())),n&h.ModuleInstallFlags.updateDependencies&&g.push("--update-deps"),n&h.ModuleInstallFlags.reInstall&&g.push("--force-reinstall"),g.push(e),g.push("-y"),{args:g,execPath:a,useShell:o}}async isCurrentEnvironmentACondaEnvironment(e){var t;const n=this.serviceContainer.get(s.IComponentAdapter),r=(0,p.isResource)(e)?this.serviceContainer.get(u.IConfigurationService).getSettings(e).pythonPath:null!==(t=(0,c.getEnvPath)(e.path,e.envPath).path)&&void 0!==t?t:"";return n.isCondaEnvironment(r)}};t.CondaInstaller=f,t.CondaInstaller=f=r([(0,o.injectable)(),i(0,(0,o.inject)(a.IServiceContainer))],f)},9418:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.translateProductToModule=t.ModuleInstaller=void 0;const a=n(25891),c=s(n(16928)),l=n(54980),u=n(29413),p=n(61905),d=n(25297),h=n(51535),f=n(53322),v=n(54661),g=n(7854),m=n(22408),y=s(n(13931)),b=n(35026),_=n(23935),E=n(86156),S=n(98803),w=n(19065);let P=class{constructor(e){this.serviceContainer=e}async installModule(e,t,n,r,i){const o=!(null==i?void 0:i.installAsProcess),s="string"==typeof e?e:T(e),a="string"==typeof e?s:w.ProductNames.get(e);(0,h.sendTelemetryEvent)(f.EventName.PYTHON_INSTALL_PACKAGE,void 0,{installer:this.displayName,productName:a});const p=(0,S.isResource)(t)?t:void 0,b=await this.getExecutionInfo(s,t,r),_=async e=>{var n;const r=await this.processInstallArgs(b.args,t);if(b.moduleName){const i=this.serviceContainer.get(E.IConfigurationService).getSettings(p),a=this.serviceContainer.get(u.IInterpreterService),l=(0,S.isResource)(t)?await a.getActiveInterpreter(t):t,h=null!==(n=null==l?void 0:l.path)&&void 0!==n?n:i.pythonPath,f=(0,S.isResource)(t)?h:t.path,v=y.execModule(b.moduleName,r);if(l&&l.envType===d.EnvironmentType.Unknown)if(i.globalModuleInstallation){const n=this.serviceContainer.get(m.IFileSystem);await n.isDirReadonly(c.dirname(f)).catch((e=>!0))?this.elevatedInstall(f,v):await this.executeCommand(o,t,f,v,e,b.useShell)}else s===T(E.Product.pip)||d.virtualEnvTypes.includes(l.envType)?await this.executeCommand(o,t,f,v,e,b.useShell):await this.executeCommand(o,t,f,v.concat(["--user"]),e,b.useShell);else await this.executeCommand(o,t,f,v,e,b.useShell)}else await this.executeCommand(o,t,b.execPath,r,e,b.useShell)};if(n){const e=this.serviceContainer.get(v.IApplicationShell),t={location:l.ProgressLocation.Notification,cancellable:!0,title:l.l10n.t("Installing {0}",s)};await e.withProgress(t,(async(e,t)=>_((0,g.wrapCancellationTokens)(t,n))))}else await _(n)}elevatedInstall(e,t){const r=this.serviceContainer.get(E.ILogOutputChannel),i=`"${e.replace(/\\/g,"/")}" ${t.join(" ")}`;(0,p.traceLog)(`[Elevated] ${i}`),n(51586).exec(i,{name:"VS Code Python"},(async(e,t,n)=>{if(e){const t=this.serviceContainer.get(v.IApplicationShell);await t.showErrorMessage(e)}else r.show(),t&&(0,p.traceLog)(t),n&&(0,p.traceError)(`Warning: ${n}`)}))}async processInstallArgs(e,t){const n=e.findIndex((e=>"PYLINT"===e.toUpperCase()));if(-1===n)return e;const r=this.serviceContainer.get(u.IInterpreterService),i=(0,S.isResource)(t)?await r.getActiveInterpreter(t):t;if(i&&i.version&&2===i.version.major){const t=[...e];return t[n]='"pylint<2.0.0"',t}return e}async executeCommand(e,t,n,r,i,o){const s={};if((0,S.isResource)(t)?s.resource=t:s.interpreter=t,e)this.serviceContainer.get(_.ITerminalServiceFactory).getTerminalService(s).sendCommand(n,r,i);else{const e=this.serviceContainer.get(b.IProcessServiceFactory),t=await e.create(s.resource);if(o){const e=[n,...r].reduce(((e,t)=>e?`${e} ${t.toCommandArgumentForPythonExt()}`:`${t.toCommandArgumentForPythonExt()}`),"");await t.shellExec(e)}else await t.exec(n,r)}}};function T(e){switch(e){case E.Product.pytest:return"pytest";case E.Product.unittest:return"unittest";case E.Product.tensorboard:return"tensorboard";case E.Product.torchProfilerInstallName:return"torch-tb-profiler";case E.Product.torchProfilerImportName:return"torch_tb_profiler";case E.Product.pip:return"pip";case E.Product.ensurepip:return"ensurepip";case E.Product.python:return"python";default:throw new Error(`Product ${e} cannot be installed as a Python Module.`)}}t.ModuleInstaller=P,t.ModuleInstaller=P=o([(0,a.injectable)()],P),t.translateProductToModule=T},91342:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PipEnvInstaller=t.pipenvName=void 0;const o=n(25891),s=n(29413),a=n(9100),c=n(35864),l=n(25297),u=n(54661),p=n(98803),d=n(9418),h=n(18399);t.pipenvName="pipenv";let f=class extends d.ModuleInstaller{get name(){return"pipenv"}get type(){return l.ModuleInstallerType.Pipenv}get displayName(){return t.pipenvName}get priority(){return 10}constructor(e){super(e)}async isSupported(e){if((0,p.isResource)(e)){const t=await this.serviceContainer.get(s.IInterpreterService).getActiveInterpreter(e),n=e?this.serviceContainer.get(u.IWorkspaceService).getWorkspaceFolder(e):void 0;return!(!t||!n||t.envType!==l.EnvironmentType.Pipenv)&&(0,c.isPipenvEnvironmentRelatedToFolder)(t.path,n.uri.fsPath)}return e.envType===l.EnvironmentType.Pipenv}async getExecutionInfo(e,n,r=0){return{args:[r&h.ModuleInstallFlags.reInstall||r&h.ModuleInstallFlags.updateDependencies||r&h.ModuleInstallFlags.upgrade?"update":"install",e,"--dev"],execPath:t.pipenvName}}};t.PipEnvInstaller=f,t.PipEnvInstaller=f=r([(0,o.injectable)(),i(0,(0,o.inject)(a.IServiceContainer))],f)},97539:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PipInstaller=void 0;const c=n(25891),l=n(9100),u=n(25297),p=n(54661),d=n(35026),h=n(86156),f=n(98803),v=n(9418),g=n(18399),m=s(n(16928)),y=n(3931),b=n(19065),_=n(51535),E=n(53322),S=n(29413),w=n(25943);let P=class extends v.ModuleInstaller{get name(){return"Pip"}get type(){return u.ModuleInstallerType.Pip}get displayName(){return"Pip"}get priority(){return 0}constructor(e){super(e)}async isSupported(e){return!1!==await async function(e,t){var n;const r=e.get(S.IInterpreterService),i=(0,f.isResource)(t)?await r.getActiveInterpreter(t):t;if(i)return!((null===(n=i.envPath)||void 0===n?void 0:n.length)&&i.envType===u.EnvironmentType.Conda&&!(0,w.isParentPath)(null==i?void 0:i.path,i.envPath))}(this.serviceContainer,e)&&this.isPipAvailable(e)}async getExecutionInfo(e,t,n=0){var r,i,o;if(e===(0,v.translateProductToModule)(h.Product.pip)){const e=(0,f.isResource)(t)?"":`${(null===(r=t.version)||void 0===r?void 0:r.major)||""}.${(null===(i=t.version)||void 0===i?void 0:i.minor)||""}.${(null===(o=t.version)||void 0===o?void 0:o.patch)||""}`,n=(0,f.isResource)(t)?void 0:t.envType;(0,_.sendTelemetryEvent)(E.EventName.PYTHON_INSTALL_PACKAGE,void 0,{installer:"unavailable",requiredInstaller:u.ModuleInstallerType.Pip,productName:b.ProductNames.get(h.Product.pip),version:e,envType:n});const s=this.serviceContainer.get(h.IInstaller);if(await s.isInstalled(h.Product.ensurepip,t))return{args:[],moduleName:"ensurepip"};(0,_.sendTelemetryEvent)(E.EventName.PYTHON_INSTALL_PACKAGE,void 0,{installer:"unavailable",requiredInstaller:u.ModuleInstallerType.Pip,productName:b.ProductNames.get(h.Product.ensurepip),version:e,envType:n});const a=this.serviceContainer.get(S.IInterpreterService),c=(0,f.isResource)(t)?await a.getActiveInterpreter(t):t;return{execPath:c?c.path:"python",args:[m.join(y._SCRIPTS_DIR,"get-pip.py")]}}const s=[],a=this.serviceContainer.get(p.IWorkspaceService).getConfiguration("http").get("proxy","");return a.length>0&&(s.push("--proxy"),s.push(a)),s.push("install","-U"),n&g.ModuleInstallFlags.reInstall&&s.push("--force-reinstall"),{args:[...s,e],moduleName:"pip"}}isPipAvailable(e){const t=this.serviceContainer.get(d.IPythonExecutionFactory),n=(0,f.isResource)(e)?e:void 0,r=(0,f.isResource)(e)?void 0:e.path;return t.create({resource:n,pythonPath:r}).then((e=>e.isModuleInstalled("pip"))).catch((()=>!1))}};t.PipInstaller=P,t.PipInstaller=P=o([(0,c.injectable)(),a(0,(0,c.inject)(l.IServiceContainer))],P)},57970:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PixiInstaller=void 0;const o=n(25891),s=n(29413),a=n(9100),c=n(6514),l=n(25297),u=n(86156),p=n(98803),d=n(9418),h=n(8164);let f=class extends d.ModuleInstaller{constructor(e,t){super(e),this.configurationService=t}get name(){return"Pixi"}get displayName(){return"pixi"}get type(){return l.ModuleInstallerType.Pixi}get priority(){return 20}async isSupported(e){if((0,p.isResource)(e)){const t=await this.serviceContainer.get(s.IInterpreterService).getActiveInterpreter(e);return!(!t||t.envType!==l.EnvironmentType.Pixi)&&void 0!==await(0,h.getPixiEnvironmentFromInterpreter)(t.path)}return e.envType===l.EnvironmentType.Pixi}async getExecutionInfo(e,t){var n;const r=(0,p.isResource)(t)?this.configurationService.getSettings(t).pythonPath:null!==(n=(0,c.getEnvPath)(t.path,t.envPath).path)&&void 0!==n?n:"",i=await(0,h.getPixiEnvironmentFromInterpreter)(r),o=null==i?void 0:i.pixi.command;let s=["add",e];const a=null==i?void 0:i.manifestPath;return void 0!==a&&(s=s.concat(["--manifest-path",a])),{args:s,execPath:o}}};t.PixiInstaller=f,t.PixiInstaller=f=r([(0,o.injectable)(),i(0,(0,o.inject)(a.IServiceContainer)),i(1,(0,o.inject)(u.IConfigurationService))],f)},47565:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PoetryInstaller=t.poetryName=void 0;const o=n(25891),s=n(29413),a=n(9100),c=n(60649),l=n(25297),u=n(54661),p=n(86156),d=n(98803),h=n(9418);t.poetryName="poetry";let f=class extends h.ModuleInstaller{get name(){return"poetry"}get type(){return l.ModuleInstallerType.Poetry}get displayName(){return t.poetryName}get priority(){return 10}constructor(e,t,n){super(e),this.workspaceService=t,this.configurationService=n}async isSupported(e){if(!e)return!1;if(!(0,d.isResource)(e))return!1;const t=await this.serviceContainer.get(s.IInterpreterService).getActiveInterpreter(e),n=e?this.workspaceService.getWorkspaceFolder(e):void 0;return!(!t||!n||t.envType!==l.EnvironmentType.Poetry)&&(0,c.isPoetryEnvironmentRelatedToFolder)(t.path,n.uri.fsPath,this.configurationService.getSettings(e).poetryPath)}async getExecutionInfo(e,t){return{args:["add","--group","dev",e],execPath:this.configurationService.getSettings((0,d.isResource)(t)?t:void 0).poetryPath}}};t.PoetryInstaller=f,t.PoetryInstaller=f=r([(0,o.injectable)(),i(0,(0,o.inject)(a.IServiceContainer)),i(1,(0,o.inject)(u.IWorkspaceService)),i(2,(0,o.inject)(p.IConfigurationService))],f)},9737:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ProductInstaller=t.PythonInstaller=t.DataScienceInstaller=t.TestFrameworkInstaller=t.Product=void 0;const c=n(25891),l=s(n(99589)),u=n(54980);n(87295);const p=n(29413),d=n(9100),h=n(25297),f=n(51535),v=n(53322),g=n(54661),m=n(35026),y=n(86156),b=n(14152),_=n(98803),E=n(9418),S=n(19065),w=n(18399),P=n(61905),T=n(25943);var C=n(86156);Object.defineProperty(t,"Product",{enumerable:!0,get:function(){return C.Product}});const x=new Map([[y.Product.torchProfilerInstallName,new Set([h.EnvironmentType.Conda,h.EnvironmentType.Pixi])]]);class I{constructor(e){this.serviceContainer=e,this.appShell=e.get(g.IApplicationShell),this.configService=e.get(y.IConfigurationService),this.workspaceService=e.get(g.IWorkspaceService),this.productService=e.get(w.IProductService),this.persistentStateFactory=e.get(y.IPersistentStateFactory)}promptToInstall(e,t,n,r){const i=t&&(0,_.isResource)(t)?this.workspaceService.getWorkspaceFolder(t):void 0,o=`${e}${i?i.uri.fsPath:""}`;if(I.PromptPromises.has(o))return I.PromptPromises.get(o);const s=this.promptToInstallImplementation(e,t,n,r);return I.PromptPromises.set(o,s),s.then((()=>I.PromptPromises.delete(o))).ignoreErrors(),s.catch((()=>I.PromptPromises.delete(o))).ignoreErrors(),s}async install(e,t,n,r,i){if(e===y.Product.unittest)return y.InstallerResponse.Installed;const o=this.serviceContainer.get(w.IInstallationChannelManager),s=await o.getInstallationChannel(e,t);return s?(await s.installModule(e,t,n,r,i).catch((t=>(0,P.traceError)(`Error in installing the product '${S.ProductNames.get(e)}', ${t}`))),this.isInstalled(e,t).then((t=>((0,f.sendTelemetryEvent)(v.EventName.PYTHON_INSTALL_PACKAGE,void 0,{installer:s.displayName,productName:S.ProductNames.get(e),isInstalled:t}),t?y.InstallerResponse.Installed:y.InstallerResponse.Ignore)))):((0,f.sendTelemetryEvent)(v.EventName.PYTHON_INSTALL_PACKAGE,void 0,{installer:"unavailable",productName:S.ProductNames.get(e)}),y.InstallerResponse.Ignore)}async isProductVersionCompatible(e,t,n){const r=await this.getProductSemVer(e,n);return r?l.satisfies(r,t)?y.ProductInstallStatus.Installed:y.ProductInstallStatus.NeedsUpgrade:y.ProductInstallStatus.NotInstalled}async getProductSemVer(e,t){const n=(0,_.isResource)(t)?void 0:t,r=(0,_.isResource)(t)?t:void 0,i=this.getExecutableNameFromSettings(e,r);let o;if(this.isExecutableAModule(e,r)){const e=await this.serviceContainer.get(m.IPythonExecutionFactory).createActivatedEnvironment({resource:r,interpreter:n,allowEnvironmentFetchExceptions:!0});o=await e.getModuleVersion(i)}else{const e=await this.serviceContainer.get(m.IProcessServiceFactory).create(r);o=(await e.exec(i,["--version"],{mergeStdOutErr:!0})).stdout.trim()}if(!o)return null;try{return l.coerce(o)}catch(t){return(0,P.traceError)(`Unable to parse version ${o} for product ${e}: `,t),null}}async isInstalled(e,t){if(e===y.Product.unittest)return!0;const n=(0,_.isResource)(t)?void 0:t,r=(0,_.isResource)(t)?t:void 0,i=this.getExecutableNameFromSettings(e,r);return this.isExecutableAModule(e,r)?(await this.serviceContainer.get(m.IPythonExecutionFactory).createActivatedEnvironment({resource:r,interpreter:n,allowEnvironmentFetchExceptions:!0})).isModuleInstalled(i):(await this.serviceContainer.get(m.IProcessServiceFactory).create(r)).exec(i,["--version"],{mergeStdOutErr:!0}).then((()=>!0)).catch((()=>!1))}getExecutableNameFromSettings(e,t){const n=this.productService.getProductType(e);return this.serviceContainer.get(w.IProductPathService,n).getExecutableNameFromSettings(e,t)}isExecutableAModule(e,t){const n=this.productService.getProductType(e);return this.serviceContainer.get(w.IProductPathService,n).isExecutableAModule(e,t)}}I.PromptPromises=new Map;class O extends I{async promptToInstallImplementation(e,t,n,r){const i=S.ProductNames.get(e),o=[];let s=u.l10n.t("Test framework {0} is not installed. Install?",i);if(this.isExecutableAModule(e,t))o.push(b.Common.bannerLabelYes,b.Common.bannerLabelNo);else{const n=this.getExecutableNameFromSettings(e,t);s=u.l10n.t("Path to the {0} test framework is invalid ({1})",i,n)}return await this.appShell.showErrorMessage(s,...o)===b.Common.bannerLabelYes?this.install(e,t,n):y.InstallerResponse.Ignore}}t.TestFrameworkInstaller=O;class R extends I{async install(e,t,n,r){var i,o,s,a;if((0,_.isResource)(t))throw new Error("All data science packages require an interpreter be passed in");const c=t;let l=await this.serviceContainer.get(w.IInstallationChannelManager).getInstallationChannels(c);const p=(0,E.translateProductToModule)(e),d=`${(null===(i=c.version)||void 0===i?void 0:i.major)||""}.${(null===(o=c.version)||void 0===o?void 0:o.minor)||""}.${(null===(s=c.version)||void 0===s?void 0:s.patch)||""}`;if(r&&r&w.ModuleInstallFlags.installPipIfRequired&&c.envType!==h.EnvironmentType.Conda&&!l.some((e=>e.type===h.ModuleInstallerType.Pip))){const e=this.serviceContainer.getAll(w.IModuleInstaller).find((e=>e.type===h.ModuleInstallerType.Pip));e?((0,P.traceInfo)(`Installing pip as its not available to install ${p}.`),await e.installModule(y.Product.pip,c,n).catch((e=>(0,P.traceError)(`Error in installing the module '${p} as Pip could not be installed', ${e}`))),await this.isInstalled(y.Product.pip,c).then((t=>{(0,f.sendTelemetryEvent)(v.EventName.PYTHON_INSTALL_PACKAGE,void 0,{installer:e.displayName,requiredInstaller:h.ModuleInstallerType.Pip,version:d,envType:c.envType,isInstalled:t,productName:S.ProductNames.get(y.Product.pip)})})).catch(_.noop),l=await this.serviceContainer.get(w.IInstallationChannelManager).getInstallationChannels(c)):((0,f.sendTelemetryEvent)(v.EventName.PYTHON_INSTALL_PACKAGE,void 0,{installer:"unavailable",requiredInstaller:h.ModuleInstallerType.Pip,productName:S.ProductNames.get(y.Product.pip),version:d,envType:c.envType}),(0,P.traceError)("Unable to install pip when its required."))}const g=!(null===(a=x.get(e))||void 0===a?void 0:a.has(h.EnvironmentType.Conda));let m=h.ModuleInstallerType.Unknown;if(c.envType===h.EnvironmentType.Conda&&g)m=h.ModuleInstallerType.Conda;else if(c.envType!==h.EnvironmentType.Conda||g)switch(c.envType){case h.EnvironmentType.Pipenv:m=h.ModuleInstallerType.Pipenv;break;case h.EnvironmentType.Poetry:m=h.ModuleInstallerType.Poetry;break;default:m=h.ModuleInstallerType.Pip}else(0,P.traceInfo)(`Interpreter type is conda but package ${p} is not available through conda, using pip instead.`),m=h.ModuleInstallerType.Pip;const b=l.find((e=>e.type===m));return b?(await b.installModule(e,c,n,r).catch((e=>(0,P.traceError)(`Error in installing the module '${p}', ${e}`))),this.isInstalled(e,c).then((t=>((0,f.sendTelemetryEvent)(v.EventName.PYTHON_INSTALL_PACKAGE,void 0,{installer:b.displayName||"",requiredInstaller:m,version:d,envType:c.envType,isInstalled:t,productName:S.ProductNames.get(e)}),t?y.InstallerResponse.Installed:y.InstallerResponse.Ignore)))):(this.appShell.showErrorMessage(u.l10n.t("Could not install {0}. If pip is not available, please use the package manager of your choice to manually install this library into your Python environment.",p)).then(_.noop,_.noop),(0,f.sendTelemetryEvent)(v.EventName.PYTHON_INSTALL_PACKAGE,void 0,{installer:"unavailable",requiredInstaller:m,productName:S.ProductNames.get(e),version:d,envType:c.envType}),y.InstallerResponse.Ignore)}async promptToInstallImplementation(e,t,n,r){const i=S.ProductNames.get(e);return await this.appShell.showErrorMessage(u.l10n.t("Data Science library {0} is not installed. Install?",i),b.Common.bannerLabelYes,b.Common.bannerLabelNo)===b.Common.bannerLabelYes?this.install(e,t,n):y.InstallerResponse.Ignore}}t.DataScienceInstaller=R;let D=class{constructor(e){this.serviceContainer=e}async isInstalled(e,t){var n;if(e!==y.Product.python)throw new Error(`${e} cannot be installed via conda python installer`);const r=this.serviceContainer.get(p.IInterpreterService),i=(0,_.isResource)(t)?await r.getActiveInterpreter(t):t;return!i||!((null===(n=i.envPath)||void 0===n?void 0:n.length)&&i.envType===h.EnvironmentType.Conda&&!(0,T.isParentPath)(null==i?void 0:i.path,i.envPath))}async install(e,t,n,r){if(e!==y.Product.python)throw new Error(`${e} cannot be installed via python installer`);const i=this.serviceContainer.getAll(w.IModuleInstaller).find((e=>e.type===h.ModuleInstallerType.Conda));if(!i||!await i.isSupported(t))return(0,P.traceError)("Conda installer not available for installing python in the given environment"),y.InstallerResponse.Ignore;const o=(0,E.translateProductToModule)(e);return await i.installModule(y.Product.python,t,void 0,void 0,{installAsProcess:!0}).catch((e=>(0,P.traceError)(`Error in installing the module '${o}', ${e}`))),this.isInstalled(e,t).then((e=>e?y.InstallerResponse.Installed:y.InstallerResponse.Ignore))}async promptToInstall(e,t,n,r){return y.InstallerResponse.Ignore}async isProductVersionCompatible(e,t,n){return y.ProductInstallStatus.Installed}};t.PythonInstaller=D,t.PythonInstaller=D=o([a(0,(0,c.inject)(d.IServiceContainer))],D);let k=class{constructor(e){this.serviceContainer=e,this.productService=e.get(w.IProductService),this.interpreterService=this.serviceContainer.get(p.IInterpreterService)}dispose(){}async promptToInstall(e,t,n,r){return((0,_.isResource)(t)?await this.interpreterService.getActiveInterpreter(t):t)?this.createInstaller(e).promptToInstall(e,t,n,r):y.InstallerResponse.Ignore}async isProductVersionCompatible(e,t,n){return this.createInstaller(e).isProductVersionCompatible(e,t,n)}async install(e,t,n,r,i){return this.createInstaller(e).install(e,t,n,r,i)}async isInstalled(e,t){return this.createInstaller(e).isInstalled(e,t)}translateProductToModuleName(e){return(0,E.translateProductToModule)(e)}createInstaller(e){switch(this.productService.getProductType(e)){case y.ProductType.TestFramework:return new O(this.serviceContainer);case y.ProductType.DataScience:return new R(this.serviceContainer);case y.ProductType.Python:return new D(this.serviceContainer)}throw new Error(`Unknown product ${e}`)}};t.ProductInstaller=k,t.ProductInstaller=k=o([(0,c.injectable)(),a(0,(0,c.inject)(d.IServiceContainer))],k)},19065:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProductNames=void 0;const r=n(86156);t.ProductNames=new Map,t.ProductNames.set(r.Product.pytest,"pytest"),t.ProductNames.set(r.Product.tensorboard,"tensorboard"),t.ProductNames.set(r.Product.torchProfilerInstallName,"torch-tb-profiler"),t.ProductNames.set(r.Product.torchProfilerImportName,"torch_tb_profiler"),t.ProductNames.set(r.Product.pip,"pip"),t.ProductNames.set(r.Product.ensurepip,"ensurepip")},52390:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DataScienceProductPathService=t.TestFrameworkProductPathService=t.BaseProductPathsService=void 0;const c=n(25891),l=s(n(16928)),u=n(9100),p=n(89113),d=n(86156);let h=class{constructor(e){this.serviceContainer=e,this.configService=e.get(d.IConfigurationService),this.productInstaller=e.get(d.IInstaller)}isExecutableAModule(e,t){let n;try{n=this.productInstaller.translateProductToModuleName(e)}catch(e){}const r=this.getExecutableNameFromSettings(e,t);return"string"==typeof n&&n.length>0&&l.basename(r)===r}};t.BaseProductPathsService=h,t.BaseProductPathsService=h=o([(0,c.injectable)(),a(0,(0,c.inject)(u.IServiceContainer))],h);let f=class extends h{constructor(e){super(e)}getExecutableNameFromSettings(e,t){const n=this.serviceContainer.get(p.ITestingService).getSettingsPropertyNames(e);return n.pathName?this.configService.getSettings(t).testing[n.pathName]:this.productInstaller.translateProductToModuleName(e)}};t.TestFrameworkProductPathService=f,t.TestFrameworkProductPathService=f=o([(0,c.injectable)(),a(0,(0,c.inject)(u.IServiceContainer))],f);let v=class extends h{constructor(e){super(e)}getExecutableNameFromSettings(e,t){return this.productInstaller.translateProductToModuleName(e)}};t.DataScienceProductPathService=v,t.DataScienceProductPathService=v=o([(0,c.injectable)(),a(0,(0,c.inject)(u.IServiceContainer))],v)},96562:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.ProductService=void 0;const i=n(25891),o=n(86156);let s=class{constructor(){this.ProductTypes=new Map,this.ProductTypes.set(o.Product.pytest,o.ProductType.TestFramework),this.ProductTypes.set(o.Product.unittest,o.ProductType.TestFramework),this.ProductTypes.set(o.Product.tensorboard,o.ProductType.DataScience),this.ProductTypes.set(o.Product.torchProfilerInstallName,o.ProductType.DataScience),this.ProductTypes.set(o.Product.torchProfilerImportName,o.ProductType.DataScience),this.ProductTypes.set(o.Product.pip,o.ProductType.DataScience),this.ProductTypes.set(o.Product.ensurepip,o.ProductType.DataScience),this.ProductTypes.set(o.Product.python,o.ProductType.Python)}getProductType(e){return this.ProductTypes.get(e)}};t.ProductService=s,t.ProductService=s=r([(0,i.injectable)()],s)},37494:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const r=n(86156),i=n(8534),o=n(29449),s=n(91342),a=n(97539),c=n(57970),l=n(47565),u=n(52390),p=n(96562),d=n(18399);t.registerTypes=function(e){e.addSingleton(d.IModuleInstaller,c.PixiInstaller),e.addSingleton(d.IModuleInstaller,o.CondaInstaller),e.addSingleton(d.IModuleInstaller,a.PipInstaller),e.addSingleton(d.IModuleInstaller,s.PipEnvInstaller),e.addSingleton(d.IModuleInstaller,l.PoetryInstaller),e.addSingleton(d.IInstallationChannelManager,i.InstallationChannelManager),e.addSingleton(d.IProductService,p.ProductService),e.addSingleton(d.IProductPathService,u.TestFrameworkProductPathService,r.ProductType.TestFramework),e.addSingleton(d.IProductPathService,u.DataScienceProductPathService,r.ProductType.DataScience)}},18399:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.ModuleInstallFlags=t.IProductPathService=t.IProductService=t.IInstallationChannelManager=t.IPythonInstallation=t.IBaseInstaller=t.IModuleInstaller=void 0,t.IModuleInstaller=Symbol("IModuleInstaller"),t.IBaseInstaller=Symbol("IBaseInstaller"),t.IPythonInstallation=Symbol("IPythonInstallation"),t.IInstallationChannelManager=Symbol("IInstallationChannelManager"),t.IProductService=Symbol("IProductService"),t.IProductPathService=Symbol("IProductPathService"),function(e){e[e.none=0]="none",e[e.upgrade=1]="upgrade",e[e.updateDependencies=2]="updateDependencies",e[e.reInstall=4]="reInstall",e[e.installPipIfRequired=8]="installPipIfRequired"}(n||(t.ModuleInstallFlags=n={}))},18761:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.InterpreterPathService=t.getCIPythonPath=t.defaultInterpreterPathSetting=t.isRemoteGlobalSettingCopiedKey=t.remoteWorkspaceFolderKeysForWhichTheCopyIsDone_Key=t.remoteWorkspaceKeysForWhichTheCopyIsDone_Key=void 0;const c=s(n(25943)),l=n(25891),u=n(54980),p=n(61905),d=n(54661),h=n(41414),f=n(552),v=n(25943),g=n(86156),m=n(79985);t.remoteWorkspaceKeysForWhichTheCopyIsDone_Key="remoteWorkspaceKeysForWhichTheCopyIsDone_Key",t.remoteWorkspaceFolderKeysForWhichTheCopyIsDone_Key="remoteWorkspaceFolderKeysForWhichTheCopyIsDone_Key",t.isRemoteGlobalSettingCopiedKey="isRemoteGlobalSettingCopiedKey",t.defaultInterpreterPathSetting="defaultInterpreterPath";const y=b();function b(){return process.env.CI_PYTHON_PATH&&c.existsSync(process.env.CI_PYTHON_PATH)?process.env.CI_PYTHON_PATH:"python"}t.getCIPythonPath=b;let _=class{get onDidChange(){return this._didChangeInterpreterEmitter.event}constructor(e,t,n,r){this.persistentStateFactory=e,this.workspaceService=t,this.appEnvironment=r,this._didChangeInterpreterEmitter=new u.EventEmitter,n.push(this.workspaceService.onDidChangeConfiguration(this.onDidChangeConfiguration.bind(this))),this.fileSystemPaths=v.FileSystemPaths.withDefaults()}async onDidChangeConfiguration(e){e.affectsConfiguration(`python.${t.defaultInterpreterPathSetting}`)&&(this._didChangeInterpreterEmitter.fire({uri:void 0,configTarget:u.ConfigurationTarget.Global}),(0,p.traceVerbose)("Interpreter Path updated",`python.${t.defaultInterpreterPathSetting}`))}inspect(e,t=!1){var n,r;let i,o;(e=h.PythonSettings.getSettingsUriAndTarget(e,this.workspaceService).uri)&&(i=this.persistentStateFactory.createGlobalPersistentState(this.getSettingKey(e,u.ConfigurationTarget.WorkspaceFolder,t),void 0),o=this.persistentStateFactory.createGlobalPersistentState(this.getSettingKey(e,u.ConfigurationTarget.Workspace,t),void 0));const s=null!==(r=null===(n=this.workspaceService.getConfiguration("python",e))||void 0===n?void 0:n.inspect("defaultInterpreterPath"))&&void 0!==r?r:{};return{globalValue:s.globalValue,workspaceFolderValue:(null==i?void 0:i.value)&&"python"!==(null==i?void 0:i.value)?i.value:s.workspaceFolderValue,workspaceValue:(null==o?void 0:o.value)&&"python"!==(null==o?void 0:o.value)?o.value:s.workspaceValue}}get(e){var t;const n=this.inspect(e),r=n.workspaceFolderValue||n.workspaceValue||n.globalValue||((0,f.isTestExecution)()?y:"python");return new m.SystemVariables(void 0,null===(t=this.workspaceService.getWorkspaceFolder(e))||void 0===t?void 0:t.uri.fsPath,this.workspaceService).resolveAny(r)}async update(e,t,n){if(e=h.PythonSettings.getSettingsUriAndTarget(e,this.workspaceService).uri,t===u.ConfigurationTarget.Global){const e=this.workspaceService.getConfiguration("python");return void(e.inspect("defaultInterpreterPath").globalValue!==n&&await e.update("defaultInterpreterPath",n,!0))}if(!e)return void(0,p.traceError)("Cannot update workspace settings as no workspace is opened");const r=this.getSettingKey(e,t),i=this.persistentStateFactory.createGlobalPersistentState(r,void 0);i.value!==n&&(await i.updateValue(n),this._didChangeInterpreterEmitter.fire({uri:e,configTarget:t}),(0,p.traceVerbose)("Interpreter Path updated",r,n))}getSettingKey(e,t,n=!1){let r;const i=this.workspaceService.getWorkspaceFolderIdentifier(e);return r=t===u.ConfigurationTarget.WorkspaceFolder?`WORKSPACE_FOLDER_INTERPRETER_PATH_${i}`:this.workspaceService.workspaceFile?`WORKSPACE_INTERPRETER_PATH_${this.fileSystemPaths.normCase(this.workspaceService.workspaceFile.fsPath)}`:`WORKSPACE_FOLDER_INTERPRETER_PATH_${i}`,!n&&this.appEnvironment.remoteName?`${this.appEnvironment.remoteName}_${r}`:r}async copyOldInterpreterStorageValuesToNew(e){e=h.PythonSettings.getSettingsUriAndTarget(e,this.workspaceService).uri;const t=this.inspect(e,!0);await Promise.all([this._copyWorkspaceFolderValueToNewStorage(e,t.workspaceFolderValue),this._copyWorkspaceValueToNewStorage(e,t.workspaceValue),this._moveGlobalSettingValueToNewStorage(t.globalValue)])}async _copyWorkspaceFolderValueToNewStorage(e,n){const r=this.workspaceService.getWorkspaceFolderIdentifier(e,"");if(""===r)return;const i=this.persistentStateFactory.createGlobalPersistentState(t.remoteWorkspaceFolderKeysForWhichTheCopyIsDone_Key,[]),o=i.value;!o.includes(r)&&(await this.update(e,u.ConfigurationTarget.WorkspaceFolder,n),await i.updateValue([r,...o]))}async _copyWorkspaceValueToNewStorage(e,n){const r=this.workspaceService.workspaceFile?this.fileSystemPaths.normCase(this.workspaceService.workspaceFile.fsPath):void 0;if(!r)return;const i=this.persistentStateFactory.createGlobalPersistentState(t.remoteWorkspaceKeysForWhichTheCopyIsDone_Key,[]),o=i.value;!o.includes(r)&&(await this.update(e,u.ConfigurationTarget.Workspace,n),await i.updateValue([r,...o]))}async _moveGlobalSettingValueToNewStorage(e){const n=this.persistentStateFactory.createGlobalPersistentState(t.isRemoteGlobalSettingCopiedKey,!1);!n.value&&(await this.update(void 0,u.ConfigurationTarget.Global,e),await n.updateValue(!0))}};t.InterpreterPathService=_,t.InterpreterPathService=_=o([(0,l.injectable)(),a(0,(0,l.inject)(g.IPersistentStateFactory)),a(1,(0,l.inject)(d.IWorkspaceService)),a(2,(0,l.inject)(g.IDisposableRegistry)),a(3,(0,l.inject)(d.IApplicationEnvironment))],_)},66673:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserService=t.launch=void 0;const i=n(25891),o=n(54980);function s(e){o.env.openExternal(o.Uri.parse(e))}t.launch=s;let a=class{launch(e){s(e)}};t.BrowserService=a,t.BrowserService=a=r([(0,i.injectable)()],a)},9923:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.getGlobalStorage=t.PersistentStateFactory=t.GLOBAL_PERSISTENT_KEYS=t.WORKSPACE_PERSISTENT_KEYS_DEPRECATED=t.GLOBAL_PERSISTENT_KEYS_DEPRECATED=t.PersistentState=t.updateWorkspaceStateValue=t.getWorkspaceStateValue=t.initializePersistentStateForTriggers=void 0;const o=n(25891),s=n(61905),a=n(54661),c=n(552),l=n(86156),u=n(68989),p=n(98803),d=n(14601),h=n(36380);let f;const v=[];function g(e,t){if(!f)throw new Error("Workspace state not initialized");return void 0===t?f.get(e):f.get(e,t)}async function m(e,t){if(!f)throw new Error("Workspace state not initialized");try{v.push(e),await f.update(e,t);const n=g(e);JSON.stringify(n)!==JSON.stringify(t)&&(await f.update(e,void 0),await f.update(e,t),(0,s.traceError)("Error while updating workspace state for key:",e))}catch(t){(0,s.traceError)(`Error while updating workspace state for key [${e}]:`,t)}}t.initializePersistentStateForTriggers=function(e){f=e.workspaceState},t.getWorkspaceStateValue=g,t.updateWorkspaceStateValue=m;class y{constructor(e,t,n,r){this.storage=e,this.key=t,this.defaultValue=n,this.expiryDurationMs=r}get value(){if(this.expiryDurationMs){const e=this.storage.get(this.key,{data:this.defaultValue});return!e||!e.expiry||e.expiry<Date.now()?this.defaultValue:e.data}return this.storage.get(this.key,this.defaultValue)}async updateValue(e,t=!0){try{this.expiryDurationMs?await this.storage.update(this.key,{data:e,expiry:Date.now()+this.expiryDurationMs}):await this.storage.update(this.key,e),t&&JSON.stringify(this.value)!=JSON.stringify(e)&&(await this.updateValue(void 0,!1),await this.updateValue(e,!1))}catch(e){(0,s.traceError)("Error while updating storage for key:",this.key,e)}}}t.PersistentState=y,t.GLOBAL_PERSISTENT_KEYS_DEPRECATED="PYTHON_EXTENSION_GLOBAL_STORAGE_KEYS",t.WORKSPACE_PERSISTENT_KEYS_DEPRECATED="PYTHON_EXTENSION_WORKSPACE_STORAGE_KEYS",t.GLOBAL_PERSISTENT_KEYS="PYTHON_GLOBAL_STORAGE_KEYS";let b=class{constructor(e,n,r,i){this.globalState=e,this.workspaceState=n,this.cmdManager=r,this.context=i,this.supportedWorkspaceTypes={untrustedWorkspace:!1,virtualWorkspace:!0},this._globalKeysStorage=new y(this.globalState,t.GLOBAL_PERSISTENT_KEYS,[]),this._workspaceKeysStorage=new y(this.workspaceState,"PYTHON_WORKSPACE_STORAGE_KEYS",[])}async activate(){var e;null===(e=this.cmdManager)||void 0===e||e.registerCommand(c.Commands.ClearStorage,(async()=>{await async function(){void 0!==f&&await Promise.all(v.map((e=>m(e,void 0))))}(),await this.cleanAllPersistentStates(),(0,h.useEnvExtension)()&&await(0,h.clearCache)()}));const n=this.createGlobalPersistentState(t.GLOBAL_PERSISTENT_KEYS_DEPRECATED,[]),r=this.createWorkspacePersistentState(t.WORKSPACE_PERSISTENT_KEYS_DEPRECATED,[]);n.value.length>0&&n.updateValue([]).ignoreErrors(),r.value.length>0&&r.updateValue([]).ignoreErrors()}createGlobalPersistentState(e,t,n){return this.addKeyToStorage("global",e,t).ignoreErrors(),new y(this.globalState,e,t,n)}createWorkspacePersistentState(e,t,n){return this.addKeyToStorage("workspace",e,t).ignoreErrors(),new y(this.workspaceState,e,t,n)}async addKeyToStorage(e,t,n){const r="global"===e?this._globalKeysStorage:this._workspaceKeysStorage;r.value.find((e=>e.key===t))||await r.updateValue([{key:t,defaultValue:n},...r.value])}async cleanAllPersistentStates(){var e;const t=this.context?(0,d.clearCacheDirectory)(this.context).catch():Promise.resolve();await Promise.all(this._globalKeysStorage.value.map((async e=>{const t=this.createGlobalPersistentState(e.key);await t.updateValue(e.defaultValue)}))),await Promise.all(this._workspaceKeysStorage.value.map((async e=>{const t=this.createWorkspacePersistentState(e.key);await t.updateValue(e.defaultValue)}))),await this._globalKeysStorage.updateValue([]),await this._workspaceKeysStorage.updateValue([]),await t,null===(e=this.cmdManager)||void 0===e||e.executeCommand("workbench.action.reloadWindow").then(p.noop)}};t.PersistentStateFactory=b,r([(0,u.cache)(-1,!0)],b.prototype,"addKeyToStorage",null),t.PersistentStateFactory=b=r([(0,o.injectable)(),i(0,(0,o.inject)(l.IMemento)),i(0,(0,o.named)(l.GLOBAL_MEMENTO)),i(1,(0,o.inject)(l.IMemento)),i(1,(0,o.named)(l.WORKSPACE_MEMENTO)),i(2,(0,o.inject)(a.ICommandManager)),i(3,(0,o.inject)(l.IExtensionContext)),i(3,(0,o.optional)())],b),t.getGlobalStorage=function(e,n,r){const i=new y(e.globalState,t.GLOBAL_PERSISTENT_KEYS,[]);if(!i.value.find((e=>e.key===n))){const e=[{key:n,defaultValue:r},...i.value];i.updateValue(e).ignoreErrors()}const o=new y(e.globalState,n,r);return{get:()=>o.value,set:e=>o.updateValue(e)}}},73673:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.createReaderPipe=t.createWriterPipe=t.generateRandomPipeName=void 0;const s=o(n(35317)),a=o(n(76982)),c=o(n(21605)),l=o(n(69278)),u=o(n(70857)),p=o(n(16928)),d=o(n(77123)),h=n(54980),f=n(61905),v=n(48112),g=n(7855),m=n(98803),{XDG_RUNTIME_DIR:y}=process.env;async function b(e){return new Promise(((t,n)=>{const r=s.spawn("mkfifo",[e]);r.on("error",(e=>{n(e)})),r.on("exit",(e=>{0===e&&t()}))}))}t.generateRandomPipeName=function(e){const t=a.randomBytes(10).toString("hex");if(0===e.length&&(e="python-ext-rpc"),"win32"===process.platform)return`\\\\.\\pipe\\${e}-${t}`;let n;return n=y?p.join(y,`${e}-${t}`):p.join(u.tmpdir(),`${e}-${t}`),n},t.createWriterPipe=async function(e,t){if((0,v.isWindows)()){const n=(0,g.createDeferred)(),r=l.createServer((t=>{(0,f.traceVerbose)(`Pipe connected: ${e}`),r.close(),n.resolve(new d.SocketMessageWriter(t,"utf-8"))}));return r.on("error",n.reject),r.listen(e),t&&t.onCancellationRequested((()=>{r.listening&&r.close(),n.reject(new h.CancellationError)})),n.promise}await b(e);try{await c.chmod(e,438)}catch(e){}const n=c.createWriteStream(e,{encoding:"utf-8"});return new d.StreamMessageWriter(n,"utf-8")};class _{constructor(){this._onError=new d.Emitter,this._onClose=new d.Emitter,this._onPartialMessage=new d.Emitter,this._callback=()=>{},this._disposables=[],this._readers=[],this.onError=this._onError.event,this.onClose=this._onClose.event,this.onPartialMessage=this._onPartialMessage.event,this._disposables.push(this._onClose,this._onError,this._onPartialMessage)}listen(e){return this._callback=e,new h.Disposable((()=>this._callback=()=>{}))}add(e){this._readers.push(e),e.listen((e=>{this._callback(e)})),this._disposables.push(e),e.onClose((()=>{this.remove(e),0===this._readers.length&&this._onClose.fire()})),e.onError((t=>{this.remove(e),this._onError.fire(t)}))}remove(e){this._readers.find((t=>t===e))&&(this._readers=this._readers.filter((t=>t!==e)),e.dispose())}dispose(){this._readers.forEach((e=>e.dispose())),this._readers=[],this._disposables.forEach((e=>e.dispose())),this._disposables=[]}}t.createReaderPipe=async function(e,t){if((0,v.isWindows)()){const n=(0,g.createDeferred)(),r=new _;let i=0;const o=l.createServer((t=>{(0,f.traceVerbose)(`Pipe connected: ${e}`),i+=1,t.on("close",(()=>{i-=1,i<=0&&o.close()})),r.add(new d.SocketMessageReader(t,"utf-8"))}));return o.on("error",n.reject),o.listen(e),t&&t.onCancellationRequested((()=>{o.listening&&o.close(),n.reject(new h.CancellationError)})),n.resolve(r),n.promise}await b(e);try{await c.chmod(e,438)}catch(e){}const n=await c.open(e,c.constants.O_RDONLY|c.constants.O_NONBLOCK),r=new l.Socket({fd:n}),i=new d.SocketMessageReader(r,"utf-8");return r.on("close",(()=>{c.close(n).catch(m.noop),i.dispose()})),i}},35094:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.isNoPermissionsError=t.isNotDirError=t.isFileIsDirError=t.isFileExistsError=t.isFileNotFoundError=t.createDirNotEmptyError=void 0;const s=o(n(54980));var a;function c(e,t){const n=e.code;if(n)return n===t}!function(e){const t=s.FileSystemError.FileNotFound().name,n=s.FileSystemError.FileExists().name,r=s.FileSystemError.FileIsADirectory().name,i=s.FileSystemError.FileNotADirectory().name,o=s.FileSystemError.NoPermissions().name,a=[t,n,r,i,o];function c(e,t){if(a.includes(e.name))return e.name===t}e.isFileNotFound=function(e){return c(e,t)},e.isFileExists=function(e){return c(e,n)},e.isFileIsDir=function(e){return c(e,r)},e.isNotDir=function(e){return c(e,i)},e.isNoPermissions=function(e){return c(e,o)}}(a||(a={})),t.createDirNotEmptyError=function(e){const t=new Error(`directory "${e}" not empty`);return t.name="SystemError",t.code="ENOTEMPTY",t.path=e,t.syscall="rmdir",t},t.isFileNotFoundError=function(e){const t=e,n=a.isFileNotFound(t);return void 0!==n?n:c(t,"ENOENT")},t.isFileExistsError=function(e){const t=e,n=a.isFileExists(t);return void 0!==n?n:c(t,"EEXIST")},t.isFileIsDirError=function(e){const t=a.isFileIsDir(e);return void 0!==t?t:c(e,"EISDIR")},t.isNotDirError=function(e){const t=a.isNotDir(e);return void 0!==t?t:c(e,"ENOTDIR")},t.isNoPermissionsError=function(e){const t=e,n=a.isNoPermissions(t);return void 0!==n?n:c(t,"EACCES")}},89390:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.FileSystem=t.getHashString=t.FileSystemUtils=t.RawFileSystem=t.convertStat=void 0;const a=n(76982),c=s(n(21605)),l=s(n(53577)),u=n(25891),p=n(39023),d=s(n(54980)),h=n(61905);n(87295);const f=n(77476),v=n(35094),g=n(25943),m=n(58241),y=n(22408),b="utf8";function _(e,t){return{type:t,size:e.size,ctime:Math.round(e.ctimeMs),mtime:Math.round(e.mtimeMs)}}function E(e,t){return t===y.FileType.Unknown?e.filter((([e,t])=>t===y.FileType.Unknown||t===(y.FileType.SymbolicLink&y.FileType.Unknown))):e.filter((([e,n])=>(n&t)>0))}t.convertStat=_;class S{constructor(e,t,n){this.paths=e,this.vscfs=t,this.fsExtra=n}static withDefaults(e,t,n){return new S(e||g.FileSystemPaths.withDefaults(),t||d.workspace.fs,n||c)}async pathExists(e){return this.fsExtra.pathExists(e)}async stat(e){const t=d.Uri.file(e);return this.vscfs.stat(t)}async lstat(e){const t=await this.fsExtra.lstat(e);return _(t,(0,f.convertFileType)(t))}async chmod(e,t){return this.fsExtra.chmod(e,t)}async move(e,t){const n=d.Uri.file(e),r=d.Uri.file(t);await this.vscfs.stat(d.Uri.file(this.paths.dirname(t)));const i={overwrite:!1};try{await this.vscfs.rename(n,r,i)}catch(e){if(!(0,v.isFileExistsError)(e))throw e;if((await this.vscfs.stat(r)).type===y.FileType.Directory)throw e;i.overwrite=!0,await this.vscfs.rename(n,r,i)}}async readData(e){const t=d.Uri.file(e),n=await this.vscfs.readFile(t);return Buffer.from(n)}async readText(e){const t=d.Uri.file(e),n=await this.vscfs.readFile(t);return Buffer.from(n).toString(b)}async writeText(e,t){const n=d.Uri.file(e),r=Buffer.from(t);await this.vscfs.writeFile(n,r)}async appendText(e,t){return this.fsExtra.appendFile(e,t)}async copyFile(e,t){const n=d.Uri.file(e),r=d.Uri.file(t);await this.vscfs.stat(d.Uri.file(this.paths.dirname(t))),await this.vscfs.copy(n,r,{overwrite:!0})}async rmfile(e){const t=d.Uri.file(e);return this.vscfs.delete(t,{recursive:!1,useTrash:!1})}async rmdir(e){const t=d.Uri.file(e),n=await this.vscfs.readDirectory(t);if(n&&n.length>0)throw(0,v.createDirNotEmptyError)(e);return this.vscfs.delete(t,{recursive:!0,useTrash:!1})}async rmtree(e){const t=d.Uri.file(e);return await this.vscfs.stat(t),this.vscfs.delete(t,{recursive:!0,useTrash:!1})}async mkdirp(e){const t=d.Uri.file(e);await this.vscfs.createDirectory(t)}async listdir(e){const t=d.Uri.file(e);return(await this.vscfs.readDirectory(t)).map((([t,n])=>[this.paths.join(e,t),n]))}statSync(e){let t=this.fsExtra.lstatSync(e),n=y.FileType.Unknown;return t.isSymbolicLink()&&(n=y.FileType.SymbolicLink,t=this.fsExtra.statSync(e)),n|=(0,f.convertFileType)(t),_(t,n)}readTextSync(e){return this.fsExtra.readFileSync(e,b)}createReadStream(e){return this.fsExtra.createReadStream(e)}createWriteStream(e){return this.fsExtra.createWriteStream(e)}}t.RawFileSystem=S;class w{constructor(e,t,n,r,i,o){this.raw=e,this.pathUtils=t,this.paths=n,this.tmp=r,this.getHash=i,this.globFiles=o}static withDefaults(e,t,n,r,i){return t=t||g.FileSystemPathUtils.withDefaults(),new w(e||S.withDefaults(t.paths),t,t.paths,n||m.TemporaryFileSystem.withDefaults(),r||P,i||(0,p.promisify)(l.default))}async createDirectory(e){return this.raw.mkdirp(e)}async deleteDirectory(e){return this.raw.rmdir(e)}async deleteFile(e){return this.raw.rmfile(e)}async pathExists(e,t){if(void 0===t)return this.raw.pathExists(e);let n;try{n=await this.raw.stat(e)}catch(t){return(0,v.isFileNotFoundError)(t)||(0,h.traceError)(`stat() failed for "${e}"`,t),!1}return t===y.FileType.Unknown?n.type===y.FileType.Unknown:(n.type&t)===t}async fileExists(e){return this.pathExists(e,y.FileType.File)}async directoryExists(e){return this.pathExists(e,y.FileType.Directory)}async listdir(e){try{return await this.raw.listdir(e)}catch(t){if(!await this.pathExists(e))return[];throw t}}async getSubDirectories(e){return E(await this.listdir(e),y.FileType.Directory).map((([e,t])=>e))}async getFiles(e){return E(await this.listdir(e),y.FileType.File).map((([e,t])=>e))}async isDirReadonly(e){const t=`${e}${this.paths.sep}___vscpTest___`;try{await this.raw.stat(e),await this.raw.writeText(t,"")}catch(e){if((0,v.isNoPermissionsError)(e))return!0;throw e}return this.raw.rmfile(t).ignoreErrors(),!1}async getFileHash(e){const t=await this.raw.lstat(e),n=`${t.ctime}-${t.mtime}`;return this.getHash(n)}async search(e,t,n){let r;t&&(r={...r,cwd:t}),n&&(r={...r,dot:n});const i=await this.globFiles(e,r);return Array.isArray(i)?i:[]}fileExistsSync(e){try{this.raw.statSync(e)}catch(e){if((0,v.isFileNotFoundError)(e))return!1;throw e}return!0}}function P(e){const t=(0,a.createHash)("sha512");return t.update(e),t.digest("hex")}t.FileSystemUtils=w,t.getHashString=P;let T=class{constructor(){this.utils=w.withDefaults()}get directorySeparatorChar(){return this.utils.paths.sep}arePathsSame(e,t){return this.utils.pathUtils.arePathsSame(e,t)}getDisplayName(e){return this.utils.pathUtils.getDisplayName(e)}async stat(e){return this.utils.raw.stat(e)}async createDirectory(e){return this.utils.createDirectory(e)}async deleteDirectory(e){return this.utils.deleteDirectory(e)}async listdir(e){return this.utils.listdir(e)}async readFile(e){return this.utils.raw.readText(e)}async readData(e){return this.utils.raw.readData(e)}async writeFile(e,t){return this.utils.raw.writeText(e,t)}async appendFile(e,t){return this.utils.raw.appendText(e,t)}async copyFile(e,t){return this.utils.raw.copyFile(e,t)}async deleteFile(e){return this.utils.deleteFile(e)}async chmod(e,t){return this.utils.raw.chmod(e,t)}async move(e,t){await this.utils.raw.move(e,t)}readFileSync(e){return this.utils.raw.readTextSync(e)}createReadStream(e){return this.utils.raw.createReadStream(e)}createWriteStream(e){return this.utils.raw.createWriteStream(e)}async fileExists(e){return this.utils.fileExists(e)}pathExists(e){return this.utils.pathExists(e)}fileExistsSync(e){return this.utils.fileExistsSync(e)}async directoryExists(e){return this.utils.directoryExists(e)}async getSubDirectories(e){return this.utils.getSubDirectories(e)}async getFiles(e){return this.utils.getFiles(e)}async getFileHash(e){return this.utils.getFileHash(e)}async search(e,t,n){return this.utils.search(e,t,n)}async createTemporaryFile(e,t){return this.utils.tmp.createFile(e,t)}async isDirReadonly(e){return this.utils.isDirReadonly(e)}};t.FileSystem=T,t.FileSystem=T=o([(0,u.injectable)()],T)},29104:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.watchLocationForPattern=t.FileChangeType=void 0;const r=n(54980),i=n(61905),o=n(51271);var s;!function(e){e.Changed="changed",e.Created="created",e.Deleted="deleted"}(s||(t.FileChangeType=s={})),t.watchLocationForPattern=function(e,t,n){const a=new r.RelativePattern(e,t),c=new o.Disposables;(0,i.traceVerbose)(`Start watching: ${e} with pattern ${t} using VSCode API`);const l=r.workspace.createFileSystemWatcher(a);return c.push(l.onDidCreate((e=>n(s.Created,e.fsPath)))),c.push(l.onDidChange((e=>n(s.Changed,e.fsPath)))),c.push(l.onDidDelete((e=>n(s.Deleted,e.fsPath)))),c}},25943:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.emptyDir=t.readdir=t.appendFile=t.ensureSymlink=t.ensureFile=t.ensureDir=t.rename=t.mkdirp=t.mkdir=t.writeFile=t.readJson=t.readFile=t.remove=t.rmdir=t.createFile=t.pathExists=t.pathExistsSync=t.createWriteStream=t.createReadStream=t.chmod=t.lstat=t.stat=t.statSync=t.unlinkSync=t.symlinkSync=t.symlink=t.unlink=t.readlink=t.readdirSync=t.readJSONSync=t.readFileSync=t.existsSync=t.Dirent=t.ReadStream=t.WriteStream=t.Stats=t.copyFile=t.arePathsSame=t.isParentPath=t.normCase=t.normCasePath=t.FileSystemPathUtils=t.Executables=t.FileSystemPaths=void 0;const s=o(n(16928)),a=n(62982),c=o(n(21605)),l=o(n(70857)),u=n(48112);class p{constructor(e,t){this.isCaseInsensitive=e,this.raw=t}static withDefaults(e){return void 0===e&&(e=(0,u.getOSType)()===u.OSType.Windows),new p(e,s)}get sep(){return this.raw.sep}join(...e){return this.raw.join(...e)}dirname(e){return this.raw.dirname(e)}basename(e,t){return this.raw.basename(e,t)}normalize(e){return this.raw.normalize(e)}normCase(e){return e=this.raw.normalize(e),this.isCaseInsensitive?e.toUpperCase():e}}t.FileSystemPaths=p;class d{constructor(e,t){this.delimiter=e,this.osType=t}static withDefaults(){return new d(s.delimiter,(0,u.getOSType)())}get envVar(){return(0,a.getSearchPathEnvVarNames)(this.osType)[0]}}t.Executables=d;class h{constructor(e,t,n,r){this.home=e,this.paths=t,this.executables=n,this.raw=r}static withDefaults(e){return void 0===e&&(e=p.withDefaults()),new h(l.homedir(),e,d.withDefaults(),s)}arePathsSame(e,t){return(e=this.paths.normCase(e))===this.paths.normCase(t)}getDisplayName(e,t){return t&&g(e,t)?`.${this.paths.sep}${this.raw.relative(t,e)}`:g(e,this.home)?`~${this.paths.sep}${this.raw.relative(this.home,e)}`:e}}function f(e){return v(s.normalize(e))}function v(e){return(0,u.getOSType)()===u.OSType.Windows?e.toUpperCase():e}function g(e,t){return t.endsWith(s.sep)||(t+=s.sep),e.endsWith(s.sep)||(e+=s.sep),f(e).startsWith(f(t))}t.FileSystemPathUtils=h,t.normCasePath=f,t.normCase=v,t.isParentPath=g,t.arePathsSame=function(e,t){return f(e)===f(t)},t.copyFile=async function(e,t){const n=s.dirname(t);await c.pathExists(n)||await c.mkdirp(n),await c.copy(e,t,{overwrite:!0})};var m=n(21605);Object.defineProperty(t,"Stats",{enumerable:!0,get:function(){return m.Stats}}),Object.defineProperty(t,"WriteStream",{enumerable:!0,get:function(){return m.WriteStream}}),Object.defineProperty(t,"ReadStream",{enumerable:!0,get:function(){return m.ReadStream}}),Object.defineProperty(t,"Dirent",{enumerable:!0,get:function(){return m.Dirent}}),t.existsSync=function(e){return c.existsSync(e)},t.readFileSync=function(e,t){return"string"==typeof t?c.readFileSync(e,{encoding:t}):c.readFileSync(e,t)},t.readJSONSync=function(e){return c.readJSONSync(e)},t.readdirSync=function(e,t){return void 0===t||!1===t.withFileTypes?c.readdirSync(e):c.readdirSync(e,{...t,withFileTypes:!0})},t.readlink=function(e){return c.readlink(e)},t.unlink=function(e){return c.unlink(e)},t.symlink=function(e,t,n){return c.symlink(e,t,n)},t.symlinkSync=function(e,t,n){return c.symlinkSync(e,t,n)},t.unlinkSync=function(e){return c.unlinkSync(e)},t.statSync=function(e){return c.statSync(e)},t.stat=function(e){return c.stat(e)},t.lstat=function(e){return c.lstat(e)},t.chmod=function(e,t){return c.chmod(e,t)},t.createReadStream=function(e){return c.createReadStream(e)},t.createWriteStream=function(e){return c.createWriteStream(e)},t.pathExistsSync=function(e){return c.pathExistsSync(e)},t.pathExists=function(e){return c.pathExists(e)},t.createFile=function(e){return c.createFile(e)},t.rmdir=function(e,t){return c.rmdir(e,t)},t.remove=function(e){return c.remove(e)},t.readFile=function(e,t){return"string"==typeof t?c.readFile(e,{encoding:t}):c.readFile(e,t)},t.readJson=function(e){return c.readJson(e)},t.writeFile=function(e,t,n){return c.writeFile(e,t,n)},t.mkdir=function(e){return c.mkdir(e)},t.mkdirp=function(e){return c.mkdirp(e)},t.rename=function(e,t){return c.rename(e,t)},t.ensureDir=function(e){return c.ensureDir(e)},t.ensureFile=function(e){return c.ensureFile(e)},t.ensureSymlink=function(e,t,n){return c.ensureSymlink(e,t,n)},t.appendFile=function(e,t,n){return c.appendFile(e,t,n)},t.readdir=function(e,t){return void 0===t?c.readdir(e):c.readdir(e,t)},t.emptyDir=function(e){return c.emptyDir(e)}},58241:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.TemporaryFileSystem=void 0;const s=o(n(35083));class a{constructor(e){this.raw=e}static withDefaults(){return new a(s)}createFile(e,t){const n={postfix:e,mode:t};return new Promise(((e,t)=>{this.raw.file(n,((n,r,i,o)=>{if(n)return t(n);e({filePath:r,dispose:o})}))}))}}t.TemporaryFileSystem=a},14865:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PathUtils=void 0;const c=n(25891),l=s(n(16928)),u=n(86156),p=n(48112),d=n(25943),h=n(65900);let f=class{constructor(e){const t=e?p.OSType.Windows:p.OSType.Unknown;this.utils=new d.FileSystemPathUtils((0,h.untildify)("~"),d.FileSystemPaths.withDefaults(),new d.Executables(l.delimiter,t),l)}get home(){return this.utils.home}get delimiter(){return this.utils.executables.delimiter}get separator(){return this.utils.paths.sep}getPathVariableName(){return this.utils.executables.envVar}getDisplayName(e,t){return this.utils.getDisplayName(e,t)}basename(e,t){return this.utils.paths.basename(e,t)}};t.PathUtils=f,t.PathUtils=f=o([(0,c.injectable)(),a(0,(0,c.inject)(u.IsWindows))],f)},15095:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.PlatformService=void 0;const a=n(25891),c=s(n(70857)),l=n(99589),u=n(62982),p=n(48112),d=n(8727);let h=class{constructor(){this.osType=(0,p.getOSType)()}get pathVariableName(){return(0,u.getSearchPathEnvVarNames)(this.osType)[0]}get virtualEnvBinName(){return this.isWindows?"Scripts":"bin"}async getVersion(){if(this.version)return this.version;switch(this.osType){case p.OSType.Windows:case p.OSType.OSX:try{const e=(0,l.coerce)(c.release());if(e)return this.version=e,this.version;throw new Error("Unable to parse version")}catch(e){return(0,d.parseSemVerSafe)(c.release())}default:throw new Error("Not Supported")}}get isWindows(){return(0,p.isWindows)()}get isMac(){return this.osType===p.OSType.OSX}get isLinux(){return this.osType===p.OSType.Linux}get osRelease(){return c.release()}get is64bit(){return(0,p.getArchitecture)()===p.Architecture.x64}};t.PlatformService=h,t.PlatformService=h=o([(0,a.injectable)()],h)},95774:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.getArchitectureDisplayName=t.RegistryImplementation=void 0;const i=n(25891),o=n(61905),s=n(48112),a=n(22408);var c;!function(e){e.x86="x86",e.x64="x64"}(c||(c={}));let l=class{async getKeys(e,t,r){return async function(e){const t=n(62802);return new Promise((n=>{new t(e).keys(((e,t)=>{if(e||!Array.isArray(t))return n([]);n(t.filter((e=>"string"==typeof e.key)).map((e=>e.key)))}))}))}({hive:p(t),arch:u(r),key:e}).catch((e=>((0,o.traceError)("Fetching keys from windows registry resulted in an error",e),[])))}async getValue(e,t,r,i=""){return async function(e,t=""){const r=n(62802);return new Promise((n=>{new r(e).get(t,((e,t)=>{if(e||!t||"string"!=typeof t.value)return n(void 0);n(t.value)}))}))}({hive:p(t),arch:u(r),key:e},i).catch((e=>{(0,o.traceError)("Fetching key value from windows registry resulted in an error",e)}))}};function u(e){switch(e){case s.Architecture.x86:return c.x86;case s.Architecture.x64:return c.x64;default:return}}function p(e){const t=n(62802);switch(e){case a.RegistryHive.HKCU:return t.HKCU;case a.RegistryHive.HKLM:return t.HKLM;default:return}}t.RegistryImplementation=l,t.RegistryImplementation=l=r([(0,i.injectable)()],l),t.getArchitectureDisplayName=function(e){switch(e){case s.Architecture.x64:return"64-bit";case s.Architecture.x86:return"32-bit";default:return""}}},84021:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const r=n(89390),i=n(15095),o=n(95774),s=n(22408);t.registerTypes=function(e){e.addSingleton(s.IPlatformService,i.PlatformService),e.addSingleton(s.IFileSystem,r.FileSystem),e.addSingleton(s.IRegistry,o.RegistryImplementation)}},22408:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.IFileSystem=t.IFileSystemPathUtils=t.IPlatformService=t.IRegistry=t.RegistryHive=t.FileType=void 0;const s=o(n(54980));var a;t.FileType=s.FileType,function(e){e[e.HKCU=0]="HKCU",e[e.HKLM=1]="HKLM"}(a||(t.RegistryHive=a={})),t.IRegistry=Symbol("IRegistry"),t.IPlatformService=Symbol("IPlatformService"),t.IFileSystemPathUtils=Symbol("IFileSystemPathUtils"),t.IFileSystem=Symbol("IFileSystem")},4578:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_ENCODING=void 0,t.DEFAULT_ENCODING="utf8"},92545:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.CurrentProcess=void 0;const i=n(25891);let o=class{constructor(){this.on=(e,t)=>(process.on(e,t),process)}get env(){return process.env}get argv(){return process.argv}get stdout(){return process.stdout}get stdin(){return process.stdin}get execPath(){return process.execPath}};t.CurrentProcess=o,t.CurrentProcess=o=r([(0,i.injectable)()],o)},2467:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.decodeBuffer=void 0;const s=o(n(95249)),a=n(4578);t.decodeBuffer=function(e,t=a.DEFAULT_ENCODING){return t=s.encodingExists(t)?t:a.DEFAULT_ENCODING,s.decode(Buffer.concat(e),t)}},13931:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getModuleVersion=t.isModuleInstalled=t.isValid=t.getUserSitePackages=t.getSitePackages=t.getExecutable=t.execModule=t.execCode=void 0,t.execCode=function(e){return["-c",e]},t.execModule=function(e,t){return["-m",e,...t]},t.getExecutable=function(){return[["-c","import sys;print(sys.executable)"],function(e){return e.trim()}]},t.getSitePackages=function(){return[["-c","from distutils.sysconfig import get_python_lib; print(get_python_lib())"],function(e){return e.trim()}]},t.getUserSitePackages=function(){return[["site","--user-site"],function(e){return e.trim()}]},t.isValid=function(){return[["-c","print(1234)"],function(e){return e.startsWith("1234")}]},t.isModuleInstalled=function(e){return[["-c",`import ${e}`],function(e){return!0}]},t.getModuleVersion=function(e){return[["-c",`import ${e}; print(${e}.__version__)`],function(e){return e.trim()}]}},3931:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t._SCRIPTS_DIR=void 0;const s=o(n(16928)),a=n(552);t._SCRIPTS_DIR=s.join(a.EXTENSION_ROOT_DIR,"python_files")},8370:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.installedCheckScript=t.createCondaScript=t.createVenvScript=t.linterScript=t.tensorboardLauncher=t.execution_py_testlauncher=t.visualstudio_py_testlauncher=t.pytestlauncher=t.testlauncher=t.shell_exec=t.printEnvVariables=t.normalizeSelection=t.interpreterInfo=t.OUTPUT_MARKER_SCRIPT=t.testingTools=void 0;const s=o(n(16928)),a=n(3931),c=a._SCRIPTS_DIR;t.testingTools=o(n(58166)),t.OUTPUT_MARKER_SCRIPT=s.join(a._SCRIPTS_DIR,"get_output_via_markers.py"),t.interpreterInfo=function(){const e=[s.join(c,"interpreterInfo.py")];return[e,function(t){try{return JSON.parse(t)}catch(n){throw Error(`python ${e} returned bad JSON (${t}) (${n})`)}}]},t.normalizeSelection=function(){return[[s.join(c,"normalizeSelection.py")],function(e){return e}]},t.printEnvVariables=function(){return[[s.join(c,"printEnvVariables.py").fileToCommandArgumentForPythonExt()],function(e){return JSON.parse(e)}]},t.shell_exec=function(e,t,n){return[s.join(c,"shell_exec.py"),e.fileToCommandArgumentForPythonExt(),...n,t.fileToCommandArgumentForPythonExt()]},t.testlauncher=function(e){return[s.join(c,"testlauncher.py"),...e]},t.pytestlauncher=function(e){return[s.join(c,"vscode_pytest","run_pytest_script.py"),...e]},t.visualstudio_py_testlauncher=function(e){return[s.join(c,"visualstudio_py_testlauncher.py"),...e]},t.execution_py_testlauncher=function(e){return[s.join(c,"unittestadapter","execution.py"),...e]},t.tensorboardLauncher=function(e){return[s.join(c,"tensorboard_launcher.py"),...e]},t.linterScript=function(){return s.join(c,"linter.py")},t.createVenvScript=function(){return s.join(c,"create_venv.py")},t.createCondaScript=function(){return s.join(c,"create_conda.py")},t.installedCheckScript=function(){return s.join(c,"installed_check.py")}},58166:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.unittestDiscovery=t.runAdapter=void 0;const s=o(n(16928)),a=n(3931),c=s.join(a._SCRIPTS_DIR,"testing_tools");t.runAdapter=function(e){return[s.join(c,"run_adapter.py"),...e]},t.unittestDiscovery=function(e){return[s.join(c,"unittest_discovery.py"),...e]}},89711:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ProcessLogger=void 0;const o=n(25891),s=n(61905),a=n(54661),c=n(552),l=n(48112),u=n(2543),p=n(74399),d=n(18065);let h=class{constructor(e){this.workspaceService=e}logProcess(e,t,n){var r;if(!(0,c.isTestExecution)()&&c.isCI&&process.env.UITEST_DISABLE_PROCESS_LOGGING)return;let i=t?[e,...t].map((e=>e.trimQuotes().toCommandArgumentForPythonExt())).join(" "):e;const o=[`> ${this.getDisplayCommands(i)}`];if(null==n?void 0:n.cwd){const e="string"==typeof(null==n?void 0:n.cwd)?null==n?void 0:n.cwd:null===(r=null==n?void 0:n.cwd)||void 0===r?void 0:r.toString();o.push(`cwd: ${this.getDisplayCommands(e)}`)}"string"==typeof(null==n?void 0:n.shell)&&o.push(`shell: ${(0,d.identifyShellFromShellPath)(null==n?void 0:n.shell)}`),o.forEach((e=>{(0,s.traceLog)(e)}))}getDisplayCommands(e){this.workspaceService.workspaceFolders&&1===this.workspaceService.workspaceFolders.length&&(e=f(e,this.workspaceService.workspaceFolders[0].uri.fsPath,"."));const t=(0,l.getUserHomeDir)();return t&&(e=f(e,t,"~")),e}};function f(e,t,n){function r(e){let t=(0,u.escapeRegExp)(e);return(0,l.getOSType)()===l.OSType.Windows&&(t=(0,p.replaceAll)(t,"\\\\","(\\\\|/)")),new RegExp(t,"ig")}let i=e.split(" ");for(let e=0;e<i.length;e++){let o=r(t);const s=o.exec(i[e]);if(s){const a=s.index;a>0&&i[e][a-1].match(/[a-z]/)&&(o=r(t.substring(1))),i[e]=i[e].replace(o,n)}}return i.join(" ")}t.ProcessLogger=h,t.ProcessLogger=h=r([(0,o.injectable)(),i(0,(0,o.inject)(a.IWorkspaceService))],h)},69292:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProcessService=void 0;const r=n(24434),i=n(61905),o=n(43761),s=n(6856);class a extends r.EventEmitter{constructor(e){super(),this.env=e,this.processesToKill=new Set}static isAlive(e){try{return process.kill(e,0),!0}catch(e){return!1}}static kill(e){(0,o.killPid)(e)}dispose(){this.removeAllListeners(),this.processesToKill.forEach((e=>{try{e.dispose()}catch(e){}}))}execObservable(e,t,n={}){const r={...n,doNotLog:!0},i=(0,o.execObservable)(e,t,r,this.env,this.processesToKill);return this.emit("exec",e,t,n),i}exec(e,t,n={}){if(this.emit("exec",e,t,n),n.useWorker)return(0,s.workerPlainExec)(e,t,n);const r={...n,doNotLog:!0};return(0,o.plainExec)(e,t,r,this.env,this.processesToKill)}shellExec(e,t={}){if(this.emit("exec",e,void 0,t),t.useWorker)return(0,s.workerShellExec)(e,t);const n=new Set,r={...t,doNotLog:!0};return(0,o.shellExec)(e,r,this.env,n).finally((()=>{n.forEach((t=>{try{t.dispose()}catch(t){(0,i.traceError)(`Unable to kill process for ${e}`)}}))}))}}t.ProcessService=a},86074:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ProcessServiceFactory=void 0;const o=n(25891),s=n(86156),a=n(53694),c=n(69292),l=n(35026);let u=class{constructor(e,t,n){this.envVarsService=e,this.processLogger=t,this.disposableRegistry=n}async create(e,t){const n=(null==t?void 0:t.doNotUseCustomEnvs)?void 0:await this.envVarsService.getEnvironmentVariables(e),r=new c.ProcessService(n);return this.disposableRegistry.push(r),r.on("exec",this.processLogger.logProcess.bind(this.processLogger))}};t.ProcessServiceFactory=u,t.ProcessServiceFactory=u=r([(0,o.injectable)(),i(0,(0,o.inject)(a.IEnvironmentVariablesProvider)),i(1,(0,o.inject)(l.IProcessLogger)),i(2,(0,o.inject)(s.IDisposableRegistry))],u)},81556:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.createMicrosoftStoreEnv=t.createPixiEnv=t.createCondaEnv=t.createPythonEnv=void 0;const s=o(n(16928)),a=n(61905),c=n(95885),l=n(20467),u=n(86157),p=n(43803),d=n(552),h=o(n(13931)),f=new Map;class v{constructor(e,t){this.pythonPath=e,this.deps=t,this.cachedInterpreterInformation=null}getExecutionInfo(e=[],t){const n=this.deps.getPythonArgv(this.pythonPath);return(0,l.buildPythonExecInfo)(n,e,t)}getExecutionObservableInfo(e=[],t){const n=this.deps.getObservablePythonArgv(this.pythonPath);return(0,l.buildPythonExecInfo)(n,e,t)}async getInterpreterInformation(){return null===this.cachedInterpreterInformation&&(this.cachedInterpreterInformation=await this.getInterpreterInformationImpl()),this.cachedInterpreterInformation}async getExecutablePath(){if(await this.deps.isValidExecutable(this.pythonPath))return this.pythonPath;const e=f.get(this.pythonPath);if(void 0!==e&&!(0,d.isTestExecution)())return e;const t=this.getExecutionInfo(),n=(0,u.getExecutablePath)(t,this.deps.shellExec);return f.set(this.pythonPath,n),n}async getModuleVersion(e){const[t,n]=h.getModuleVersion(e),r=this.getExecutionInfo(t);let i;try{i=await this.deps.exec(r.command,r.args)}catch(t){return void(0,a.traceVerbose)(`Error when getting version of module ${e}`,t)}return n(i.stdout)}async isModuleInstalled(e){const[t]=h.isModuleInstalled(e),n=this.getExecutionInfo(t);try{await this.deps.exec(n.command,n.args)}catch(t){return(0,a.traceVerbose)(`Error when checking if module is installed ${e}`,t),!1}return!0}async getInterpreterInformationImpl(){try{const e=this.getExecutionInfo();return await(0,p.getInterpreterInfo)(e,this.deps.shellExec,{verbose:a.traceVerbose,error:a.traceError})}catch(e){(0,a.traceError)(`Failed to get interpreter information for '${this.pythonPath}'`,e)}}}function g(e,t,n,r,i){return{getPythonArgv:e=>(s.basename(e)===e&&(t=e.split(" ")),t||[e]),getObservablePythonArgv:e=>(s.basename(e)===e&&(n=e.split(" ")),n||[e]),isValidExecutable:e,exec:async(e,t)=>r(e,t,{throwOnStdErr:!0}),shellExec:i}}t.createPythonEnv=function(e,t,n){const r=g((async e=>n.pathExists(e)),void 0,void 0,((e,n,r)=>t.exec(e,n,r)),((e,n)=>t.shellExec(e,n)));return new v(e,r)},t.createCondaEnv=async function(e,t,n){const r=await c.Conda.getConda(),i=await(null==r?void 0:r.getRunPythonArgs({name:e.name,prefix:e.path}));if(!i)return;const o=g((async e=>n.pathExists(e)),i,i,((e,n,r)=>t.exec(e,n,r)),((e,n)=>t.shellExec(e,n))),s=await(null==r?void 0:r.getInterpreterPathForEnvironment({name:e.name,prefix:e.path}));return s?new v(s,o):void 0},t.createPixiEnv=async function(e,t,n){const r=e.pixi.getRunPythonArgs(e.manifestPath,e.envName),i=g((async e=>n.pathExists(e)),r,r,((e,n,r)=>t.exec(e,n,r)),((e,n)=>t.shellExec(e,n)));return new v(e.interpreterPath,i)},t.createMicrosoftStoreEnv=function(e,t){const n=g((async e=>!0),void 0,void 0,((e,n,r)=>t.exec(e,n,r)),((e,n)=>t.shellExec(e,n)));return new v(e,n)}},26637:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PythonExecutionFactory=void 0;const o=n(25891),s=n(67714),a=n(29413),c=n(9100),l=n(51535),u=n(53322),p=n(22408),d=n(86156),h=n(69292),f=n(81556),v=n(42536),g=n(35026),m=n(23167),y=n(7855),b=n(61905),_=n(8164);let E=class{constructor(e,t,n,r,i,o,s){this.serviceContainer=e,this.activationHelper=t,this.processServiceFactory=n,this.configService=r,this.pyenvs=i,this.autoSelection=o,this.interpreterPathExpHelper=s,this.disposables=this.serviceContainer.get(d.IDisposableRegistry),this.logger=this.serviceContainer.get(g.IProcessLogger),this.fileSystem=this.serviceContainer.get(p.IFileSystem)}async create(e){let{pythonPath:t}=e;if(!t||"python"===t){const n=this.serviceContainer.get(a.IActivatedEnvironmentLaunch);await n.selectIfLaunchedViaActivatedEnv();const r=this.interpreterPathExpHelper.get(e.resource);r&&"python"!==r||await Promise.race([this.autoSelection.autoSelectInterpreter(e.resource).then((()=>!0)),(0,y.sleep)(5e4).then((()=>!1))])||(0,b.traceError)("Autoselection timeout out, this is likely a issue with how consumer called execution factory API. Using default python to execute."),t=this.configService.getSettings(e.resource).pythonPath}const n=await this.processServiceFactory.create(e.resource);if(await(0,_.getPixi)()){const e=await this.createPixiExecutionService(t,n);if(e)return e}const r=await this.createCondaExecutionService(t,n);if(r)return r;const i=this.pyenvs.isMicrosoftStoreInterpreter.bind(this.pyenvs);return S(n,await i(t)?(0,f.createMicrosoftStoreEnv)(t,n):(0,f.createPythonEnv)(t,n,this.fileSystem))}async createActivatedEnvironment(e){const t=await this.activationHelper.getActivatedEnvironmentVariables(e.resource,e.interpreter,e.allowEnvironmentFetchExceptions),n=t&&Object.keys(t).length>0;if((0,l.sendTelemetryEvent)(u.EventName.PYTHON_INTERPRETER_ACTIVATION_ENVIRONMENT_VARIABLES,void 0,{hasEnvVars:n}),!n)return this.create({resource:e.resource,pythonPath:e.interpreter?e.interpreter.path:void 0});const r=e.interpreter?e.interpreter.path:this.configService.getSettings(e.resource).pythonPath,i=new h.ProcessService({...t});if(i.on("exec",this.logger.logProcess.bind(this.logger)),this.disposables.push(i),await(0,_.getPixi)()){const e=await this.createPixiExecutionService(r,i);if(e)return e}const o=await this.createCondaExecutionService(r,i);return o||S(i,(0,f.createPythonEnv)(r,i,this.fileSystem))}async createCondaExecutionService(e,t){const n=this.serviceContainer.get(a.IComponentAdapter),[r]=await Promise.all([n.getCondaEnvironment(e)]);if(!r)return;const i=await(0,f.createCondaEnv)(r,t,this.fileSystem);return i?S(t,i):void 0}async createPixiExecutionService(e,t){const n=await(0,_.getPixiEnvironmentFromInterpreter)(e);if(!n)return;const r=await(0,f.createPixiEnv)(n,t,this.fileSystem);return r?S(t,r):void 0}};function S(e,t){const n=(0,v.createPythonProcessService)(e,t);return{getInterpreterInformation:()=>t.getInterpreterInformation(),getExecutablePath:()=>t.getExecutablePath(),isModuleInstalled:e=>t.isModuleInstalled(e),getModuleVersion:e=>t.getModuleVersion(e),getExecutionInfo:e=>t.getExecutionInfo(e),execObservable:(e,t)=>n.execObservable(e,t),execModuleObservable:(e,t,r)=>n.execModuleObservable(e,t,r),exec:(e,t)=>n.exec(e,t),execModule:(e,t,r)=>n.execModule(e,t,r),execForLinter:(e,t,r)=>n.execForLinter(e,t,r)}}t.PythonExecutionFactory=E,t.PythonExecutionFactory=E=r([(0,o.injectable)(),i(0,(0,o.inject)(c.IServiceContainer)),i(1,(0,o.inject)(s.IEnvironmentActivationService)),i(2,(0,o.inject)(g.IProcessServiceFactory)),i(3,(0,o.inject)(d.IConfigurationService)),i(4,(0,o.inject)(a.IComponentAdapter)),i(5,(0,o.inject)(m.IInterpreterAutoSelectionService)),i(6,(0,o.inject)(d.IInterpreterPathService))],E)},42536:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.createPythonProcessService=void 0;const s=n(76366),a=n(45612),c=o(n(13931));class l{constructor(e){this.deps=e}execObservable(e,t){const n={...t},r=this.deps.getExecutionObservableInfo(e);return this.deps.execObservable(r.command,r.args,n)}execModuleObservable(e,t,n){const r=c.execModule(e,t),i={...n},o=this.deps.getExecutionObservableInfo(r);return this.deps.execObservable(o.command,o.args,i)}async exec(e,t){const n={...t},r=this.deps.getExecutionInfo(e);return this.deps.exec(r.command,r.args,n)}async execModule(e,t,n){const r=c.execModule(e,t),i={...n},o=this.deps.getExecutionInfo(r),l=await this.deps.exec(o.command,o.args,i);if(e&&s.ErrorUtils.outputHasModuleNotInstalledError(e,l.stderr)&&!await this.deps.isModuleInstalled(e))throw new a.ModuleNotInstalledError(e);return l}async execForLinter(e,t,n){const r={...n},i=this.deps.getExecutionInfo(t),o=await this.deps.exec(i.command,i.args,r);if(e&&s.ErrorUtils.outputHasModuleNotInstalledError(e,o.stderr)&&!await this.deps.isModuleInstalled(e))throw new a.ModuleNotInstalledError(e);return o}}t.createPythonProcessService=function(e,t){return new l({isModuleInstalled:async e=>t.isModuleInstalled(e),getExecutionInfo:e=>t.getExecutionInfo(e),getExecutionObservableInfo:e=>t.getExecutionObservableInfo(e),exec:async(t,n,r)=>e.exec(t,n,r),execObservable:(t,n,r)=>e.execObservable(t,n,r)})}},70964:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PythonToolExecutionService=void 0;const o=n(25891),s=n(9100),a=n(35026);let c=class{constructor(e){this.serviceContainer=e}async execObservable(e,t,n){if(t.env)throw new Error("Environment variables are not supported");return e.moduleName&&e.moduleName.length>0?(await this.serviceContainer.get(a.IPythonExecutionFactory).create({resource:n})).execModuleObservable(e.moduleName,e.args,t):(await this.serviceContainer.get(a.IProcessServiceFactory).create(n)).execObservable(e.execPath,e.args,{...t})}async exec(e,t,n){if(t.env)throw new Error("Environment variables are not supported");return e.moduleName&&e.moduleName.length>0?(await this.serviceContainer.get(a.IPythonExecutionFactory).create({resource:n})).execModule(e.moduleName,e.args,t):(await this.serviceContainer.get(a.IProcessServiceFactory).create(n)).exec(e.execPath,e.args,{...t})}async execForLinter(e,t,n){if(t.env)throw new Error("Environment variables are not supported");const r=await this.serviceContainer.get(a.IPythonExecutionFactory).create({resource:n});return e.execPath?r.exec(e.args,t):r.execForLinter(e.moduleName,e.args,t)}};t.PythonToolExecutionService=c,t.PythonToolExecutionService=c=r([(0,o.injectable)(),i(0,(0,o.inject)(s.IServiceContainer))],c)},43761:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.killPid=t.execObservable=t.plainExec=t.shellExec=void 0;const r=n(35317),i=n(29707),o=n(7855),s=n(4578),a=n(35026),c=n(98803),l=n(2467),u=n(61905),p=n(68397),d=n(89711),h=/your [0-9]+x[0-9]+ screen size is bogus\. expect trouble/;function f(e,t){const n={...e},r=n;if(r){r.encoding="string"==typeof r.encoding&&r.encoding.length>0?r.encoding:s.DEFAULT_ENCODING;const{encoding:e}=r;delete r.encoding,r.encoding=e}if(n.env&&0!==Object.keys(n.env).length)n.env={...n.env};else{const e=t||process.env;n.env={...e}}return r&&r.extraVariables&&(n.env={...n.env,...r.extraVariables}),n.env.PYTHONUNBUFFERED="1",n.env.PYTHONIOENCODING||(n.env.PYTHONIOENCODING="utf-8"),n}function v(e){const t=e.match(/>>>PYTHON-EXEC-OUTPUT([\s\S]*)<<<PYTHON-EXEC-OUTPUT/),n=null!==t&&t.length>=2?t[1].trim():void 0;return void 0!==n?n:e}function g(e){try{"win32"===process.platform?(0,r.execSync)(`taskkill /pid ${e} /T /F`):process.kill(e)}catch(t){(0,u.traceVerbose)("Unable to kill process with pid",e)}}t.shellExec=function(e,t={},n,i){const o=f(t,n);return t.doNotLog||new d.ProcessLogger(new p.WorkspaceService).logProcess(e,void 0,o),new Promise(((t,n)=>{let s=!1;const a=(0,r.exec)(e,o,((e,r,i)=>{e&&null!==e?n(e):o.throwOnStdErr&&i&&i.length?n(new Error(i)):(r=v(r),t({stderr:i&&i.length>0?i:void 0,stdout:r}))}));a.once("close",(()=>{s=!0})),a.once("exit",(()=>{s=!0})),a.once("error",(()=>{s=!0}));const c={dispose:()=>{s||a.killed||(a.pid?g(a.pid):a.kill())}};i&&i.add(c)}))},t.plainExec=function(e,t,n={},i,s){var u,m;const y=f(n,i),b=y.encoding?y.encoding:"utf8";n.doNotLog||new d.ProcessLogger(new p.WorkspaceService).logProcess(e,t,n);const _=(0,r.spawn)(e,t,y);null===(u=_.stdout)||void 0===u||u.on("error",c.noop),null===(m=_.stderr)||void 0===m||m.on("error",c.noop);const E=(0,o.createDeferred)(),S={dispose:()=>{_.killed||E.completed||(_.pid?g(_.pid):_.kill())}};null==s||s.add(S);const w=[],P=(e,t,n)=>{null==e||e.on(t,n),w.push({dispose:()=>null==e?void 0:e.removeListener(t,n)})};n.token&&w.push(n.token.onCancellationRequested(S.dispose));const T=[];P(_.stdout,"data",(e=>{var t;T.push(e),null===(t=n.outputChannel)||void 0===t||t.append(e.toString())}));const C=[];return P(_.stderr,"data",(e=>{var t;n.mergeStdOutErr?(T.push(e),C.push(e)):C.push(e),null===(t=n.outputChannel)||void 0===t||t.append(e.toString())})),_.once("close",(()=>{if(E.completed)return;const e=0===C.length?void 0:(0,l.decodeBuffer)(C,b);if(e&&e.length>0&&n.throwOnStdErr&&(!h.test(e)||0!==e.replace(h,"").trim().length))E.reject(new a.StdErrError(e));else{let t=(0,l.decodeBuffer)(T,b);t=v(t),E.resolve({stdout:t,stderr:e})}w.forEach((e=>e.dispose())),S.dispose()})),_.once("error",(e=>{E.reject(e),w.forEach((e=>e.dispose())),S.dispose()})),E.promise},t.execObservable=function(e,t,n={},o,s){const c=f(n,o),u=c.encoding?c.encoding:"utf8";n.doNotLog||new d.ProcessLogger(new p.WorkspaceService).logProcess(e,t,n);const h=(0,r.spawn)(e,t,c);let v=!1;const m={dispose(){h&&h.pid&&!h.killed&&!v&&g(h.pid),h&&h.unref()}};null==s||s.add(m);const y=new i.Observable((e=>{var t,r;const i=[],o=(e,t,n)=>{null==e||e.on(t,n),i.push({dispose:()=>null==e?void 0:e.removeListener(t,n)})};n.token&&i.push(n.token.onCancellationRequested((()=>{v||h.killed||(h.pid?g(h.pid):h.kill(),v=!0)})));const s=(t,r)=>{let i=(0,l.decodeBuffer)([r],u);"stderr"===t&&n.throwOnStdErr?e.error(new a.StdErrError(i)):(i=function(e){return(e=e.replace(">>>PYTHON-EXEC-OUTPUT\r\n","").replace(">>>PYTHON-EXEC-OUTPUT\n","")).replace("<<<PYTHON-EXEC-OUTPUT\r\n","").replace("<<<PYTHON-EXEC-OUTPUT\n","")}(i),e.next({source:t,out:i}))};o(h.stdout,"data",(e=>s("stdout",e))),o(h.stderr,"data",(e=>s("stderr",e))),h.once("close",(()=>{v=!0,e.complete(),i.forEach((e=>e.dispose()))})),h.once("exit",(()=>{v=!0,e.complete(),i.forEach((e=>e.dispose()))})),h.once("error",(t=>{v=!0,e.error(t),i.forEach((e=>e.dispose()))})),void 0!==n.stdinStr&&(null===(t=h.stdin)||void 0===t||t.write(n.stdinStr),null===(r=h.stdin)||void 0===r||r.end())}));return{proc:h,out:y,dispose:m.dispose}},t.killPid=g},42219:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const r=n(86074),i=n(26637),o=n(70964),s=n(35026);t.registerTypes=function(e){e.addSingleton(s.IProcessServiceFactory,r.ProcessServiceFactory),e.addSingleton(s.IPythonExecutionFactory,i.PythonExecutionFactory),e.addSingleton(s.IPythonToolExecutionService,o.PythonToolExecutionService)}},35026:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IPythonToolExecutionService=t.StdErrError=t.IPythonExecutionService=t.IPythonExecutionFactory=t.IProcessServiceFactory=t.IProcessLogger=void 0,t.IProcessLogger=Symbol("IProcessLogger"),t.IProcessServiceFactory=Symbol("IProcessServiceFactory"),t.IPythonExecutionFactory=Symbol("IPythonExecutionFactory"),t.IPythonExecutionService=Symbol("IPythonExecutionService");class n extends Error{constructor(e){super(e)}}t.StdErrError=n,t.IPythonToolExecutionService=Symbol("IPythonToolRunnerService")},3989:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.executeWorkerFile=void 0;const s=n(28167),a=o(n(16928)),c=n(61905);t.executeWorkerFile=async function(e,t){if(!e.endsWith(".worker.js"))throw new Error('Worker file must end with ".worker.js" for webpack to bundle webworkers');return new Promise(((n,r)=>{const i=new s.Worker(e,{workerData:t}),o=i.threadId;(0,c.traceVerbose)(`Worker id ${o} for file ${a.basename(e)} with data ${JSON.stringify(t)}`),i.on("message",(e=>{e.err&&r(e.err),n(e.res)})),i.on("error",(t=>{(0,c.traceError)(`Error in worker ${e}`,t),r(t)})),i.on("exit",(t=>{(0,c.traceVerbose)(`Worker id ${o} exited with code ${t}`),0!==t&&r(new Error(`Worker ${e} stopped with exit code ${t}`))}))}))}},6856:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.workerPlainExec=t.workerShellExec=void 0;const s=o(n(16928)),a=n(3989);t.workerShellExec=function(e,t){return(0,a.executeWorkerFile)(s.join(__dirname,"shellExec.worker.js"),{command:e,options:t})},t.workerPlainExec=function(e,t,n={}){return(0,a.executeWorkerFile)(s.join(__dirname,"plainExec.worker.js"),{file:e,args:t,options:n})}},96777:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const r=n(11925),i=n(86156),o=n(46003),s=n(95440),a=n(81274),c=n(92544),l=n(17913),u=n(17850),p=n(99382),d=n(36418),h=n(19329),f=n(40205),v=n(49044),g=n(51536),m=n(90256),y=n(44137),b=n(22099),_=n(54661),E=n(68397),S=n(84599),w=n(21590),P=n(169),T=n(9737),C=n(18761),x=n(66673),I=n(9923),O=n(14865),R=n(92545),D=n(89711),k=n(35026),A=n(6122),N=n(57242),j=n(93934),M=n(29007),L=n(44233),F=n(16744),V=n(27977),U=n(1021),H=n(90344),W=n(90688),q=n(41777),B=n(81367),$=n(556),K=n(50209),G=n(23935),z=n(70670),Y=n(41140),X=n(55597),J=n(54083),Q=n(15555),Z=n(48112),ee=n(62829);t.registerTypes=function(e){e.addSingletonInstance(i.IsWindows,(0,Z.isWindows)()),e.addSingleton(_.IActiveResourceService,c.ActiveResourceService),e.addSingleton(i.IInterpreterPathService,C.InterpreterPathService),e.addSingleton(i.IExtensions,m.Extensions),e.addSingleton(i.IRandom,Y.Random),e.addSingleton(i.IPersistentStateFactory,I.PersistentStateFactory),e.addBinding(i.IPersistentStateFactory,r.IExtensionSingleActivationService),e.addSingleton(G.ITerminalServiceFactory,H.TerminalServiceFactory),e.addSingleton(i.IPathUtils,O.PathUtils),e.addSingleton(_.IApplicationShell,u.ApplicationShell),e.addSingleton(_.IClipboard,p.ClipboardService),e.addSingleton(i.ICurrentProcess,R.CurrentProcess),e.addSingleton(i.IInstaller,T.ProductInstaller),e.addSingleton(_.IJupyterExtensionDependencyManager,o.JupyterExtensionDependencyManager),e.addSingleton(r.IExtensionSingleActivationService,Q.RequireJupyterPrompt),e.addSingleton(r.IExtensionSingleActivationService,J.CreatePythonFileCommandHandler),e.addSingleton(_.ICommandManager,d.CommandManager),e.addSingleton(_.IContextKeyManager,X.ContextKeyManager),e.addSingleton(i.IConfigurationService,S.ConfigurationService),e.addSingleton(_.IWorkspaceService,E.WorkspaceService),e.addSingleton(k.IProcessLogger,D.ProcessLogger),e.addSingleton(_.IDocumentManager,g.DocumentManager),e.addSingleton(_.ITerminalManager,b.TerminalManager),e.addSingleton(_.IDebugService,v.DebugService),e.addSingleton(_.IApplicationEnvironment,l.ApplicationEnvironment),e.addSingleton(_.ILanguageService,y.LanguageService),e.addSingleton(i.IBrowserService,x.BrowserService),e.addSingleton(G.ITerminalActivator,A.TerminalActivator),e.addSingleton(G.ITerminalActivationHandler,N.PowershellTerminalActivationFailedHandler),e.addSingleton(i.IExperimentService,P.ExperimentService),e.addSingleton(G.ITerminalHelper,W.TerminalHelper),e.addSingleton(G.ITerminalActivationCommandProvider,j.Bash,G.TerminalActivationProviders.bashCShellFish),e.addSingleton(G.ITerminalActivationCommandProvider,L.CommandPromptAndPowerShell,G.TerminalActivationProviders.commandPromptAndPowerShell),e.addSingleton(G.ITerminalActivationCommandProvider,M.Nushell,G.TerminalActivationProviders.nushell),e.addSingleton(G.ITerminalActivationCommandProvider,U.PyEnvActivationCommandProvider,G.TerminalActivationProviders.pyenv),e.addSingleton(G.ITerminalActivationCommandProvider,F.CondaActivationCommandProvider,G.TerminalActivationProviders.conda),e.addSingleton(G.ITerminalActivationCommandProvider,ee.PixiActivationCommandProvider,G.TerminalActivationProviders.pixi),e.addSingleton(G.ITerminalActivationCommandProvider,V.PipEnvActivationCommandProvider,G.TerminalActivationProviders.pipenv),e.addSingleton(i.IToolExecutionPath,w.PipEnvExecutionPath,i.ToolExecutionPath.pipenv),e.addSingleton(z.IMultiStepInputFactory,z.MultiStepInputFactory),e.addSingleton(a.IImportTracker,s.ImportTracker),e.addBinding(a.IImportTracker,r.IExtensionSingleActivationService),e.addSingleton(G.IShellDetector,B.TerminalNameShellDetector),e.addSingleton(G.IShellDetector,q.SettingsShellDetector),e.addSingleton(G.IShellDetector,$.UserEnvironmentShellDetector),e.addSingleton(G.IShellDetector,K.VSCEnvironmentShellDetector),e.addSingleton(r.IExtensionSingleActivationService,h.ReloadVSCodeCommandHandler),e.addSingleton(r.IExtensionSingleActivationService,f.ReportIssueCommandHandler)}},74399:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.replaceAll=t.splitLines=void 0,t.splitLines=function(e,t={removeEmptyEntries:!0,trim:!0}){let n=e.split(/\r?\n/g);return(null==t?void 0:t.trim)&&(n=n.map((e=>e.trim()))),(null==t?void 0:t.removeEmptyEntries)&&(n=n.filter((e=>e.length>0))),n},t.replaceAll=function(e,t,n){return e?e.replace(new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),n):e}},81777:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseTerminalActivator=void 0;const r=n(61905),i=n(7855);t.BaseTerminalActivator=class{constructor(e){this.helper=e,this.activatedTerminals=new Map}async activateEnvironmentInTerminal(e,t){if(this.activatedTerminals.has(e))return this.activatedTerminals.get(e);const n=(0,i.createDeferred)();this.activatedTerminals.set(e,n.promise);const o=this.helper.identifyTerminalShell(e),s=await this.helper.getEnvironmentActivationCommands(o,null==t?void 0:t.resource,null==t?void 0:t.interpreter);let a=!1;if(s)for(const n of s)e.show(null==t?void 0:t.preserveFocus),(0,r.traceVerbose)(`Command sent to terminal: ${n}`),e.sendText(n),await this.waitForCommandToProcess(o),a=!0;return n.resolve(a),a}async waitForCommandToProcess(e){await(0,i.sleep)(500)}}},6122:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalActivator=void 0;const o=n(25891),s=n(86156),a=n(23935),c=n(81777),l=n(8103),u=n(36380);let p=class{constructor(e,t,n,r){this.helper=e,this.handlers=t,this.configurationService=n,this.experimentService=r,this.pendingActivations=new WeakMap,this.initialize()}async activateEnvironmentInTerminal(e,t){let n=this.pendingActivations.get(e);return n||(n=this.activateEnvironmentInTerminalImpl(e,t),this.pendingActivations.set(e,n),n)}async activateEnvironmentInTerminalImpl(e,t){if(!this.configurationService.getSettings(null==t?void 0:t.resource).terminal.activateEnvironment||(0,l.inTerminalEnvVarExperiment)(this.experimentService)||(null==t?void 0:t.hideFromUser)||(0,u.useEnvExtension)())return!1;const n=await this.baseActivator.activateEnvironmentInTerminal(e,t);return this.handlers.forEach((r=>r.handleActivation(e,null==t?void 0:t.resource,!0===(null==t?void 0:t.preserveFocus),n).ignoreErrors())),n}initialize(){this.baseActivator=new c.BaseTerminalActivator(this.helper)}};t.TerminalActivator=p,t.TerminalActivator=p=r([(0,o.injectable)(),i(0,(0,o.inject)(a.ITerminalHelper)),i(1,(0,o.multiInject)(a.ITerminalActivationHandler)),i(2,(0,o.inject)(s.IConfigurationService)),i(3,(0,o.inject)(s.IExperimentService))],p)},57242:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PowershellTerminalActivationFailedHandler=void 0;const o=n(25891),s=n(34470),a=n(79576),c=n(22408),l=n(23935);let u=class{constructor(e,t,n){this.helper=e,this.platformService=t,this.diagnosticService=n}async handleActivation(e,t,n,r){if(r||!this.platformService.isWindows)return;const i=this.helper.identifyTerminalShell(e);if(i!==l.TerminalShellType.powershell&&i!==l.TerminalShellType.powershellCore)return;const o=await this.helper.getEnvironmentActivationCommands(l.TerminalShellType.commandPrompt,t);o&&Array.isArray(o)&&0!==o.length&&this.diagnosticService.handle([new s.PowershellActivationNotAvailableDiagnostic(t)]).ignoreErrors()}};t.PowershellTerminalActivationFailedHandler=u,t.PowershellTerminalActivationFailedHandler=u=r([(0,o.injectable)(),i(0,(0,o.inject)(l.ITerminalHelper)),i(1,(0,o.inject)(c.IPlatformService)),i(2,(0,o.inject)(a.IDiagnosticsService)),i(2,(0,o.named)(s.PowerShellActivationHackDiagnosticsServiceId))],u)},32077:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.useCommandPromptAsDefaultShell=t.getCommandPromptLocation=void 0;const s=o(n(16928)),a=n(54980);function c(e){const t=e.env.hasOwnProperty("PROCESSOR_ARCHITEW6432"),n=s.join(e.env.windir,t?"Sysnative":"System32");return s.join(n,"cmd.exe")}t.getCommandPromptLocation=c,t.useCommandPromptAsDefaultShell=async function(e,t){const n=c(e);await t.updateSectionSetting("terminal","integrated.shell.windows",n,void 0,a.ConfigurationTarget.Global)}},26948:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.VenvBaseActivationCommandProvider=void 0;const c=n(25891),l=s(n(16928)),u=n(29413),p=n(9100),d=n(22408);let h=class{constructor(e){this.serviceContainer=e}async getActivationCommands(e,t){const n=await this.serviceContainer.get(u.IInterpreterService).getActiveInterpreter(e);if(n)return this.getActivationCommandsForInterpreter(n.path,t)}};h=o([(0,c.injectable)(),a(0,(0,c.inject)(p.IServiceContainer))],h),t.VenvBaseActivationCommandProvider=class extends h{isShellSupported(e){return void 0!==this.scripts[e]}async findScriptFile(e,t){const n=this.serviceContainer.get(d.IFileSystem),r=this.scripts[t];if(r)return function(e,t,r){const i="string"==typeof e?[e]:e;return async e=>{const o=t(e);for(const e of i){const t=r(o,e);if(await(s=t,n.fileExists(s)))return t}var s}}(r,l.dirname,l.join)(e)}}},93934:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.Bash=t.getAllScripts=void 0;const i=n(25891);n(87295);const o=n(23935),s=n(26948),a={[o.TerminalShellType.wsl]:["activate.sh","activate"],[o.TerminalShellType.ksh]:["activate.sh","activate"],[o.TerminalShellType.zsh]:["activate.sh","activate"],[o.TerminalShellType.gitbash]:["activate.sh","activate"],[o.TerminalShellType.bash]:["activate.sh","activate"],[o.TerminalShellType.tcshell]:["activate.csh"],[o.TerminalShellType.cshell]:["activate.csh"],[o.TerminalShellType.fish]:["activate.fish"]};t.getAllScripts=function(){const e=[];for(const t of Object.values(a))for(const n of t)e.includes(n)||e.push(n);return e};let c=class extends s.VenvBaseActivationCommandProvider{constructor(){super(...arguments),this.scripts=a}async getActivationCommandsForInterpreter(e,t){const n=await this.findScriptFile(e,t);if(n)return[`source ${n.fileToCommandArgumentForPythonExt()}`]}};t.Bash=c,t.Bash=c=r([(0,i.injectable)()],c)},44233:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CommandPromptAndPowerShell=t.getAllScripts=void 0;const c=n(25891),l=s(n(16928)),u=n(9100);n(87295);const p=n(23935),d=n(26948),h={[p.TerminalShellType.commandPrompt]:["activate.bat","Activate.ps1"],[p.TerminalShellType.powershell]:["Activate.ps1","activate.bat"],[p.TerminalShellType.powershellCore]:["Activate.ps1","activate.bat"]};t.getAllScripts=function(e){const t=[];for(const n of Object.values(h))for(const r of n)t.includes(r)||t.push(r,e("Scripts",r),e("scripts",r));return t};let f=class extends d.VenvBaseActivationCommandProvider{constructor(e){super(e),this.scripts={};for(const[e,t]of Object.entries(h)){const n=e,r=[];for(const e of t)r.push(e,l.join("Scripts",e),l.join("scripts",e));this.scripts[n]=r}}async getActivationCommandsForInterpreter(e,t){const n=await this.findScriptFile(e,t);if(n)return t===p.TerminalShellType.commandPrompt&&n.endsWith("activate.bat")?[n.fileToCommandArgumentForPythonExt()]:t!==p.TerminalShellType.powershell&&t!==p.TerminalShellType.powershellCore||!n.endsWith("Activate.ps1")?t===p.TerminalShellType.commandPrompt&&n.endsWith("Activate.ps1")?[]:void 0:[`& ${n.fileToCommandArgumentForPythonExt()}`]}};t.CommandPromptAndPowerShell=f,t.CommandPromptAndPowerShell=f=o([(0,c.injectable)(),a(0,(0,c.inject)(u.IServiceContainer))],f)},16744:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t._getPowershellCommands=t.CondaActivationCommandProvider=void 0,n(87295);const c=n(25891),l=s(n(16928)),u=n(29413),p=n(22408),d=n(86156),h=n(23935);let f=class{constructor(e,t,n,r){this.condaService=e,this.platform=t,this.configService=n,this.pyenvs=r}isShellSupported(){return!0}getActivationCommands(e,t){const{pythonPath:n}=this.configService.getSettings(e);return this.getActivationCommandsForInterpreter(n,t)}async getActivationCommandsForInterpreter(e,t){const n=await this.pyenvs.getCondaEnvironment(e);if(!n)return;const r=n.name.length>0?n.name:n.path,i=await this.condaService.getInterpreterPathForEnvironment(n),o=await this.condaService.getActivationScriptFromInterpreter(i,n.name);if(null==o?void 0:o.path){if(this.platform.isWindows&&t!==h.TerminalShellType.bash&&t!==h.TerminalShellType.gitbash)return[o.path,`conda activate ${r.toCommandArgumentForPythonExt()}`];const e=await this.condaService.getCondaInfo();return"global"!==o.type||void 0===(null==e?void 0:e.conda_shlvl)||-1===e.conda_shlvl?"activate"===o.path?[`source ${o.path}`,`conda activate ${r.toCommandArgumentForPythonExt()}`]:[`source ${o.path} ${r.toCommandArgumentForPythonExt()}`]:[`conda activate ${r.toCommandArgumentForPythonExt()}`]}switch(t){case h.TerminalShellType.powershell:case h.TerminalShellType.powershellCore:return v(r);case h.TerminalShellType.fish:return async function(e,t){return[`${t.fileToCommandArgumentForPythonExt()} activate ${e.toCommandArgumentForPythonExt()}`]}(r,await this.condaService.getCondaFile());default:return this.platform.isWindows?this.getWindowsCommands(r):async function(e,t){const n=l.dirname(t);return[`source ${l.join(n,"activate").fileToCommandArgumentForPythonExt()} ${e.toCommandArgumentForPythonExt()}`]}(r,await this.condaService.getCondaFile())}}async getWindowsActivateCommand(){let e="activate";const t=await this.condaService.getCondaFile();if(t&&l.basename(t)!==t){const n=l.dirname(t);e=l.join(n,e),e=e.toCommandArgumentForPythonExt()}return e}async getWindowsCommands(e){return[`${await this.getWindowsActivateCommand()} ${e.toCommandArgumentForPythonExt()}`]}};async function v(e){return[`conda activate ${e.toCommandArgumentForPythonExt()}`]}t.CondaActivationCommandProvider=f,t.CondaActivationCommandProvider=f=o([(0,c.injectable)(),a(0,(0,c.inject)(u.ICondaService)),a(1,(0,c.inject)(p.IPlatformService)),a(2,(0,c.inject)(d.IConfigurationService)),a(3,(0,c.inject)(u.IComponentAdapter))],f),t._getPowershellCommands=v},29007:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.Nushell=t.getAllScripts=void 0;const i=n(25891);n(87295);const o=n(23935),s=n(26948),a={[o.TerminalShellType.nushell]:["activate.nu"]};t.getAllScripts=function(){const e=[];for(const t of Object.values(a))for(const n of t)e.includes(n)||e.push(n);return e};let c=class extends s.VenvBaseActivationCommandProvider{constructor(){super(...arguments),this.scripts=a}async getActivationCommandsForInterpreter(e,t){const n=await this.findScriptFile(e,t);if(n)return[`overlay use ${n.fileToCommandArgumentForPythonExt()}`]}};t.Nushell=c,t.Nushell=c=r([(0,i.injectable)()],c)},27977:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PipEnvActivationCommandProvider=void 0;const o=n(25891);n(87295);const s=n(29413),a=n(35864),c=n(25297),l=n(54661),u=n(86156);let p=class{constructor(e,t,n){this.interpreterService=e,this.pipEnvExecution=t,this.workspaceService=n}isShellSupported(){return!1}async getActivationCommands(e){const t=await this.interpreterService.getActiveInterpreter(e);if(!t||t.envType!==c.EnvironmentType.Pipenv)return;const n=e?this.workspaceService.getWorkspaceFolder(e):void 0;return!n||await(0,a.isPipenvEnvironmentRelatedToFolder)(t.path,null==n?void 0:n.uri.fsPath)?[`${this.pipEnvExecution.executable.fileToCommandArgumentForPythonExt()} shell`]:void 0}async getActivationCommandsForInterpreter(e){const t=await this.interpreterService.getInterpreterDetails(e);if(t&&t.envType===c.EnvironmentType.Pipenv)return[`${this.pipEnvExecution.executable.fileToCommandArgumentForPythonExt()} shell`]}};t.PipEnvActivationCommandProvider=p,t.PipEnvActivationCommandProvider=p=r([(0,o.injectable)(),i(0,(0,o.inject)(s.IInterpreterService)),i(1,(0,o.inject)(u.IToolExecutionPath)),i(1,(0,o.named)(u.ToolExecutionPath.pipenv)),i(2,(0,o.inject)(l.IWorkspaceService))],p)},62829:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PixiActivationCommandProvider=void 0;const o=n(25891),s=n(29413),a=n(23935),c=n(8164);let l=class{constructor(e){this.interpreterService=e}isShellSupported(e){return void 0!==function(e){switch(e){case a.TerminalShellType.powershell:case a.TerminalShellType.powershellCore:return"powershell";case a.TerminalShellType.commandPrompt:return"cmd";case a.TerminalShellType.zsh:return"zsh";case a.TerminalShellType.fish:return"fish";case a.TerminalShellType.nushell:return"nushell";case a.TerminalShellType.xonsh:return"xonsh";case a.TerminalShellType.cshell:return;case a.TerminalShellType.gitbash:case a.TerminalShellType.bash:case a.TerminalShellType.wsl:case a.TerminalShellType.tcshell:case a.TerminalShellType.other:default:return"bash"}}(e)}async getActivationCommands(e,t){const n=await this.interpreterService.getActiveInterpreter(e);if(n)return this.getActivationCommandsForInterpreter(n.path,t)}getActivationCommandsForInterpreter(e,t){return(0,c.getPixiActivationCommands)(e,t)}};t.PixiActivationCommandProvider=l,t.PixiActivationCommandProvider=l=r([(0,o.injectable)(),i(0,(0,o.inject)(s.IInterpreterService))],l)},1021:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PyEnvActivationCommandProvider=void 0;const o=n(25891),s=n(29413),a=n(9100),c=n(25297);let l=class{constructor(e){this.serviceContainer=e}isShellSupported(e){return!0}async getActivationCommands(e,t){const n=await this.serviceContainer.get(s.IInterpreterService).getActiveInterpreter(e);if(n&&n.envType===c.EnvironmentType.Pyenv&&n.envName)return[`pyenv shell ${n.envName.toCommandArgumentForPythonExt()}`]}async getActivationCommandsForInterpreter(e,t){const n=await this.serviceContainer.get(s.IInterpreterService).getInterpreterDetails(e);if(n&&n.envType===c.EnvironmentType.Pyenv&&n.envName)return[`pyenv shell ${n.envName.toCommandArgumentForPythonExt()}`]}};t.PyEnvActivationCommandProvider=l,t.PyEnvActivationCommandProvider=l=r([(0,o.injectable)(),i(0,(0,o.inject)(a.IServiceContainer))],l)},90344:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalServiceFactory=void 0;const c=n(25891),l=s(n(16928)),u=n(29413),p=n(9100),d=n(54661),h=n(22408),f=n(30137),v=n(97716);let g=class{constructor(e,t,n){this.serviceContainer=e,this.fs=t,this.interpreterService=n,this.terminalServices=new Map}getTerminalService(e){const t=null==e?void 0:e.resource,n=null==e?void 0:e.title;let r="string"==typeof n&&n.trim().length>0?n.trim():"Python";const i=null==e?void 0:e.interpreter,o=this.getTerminalId(r,t,i,e.newTerminalPerFile);if(!this.terminalServices.has(o)){t&&e.newTerminalPerFile&&(r=`${r}: ${l.basename(t.fsPath).replace(".py","")}`),e.title=r;const n=new f.TerminalService(this.serviceContainer,e);this.terminalServices.set(o,n)}return new v.SynchronousTerminalService(this.fs,this.interpreterService,this.terminalServices.get(o),i)}createTerminalService(e,t){return t="string"==typeof t&&t.trim().length>0?t.trim():"Python",new f.TerminalService(this.serviceContainer,{resource:e,title:t})}getTerminalId(e,t,n,r){if(!t&&!n)return e;const i=this.serviceContainer.get(d.IWorkspaceService).getWorkspaceFolder(t||void 0),o=t&&r?t.fsPath:"";return`${e}:${(null==i?void 0:i.uri.fsPath)||""}:${null==n?void 0:n.path}:${o}`}};t.TerminalServiceFactory=g,t.TerminalServiceFactory=g=o([(0,c.injectable)(),a(0,(0,c.inject)(p.IServiceContainer)),a(1,(0,c.inject)(h.IFileSystem)),a(2,(0,c.inject)(u.IInterpreterService))],g)},90688:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalHelper=void 0;const o=n(25891),s=n(29413),a=n(9100),c=n(61905),l=n(25297),u=n(51535),p=n(53322),d=n(54661);n(87295);const h=n(22408),f=n(86156),v=n(48112),g=n(6294),m=n(23935),y=n(8164);let b=class{constructor(e,t,n,r,i,o,s,a,c,l,u,p,d){this.platform=e,this.terminalManager=t,this.serviceContainer=n,this.interpreterService=r,this.configurationService=i,this.conda=o,this.bashCShellFish=s,this.commandPromptAndPowerShell=a,this.nushell=c,this.pyenv=l,this.pipenv=u,this.pixi=p,this.shellDetector=new g.ShellDetector(this.platform,d)}createTerminal(e){return this.terminalManager.createTerminal({name:e})}identifyTerminalShell(e){return this.shellDetector.identifyTerminalShell(e)}buildCommandForTerminal(e,t,n){const r=e===m.TerminalShellType.powershell||e===m.TerminalShellType.powershellCore?"& ":"",i=n.map((e=>e.toCommandArgumentForPythonExt()));return`${r}${t.fileToCommandArgumentForPythonExt()} ${i.join(" ")}`.trim()}async getEnvironmentActivationCommands(e,t,n){const r=[this.pixi,this.pipenv,this.pyenv,this.bashCShellFish,this.commandPromptAndPowerShell,this.nushell],i=this.getActivationCommands(t||void 0,n,e,r);return this.sendTelemetry(e,p.EventName.PYTHON_INTERPRETER_ACTIVATION_FOR_TERMINAL,n,i).ignoreErrors(),i}async getEnvironmentActivationShellCommands(e,t,n){if(this.platform.osType===v.OSType.Unknown)return;const r=[this.pixi,this.bashCShellFish,this.commandPromptAndPowerShell,this.nushell],i=this.getActivationCommands(e,n,t,r);return this.sendTelemetry(t,p.EventName.PYTHON_INTERPRETER_ACTIVATION_FOR_RUNNING_CODE,n,i).ignoreErrors(),i}async sendTelemetry(e,t,n,r){let i=!1,o=!1;try{const e=await r;i=Array.isArray(e)&&e.length>0}catch(e){o=!0,(0,c.traceError)("Failed to get activation commands",e)}const s=n&&n.version?n.version.raw:void 0,a={failed:o,hasCommands:i,interpreterType:n?n.envType:l.EnvironmentType.Unknown,terminal:e,pythonVersion:s};(0,u.sendTelemetryEvent)(t,void 0,a)}async getActivationCommands(e,t,n,r){const i=this.configurationService.getSettings(e);if(t?t.envType===l.EnvironmentType.Pixi:await(0,y.isPixiEnvironment)(i.pythonPath)){const r=t?await this.pixi.getActivationCommandsForInterpreter(t.path,n):await this.pixi.getActivationCommands(e,n);if(Array.isArray(r))return r}const o=this.serviceContainer.get(s.IComponentAdapter);if(t?t.envType===l.EnvironmentType.Conda:await o.isCondaEnvironment(i.pythonPath)){const r=t?await this.conda.getActivationCommandsForInterpreter(t.path,n):await this.conda.getActivationCommands(e,n);if(Array.isArray(r))return r}const a=r.filter((e=>e.isShellSupported(n)));for(const r of a){const i=t?await r.getActivationCommandsForInterpreter(t.path,n):await r.getActivationCommands(e,n);if(Array.isArray(i)&&i.length>0)return i}}};t.TerminalHelper=b,r([(0,c.traceDecoratorError)("Failed to capture telemetry")],b.prototype,"sendTelemetry",null),t.TerminalHelper=b=r([(0,o.injectable)(),i(0,(0,o.inject)(h.IPlatformService)),i(1,(0,o.inject)(d.ITerminalManager)),i(2,(0,o.inject)(a.IServiceContainer)),i(3,(0,o.inject)(s.IInterpreterService)),i(4,(0,o.inject)(f.IConfigurationService)),i(5,(0,o.inject)(m.ITerminalActivationCommandProvider)),i(5,(0,o.named)(m.TerminalActivationProviders.conda)),i(6,(0,o.inject)(m.ITerminalActivationCommandProvider)),i(6,(0,o.named)(m.TerminalActivationProviders.bashCShellFish)),i(7,(0,o.inject)(m.ITerminalActivationCommandProvider)),i(7,(0,o.named)(m.TerminalActivationProviders.commandPromptAndPowerShell)),i(8,(0,o.inject)(m.ITerminalActivationCommandProvider)),i(8,(0,o.named)(m.TerminalActivationProviders.nushell)),i(9,(0,o.inject)(m.ITerminalActivationCommandProvider)),i(9,(0,o.named)(m.TerminalActivationProviders.pyenv)),i(10,(0,o.inject)(m.ITerminalActivationCommandProvider)),i(10,(0,o.named)(m.TerminalActivationProviders.pipenv)),i(11,(0,o.inject)(m.ITerminalActivationCommandProvider)),i(11,(0,o.named)(m.TerminalActivationProviders.pixi)),i(12,(0,o.multiInject)(m.IShellDetector))],b)},30137:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalService=void 0;const o=n(25891),s=n(54980);n(87295);const a=n(29413),c=n(9100),l=n(51535),u=n(53322),p=n(52060),d=n(54661),h=n(86156),f=n(23935),v=n(61905),g=n(8841),m=n(36380),y=n(95241),b=n(7855),_=n(48112),E=n(56251);let S=class{get onDidCloseTerminal(){return this.terminalClosed.event.bind(this.terminalClosed)}constructor(e,t){this.serviceContainer=e,this.options=t,this.terminalClosed=new s.EventEmitter,this.executeCommandListeners=new Set,this._terminalFirstLaunched=!0;const n=this.serviceContainer.get(h.IDisposableRegistry);n.push(this),this.terminalHelper=this.serviceContainer.get(f.ITerminalHelper),this.terminalManager=this.serviceContainer.get(d.ITerminalManager),this.terminalAutoActivator=this.serviceContainer.get(p.ITerminalAutoActivation),this.terminalManager.onDidCloseTerminal(this.terminalCloseHandler,this,n),this.terminalActivator=this.serviceContainer.get(f.ITerminalActivator)}dispose(){var e;null===(e=this.terminal)||void 0===e||e.dispose(),this.executeCommandListeners&&this.executeCommandListeners.size>0&&this.executeCommandListeners.forEach((e=>{null==e||e.dispose()}))}async sendCommand(e,t,n){var r;await this.ensureTerminal();const i=this.terminalHelper.buildCommandForTerminal(this.terminalShellType,e,t);(null===(r=this.options)||void 0===r?void 0:r.hideFromUser)||this.terminal.show(!0),await this.executeCommand(i,!1)}async sendText(e){var t;await this.ensureTerminal(),(null===(t=this.options)||void 0===t?void 0:t.hideFromUser)||this.terminal.show(!0),this.terminal.sendText(e)}async executeCommand(e,t){var n,r;const i=this.terminal;if((null===(n=this.options)||void 0===n?void 0:n.hideFromUser)||i.show(!0),!i.shellIntegration&&this._terminalFirstLaunched){this._terminalFirstLaunched=!1;const e=new Promise((e=>{const t=this.terminalManager.onDidChangeTerminalShellIntegration((()=>{clearTimeout(n),t.dispose(),e(!0)})),n=setTimeout((()=>{t.dispose(),e(!0)}),500)}));await e}const o=(0,g.getConfiguration)("python").get("terminal.shellIntegration.enabled"),s=(null===(r=this.options)||void 0===r?void 0:r.resource)?await(0,E.getPythonMinorVersion)(this.options.resource,this.serviceContainer.get(a.IInterpreterService)):void 0;if(t&&!o||t&&(0,_.isWindows)()||(null!=s?s:0)>=13)i.sendText(e);else{if(i.shellIntegration){const t=i.shellIntegration.executeCommand(e);return(0,v.traceVerbose)(`Shell Integration is enabled, executeCommand: ${e}`),t}i.sendText(e),(0,v.traceVerbose)(`Shell Integration is disabled, sendText: ${e}`)}}async show(e=!0){var t;await this.ensureTerminal(e),(null===(t=this.options)||void 0===t?void 0:t.hideFromUser)||this.terminal.show(e)}async ensureTerminal(e=!0){var t,n,r,i,o,s,a,c,l;this.terminal||((0,m.useEnvExtension)()?this.terminal=await(0,y.ensureTerminalLegacy)(null===(t=this.options)||void 0===t?void 0:t.resource,{name:(null===(n=this.options)||void 0===n?void 0:n.title)||"Python",hideFromUser:null===(r=this.options)||void 0===r?void 0:r.hideFromUser}):(this.terminalShellType=this.terminalHelper.identifyTerminalShell(this.terminal),this.terminal=this.terminalManager.createTerminal({name:(null===(i=this.options)||void 0===i?void 0:i.title)||"Python",hideFromUser:null===(o=this.options)||void 0===o?void 0:o.hideFromUser}),this.terminalAutoActivator.disableAutoActivation(this.terminal),await(0,b.sleep)(100),await this.terminalActivator.activateEnvironmentInTerminal(this.terminal,{resource:null===(s=this.options)||void 0===s?void 0:s.resource,preserveFocus:e,interpreter:null===(a=this.options)||void 0===a?void 0:a.interpreter,hideFromUser:null===(c=this.options)||void 0===c?void 0:c.hideFromUser})),(null===(l=this.options)||void 0===l?void 0:l.hideFromUser)||this.terminal.show(e),this.sendTelemetry().ignoreErrors())}terminalCloseHandler(e){e===this.terminal&&(this.terminalClosed.fire(),this.terminal=void 0)}async sendTelemetry(){var e,t;const n=this.serviceContainer.get(h.IConfigurationService).getSettings(null===(e=this.options)||void 0===e?void 0:e.resource).pythonPath,r=(null===(t=this.options)||void 0===t?void 0:t.interpreter)||await this.serviceContainer.get(a.IInterpreterService).getInterpreterDetails(n),i=r&&r.version?r.version.raw:void 0,o=r?r.envType:void 0;(0,l.captureTelemetry)(u.EventName.TERMINAL_CREATE,{terminal:this.terminalShellType,pythonVersion:i,interpreterType:o})}};t.TerminalService=S,t.TerminalService=S=r([(0,o.injectable)(),i(0,(0,o.inject)(c.IServiceContainer))],S)},6294:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ShellDetector=void 0;const o=n(25891),s=n(54980),a=n(61905),c=n(51535),l=n(53322);n(87295);const u=n(22408),p=n(48112),d=n(23935),h={[p.OSType.Linux]:d.TerminalShellType.bash,[p.OSType.OSX]:d.TerminalShellType.bash,[p.OSType.Windows]:d.TerminalShellType.commandPrompt,[p.OSType.Unknown]:d.TerminalShellType.other};let f=class{constructor(e,t){this.platform=e,this.shellDetectors=t}identifyTerminalShell(e){let t;const n={failed:!0,shellIdentificationSource:"default",terminalProvided:!!e,hasCustomShell:void 0,hasShellInEnv:void 0},r=this.shellDetectors.slice().sort(((e,t)=>t.priority-e.priority));for(const i of r)if(t=i.identify(n,e),t&&t!==d.TerminalShellType.other){n.failed=!1;break}return(0,c.sendTelemetryEvent)(l.EventName.TERMINAL_SHELL_IDENTIFICATION,void 0,n),(0,a.traceVerbose)(`Shell identified as ${t} ${e?`(Terminal name is ${e.name})`:""}`),void 0!==t&&t!==d.TerminalShellType.other||((0,a.traceError)("Unable to identify shell",s.env.shell," for OS ",this.platform.osType),(0,a.traceVerbose)("Using default OS shell"),t=h[this.platform.osType]),t}};t.ShellDetector=f,t.ShellDetector=f=r([(0,o.injectable)(),i(0,(0,o.inject)(u.IPlatformService)),i(1,(0,o.multiInject)(d.IShellDetector))],f)},18065:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.identifyShellFromShellPath=t.BaseShellDetector=void 0;const o=n(25891),s=n(23935),a=new Map;a.set(s.TerminalShellType.powershell,/(powershell$)/i),a.set(s.TerminalShellType.gitbash,/(gitbash$)/i),a.set(s.TerminalShellType.bash,/(bash$)/i),a.set(s.TerminalShellType.wsl,/(wsl$)/i),a.set(s.TerminalShellType.zsh,/(zsh$)/i),a.set(s.TerminalShellType.ksh,/(ksh$)/i),a.set(s.TerminalShellType.commandPrompt,/(cmd$)/i),a.set(s.TerminalShellType.fish,/(fish$)/i),a.set(s.TerminalShellType.tcshell,/(tcsh$)/i),a.set(s.TerminalShellType.cshell,/(csh$)/i),a.set(s.TerminalShellType.nushell,/(nu$)/i),a.set(s.TerminalShellType.powershellCore,/(pwsh$)/i),a.set(s.TerminalShellType.xonsh,/(xonsh$)/i);let c=class{constructor(e){this.priority=e}identifyShellFromShellPath(e){return l(e)}};function l(e){const t=e.replace(/\.exe$/i,"");return Array.from(a.keys()).reduce(((e,n)=>{if(e===s.TerminalShellType.other){const e=a.get(n);if(e&&e.test(t))return n}return e}),s.TerminalShellType.other)}t.BaseShellDetector=c,t.BaseShellDetector=c=r([(0,o.injectable)(),i(0,(0,o.unmanaged)())],c),t.identifyShellFromShellPath=l},41777:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsShellDetector=void 0;const o=n(25891),s=n(54661),a=n(22408),c=n(48112),l=n(23935),u=n(18065);let p=class extends u.BaseShellDetector{constructor(e,t){super(2),this.workspace=e,this.platform=t}getTerminalShellPath(){const e=this.workspace.getConfiguration("terminal.integrated.shell");let t="";switch(this.platform.osType){case c.OSType.Windows:t="windows";break;case c.OSType.OSX:t="osx";break;case c.OSType.Linux:t="linux";break;default:return""}return e.get(t)}identify(e,t){const n=this.getTerminalShellPath();e.hasCustomShell=!!n;const r=n?this.identifyShellFromShellPath(n):l.TerminalShellType.other;return r!==l.TerminalShellType.other?e.shellIdentificationSource="environment":e.shellIdentificationSource="settings",r}};t.SettingsShellDetector=p,t.SettingsShellDetector=p=r([(0,o.injectable)(),i(0,(0,o.inject)(s.IWorkspaceService)),i(1,(0,o.inject)(a.IPlatformService))],p)},81367:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalNameShellDetector=void 0;const i=n(25891),o=n(61905),s=n(23935),a=n(18065);let c=class extends a.BaseShellDetector{constructor(){super(4)}identify(e,t){if(!t)return;const n=this.identifyShellFromShellPath(t.name);return(0,o.traceVerbose)(`Terminal name '${t.name}' identified as shell '${n}'`),e.shellIdentificationSource=n===s.TerminalShellType.other?e.shellIdentificationSource:"terminalName",n}};t.TerminalNameShellDetector=c,t.TerminalNameShellDetector=c=r([(0,i.injectable)()],c)},556:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.UserEnvironmentShellDetector=void 0;const o=n(25891),s=n(22408),a=n(86156),c=n(48112),l=n(23935),u=n(18065);let p=class extends u.BaseShellDetector{constructor(e,t){super(1),this.currentProcess=e,this.platform=t}getDefaultPlatformShell(){return e=this.platform,t=this.currentProcess,e.osType===c.OSType.Windows?function(e,t){const n=parseFloat(e.osRelease)>=10,r=t.env.hasOwnProperty("PROCESSOR_ARCHITEW6432"),i=`${t.env.windir}\\${r?"Sysnative":"System32"}\\WindowsPowerShell\\v1.0\\powershell.exe`;return n?i:function(e){return e.env.comspec||"cmd.exe"}(t)}(e,t):t.env.SHELL&&"/bin/false"!==t.env.SHELL?t.env.SHELL:"/bin/bash";var e,t}identify(e,t){const n=this.getDefaultPlatformShell();e.hasShellInEnv=!!n;const r=this.identifyShellFromShellPath(n);return r!==l.TerminalShellType.other&&(e.shellIdentificationSource="environment"),r}};t.UserEnvironmentShellDetector=p,t.UserEnvironmentShellDetector=p=r([(0,o.injectable)(),i(0,(0,o.inject)(a.ICurrentProcess)),i(1,(0,o.inject)(s.IPlatformService))],p)},50209:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.VSCEnvironmentShellDetector=void 0;const o=n(25891),s=n(61905),a=n(54661),c=n(23935),l=n(18065);let u=class extends l.BaseShellDetector{constructor(e){super(3),this.appEnv=e}identify(e,t){const n=(null==t?void 0:t.creationOptions)&&"shellPath"in t.creationOptions&&t.creationOptions.shellPath?t.creationOptions.shellPath:this.appEnv.shell;if(!n)return;const r=this.identifyShellFromShellPath(n);return(0,s.traceVerbose)(`Terminal shell path '${n}' identified as shell '${r}'`),e.shellIdentificationSource=r===c.TerminalShellType.other?e.shellIdentificationSource:"vscode",e.failed=r!==c.TerminalShellType.other,r}};t.VSCEnvironmentShellDetector=u,t.VSCEnvironmentShellDetector=u=r([i(0,(0,o.inject)(a.IApplicationEnvironment))],u)},97716:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.SynchronousTerminalService=void 0;const c=n(25891),l=n(29413),u=n(61905),p=n(7854),d=n(22408),h=s(n(8370)),f=n(7855),v=n(98803);var g;!function(e){e[e.notStarted=0]="notStarted",e[e.started=1]="started",e[e.completed=2]="completed",e[e.errored=4]="errored"}(g||(g={}));class m{constructor(e,t,n){this.lockFile=e,this.fs=t,this.command=n,this.state=g.notStarted,this._completed=(0,f.createDeferred)(),this.registerStateUpdate(),this._completed.promise.finally((()=>this.dispose())).ignoreErrors()}get completed(){return this._completed.promise}dispose(){this.disposable&&(this.disposable.dispose(),this.disposable=void 0)}registerStateUpdate(){const e=setInterval((async()=>{const e=await this.getLockFileState(this.lockFile);if(e!==this.state&&(0,u.traceVerbose)(`Command state changed to ${e}. ${this.command.join(" ")}`),this.state=e,e&g.errored){const e=await this.fs.readFile(`${this.lockFile}.error`).catch((()=>""));this._completed.reject(new Error(`Command failed with errors, check the terminal for details. Command: ${this.command.join(" ")}\n${e}`))}else e&g.completed&&this._completed.resolve()}),100);this.disposable={dispose:()=>clearInterval(e)}}async getLockFileState(e){const t=await this.fs.readFile(e);let n=g.notStarted;return t.includes("START")&&(n|=g.started),t.includes("END")&&(n|=g.completed),t.includes("FAIL")&&(n|=g.completed|g.errored),n}}let y=class{get onDidCloseTerminal(){return this.terminalService.onDidCloseTerminal}constructor(e,t,n,r){this.fs=e,this.interpreter=t,this.terminalService=n,this.pythonInterpreter=r,this.disposables=[]}dispose(){for(this.terminalService.dispose();this.disposables.length;){const e=this.disposables.shift();if(!e)break;try{e.dispose()}catch(e){(0,v.noop)()}}}async sendCommand(e,t,n,r=!0){if(!n)return this.terminalService.sendCommand(e,t);const i=await this.createLockFile(),o=new m(i.filePath,this.fs,[e,...t]);try{const s=this.pythonInterpreter||await this.interpreter.getActiveInterpreter(void 0),a=h.shell_exec(e,i.filePath,t);await this.terminalService.sendCommand((null==s?void 0:s.path)||"python",a);const c=r?o.completed:o.completed.catch(v.noop);await p.Cancellation.race((()=>c),n)}finally{o.dispose(),i.dispose()}}sendText(e){return this.terminalService.sendText(e)}executeCommand(e,t){return this.terminalService.executeCommand(e,t)}show(e){return this.terminalService.show(e)}createLockFile(){return this.fs.createTemporaryFile(".log").then((e=>(this.disposables.push(e),e)))}};t.SynchronousTerminalService=y,t.SynchronousTerminalService=y=o([a(0,(0,c.inject)(d.IFileSystem)),a(1,(0,c.inject)(l.IInterpreterService))],y)},23935:(e,t)=>{"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.IShellDetector=t.ITerminalActivationHandler=t.ITerminalActivationCommandProvider=t.ITerminalActivator=t.ITerminalHelper=t.ITerminalServiceFactory=t.TerminalShellType=t.TerminalActivationProviders=void 0,function(e){e.bashCShellFish="bashCShellFish",e.commandPromptAndPowerShell="commandPromptAndPowerShell",e.nushell="nushell",e.pyenv="pyenv",e.conda="conda",e.pipenv="pipenv",e.pixi="pixi"}(n||(t.TerminalActivationProviders=n={})),function(e){e.powershell="powershell",e.powershellCore="powershellCore",e.commandPrompt="commandPrompt",e.gitbash="gitbash",e.bash="bash",e.zsh="zsh",e.ksh="ksh",e.fish="fish",e.cshell="cshell",e.tcshell="tshell",e.nushell="nushell",e.wsl="wsl",e.xonsh="xonsh",e.other="other"}(r||(t.TerminalShellType=r={})),t.ITerminalServiceFactory=Symbol("ITerminalServiceFactory"),t.ITerminalHelper=Symbol("ITerminalHelper"),t.ITerminalActivator=Symbol("ITerminalActivator"),t.ITerminalActivationCommandProvider=Symbol("ITerminalActivationCommandProvider"),t.ITerminalActivationHandler=Symbol("ITerminalActivationHandler"),t.IShellDetector=Symbol("IShellDetector")},86156:(e,t)=>{"use strict";var n,r,i,o,s;Object.defineProperty(t,"__esModule",{value:!0}),t.IDefaultLanguageServer=t.IInterpreterPathService=t.IExperimentService=t.IBrowserService=t.IExtensions=t.IExtensionContext=t.ISocketServer=t.ToolExecutionPath=t.IToolExecutionPath=t.IConfigurationService=t.ICurrentProcess=t.IRandom=t.IPathUtils=t.IInstaller=t.Product=t.ProductType=t.ProductInstallStatus=t.InstallerResponse=t.IPersistentStateFactory=t.WORKSPACE_MEMENTO=t.GLOBAL_MEMENTO=t.IMemento=t.IDisposableRegistry=t.IsWindows=t.IDocumentSymbolProvider=t.ILogOutputChannel=void 0,t.ILogOutputChannel=Symbol("ILogOutputChannel"),t.IDocumentSymbolProvider=Symbol("IDocumentSymbolProvider"),t.IsWindows=Symbol("IS_WINDOWS"),t.IDisposableRegistry=Symbol("IDisposableRegistry"),t.IMemento=Symbol("IGlobalMemento"),t.GLOBAL_MEMENTO=Symbol("IGlobalMemento"),t.WORKSPACE_MEMENTO=Symbol("IWorkspaceMemento"),t.IPersistentStateFactory=Symbol("IPersistentStateFactory"),function(e){e[e.Installed=0]="Installed",e[e.Disabled=1]="Disabled",e[e.Ignore=2]="Ignore"}(n||(t.InstallerResponse=n={})),function(e){e[e.Installed=0]="Installed",e[e.NotInstalled=1]="NotInstalled",e[e.NeedsUpgrade=2]="NeedsUpgrade"}(r||(t.ProductInstallStatus=r={})),function(e){e.TestFramework="TestFramework",e.DataScience="DataScience",e.Python="Python"}(i||(t.ProductType=i={})),function(e){e[e.pytest=1]="pytest",e[e.unittest=12]="unittest",e[e.tensorboard=24]="tensorboard",e[e.torchProfilerInstallName=25]="torchProfilerInstallName",e[e.torchProfilerImportName=26]="torchProfilerImportName",e[e.pip=27]="pip",e[e.ensurepip=28]="ensurepip",e[e.python=29]="python"}(o||(t.Product=o={})),t.IInstaller=Symbol("IInstaller"),t.IPathUtils=Symbol("IPathUtils"),t.IRandom=Symbol("IRandom"),t.ICurrentProcess=Symbol("ICurrentProcess"),t.IConfigurationService=Symbol("IConfigurationService"),t.IToolExecutionPath=Symbol("IToolExecutionPath"),function(e){e.pipenv="pipenv"}(s||(t.ToolExecutionPath=s={})),t.ISocketServer=Symbol("ISocketServer"),t.IExtensionContext=Symbol("ExtensionContext"),t.IExtensions=Symbol("IExtensions"),t.IBrowserService=Symbol("IBrowserService"),t.IExperimentService=Symbol("IExperimentService"),t.IInterpreterPathService=Symbol("IInterpreterPathService"),t.IDefaultLanguageServer=Symbol("IDefaultLanguageServer")},83597:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.asyncForEach=t.asyncFilter=void 0,t.asyncFilter=async function(e,t){const n=await Promise.all(e.map(t));return e.filter(((e,t)=>n[t]))},t.asyncForEach=async function(e,t){await Promise.all(e.map(t))}},7855:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.waitForCondition=t.flattenIterable=t.flattenIterator=t.iterable=t.mapToIterator=t.chain=t.iterEmpty=t.createDeferredFromPromise=t.createDeferredFrom=t.createDeferred=t.isPromise=t.isThenable=t.sleep=void 0,t.sleep=async function(e){return new Promise((t=>{setTimeout((()=>t(e)),e)}))},t.isThenable=function(e){return"function"==typeof(null==e?void 0:e.then)},t.isPromise=function(e){return"function"==typeof(null==e?void 0:e.then)&&"function"==typeof(null==e?void 0:e.catch)};class n{constructor(e=null){this.scope=e,this._resolved=!1,this._rejected=!1,this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t}))}resolve(e){this.completed||(this._resolve.apply(this.scope?this.scope:this,[e]),this._resolved=!0)}reject(e){this.completed||(this._reject.apply(this.scope?this.scope:this,[e]),this._rejected=!0)}get promise(){return this._promise}get resolved(){return this._resolved}get rejected(){return this._rejected}get completed(){return this._rejected||this._resolved}}function r(e=null){return new n(e)}async function i(e,t){const n=void 0===t?-1:t;try{return{index:n,result:await e.next(),err:null}}catch(e){return{index:n,err:e,result:null}}}t.createDeferred=r,t.createDeferredFrom=function(...e){const t=r();return Promise.all(e).then(t.resolve.bind(t)).catch(t.reject.bind(t)),t},t.createDeferredFromPromise=function(e){const t=r();return e.then(t.resolve.bind(t)).catch(t.reject.bind(t)),t},t.iterEmpty=function(){return async function*(){}()};const o=new Promise((()=>{}));async function*s(e,t){const n=e.map(i);let r=e.length;for(;r>0;){const{index:s,result:a,err:c}=await Promise.race(n);null!==c?(n[s]=o,r-=1,void 0!==t&&await t(c,s)):a.done?(n[s]=o,r-=1,void 0!==a.value&&(yield a.value)):(n[s]=i(e[s],s),yield a.value)}}function a(e){const t=e;return void 0===t[Symbol.asyncIterator]&&(t[Symbol.asyncIterator]=()=>t),t}t.chain=s,t.mapToIterator=async function*(e,t,n=!0){if(n){const n=e.map((e=>async function*(){yield t(e)}()));yield*a(s(n))}else yield*e.map(t)},t.iterable=a,t.flattenIterator=async function(e){const t=[];for await(const n of a(e))t.push(n);return t},t.flattenIterable=async function(e){const t=[];for await(const n of e)t.push(n);return t},t.waitForCondition=async function(e,t,n){return new Promise((async(r,i)=>{const o=setTimeout((()=>{clearTimeout(o),clearTimeout(s),i(new Error(n))}),t),s=setInterval((async()=>{await e().catch((()=>!1))&&(clearTimeout(o),clearTimeout(s),r())}),10)}))}},99652:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InMemoryCache=t.clearCache=t.getCacheKeyFromFunctionArgs=t.getGlobalCacheStore=void 0;const n=new Map;t.getGlobalCacheStore=function(){return n},t.getCacheKeyFromFunctionArgs=function(e,t){return`KeyPrefix=${e}-Args=${t.map((e=>`${JSON.stringify(e)}`)).join("-Arg-Separator-")}`},t.clearCache=function(){n.clear()},t.InMemoryCache=class{constructor(e){this.expiryDurationMs=e}get hasData(){return!(!this.cacheData||this.hasExpired(this.cacheData.expiry))||(this.cacheData=void 0,!1)}get data(){var e;if(this.hasData)return null===(e=this.cacheData)||void 0===e?void 0:e.value}set data(e){this.cacheData=void 0!==e?{expiry:this.calculateExpiry(),value:e}:void 0}clear(){this.cacheData=void 0}hasExpired(e){return e<=Date.now()}calculateExpiry(){return Date.now()+this.expiryDurationMs}}},68989:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.swallowExceptions=t.cache=t.makeDebounceAsyncDecorator=t.makeDebounceDecorator=t.debounceAsync=t.debounceSync=void 0,n(87295);const r=n(61905),i=n(552),o=n(7855),s=n(99652),a=n(51080),c=n(38221);function l(e){return function(t,n,r){const i=r.value,o=c((function(){return i.apply(this,arguments)}),e,{});r.value=o}}function u(e){return function(t,n,r){const i=r.value,s={started:!1,deferred:void 0,timer:void 0};r.value=function(){const t=s.deferred;if(t&&s.started)return t.promise;const n=t&&t.completed,r=s.deferred=!t||n?(0,o.createDeferred)():t;return s.timer&&clearTimeout(s.timer),s.timer=setTimeout((async()=>{s.started=!0,i.apply(this).then((e=>{s.started=!1,r.resolve(e)})).catch((e=>{s.started=!1,r.reject(e)}))}),e||0),r.promise}}}t.debounceSync=function(e){return(0,i.isTestExecution)()&&(e=void 0),l(e)},t.debounceAsync=function(e){return(0,i.isTestExecution)()&&(e=void 0),u(e)},t.makeDebounceDecorator=l,t.makeDebounceAsyncDecorator=u;const p=(0,s.getGlobalCacheStore)(),d=new a.StopWatch;t.cache=function(e,t=!1,n){return function(o,a,c){const l=c.value,u=`Cache_Method_Output_${"constructor"in o&&o.constructor.name?o.constructor.name:""}.${a}`;c.value=async function(...o){if((0,i.isTestExecution)())return l.apply(this,o);let a;try{a=(0,s.getCacheKeyFromFunctionArgs)(u,o)}catch(e){return(0,r.traceError)("Error while creating key for keyPrefix:",u,e),l.apply(this,o)}const c=p.get(a);if(c&&(c.expiry>Date.now()||-1===e))return Promise.resolve(c.data);const h=n&&d.elapsedTime>2e5?n:e,f=l.apply(this,o);return t?p.set(a,{data:f,expiry:Date.now()+h}):f.then((e=>p.set(a,{data:e,expiry:Date.now()+h}))).ignoreErrors(),f}}},t.swallowExceptions=function(e){return function(t,n,o){const s=o.value,a=`Python Extension (Error in ${e||n}, method:${n}):`;o.value=function(...e){try{const t=s.apply(this,e);if(t&&"function"==typeof t.then&&"function"==typeof t.catch)return t.catch((e=>{(0,i.isTestExecution)()||(0,r.traceError)(a,e)}))}catch(e){if((0,i.isTestExecution)())return;(0,r.traceError)(a,e)}}}}},56218:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DelayedTrigger=void 0;const r=n(53557),i=n(61905);t.DelayedTrigger=class{constructor(e,t,n){this.callback=e,this.ms=t,this.name=n,this.triggeredCounter=0,this.calledCounter=0}trigger(...e){this.triggeredCounter+=1,this.timerId&&(0,r.clearTimeout)(this.timerId),this.timerId=(0,r.setTimeout)((()=>{this.calledCounter+=1,(0,i.traceVerbose)(`Delay Trigger[${this.name}]: triggered=${this.triggeredCounter}, called=${this.calledCounter}`),this.callback(...e)}),this.ms)}dispose(){this.timerId&&(0,r.clearTimeout)(this.timerId)}}},62982:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.isValidAndExecutable=t.getSearchPathEntries=t.getSearchPathEnvVarNames=void 0;const s=o(n(79896)),a=o(n(16928)),c=n(48112);function l(e=(0,c.getOSType)()){return e===c.OSType.Windows?["Path","PATH"]:["PATH"]}t.getSearchPathEnvVarNames=l,t.getSearchPathEntries=function(){const e=l();for(const t of e){const e=(0,c.getEnvironmentVariable)(t);if(void 0!==e)return e.split(a.delimiter).map((e=>e.trim())).filter((e=>e.length>0))}return[]},t.isValidAndExecutable=async function(e){try{await s.promises.access(e,s.constants.X_OK)}catch(e){return!1}if((0,c.getOSType)()!==c.OSType.Windows)return!0}},77476:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getFileFilter=t.getFileType=t.convertFileType=t.FileType=void 0;const s=o(n(79896)),a=o(n(54980)),c=n(61905);function l(e){return e.isFile()?t.FileType.File:e.isDirectory()?t.FileType.Directory:e.isSymbolicLink()?t.FileType.SymbolicLink:t.FileType.Unknown}async function u(e,n={ignoreErrors:!0}){let r;try{r=await s.promises.lstat(e)}catch(r){if("ENOENT"===r.code)return;if(n.ignoreErrors)return(0,c.traceError)(`lstat() failed for "${e}" (${r})`),t.FileType.Unknown;throw r}return l(r)}t.FileType=a.FileType,t.convertFileType=l,t.getFileType=u,t.getFileFilter=function(e={ignoreMissing:!0}){const n=function(e){if(void 0!==e){if(Array.isArray(e)){if(0===e.length)return;return e}return[e]}}(e.ignoreFileType);if(e.ignoreMissing||n)return async function(r){let i=await async function(e,t={}){let n;if("string"!=typeof e){if(!t.ensure){if(void 0===t.onMissing)return e;if(void 0!==await u(e.filename))return e}n=e.filename}else n=e;const r=await u(n)||t.onMissing;if(void 0!==r)return{filename:n,filetype:r}}(r,{ensure:e.ensureEntry});if(!i){if(e.ignoreMissing)return!1;i={filename:"string"==typeof r?r:r.filename,filetype:t.FileType.Unknown}}return!n||!n.includes(i.filetype)}}},65717:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getIcon=void 0;const s=o(n(16928)),a=n(54980),c=n(84090),l=s.join(c.EXTENSION_ROOT_DIR,"resources","dark"),u=s.join(c.EXTENSION_ROOT_DIR,"resources","light");t.getIcon=function(e){return{dark:a.Uri.file(s.join(l,e)),light:a.Uri.file(s.join(u,e))}}},6301:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Iterable=void 0,function(e){e.is=function(e){return e&&"object"==typeof e&&"function"==typeof e[Symbol.iterator]}}(n||(t.Iterable=n={}))},14152:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CreateEnv=t.SwitchToDefaultLS=t.Python27Support=t.OutdatedDebugger=t.Testing=t.DebugConfigStrings=t.ExtensionSurveyBanner=t.Installer=t.Linters=t.OutputChannelNames=t.InterpreterQuickPickList=t.Interpreters=t.LanguageService=t.TensorBoard=t.Pylance=t.Repl=t.AttachProcess=t.CommonSurvey=t.Common=t.Diagnostics=void 0;const r=n(54980),i=n(552);var o,s,a,c,l,u,p,d,h,f,v,g,m,y,b,_,E,S,w,P;!function(e){e.lsNotSupported=r.l10n.t("Your operating system does not meet the minimum requirements of the Python Language Server. Reverting to the alternative autocompletion provider, Jedi."),e.invalidPythonPathInDebuggerSettings=r.l10n.t('You need to select a Python interpreter before you start debugging.\n\nTip: click on "Select Interpreter" in the status bar.'),e.invalidPythonPathInDebuggerLaunch=r.l10n.t("The Python path in your debug configuration is invalid."),e.invalidDebuggerTypeDiagnostic=r.l10n.t('Your launch.json file needs to be updated to change the "pythonExperimental" debug configurations to use the "python" debugger type, otherwise Python debugging may not work. Would you like to automatically update your launch.json file now?'),e.consoleTypeDiagnostic=r.l10n.t('Your launch.json file needs to be updated to change the console type string from "none" to "internalConsole", otherwise Python debugging may not work. Would you like to automatically update your launch.json file now?'),e.justMyCodeDiagnostic=r.l10n.t('Configuration "debugStdLib" in launch.json is no longer supported. It\'s recommended to replace it with "justMyCode", which is the exact opposite of using "debugStdLib". Would you like to automatically update your launch.json file to do that?'),e.yesUpdateLaunch=r.l10n.t("Yes, update launch.json"),e.invalidTestSettings=r.l10n.t('Your settings needs to be updated to change the setting "python.unitTest." to "python.testing.", otherwise testing Python code using the extension may not work. Would you like to automatically update your settings now?'),e.updateSettings=r.l10n.t("Yes, update settings"),e.pylanceDefaultMessage=r.l10n.t("The Python extension now includes Pylance to improve completions, code navigation, overall performance and much more! You can learn more about the update and learn how to change your language server [here](https://aka.ms/new-python-bundle).\n\nRead Pylance's license [here](https://marketplace.visualstudio.com/items/ms-python.vscode-pylance/license)."),e.invalidSmartSendMessage=r.l10n.t("Python is unable to parse the code provided. Please\n    turn off Smart Send if you wish to always run line by line or explicitly select code\n    to force run. See [logs](command:{0}) for more details",i.Commands.ViewOutput)}(o||(t.Diagnostics=o={})),function(e){e.allow=r.l10n.t("Allow"),e.seeInstructions=r.l10n.t("See Instructions"),e.close=r.l10n.t("Close"),e.bannerLabelYes=r.l10n.t("Yes"),e.bannerLabelNo=r.l10n.t("No"),e.canceled=r.l10n.t("Canceled"),e.cancel=r.l10n.t("Cancel"),e.ok=r.l10n.t("Ok"),e.error=r.l10n.t("Error"),e.gotIt=r.l10n.t("Got it!"),e.install=r.l10n.t("Install"),e.loadingExtension=r.l10n.t("Python extension loading..."),e.openOutputPanel=r.l10n.t("Show output"),e.noIWillDoItLater=r.l10n.t("No, I will do it later"),e.notNow=r.l10n.t("Not now"),e.doNotShowAgain=r.l10n.t("Don't show again"),e.editSomething=r.l10n.t("Edit {0}"),e.reload=r.l10n.t("Reload"),e.moreInfo=r.l10n.t("More Info"),e.learnMore=r.l10n.t("Learn more"),e.and=r.l10n.t("and"),e.reportThisIssue=r.l10n.t("Report this issue"),e.recommended=r.l10n.t("Recommended"),e.clearAll=r.l10n.t("Clear all"),e.alwaysIgnore=r.l10n.t("Always Ignore"),e.ignore=r.l10n.t("Ignore"),e.selectPythonInterpreter=r.l10n.t("Select Python Interpreter"),e.openLaunch=r.l10n.t("Open launch.json"),e.useCommandPrompt=r.l10n.t("Use Command Prompt"),e.download=r.l10n.t("Download"),e.showLogs=r.l10n.t("Show logs"),e.openFolder=r.l10n.t("Open Folder...")}(s||(t.Common=s={})),function(e){e.remindMeLaterLabel=r.l10n.t("Remind me later"),e.yesLabel=r.l10n.t("Yes, take survey now"),e.noLabel=r.l10n.t("No, thanks")}(a||(t.CommonSurvey=a={})),function(e){e.attachTitle=r.l10n.t("Attach to process"),e.selectProcessPlaceholder=r.l10n.t("Select the process to attach to"),e.noProcessSelected=r.l10n.t("No process selected"),e.refreshList=r.l10n.t("Refresh process list")}(c||(t.AttachProcess=c={})),function(e){e.disableSmartSend=r.l10n.t("Disable Smart Send"),e.launchNativeRepl=r.l10n.t("Launch VS Code Native REPL")}(l||(t.Repl=l={})),function(e){e.remindMeLater=r.l10n.t("Remind me later"),e.pylanceNotInstalledMessage=r.l10n.t("Pylance extension is not installed."),e.pylanceInstalledReloadPromptMessage=r.l10n.t("Pylance extension is now installed. Reload window to activate?"),e.pylanceRevertToJediPrompt=r.l10n.t('The Pylance extension is not installed but the python.languageServer value is set to "Pylance". Would you like to install the Pylance extension to use Pylance, or revert back to Jedi?'),e.pylanceInstallPylance=r.l10n.t("Install Pylance"),e.pylanceRevertToJedi=r.l10n.t("Revert to Jedi")}(u||(t.Pylance=u={})),function(e){e.enterRemoteUrl=r.l10n.t("Enter remote URL"),e.enterRemoteUrlDetail=r.l10n.t("Enter a URL pointing to a remote directory containing your TensorBoard log files"),e.useCurrentWorkingDirectoryDetail=r.l10n.t("TensorBoard will search for tfevent files in all subdirectories of the current working directory"),e.useCurrentWorkingDirectory=r.l10n.t("Use current working directory"),e.logDirectoryPrompt=r.l10n.t("Select a log directory to start TensorBoard with"),e.progressMessage=r.l10n.t("Starting TensorBoard session..."),e.nativeTensorBoardPrompt=r.l10n.t('VS Code now has integrated TensorBoard support. Would you like to launch TensorBoard?  (Tip: Launch TensorBoard anytime by opening the command palette and searching for "Launch TensorBoard".)'),e.selectAFolder=r.l10n.t("Select a folder"),e.selectAFolderDetail=r.l10n.t("Select a log directory containing tfevent files"),e.selectAnotherFolder=r.l10n.t("Select another folder"),e.selectAnotherFolderDetail=r.l10n.t("Use the file explorer to select another folder"),e.installPrompt=r.l10n.t("The package TensorBoard is required to launch a TensorBoard session. Would you like to install it?"),e.installTensorBoardAndProfilerPluginPrompt=r.l10n.t("TensorBoard >= 2.4.1 and the PyTorch Profiler TensorBoard plugin >= 0.2.0 are required. Would you like to install these packages?"),e.installProfilerPluginPrompt=r.l10n.t("We recommend installing version >= 0.2.0 of the PyTorch Profiler TensorBoard plugin. Would you like to install the package?"),e.upgradePrompt=r.l10n.t("Integrated TensorBoard support is only available for TensorBoard >= 2.4.1. Would you like to upgrade your copy of TensorBoard?"),e.missingSourceFile=r.l10n.t("The Python extension could not locate the requested source file on disk. Please manually specify the file."),e.selectMissingSourceFile=r.l10n.t("Choose File"),e.selectMissingSourceFileDescription=r.l10n.t("The source file's contents may not match the original contents in the trace.")}(p||(t.TensorBoard=p={})),function(e){e.virtualWorkspaceStatusItem={detail:r.l10n.t("Limited IntelliSense supported by Jedi and Pylance")},e.statusItem={name:r.l10n.t("Python IntelliSense Status"),text:r.l10n.t("Partial Mode"),detail:r.l10n.t("Limited IntelliSense provided by Pylance")},e.startingPylance=r.l10n.t("Starting Pylance language server."),e.startingNone=r.l10n.t("Editor support is inactive since language server is set to None."),e.untrustedWorkspaceMessage=r.l10n.t("Only Pylance is supported in untrusted workspaces, setting language server to None."),e.reloadAfterLanguageServerChange=r.l10n.t("Reload the window after switching between language servers."),e.lsFailedToStart=r.l10n.t("We encountered an issue starting the language server. Reverting to Jedi language engine. Check the Python output panel for details."),e.lsFailedToDownload=r.l10n.t("We encountered an issue downloading the language server. Reverting to Jedi language engine. Check the Python output panel for details."),e.lsFailedToExtract=r.l10n.t("We encountered an issue extracting the language server. Reverting to Jedi language engine. Check the Python output panel for details."),e.downloadFailedOutputMessage=r.l10n.t("Language server download failed."),e.extractionFailedOutputMessage=r.l10n.t("Language server extraction failed."),e.extractionCompletedOutputMessage=r.l10n.t("Language server download complete."),e.extractionDoneOutputMessage=r.l10n.t("done."),e.reloadVSCodeIfSeachPathHasChanged=r.l10n.t("Search paths have changed for this Python interpreter. Reload the extension to ensure that the IntelliSense works correctly.")}(d||(t.LanguageService=d={})),function(e){e.requireJupyter=r.l10n.t("Running in Interactive window requires Jupyter Extension. Would you like to install it? [Learn more](https://aka.ms/pythonJupyterSupport)."),e.installingPython=r.l10n.t("Installing Python into Environment..."),e.discovering=r.l10n.t("Discovering Python Interpreters"),e.refreshing=r.l10n.t("Refreshing Python Interpreters"),e.condaInheritEnvMessage=r.l10n.t('We noticed you\'re using a conda environment. If you are experiencing issues with this environment in the integrated terminal, we recommend that you let the Python extension change "terminal.integrated.inheritEnv" to false in your user settings. [Learn more](https://aka.ms/AA66i8f).'),e.activatingTerminals=r.l10n.t("Reactivating terminals..."),e.activateTerminalDescription=r.l10n.t("Activated environment for"),e.terminalEnvVarCollectionPrompt=r.l10n.t("{0} environment was successfully activated, even though {1} indicator may not be present in the terminal prompt. [Learn more](https://aka.ms/vscodePythonTerminalActivation)."),e.terminalDeactivateProgress=r.l10n.t("Editing {0}..."),e.restartingTerminal=r.l10n.t("Restarting terminal and deactivating..."),e.terminalDeactivatePrompt=r.l10n.t('Deactivating virtual environments may not work by default. To make it work, edit your "{0}" and then restart your shell. [Learn more](https://aka.ms/AAmx2ft).'),e.activatedCondaEnvLaunch=r.l10n.t("We noticed VS Code was launched from an activated conda environment, would you like to select it?"),e.environmentPromptMessage=r.l10n.t("We noticed a new environment has been created. Do you want to select it for the workspace folder?"),e.entireWorkspace=r.l10n.t("Select at workspace level"),e.clearAtWorkspace=r.l10n.t("Clear at workspace level"),e.selectInterpreterTip=r.l10n.t("Tip: you can change the Python interpreter used by the Python extension by clicking on the Python version in the status bar"),e.installPythonTerminalMessageLinux=r.l10n.t(" Try installing the Python package using your package manager. Alternatively you can also download it from https://www.python.org/downloads"),e.installPythonTerminalMacMessage=r.l10n.t(" Brew does not seem to be available. You can download Python from https://www.python.org/downloads. Alternatively, you can install the Python package using some other available package manager."),e.changePythonInterpreter=r.l10n.t("Change Python Interpreter"),e.selectedPythonInterpreter=r.l10n.t("Selected Python Interpreter")}(h||(t.Interpreters=h={})),function(e){e.condaEnvWithoutPythonTooltip=r.l10n.t("Python is not available in this environment, it will automatically be installed upon selecting it"),e.noPythonInstalled=r.l10n.t("Python is not installed"),e.clickForInstructions=r.l10n.t("Click for instructions..."),e.globalGroupName=r.l10n.t("Global"),e.workspaceGroupName=r.l10n.t("Workspace"),e.enterPath={label:r.l10n.t("Enter interpreter path..."),placeholder:r.l10n.t("Enter path to a Python interpreter.")},e.defaultInterpreterPath={label:r.l10n.t("Use Python from `python.defaultInterpreterPath` setting")},e.browsePath={label:r.l10n.t("Find..."),detail:r.l10n.t("Browse your file system to find a Python interpreter."),openButtonLabel:r.l10n.t("Select Interpreter"),title:r.l10n.t("Select Python interpreter")},e.refreshInterpreterList=r.l10n.t("Refresh Interpreter list"),e.refreshingInterpreterList=r.l10n.t("Refreshing Interpreter list..."),e.create={label:r.l10n.t("Create Virtual Environment...")}}(f||(t.InterpreterQuickPickList=f={})),function(e){e.languageServer=r.l10n.t("Python Language Server"),e.python=r.l10n.t("Python")}(v||(t.OutputChannelNames=v={})),function(e){e.selectLinter=r.l10n.t("Select Linter")}(g||(t.Linters=g={})),function(e){e.noCondaOrPipInstaller=r.l10n.t("There is no Conda or Pip installer available in the selected environment."),e.noPipInstaller=r.l10n.t("There is no Pip installer available in the selected environment."),e.searchForHelp=r.l10n.t("Search for help")}(m||(t.Installer=m={})),function(e){e.bannerMessage=r.l10n.t("Can you take 2 minutes to tell us how the Python extension is working for you?"),e.bannerLabelYes=r.l10n.t("Yes, take survey now"),e.bannerLabelNo=r.l10n.t("No, thanks"),e.maybeLater=r.l10n.t("Maybe later")}(y||(t.ExtensionSurveyBanner=y={})),function(e){let t,n,i,o,s,a,c,l;e.selectConfiguration={title:r.l10n.t("Select a debug configuration"),placeholder:r.l10n.t("Debug Configuration")},e.launchJsonCompletions={label:r.l10n.t("Python"),description:r.l10n.t("Select a Python debug configuration")},function(e){e.snippet={name:r.l10n.t("Python: Current File")},e.selectConfiguration={label:r.l10n.t("Python File"),description:r.l10n.t("Debug the currently active Python file")}}(t=e.file||(e.file={})),function(e){e.snippet={name:r.l10n.t("Python: Module"),default:r.l10n.t("enter-your-module-name")},e.selectConfiguration={label:r.l10n.t("Module"),description:r.l10n.t("Debug a Python module by invoking it with '-m'")},e.enterModule={title:r.l10n.t("Debug Module"),prompt:r.l10n.t("Enter a Python module/package name"),default:r.l10n.t("enter-your-module-name"),invalid:r.l10n.t("Enter a valid module name")}}(n=e.module||(e.module={})),function(e){e.snippet={name:r.l10n.t("Python: Remote Attach")},e.selectConfiguration={label:r.l10n.t("Remote Attach"),description:r.l10n.t("Attach to a remote debug server")},e.enterRemoteHost={title:r.l10n.t("Remote Debugging"),prompt:r.l10n.t("Enter a valid host name or IP address"),invalid:r.l10n.t("Enter a valid host name or IP address")},e.enterRemotePort={title:r.l10n.t("Remote Debugging"),prompt:r.l10n.t("Enter the port number that the debug server is listening on"),invalid:r.l10n.t("Enter a valid port number")}}(i=e.attach||(e.attach={})),function(e){e.snippet={name:r.l10n.t("Python: Attach using Process Id")},e.selectConfiguration={label:r.l10n.t("Attach using Process ID"),description:r.l10n.t("Attach to a local process")}}(o=e.attachPid||(e.attachPid={})),function(e){e.snippet={name:r.l10n.t("Python: Django")},e.selectConfiguration={label:r.l10n.t("Django"),description:r.l10n.t("Launch and debug a Django web application")},e.enterManagePyPath={title:r.l10n.t("Debug Django"),prompt:r.l10n.t("Enter the path to manage.py ('${workspaceFolder}' points to the root of the current workspace folder)"),invalid:r.l10n.t("Enter a valid Python file path")}}(s=e.django||(e.django={})),function(e){e.snippet={name:r.l10n.t("Python: FastAPI")},e.selectConfiguration={label:r.l10n.t("FastAPI"),description:r.l10n.t("Launch and debug a FastAPI web application")},e.enterAppPathOrNamePath={title:r.l10n.t("Debug FastAPI"),prompt:r.l10n.t("Enter the path to the application, e.g. 'main.py' or 'main'"),invalid:r.l10n.t("Enter a valid name")}}(a=e.fastapi||(e.fastapi={})),function(e){e.snippet={name:r.l10n.t("Python: Flask")},e.selectConfiguration={label:r.l10n.t("Flask"),description:r.l10n.t("Launch and debug a Flask web application")},e.enterAppPathOrNamePath={title:r.l10n.t("Debug Flask"),prompt:r.l10n.t("Python: Flask"),invalid:r.l10n.t("Enter a valid name")}}(c=e.flask||(e.flask={})),function(e){e.snippet={name:r.l10n.t("Python: Pyramid Application")},e.selectConfiguration={label:r.l10n.t("Pyramid"),description:r.l10n.t("Launch and debug a Pyramid web application")},e.enterDevelopmentIniPath={title:r.l10n.t("Debug Pyramid"),invalid:r.l10n.t("Enter a valid file path")}}(l=e.pyramid||(e.pyramid={}))}(b||(t.DebugConfigStrings=b={})),function(e){e.configureTests=r.l10n.t("Configure Test Framework"),e.testNotConfigured=r.l10n.t("No test framework configured."),e.cancelUnittestDiscovery=r.l10n.t("Canceled unittest test discovery"),e.errorUnittestDiscovery=r.l10n.t("Unittest test discovery error"),e.cancelPytestDiscovery=r.l10n.t("Canceled pytest test discovery"),e.errorPytestDiscovery=r.l10n.t("pytest test discovery error"),e.seePythonOutput=r.l10n.t("(see Output > Python)"),e.cancelUnittestExecution=r.l10n.t("Canceled unittest test execution"),e.errorUnittestExecution=r.l10n.t("Unittest test execution error"),e.cancelPytestExecution=r.l10n.t("Canceled pytest test execution"),e.errorPytestExecution=r.l10n.t("pytest test execution error"),e.copilotSetupMessage=r.l10n.t("Confirm your Python testing framework to enable test discovery.")}(_||(t.Testing=_={})),function(e){e.outdatedDebuggerMessage=r.l10n.t("We noticed you are attaching to ptvsd (Python debugger), which was deprecated on May 1st, 2020. Use [debugpy](https://aka.ms/migrateToDebugpy) instead.")}(E||(t.OutdatedDebugger=E={})),function(e){e.jediMessage=r.l10n.t("IntelliSense with Jedi for Python 2.7 is no longer supported. [Learn more](https://aka.ms/python-27-support).")}(S||(t.Python27Support=S={})),function(e){e.bannerMessage=r.l10n.t("The Microsoft Python Language Server has reached end of life. Your language server has been set to the default for Python in VS Code, Pylance.\n\nIf you'd like to change your language server, you can learn about how to do so [here](https://devblogs.microsoft.com/python/python-in-visual-studio-code-may-2021-release/#configuring-your-language-server).\n\nRead Pylance's license [here](https://marketplace.visualstudio.com/items/ms-python.vscode-pylance/license).")}(w||(t.SwitchToDefaultLS=w={})),function(e){let t,n,i;e.informEnvCreation=r.l10n.t("The following environment is selected:"),e.statusTitle=r.l10n.t("Creating environment"),e.statusStarting=r.l10n.t("Starting..."),e.hasVirtualEnv=r.l10n.t("Workspace folder contains a virtual environment"),e.noWorkspace=r.l10n.t("A workspace is required when creating an environment using venv."),e.pickWorkspacePlaceholder=r.l10n.t("Select a workspace to create environment"),e.providersQuickPickPlaceholder=r.l10n.t("Select an environment type"),function(e){e.creating=r.l10n.t("Creating venv..."),e.creatingMicrovenv=r.l10n.t("Creating microvenv..."),e.created=r.l10n.t("Environment created..."),e.existing=r.l10n.t("Using existing environment..."),e.downloadingPip=r.l10n.t("Downloading pip..."),e.installingPip=r.l10n.t("Installing pip..."),e.upgradingPip=r.l10n.t("Upgrading pip..."),e.installingPackages=r.l10n.t("Installing packages..."),e.errorCreatingEnvironment=r.l10n.t("Error while creating virtual environment."),e.selectPythonPlaceHolder=r.l10n.t("Select a Python installation to create the virtual environment"),e.providerDescription=r.l10n.t("Creates a `.venv` virtual environment in the current workspace"),e.error=r.l10n.t("Creating virtual environment failed with error."),e.tomlExtrasQuickPickTitle=r.l10n.t("Select optional dependencies to install from pyproject.toml"),e.requirementsQuickPickTitle=r.l10n.t("Select dependencies to install"),e.recreate=r.l10n.t("Delete and Recreate"),e.recreateDescription=r.l10n.t('Delete existing ".venv" directory and create a new ".venv" environment'),e.useExisting=r.l10n.t("Use Existing"),e.useExistingDescription=r.l10n.t('Use existing ".venv" environment with no changes to it'),e.existingVenvQuickPickPlaceholder=r.l10n.t('Choose an option to handle the existing ".venv" environment'),e.deletingEnvironmentProgress=r.l10n.t('Deleting existing ".venv" environment...'),e.errorDeletingEnvironment=r.l10n.t('Error while deleting existing ".venv" environment.'),e.openRequirementsFile=r.l10n.t("Open requirements file")}(t=e.Venv||(e.Venv={})),function(e){e.condaMissing=r.l10n.t("Install `conda` to create conda environments."),e.created=r.l10n.t("Environment created..."),e.installingPackages=r.l10n.t("Installing packages..."),e.errorCreatingEnvironment=r.l10n.t("Error while creating conda environment."),e.selectPythonQuickPickPlaceholder=r.l10n.t("Select the version of Python to install in the environment"),e.creating=r.l10n.t("Creating conda environment..."),e.providerDescription=r.l10n.t("Creates a `.conda` Conda environment in the current workspace"),e.recreate=r.l10n.t("Delete and Recreate"),e.recreateDescription=r.l10n.t('Delete existing ".conda" environment and create a new one'),e.useExisting=r.l10n.t("Use Existing"),e.useExistingDescription=r.l10n.t('Use existing ".conda" environment with no changes to it'),e.existingCondaQuickPickPlaceholder=r.l10n.t('Choose an option to handle the existing ".conda" environment'),e.deletingEnvironmentProgress=r.l10n.t('Deleting existing ".conda" environment...'),e.errorDeletingEnvironment=r.l10n.t('Error while deleting existing ".conda" environment.')}(n=e.Conda||(e.Conda={})),function(e){e.workspaceTriggerMessage=r.l10n.t("A virtual environment is not currently selected for your Python interpreter. Would you like to create a virtual environment?"),e.createEnvironment=r.l10n.t("Create"),e.globalPipInstallTriggerMessage=r.l10n.t("You may have installed Python packages into your global environment, which can cause conflicts between package versions. Would you like to create a virtual environment with these packages to isolate your dependencies?")}(i=e.Trigger||(e.Trigger={}))}(P||(t.CreateEnv=P={}))},98803:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNotebookCell=t.getURIFilter=t.isResource=t.noop=void 0;const r=n(552),i=n(25943);t.noop=function(){},t.isResource=function(e){if(!e)return!0;const t=e;return"string"==typeof t.path&&"string"==typeof t.scheme},t.getURIFilter=function(e,t={checkParent:!0}){let n=e.path;for(;n.endsWith("/");)n=n.slice(0,-1);const r=`${n}/`;return function(e){let o=e.path;for(;o.endsWith("/");)o=o.slice(0,-1);if(t.checkParent&&(0,i.isParentPath)(o,r))return!0;if(t.checkChild){const e=`${o}/`;if((0,i.isParentPath)(n,e))return!0}return!1}},t.isNotebookCell=function(e){const t=function(e){if(!e)return!1;const t=e;return"string"==typeof t.path&&"string"==typeof t.scheme}(e)?e:e.uri;return t.scheme.includes(r.NotebookCellScheme)||t.scheme.includes(r.InteractiveInputScheme)}},70670:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.MultiStepInputFactory=t.IMultiStepInputFactory=t.MultiStepInput=t.InputFlowAction=void 0;const o=n(25891),s=n(54980),a=n(54661),c=n(7855);class l{constructor(){}}t.InputFlowAction=l,l.back=new l,l.cancel=new l,l.resume=new l;class u{constructor(e){this.shell=e,this.steps=[]}run(e,t){return this.stepThrough(e,t)}async showQuickPick({title:e,step:t,totalSteps:n,items:r,activeItem:i,placeholder:o,customButtonSetups:a,matchOnDescription:u,matchOnDetail:p,acceptFilterBoxTextAsSelection:d,onChangeItem:h,keepScrollPosition:f,sortByLabel:v,initialize:g}){const m=[],y=this.shell.createQuickPick();if(y.title=e,y.step=t,y.sortByLabel=v||!1,y.totalSteps=n,y.placeholder=o,y.ignoreFocusOut=!0,y.items=r,y.matchOnDescription=u||!1,y.matchOnDetail=p||!1,y.buttons=this.steps.length>1?[s.QuickInputButtons.Back]:[],a)for(const e of a)y.buttons=[...y.buttons,e.button];this.current&&this.current.dispose(),this.current=y,h&&m.push(h.event((e=>h.callback(e,y)))),g&&g(y),i?"function"==typeof i&&i(y).then((e=>{0===y.activeItems.length&&(y.activeItems=[e])})):y.activeItems=[],this.current.show(),y.keepScrollPosition=f;const b=(0,c.createDeferred)();m.push(y.onDidTriggerButton((async e=>{if(e===s.QuickInputButtons.Back&&(b.reject(l.back),y.hide()),a)for(const t of a)JSON.stringify(e)===JSON.stringify(null==t?void 0:t.button)&&await(null==t?void 0:t.callback(y))})),y.onDidChangeSelection((e=>b.resolve(e[0]))),y.onDidHide((()=>{b.completed||b.resolve(void 0)}))),d&&m.push(y.onDidAccept((()=>{b.resolve(y.value)})));try{return await b.promise}finally{m.forEach((e=>e.dispose()))}}async showInputBox({title:e,step:t,totalSteps:n,value:r,prompt:i,validate:o,password:a,buttons:c}){const u=[];try{return await new Promise(((p,d)=>{const h=this.shell.createInputBox();h.title=e,h.step=t,h.totalSteps=n,h.password=!!a,h.value=r||"",h.prompt=i,h.ignoreFocusOut=!0,h.buttons=[...this.steps.length>1?[s.QuickInputButtons.Back]:[],...c||[]];let f=o("");u.push(h.onDidTriggerButton((e=>{e===s.QuickInputButtons.Back?d(l.back):p(e)})),h.onDidAccept((async()=>{const e=h.value;h.enabled=!1,h.busy=!0,await o(e)||p(e),h.enabled=!0,h.busy=!1})),h.onDidChangeValue((async e=>{const t=o(e);f=t;const n=await t;t===f&&(h.validationMessage=n)})),h.onDidHide((()=>{p(void 0)}))),this.current&&this.current.dispose(),this.current=h,this.current.show()}))}finally{u.forEach((e=>e.dispose()))}}async stepThrough(e,t){let n=e;for(;n;){this.steps.push(n),this.current&&(this.current.enabled=!1,this.current.busy=!0);try{n=await n(this,t)}catch(e){if(e===l.back){if(this.steps.pop(),n=this.steps.pop(),void 0===n)throw e}else if(e===l.resume)n=this.steps.pop();else{if(e!==l.cancel)throw e;n=void 0}}}this.current&&this.current.dispose()}}t.MultiStepInput=u,t.IMultiStepInputFactory=Symbol("IMultiStepInputFactory");let p=class{constructor(e){this.shell=e}create(){return new u(this.shell)}};t.MultiStepInputFactory=p,t.MultiStepInputFactory=p=r([(0,o.injectable)(),i(0,(0,o.inject)(a.IApplicationShell))],p)},48112:(e,t,n)=>{"use strict";var r,i;function o(e=process.platform){return/^win/.test(e)?i.Windows:/^darwin/.test(e)?i.OSX:/^linux/.test(e)?i.Linux:i.Unknown}Object.defineProperty(t,"__esModule",{value:!0}),t.getPathEnvVariable=t.isWindows=t.getUserHomeDir=t.getEnvironmentVariable=t.getArchitecture=t.getOSType=t.OSType=t.Architecture=void 0,function(e){e[e.Unknown=1]="Unknown",e[e.x86=2]="x86",e[e.x64=3]="x64"}(r||(t.Architecture=r={})),function(e){e.Unknown="Unknown",e.Windows="Windows",e.OSX="OSX",e.Linux="Linux"}(i||(t.OSType=i={})),t.getOSType=o;const s={x86:r.x86,x64:r.x64,"":r.Unknown};function a(e){return process.env[e]}function c(){return o()===i.Windows}t.getArchitecture=function(){const e=s[process.arch];if(void 0!==e)return e;const t=n(59241);return s[t()]||r.Unknown},t.getEnvironmentVariable=a,t.getUserHomeDir=function(){return o()===i.Windows?a("USERPROFILE"):a("HOME")||a("HOMEPATH")},t.isWindows=c,t.getPathEnvVariable=function(){const e=a("PATH")||a("Path");return e?e.split(c()?";":":"):[]}},41140:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Random=void 0;const a=s(n(76982)),c=n(25891);let l=class{getRandomInt(e=0,t=10){return function(e=0,t=10){return e+function(){let e=0;const t=a.randomBytes(2);return e=(t.readUInt8(0)<<8)+t.readUInt8(1),e/(Math.pow(16,4)-1)}()*(t-e)}(e,t)}};t.Random=l,t.Random=l=o([(0,c.injectable)()],l)},5406:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.verboseRegExp=void 0,t.verboseRegExp=function(e,t){return e=(e=e.replace(/(^| {2})# .*$/gm,"")).replace(/\s+?/g,""),RegExp(e,t)}},51271:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DisposableBase=t.DisposableStore=t.Disposables=t.disposeAll=t.dispose=t.EmptyDisposable=void 0;const r=n(61905),i=n(6301);function o(e){if(i.Iterable.is(e)){for(const t of e)if(t)try{t.dispose()}catch(e){(0,r.traceWarn)(`dispose() failed for ${t}`,e)}return Array.isArray(e)?[]:e}if(e)return e.dispose(),e}async function s(e){await Promise.all(e.map((async e=>{try{return Promise.resolve(e.dispose())}catch(e){}return Promise.resolve()})))}t.EmptyDisposable={dispose:()=>{}},t.dispose=o,t.disposeAll=s,t.Disposables=class{constructor(...e){this.disposables=[],this.disposables.push(...e)}push(...e){this.disposables.push(...e)}async dispose(){const{disposables:e}=this;this.disposables=[],await s(e)}};class a{constructor(...e){this._toDispose=new Set,this._isDisposed=!1,e.forEach((e=>this.add(e)))}dispose(){this._isDisposed||(this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(0!==this._toDispose.size)try{o(this._toDispose)}finally{this._toDispose.clear()}}add(e){if(!e)return e;if(e===this)throw new Error("Cannot register a disposable on itself!");return this._isDisposed?a.DISABLE_DISPOSED_WARNING||(0,r.traceWarn)(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(e),e}}t.DisposableStore=a,a.DISABLE_DISPOSED_WARNING=!1,t.DisposableBase=class{get isDisposed(){return this._isDisposed}constructor(...e){this._store=new a,this._isDisposed=!1,e.forEach((e=>this._store.add(e)))}dispose(){this._store.dispose(),this._isDisposed=!0}_register(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(e)}}},91738:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.runAfterActivation=t.addItemsToRunAfterActivation=void 0;const n=[];let r=!1;t.addItemsToRunAfterActivation=function(e){r?e():n.push(e)},t.runAfterActivation=function(){for(r=!0;n.length>0;){const e=n.shift();e&&e()}}},51080:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StopWatch=void 0,t.StopWatch=class{constructor(){this.started=(new Date).getTime()}get elapsedTime(){return(new Date).getTime()-this.started}reset(){this.started=(new Date).getTime()}}},75941:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNumber=t.isObject=t.isString=t.isArray=void 0;const n="number";t.isArray=function(e){return Array.isArray?Array.isArray(e):!(!e||typeof e.length!==n||e.constructor!==Array)},t.isString=function(e){return"string"==typeof e||e instanceof String},t.isObject=function(e){return!("object"!=typeof e||null===e||Array.isArray(e)||e instanceof RegExp||e instanceof Date)},t.isNumber=function(e){return(typeof e===n||e instanceof Number)&&!isNaN(e)}},8727:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.parseSemVerSafe=t.areSimilarVersions=t.areIdenticalVersion=t.parseVersionInfo=t.validateVersionInfo=t.normalizeVersionInfo=t.compareVersions=t.isVersionInfoEmpty=t.parseBasicVersionInfo=t.getVersionString=t.EMPTY_VERSION=void 0;const s=o(n(99589)),a=n(5406);function c(e){if("number"==typeof e)return Number.isNaN(e)?[-1,"missing"]:e<0?[-1,""]:[e,""];if("string"==typeof e){const t=parseInt(e,10);return Number.isNaN(t)?[-1,"string not numeric"]:t<0?[-1,""]:[t,""]}return null==e?[-1,"missing"]:[-1,"unsupported type"]}function l(e,t,n){if(!(0===t||t>0)&&n&&""!==n)throw Error(`invalid ${e} version (failed to normalize; ${n})`)}t.EMPTY_VERSION={major:-1,minor:-1,micro:-1},Object.freeze(t.EMPTY_VERSION),t.getVersionString=function(e){return e.major<0?"":e.minor<0?`${e.major}`:e.micro<0?`${e.major}.${e.minor}`:`${e.major}.${e.minor}.${e.micro}`};const u=(0,a.verboseRegExp)("\n    ^\n    (.*?)  # <before>\n    (\\d+)  # <major>\n    (?:\n        [.]\n        (\\d+)  # <minor>\n        (?:\n            [.]\n            (\\d+)  # <micro>\n        )?\n    )?\n    ([^\\d].*)?  # <after>\n    $\n","s");function p(e){const t=e.match(u);if(!t)return;const[,n,r,i,o,s]=t;if(!n||!n.endsWith(".")){if(s&&""!==s){if("."===s)return;if(!(n&&""!==n||o&&""!==o))return}return{version:{major:parseInt(r,10),minor:i?parseInt(i,10):-1,micro:o?parseInt(o,10):-1},before:n||"",after:s||""}}}function d(e,t,n){return e.major<t.major?[1,"major"]:e.major>t.major?[-1,"major"]:-1===e.major?[0,""]:e.minor<t.minor?[1,"minor"]:e.minor>t.minor?[-1,"minor"]:-1===e.minor?[0,""]:e.micro<t.micro?[1,"micro"]:e.micro>t.micro?[-1,"micro"]:void 0!==n?n(e,t):[0,""]}t.parseBasicVersionInfo=p,t.isVersionInfoEmpty=function(e){return!!e&&"number"==typeof e.major&&"number"==typeof e.minor&&"number"==typeof e.micro&&e.major<0&&e.minor<0&&e.micro<0},t.compareVersions=d,t.normalizeVersionInfo=function(e){const n=function(e){if(!e)return t.EMPTY_VERSION;const n=function(e){const t={major:e.major,minor:e.minor,micro:e.micro},{unnormalized:n}=e;return void 0!==n&&(t.unnormalized={major:n.major,minor:n.minor,micro:n.micro}),t}(e);return void 0===n.unnormalized&&(n.unnormalized={},[n.major,n.unnormalized.major]=c(n.major),[n.minor,n.unnormalized.minor]=c(n.minor),[n.micro,n.unnormalized.micro]=c(n.micro)),n}(e);return n.raw=e.raw,n.raw||(n.raw=""),n},t.validateVersionInfo=function(e){!function(e){var t,n,r;const i=e;if(l("major",e.major,null===(t=i.unnormalized)||void 0===t?void 0:t.major),l("minor",e.minor,null===(n=i.unnormalized)||void 0===n?void 0:n.minor),l("micro",e.micro,null===(r=i.unnormalized)||void 0===r?void 0:r.micro),e.major<0)throw Error("missing major version");if(e.minor<0&&(0===e.micro||e.micro>0))throw Error("missing minor version")}(e)},t.parseVersionInfo=function(e){const t=p(e);if(void 0!==t)return t.version.raw=e,t},t.areIdenticalVersion=function(e,t,n){const[r]=d(e,t,n);return 0===r},t.areSimilarVersions=function(e,t,n){const[r,i]=d(e,t,n);return 0===r||"major"!==i&&(r<0?-1===t[i]:-1===e[i])},t.parseSemVerSafe=function(e){e=e.replace(/\.00*(?=[1-9]|0\.)/,".");const t=s.coerce(e);return null!==t&&s.valid(t)?t:new s.SemVer("0.0.0")}},79979:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createRunningWorkerPool=t.QueuePosition=void 0;const r=n(61905),i=n(7855);var o;!function(e){e[e.Back=0]="Back",e[e.Front=1]="Front"}(o||(t.QueuePosition=o={}));class s{constructor(e,t,n,r){this.next=e,this.workFunc=t,this.postResult=n,this.name=r,this.stopProcessing=!1}stop(){this.stopProcessing=!0}async start(){for(;!this.stopProcessing;)try{const e=await this.next();try{const t=await this.workFunc(e);this.postResult(e,t)}catch(t){this.postResult(e,void 0,t)}}catch(e){(0,r.traceError)(`Error while running worker[${this.name}].`,e);continue}}}class a{constructor(){this.items=[],this.results=new Map}add(e,t){const n={item:e};t===o.Front?this.items.unshift(n):this.items.push(n);const r=(0,i.createDeferred)();return this.results.set(n,r),r.promise}completed(e,t,n){const r=this.results.get(e);void 0!==r&&(this.results.delete(e),void 0!==n&&r.reject(n),r.resolve(t))}next(){return this.items.shift()}clear(){this.results.forEach(((e,t,n)=>{e.reject(Error("Queue stopped processing")),n.delete(t)}))}}class c{constructor(e,t=2,n="Worker"){this.workerFunc=e,this.numWorkers=t,this.name=n,this.workers=[],this.waitingWorkersUnblockQueue=[],this.queue=new a,this.stopProcessing=!1}addToQueue(e,t){if(this.stopProcessing)throw Error("Queue is stopped");const n=this.queue.add(e,t),i=this.waitingWorkersUnblockQueue.shift();if(i){const e=this.queue.next();void 0!==e?i.unblock(e):(0,r.traceError)("Work queue was empty immediately after adding item.")}return n}start(){this.stopProcessing=!1;let e=this.numWorkers;for(;e>0;)this.workers.push(new s((()=>this.nextWorkItem()),(e=>this.workerFunc(e.item)),((e,t,n)=>this.queue.completed(e,t,n)),`${this.name} ${e}`)),e-=1;this.workers.forEach((async e=>e.start()))}stop(){this.stopProcessing=!0;let e=this.workers.shift();for(;e;)e.stop(),e=this.workers.shift();this.queue.clear();let t=this.waitingWorkersUnblockQueue.shift();for(;t;)t.stop(),t=this.waitingWorkersUnblockQueue.shift()}nextWorkItem(){const e=this.queue.next();return void 0!==e?Promise.resolve(e):new Promise(((e,t)=>{this.waitingWorkersUnblockQueue.push({unblock:n=>{this.stopProcessing&&t(),e(n)},stop:()=>{t()}})}))}}t.createRunningWorkerPool=function(e,t,n){const r=new c(e,t,n);return r.start(),r}},76722:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.matchTarget=t.restoreKeys=t.normCaseKeys=t.parseEnvFile=t.EnvironmentVariablesService=void 0;const c=n(25943),l=n(25891),u=s(n(16928)),p=n(61905),d=n(51535),h=n(53322),f=n(22408),v=n(86156),g=n(25943);let m=class{constructor(e,t){this.pathUtils=e,this.fs=t}async parseFile(e,t){if(!e||!await this.fs.pathExists(e))return;const n=await this.fs.readFile(e).catch((e=>{(0,p.traceError)("Custom .env is likely not pointing to a valid file",e)}));return n?y(n,t):void 0}parseFileSync(e,t){if(!e||!(0,c.pathExistsSync)(e))return;let n;try{n=(0,c.readFileSync)(e,{encoding:"utf8"})}catch(e){(0,p.traceError)("Custom .env is likely not pointing to a valid file",e)}return n?y(n,t):void 0}mergeVariables(e,t,n){if(!t)return;const r=t;t=_(t),e=_(e);const i=["PYTHONPATH",this.pathVariable];Object.keys(e).forEach((r=>{!(null==n?void 0:n.mergeAll)&&i.indexOf(r)>=0||(void 0===t[r]||(null==n?void 0:n.overwrite))&&(t[r]=e[r])})),E(t),S(r,t)}appendPythonPath(e,...t){return this.appendPaths(e,"PYTHONPATH",...t)}appendPath(e,...t){return this.appendPaths(e,this.pathVariable,...t)}get pathVariable(){return this._pathVariable||(this._pathVariable=this.pathUtils.getPathVariableName()),(0,g.normCase)(this._pathVariable)}appendPaths(e,t,...n){const r=e;return e=_(e),t=(0,g.normCase)(t),E(e=this._appendPaths(e,t,...n)),S(r,e),e}_appendPaths(e,t,...n){const r=n.filter((e=>"string"==typeof e&&e.trim().length>0)).map((e=>e.trim())).join(u.delimiter);if(0===r.length)return e;const i=e?e[t]:void 0;return i&&"string"==typeof i&&i.length>0?e[t]=i+u.delimiter+r:e[t]=r,e}};function y(e,t){const n=t||{},r={};return e.toString().split("\n").forEach(((e,t)=>{const[i,o]=function(e){const t=e.match(/^\s*(_*[a-zA-Z]\w*)\s*=\s*(.*?)?\s*$/);if(!t)return["",""];const n=t[1];let r=t[2];return r&&""!==r?("'"===r[0]&&"'"===r[r.length-1]||'"'===r[0]&&'"'===r[r.length-1])&&(r=r.substring(1,r.length-1),r=r.replace(/\\n/gm,"\n")):r="",[n,r]}(e);""!==i&&(r[i]=function(e,t,n,r=""){let i=!1,o=e;return o=o.replace(b,((e,o,s,a,c)=>a>0&&"\\"===c[a-1]?e:s&&""!==s||!o||""===o?(i=!0,e):t[o]||n[o]||r)),i||o===e||(e=o,(0,d.sendTelemetryEvent)(h.EventName.ENVFILE_VARIABLE_SUBSTITUTION)),e.replace(/\\\$/g,"$")}(o,r,n))})),r}t.EnvironmentVariablesService=m,t.EnvironmentVariablesService=m=o([(0,l.injectable)(),a(0,(0,l.inject)(v.IPathUtils)),a(1,(0,l.inject)(f.IFileSystem))],m),t.parseEnvFile=y;const b=/\${([a-zA-Z]\w*)?([^}\w].*)?}/g;function _(e){const t={};return Object.keys(e).forEach((n=>{const r=(0,g.normCase)(n);t[r]=e[n]})),t}function E(e){Object.keys(process.env).forEach((t=>{const n=(0,g.normCase)(t);n!==t&&void 0!==e[n]&&(e[t]=e[n],delete e[n])}))}function S(e,t){Object.keys(e).forEach((n=>{t.hasOwnProperty(n)?e[n]=t[n]:delete e[n]})),Object.keys(t).forEach((n=>{e.hasOwnProperty(n)||(e[n]=t[n])}))}t.normCaseKeys=_,t.restoreKeys=E,t.matchTarget=S},52160:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.EnvironmentVariablesProvider=void 0;const c=n(25891),l=s(n(16928)),u=n(54980),p=n(61905),d=n(63999),h=n(54661),f=n(41414),v=n(22408),g=n(86156),m=n(99652),y=n(79985),b=n(53694);let _=class{constructor(e,t,n,r,i,o=36e5){this.envVarsService=e,this.platformService=n,this.workspaceService=r,this.process=i,this.cacheDuration=o,this.trackedWorkspaceFolders=new Set,this.fileWatchers=new Map,this.disposables=[],this.envVarCaches=new Map,t.push(this),this.changeEventEmitter=new u.EventEmitter;const s=this.workspaceService.onDidChangeConfiguration(this.configurationChanged,this);this.disposables.push(s)}get onDidEnvironmentVariablesChange(){return this.changeEventEmitter.event}dispose(){this.changeEventEmitter.dispose(),this.fileWatchers.forEach((e=>{e&&e.dispose()}))}async getEnvironmentVariables(e){const t=this.getCachedEnvironmentVariables(e);if(t)return t;const n=await this._getEnvironmentVariables(e);return this.setCachedEnvironmentVariables(e,n),(0,p.traceVerbose)("Dump environment variables",JSON.stringify(n,null,4)),n}getEnvironmentVariablesSync(e){const t=this.getCachedEnvironmentVariables(e);if(t)return t;const n=this._getEnvironmentVariablesSync(e);return this.setCachedEnvironmentVariables(e,n),n}getCachedEnvironmentVariables(e){var t,n;const r=null!==(n=null===(t=this.getWorkspaceFolderUri(e))||void 0===t?void 0:t.fsPath)&&void 0!==n?n:"",i=this.envVarCaches.get(r);if(i){const e=i.data;if(e)return{...e}}}setCachedEnvironmentVariables(e,t){var n,r;const i=null!==(r=null===(n=this.getWorkspaceFolderUri(e))||void 0===n?void 0:n.fsPath)&&void 0!==r?r:"",o=new m.InMemoryCache(this.cacheDuration);this.envVarCaches.set(i,o),o.data={...t}}async _getEnvironmentVariables(e){const t=await this.getCustomEnvironmentVariables(e);return this.getMergedEnvironmentVariables(t)}_getEnvironmentVariablesSync(e){const t=this.getCustomEnvironmentVariablesSync(e);return this.getMergedEnvironmentVariables(t)}getMergedEnvironmentVariables(e){e||(e={}),this.envVarsService.mergeVariables(this.process.env,e);const t=this.platformService.pathVariableName,n=this.process.env[t];return n&&this.envVarsService.appendPath(e,n),this.process.env.PYTHONPATH&&this.envVarsService.appendPythonPath(e,this.process.env.PYTHONPATH),e}async getCustomEnvironmentVariables(e){return this.envVarsService.parseFile(this.getEnvFile(e),this.process.env)}getCustomEnvironmentVariablesSync(e){return this.envVarsService.parseFileSync(this.getEnvFile(e),this.process.env)}getEnvFile(e){var t;const n=new y.SystemVariables(void 0,null===(t=f.PythonSettings.getSettingsUriAndTarget(e,this.workspaceService).uri)||void 0===t?void 0:t.fsPath,this.workspaceService),r=this.getWorkspaceFolderUri(e),i=this.workspaceService.getConfiguration("python",e).get("envFile"),o=n.resolveAny(i);return void 0===o?((0,p.traceError)("Unable to read `python.envFile` setting for resource",JSON.stringify(e)),(null==r?void 0:r.fsPath)?l.join(null==r?void 0:r.fsPath,".env"):""):(this.trackedWorkspaceFolders.add(r?r.fsPath:""),this.createFileWatcher(o,r),o)}configurationChanged(e){this.trackedWorkspaceFolders.forEach((t=>{const n=t&&t.length>0?u.Uri.file(t):void 0;e.affectsConfiguration("python.envFile",n)&&this.onEnvironmentFileChanged(n)}))}createFileWatcher(e,t){if(this.fileWatchers.has(e))return;const n=this.workspaceService.createFileSystemWatcher(e);this.fileWatchers.set(e,n),n&&(this.disposables.push(n.onDidChange((()=>this.onEnvironmentFileChanged(t)))),this.disposables.push(n.onDidCreate((()=>this.onEnvironmentFileCreated(t)))),this.disposables.push(n.onDidDelete((()=>this.onEnvironmentFileChanged(t)))))}getWorkspaceFolderUri(e){if(!e)return;const t=this.workspaceService.getWorkspaceFolder(e);return t?t.uri:void 0}onEnvironmentFileCreated(e){this.onEnvironmentFileChanged(e),(0,d.sendFileCreationTelemetry)()}onEnvironmentFileChanged(e){this.envVarCaches.clear(),this.changeEventEmitter.fire(e)}};t.EnvironmentVariablesProvider=_,t.EnvironmentVariablesProvider=_=o([(0,c.injectable)(),a(0,(0,c.inject)(b.IEnvironmentVariablesService)),a(1,(0,c.inject)(g.IDisposableRegistry)),a(2,(0,c.inject)(v.IPlatformService)),a(3,(0,c.inject)(h.IWorkspaceService)),a(4,(0,c.inject)(g.ICurrentProcess))],_)},90679:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const r=n(76722),i=n(52160),o=n(53694);t.registerTypes=function(e){e.addSingleton(o.IEnvironmentVariablesService,r.EnvironmentVariablesService),e.addSingleton(o.IEnvironmentVariablesProvider,i.EnvironmentVariablesProvider)}},79985:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.SystemVariables=void 0;const s=o(n(16928)),a=n(54980),c=n(68397),l=o(n(75941));class u{resolve(e){return l.isString(e)?this.__resolveString(e):l.isArray(e)?this.__resolveArray(e):l.isObject(e)?this.__resolveLiteral(e):e}resolveAny(e){return l.isString(e)?this.__resolveString(e):l.isArray(e)?this.__resolveAnyArray(e):l.isObject(e)?this.__resolveAnyLiteral(e):e}__resolveString(e){return e.replace(/\$\{(.*?)\}/g,((e,t)=>{const n=this[t];return l.isString(n)?n:e&&(e.indexOf("env.")>0||e.indexOf("env:")>0)?"":e}))}__resolveLiteral(e){const t=Object.create(null);return Object.keys(e).forEach((n=>{const r=e[n];t[n]=this.resolve(r)})),t}__resolveAnyLiteral(e){const t=Object.create(null);return Object.keys(e).forEach((n=>{const r=e[n];t[n]=this.resolveAny(r)})),t}__resolveArray(e){return e.map((e=>this.__resolveString(e)))}__resolveAnyArray(e){return e.map((e=>this.resolveAny(e)))}}t.SystemVariables=class extends u{constructor(e,t,n,r){var i;super();const o=n&&e?n.getWorkspaceFolder(e):void 0;this._workspaceFolder=o?o.uri.fsPath:t||__dirname,this._workspaceFolderName=s.basename(this._workspaceFolder),this._filePath=e?e.fsPath:void 0,r&&r.activeTextEditor&&(this._lineNumber=r.activeTextEditor.selection.anchor.line+1,this._selectedText=r.activeTextEditor.document.getText(new a.Range(r.activeTextEditor.selection.start,r.activeTextEditor.selection.end))),this._execPath=process.execPath,Object.keys(process.env).forEach((e=>{this[`env:${e}`]=this[`env.${e}`]=process.env[e]})),n=null!=n?n:new c.WorkspaceService;try{null===(i=n.workspaceFolders)||void 0===i||i.forEach((e=>{this[`workspaceFolder:${s.basename(e.uri.fsPath)}`]=e.uri.fsPath,this[`workspaceFolder:${e.name}`]=e.uri.fsPath}))}catch(e){}}get cwd(){return this.workspaceFolder}get workspaceRoot(){return this._workspaceFolder}get workspaceFolder(){return this._workspaceFolder}get workspaceRootFolderName(){return this._workspaceFolderName}get workspaceFolderBasename(){return this._workspaceFolderName}get file(){return this._filePath}get relativeFile(){return this.file?s.relative(this._workspaceFolder,this.file):void 0}get relativeFileDirname(){return this.relativeFile?s.dirname(this.relativeFile):void 0}get fileBasename(){return this.file?s.basename(this.file):void 0}get fileBasenameNoExtension(){return this.file?s.parse(this.file).name:void 0}get fileDirname(){return this.file?s.dirname(this.file):void 0}get fileExtname(){return this.file?s.extname(this.file):void 0}get lineNumber(){return this._lineNumber}get selectedText(){return this._selectedText}get execPath(){return this._execPath}}},53694:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IEnvironmentVariablesProvider=t.IEnvironmentVariablesService=void 0,t.IEnvironmentVariablesService=Symbol("IEnvironmentVariablesService"),t.IEnvironmentVariablesProvider=Symbol("IEnvironmentVariablesProvider")},30556:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.launch=void 0;const r=n(54980);t.launch=function(e){r.env.openExternal(r.Uri.parse(e))}},93029:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerCommand=t.executeCommand=void 0;const r=n(54980);t.executeCommand=function(e,...t){return r.commands.executeCommand(e,...t)},t.registerCommand=function(e,t,n){return r.commands.registerCommand(e,t,n)}},34467:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getExtensions=t.isInsider=t.isExtensionDisabled=t.isExtensionEnabled=t.getExtension=void 0;const s=o(n(16928)),a=o(n(54980)),c=o(n(25943)),l=n(552);function u(e){return a.extensions.getExtension(e)}t.getExtension=u,t.isExtensionEnabled=function(e){return void 0!==a.extensions.getExtension(e)},t.isExtensionDisabled=function(e){const t=u(l.PVSC_EXTENSION_ID);if(t){let n=!1;return c.readdirSync(s.dirname(t.extensionPath),{withFileTypes:!1}).forEach((t=>{t.toString().startsWith(e)&&(n=!0)})),n}return!1},t.isInsider=function(){return a.env.appName.includes("Insider")},t.getExtensions=function(){return a.extensions.all}},37938:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onDidChangeDiagnostics=t.createDiagnosticCollection=void 0;const r=n(54980);t.createDiagnosticCollection=function(e){return r.languages.createDiagnosticCollection(e)},t.onDidChangeDiagnostics=function(e){return r.languages.onDidChangeDiagnostics(e)}},85784:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTerminalLinkProvider=t.createLogOutputChannel=t.createOutputChannel=t.getActiveResource=t.createStepForwardEndNode=t.createStepBackEndNode=t.MultiStepNode=t.showQuickPickWithBack=t.MultiStepAction=t.onDidStartTerminalShellExecution=t.onDidChangeActiveTextEditor=t.getActiveTextEditor=t.withProgress=t.showInformationMessage=t.showWarningMessage=t.showErrorMessage=t.createQuickPick=t.showQuickPick=t.showNotebookDocument=t.showTextDocument=void 0;const r=n(54980),i=n(7855),o=n(8841);var s;t.showTextDocument=function(e){return r.window.showTextDocument(e)},t.showNotebookDocument=function(e,t){return r.window.showNotebookDocument(e,t)},t.showQuickPick=function(e,t,n){return r.window.showQuickPick(e,t,n)},t.createQuickPick=function(){return r.window.createQuickPick()},t.showErrorMessage=function(e,...t){return r.window.showErrorMessage(e,...t)},t.showWarningMessage=function(e,...t){return r.window.showWarningMessage(e,...t)},t.showInformationMessage=function(e,...t){return r.window.showInformationMessage(e,...t)},t.withProgress=function(e,t){return r.window.withProgress(e,t)},t.getActiveTextEditor=function(){const{activeTextEditor:e}=r.window;return e},t.onDidChangeActiveTextEditor=function(e){return r.window.onDidChangeActiveTextEditor(e)},t.onDidStartTerminalShellExecution=function(e){return r.window.onDidStartTerminalShellExecution(e)},function(e){e.Back="Back",e.Cancel="Cancel",e.Continue="Continue"}(s||(t.MultiStepAction=s={})),t.showQuickPickWithBack=async function(e,t,n,o){var a,c,l,u;const p=r.window.createQuickPick(),d=[p];p.items=e,p.buttons=[r.QuickInputButtons.Back],p.canSelectMany=null!==(a=null==t?void 0:t.canPickMany)&&void 0!==a&&a,p.ignoreFocusOut=null!==(c=null==t?void 0:t.ignoreFocusOut)&&void 0!==c&&c,p.matchOnDescription=null!==(l=null==t?void 0:t.matchOnDescription)&&void 0!==l&&l,p.matchOnDetail=null!==(u=null==t?void 0:t.matchOnDetail)&&void 0!==u&&u,p.placeholder=null==t?void 0:t.placeHolder,p.title=null==t?void 0:t.title;const h=(0,i.createDeferred)();d.push(p,p.onDidTriggerButton((e=>{e===r.QuickInputButtons.Back&&(h.reject(s.Back),p.hide())})),p.onDidAccept((()=>{h.completed||(p.canSelectMany?h.resolve(p.selectedItems.map((e=>e))):h.resolve(p.selectedItems[0]),p.hide())})),p.onDidHide((()=>{h.completed||h.resolve(void 0)})),p.onDidTriggerItemButton((e=>{o&&o(e)}))),n&&d.push(n.onCancellationRequested((()=>{p.hide()}))),p.show();try{return await h.promise}finally{d.forEach((e=>e.dispose()))}};class a{constructor(e,t,n){this.previous=e,this.current=t,this.next=n}static async run(e,t){let n=e,r=await n.current(t);for(;void 0!==n;){if(r===s.Cancel)return r;r===s.Back&&(n=null==n?void 0:n.previous),r===s.Continue&&(n=null==n?void 0:n.next),n&&(r=await(null==n?void 0:n.current(r)))}return r}}t.MultiStepNode=a,t.createStepBackEndNode=function(e){return new a(void 0,(async()=>(e&&e.reject(s.Back),Promise.resolve(s.Back))),void 0)},t.createStepForwardEndNode=function(e,t){return new a(void 0,(async()=>(e&&e.resolve(t),Promise.resolve(s.Back))),void 0)},t.getActiveResource=function(){const e=r.window.activeTextEditor;if(e&&!e.document.isUntitled)return e.document.uri;const t=(0,o.getWorkspaceFolders)();return Array.isArray(t)&&t.length>0?t[0].uri:void 0},t.createOutputChannel=function(e,t){return r.window.createOutputChannel(e,t)},t.createLogOutputChannel=function(e,t){return r.window.createOutputChannel(e,t)},t.registerTerminalLinkProvider=function(e){return r.window.registerTerminalLinkProvider(e)}},8841:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.copy=t.openNotebookDocument=t.createDirectory=t.onDidGrantWorkspaceTrust=t.isTrusted=t.isVirtualWorkspace=t.onDidChangeWorkspaceFolders=t.createFileSystemWatcher=t.onDidCloseNotebookDocument=t.onDidChangeConfiguration=t.onDidChangeTextDocument=t.onDidOpenTextDocument=t.getOpenTextDocuments=t.onDidSaveTextDocument=t.onDidCloseTextDocument=t.findFiles=t.applyEdit=t.getConfiguration=t.getWorkspaceFolderPaths=t.getWorkspaceFolder=t.getWorkspaceFolders=void 0;const s=o(n(54980));t.getWorkspaceFolders=function(){return s.workspace.workspaceFolders},t.getWorkspaceFolder=function(e){return e?s.workspace.getWorkspaceFolder(e):void 0},t.getWorkspaceFolderPaths=function(){var e,t;return null!==(t=null===(e=s.workspace.workspaceFolders)||void 0===e?void 0:e.map((e=>e.uri.fsPath)))&&void 0!==t?t:[]},t.getConfiguration=function(e,t){return s.workspace.getConfiguration(e,t)},t.applyEdit=function(e){return s.workspace.applyEdit(e)},t.findFiles=function(e,t,n,r){return s.workspace.findFiles(e,t,n,r)},t.onDidCloseTextDocument=function(e){return s.workspace.onDidCloseTextDocument(e)},t.onDidSaveTextDocument=function(e){return s.workspace.onDidSaveTextDocument(e)},t.getOpenTextDocuments=function(){return s.workspace.textDocuments},t.onDidOpenTextDocument=function(e){return s.workspace.onDidOpenTextDocument(e)},t.onDidChangeTextDocument=function(e){return s.workspace.onDidChangeTextDocument(e)},t.onDidChangeConfiguration=function(e){return s.workspace.onDidChangeConfiguration(e)},t.onDidCloseNotebookDocument=function(e){return s.workspace.onDidCloseNotebookDocument(e)},t.createFileSystemWatcher=function(e,t,n,r){return s.workspace.createFileSystemWatcher(e,t,n,r)},t.onDidChangeWorkspaceFolders=function(e){return s.workspace.onDidChangeWorkspaceFolders(e)},t.isVirtualWorkspace=function(){return!(!s.workspace.workspaceFolders||!s.workspace.workspaceFolders.every((e=>"file"!==e.uri.scheme)))},t.isTrusted=function(){return s.workspace.isTrusted},t.onDidGrantWorkspaceTrust=function(e){return s.workspace.onDidGrantWorkspaceTrust(e)},t.createDirectory=function(e){return s.workspace.fs.createDirectory(e)},t.openNotebookDocument=function(e,t){return s.workspace.openNotebookDocument(e,t)},t.copy=function(e,t,n){return s.workspace.fs.copy(e,t,n)}},84090:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.HiddenFilePrefix=t.EXTENSION_ROOT_DIR=void 0;const s=o(n(16928)),a=s.basename(__dirname);t.EXTENSION_ROOT_DIR="client"===a?s.join(__dirname,"..",".."):s.join(__dirname,"..","..","..",".."),t.HiddenFilePrefix="_HiddenFile_"},54786:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PythonDebuggerTypeName=t.DebuggerTypeName=void 0,t.DebuggerTypeName="python",t.PythonDebuggerTypeName="debugpy"},78518:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DebugAdapterActivator=void 0;const o=n(25891),s=n(54661),a=n(86156),c=n(54661),l=n(54786),u=n(47586),p=n(46108);let d=class{constructor(e,t,n,r,i,o,s,a){this.debugService=e,this.configSettings=t,this.commandManager=n,this.descriptorFactory=r,this.debugSessionLoggingFactory=i,this.debuggerPromptFactory=o,this.disposables=s,this.attachProcessProviderFactory=a,this.supportedWorkspaceTypes={untrustedWorkspace:!1,virtualWorkspace:!1}}async activate(){this.attachProcessProviderFactory.registerCommands(),this.disposables.push(this.debugService.registerDebugAdapterTrackerFactory(l.DebuggerTypeName,this.debugSessionLoggingFactory)),this.disposables.push(this.debugService.registerDebugAdapterTrackerFactory(l.DebuggerTypeName,this.debuggerPromptFactory)),this.disposables.push(this.debugService.registerDebugAdapterDescriptorFactory(l.DebuggerTypeName,this.descriptorFactory)),this.disposables.push(this.debugService.onDidStartDebugSession((e=>{var t;this.shouldTerminalFocusOnStart(null===(t=e.workspaceFolder)||void 0===t?void 0:t.uri)&&this.commandManager.executeCommand("workbench.action.terminal.focus")})))}shouldTerminalFocusOnStart(e){var t;return null===(t=this.configSettings.getSettings(e))||void 0===t?void 0:t.terminal.focusAfterLaunch}};t.DebugAdapterActivator=d,t.DebugAdapterActivator=d=r([(0,o.injectable)(),i(0,(0,o.inject)(s.IDebugService)),i(1,(0,o.inject)(a.IConfigurationService)),i(2,(0,o.inject)(c.ICommandManager)),i(3,(0,o.inject)(p.IDebugAdapterDescriptorFactory)),i(4,(0,o.inject)(p.IDebugSessionLoggingFactory)),i(5,(0,o.inject)(p.IOutdatedDebuggerPromptFactory)),i(6,(0,o.inject)(a.IDisposableRegistry)),i(7,(0,o.inject)(u.IAttachProcessProviderFactory))],d)},32075:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DebugAdapterDescriptorFactory=t.debugStateKeys=void 0;const c=n(25891),l=s(n(16928)),u=n(54980),p=n(84090),d=n(29413),h=n(61905),f=n(85784),v=n(14152),g=n(86156),m=n(552),y=n(54661),b=n(73354);var _;!function(e){e.doNotShowAgain="doNotShowPython36DebugDeprecatedAgain"}(_||(t.debugStateKeys=_={}));let E=class{constructor(e,t,n){this.commandManager=e,this.interpreterService=t,this.persistentState=n}async createDebugAdapterDescriptor(e,t){var n,r,i,o,s;const a=e.configuration;if("attach"===a.request){if(void 0!==a.connect)return(0,h.traceLog)(`Connecting to DAP Server at:  ${null!==(n=a.connect.host)&&void 0!==n?n:"127.0.0.1"}:${a.connect.port}`),new u.DebugAdapterServer(a.connect.port,null!==(r=a.connect.host)&&void 0!==r?r:"127.0.0.1");if(void 0!==a.port)return(0,h.traceLog)(`Connecting to DAP Server at:  ${null!==(i=a.host)&&void 0!==i?i:"127.0.0.1"}:${a.port}`),new u.DebugAdapterServer(a.port,null!==(o=a.host)&&void 0!==o?o:"127.0.0.1");if(void 0===a.listen&&void 0===a.processId)throw new Error('"request":"attach" requires either "connect", "listen", or "processId"')}const c=await this.getDebugAdapterPython(a,e.workspaceFolder);if(0!==c.length){const e=null!==(s=c.shift())&&void 0!==s?s:"python",t=a.logToFile?["--log-dir",p.EXTENSION_ROOT_DIR]:[];if(void 0!==a.debugAdapterPath){const n=c.concat([a.debugAdapterPath,...t]);return(0,h.traceLog)(`DAP Server launched with command: ${e} ${n.join(" ")}`),new u.DebugAdapterExecutable(e,n)}const n=await(0,b.getDebugpyPath)();if(!n)throw(0,h.traceError)("Could not find debugpy path."),new Error("Could not find debugpy path.");const r=l.join(n,"adapter"),i=c.concat([r,...t]);return(0,h.traceLog)(`DAP Server launched with command: ${e} ${i.join(" ")}`),new u.DebugAdapterExecutable(e,i)}throw new Error("Debug Adapter Executable not provided")}async getDebugAdapterPython(e,t){if(void 0!==e.debugAdapterPython)return this.getExecutableCommand(await this.interpreterService.getInterpreterDetails(e.debugAdapterPython));if(e.pythonPath)return this.getExecutableCommand(await this.interpreterService.getInterpreterDetails(e.pythonPath));const n=t?t.uri:void 0,r=await this.interpreterService.getActiveInterpreter(n);if(r)return(0,h.traceVerbose)(`Selecting active interpreter as Python Executable for DA '${r.path}'`),this.getExecutableCommand(r);await this.interpreterService.hasInterpreters();const i=this.interpreterService.getInterpreters(n);return 0===i.length?(this.notifySelectInterpreter().ignoreErrors(),[]):((0,h.traceVerbose)(`Picking first available interpreter to launch the DA '${i[0].path}'`),this.getExecutableCommand(i[0]))}async showDeprecatedPythonMessage(){if(this.persistentState.createGlobalPersistentState(_.doNotShowAgain,!1).value)return;const e=[v.Interpreters.changePythonInterpreter,v.Common.doNotShowAgain],t=await(0,f.showErrorMessage)(u.l10n.t("The debugger in the python extension no longer supports python versions minor than 3.7."),{modal:!0},...e);t&&(t==v.Interpreters.changePythonInterpreter&&await this.commandManager.executeCommand(m.Commands.Set_Interpreter),t==v.Common.doNotShowAgain&&await this.persistentState.createGlobalPersistentState(_.doNotShowAgain,!1).updateValue(!0))}async getExecutableCommand(e){var t,n,r,i,o,s;return e?(((null!==(n=null===(t=e.version)||void 0===t?void 0:t.major)&&void 0!==n?n:0)<3||(null!==(i=null===(r=e.version)||void 0===r?void 0:r.major)&&void 0!==i?i:0)<=3&&(null!==(s=null===(o=e.version)||void 0===o?void 0:o.minor)&&void 0!==s?s:0)<=6)&&this.showDeprecatedPythonMessage(),e.path.length>0?[e.path]:[]):[]}async notifySelectInterpreter(){await(0,f.showErrorMessage)(u.l10n.t("Install Python or select a Python Interpreter to use the debugger."))}};t.DebugAdapterDescriptorFactory=E,t.DebugAdapterDescriptorFactory=E=o([(0,c.injectable)(),a(0,(0,c.inject)(y.ICommandManager)),a(1,(0,c.inject)(d.IInterpreterService)),a(2,(0,c.inject)(g.IPersistentStateFactory))],E)},20652:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DebugSessionLoggingFactory=void 0;const c=n(25891),l=s(n(16928)),u=n(22408),p=n(51080),d=n(84090);class h{constructor(e,t){if(this.session=e,this.enabled=!1,this.timer=new p.StopWatch,this.enabled=this.session.configuration.logToFile,this.enabled){const e=`debugger.vscode_${this.session.id}.log`;this.stream=t.createWriteStream(l.join(d.EXTENSION_ROOT_DIR,e))}}onWillStartSession(){this.timer.reset(),this.log(`Starting Session:\n${this.stringify(this.session.configuration)}\n`)}onWillReceiveMessage(e){this.log(`Client --\x3e Adapter:\n${this.stringify(e)}\n`)}onDidSendMessage(e){this.log(`Client <-- Adapter:\n${this.stringify(e)}\n`)}onWillStopSession(){this.log("Stopping Session\n")}onError(e){this.log(`Error:\n${this.stringify(e)}\n`)}onExit(e,t){var n;this.log(`Exit:\nExit-Code: ${e||0}\nSignal: ${t||"none"}\n`),null===(n=this.stream)||void 0===n||n.close()}log(e){this.enabled&&this.stream.write(`${this.timer.elapsedTime} ${e}`)}stringify(e){return JSON.stringify(e,null,4)}}let f=class{constructor(e){this.fileSystem=e}createDebugAdapterTracker(e){return new h(e,this.fileSystem)}};t.DebugSessionLoggingFactory=f,t.DebugSessionLoggingFactory=f=o([(0,c.injectable)(),a(0,(0,c.inject)(u.IFileSystem))],f)},13836:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.OutdatedDebuggerPromptFactory=void 0;const i=n(25891),o=n(14152),s=n(30556),a=n(85784);class c{constructor(e){this.promptCheck=e}onDidSendMessage(e){if(this.promptCheck.shouldShowPrompt()&&this.isPtvsd(e)){const e=[o.Common.moreInfo];(0,a.showInformationMessage)(o.OutdatedDebugger.outdatedDebuggerMessage,...e).then((t=>{t===e[0]&&(0,s.launch)("https://aka.ms/migrateToDebugpy")}))}}isPtvsd(e){if("event"===e.type){const t=e;if("output"===t.event){const e=t;if("telemetry"===e.body.category){if("ptvsd"===e.body.output&&!e.body.data.packageVersion.startsWith("1"))return this.promptCheck.setShowPrompt(!1),!0;"debugpy"===e.body.output&&this.promptCheck.setShowPrompt(!1)}}}return!1}}class l{constructor(){this.shouldShow=!0}shouldShowPrompt(){return this.shouldShow}setShowPrompt(e){this.shouldShow=e}}let u=class{constructor(){this.promptCheck=new l}createDebugAdapterTracker(e){return new c(this.promptCheck)}};t.OutdatedDebuggerPromptFactory=u,t.OutdatedDebuggerPromptFactory=u=r([(0,i.injectable)()],u)},62582:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDebugpyLauncherArgs=void 0,n(87295);const r=n(73354);t.getDebugpyLauncherArgs=async function(e,t){t||(t=await(0,r.getDebugpyPath)());const n=e.waitUntilDebuggerAttaches?["--wait-for-client"]:[];return[t.fileToCommandArgumentForPythonExt(),"--listen",`${e.host}:${e.port}`,...n]}},9645:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.AttachProcessProviderFactory=void 0;const o=n(25891),s=n(54661),a=n(552),c=n(22408),l=n(35026),u=n(86156),p=n(67513),d=n(96366);let h=class{constructor(e,t,n,r,i){this.applicationShell=e,this.commandManager=t,this.platformService=n,this.processServiceFactory=r,this.disposableRegistry=i}registerCommands(){const e=new d.AttachProcessProvider(this.platformService,this.processServiceFactory),t=new p.AttachPicker(this.applicationShell,e),n=this.commandManager.registerCommand(a.Commands.PickLocalProcess,(()=>t.showQuickPick()),this);this.disposableRegistry.push(n)}};t.AttachProcessProviderFactory=h,t.AttachProcessProviderFactory=h=r([(0,o.injectable)(),i(0,(0,o.inject)(s.IApplicationShell)),i(1,(0,o.inject)(s.ICommandManager)),i(2,(0,o.inject)(c.IPlatformService)),i(3,(0,o.inject)(l.IProcessServiceFactory)),i(4,(0,o.inject)(u.IDisposableRegistry))],h)},67513:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.AttachPicker=void 0;const o=n(25891),s=n(54661),a=n(65717),c=n(14152),l=n(47586);let u=class{constructor(e,t){this.applicationShell=e,this.attachItemsProvider=t}showQuickPick(){return new Promise((async(e,t)=>{const n=await this.attachItemsProvider.getAttachItems(),r={iconPath:(0,a.getIcon)(l.REFRESH_BUTTON_ICON),tooltip:c.AttachProcess.refreshList},i=this.applicationShell.createQuickPick();i.title=c.AttachProcess.attachTitle,i.placeholder=c.AttachProcess.selectProcessPlaceholder,i.canSelectMany=!1,i.matchOnDescription=!0,i.matchOnDetail=!0,i.items=n,i.buttons=[r];const o=[];i.onDidTriggerButton((async()=>{i.busy=!0;const e=await this.attachItemsProvider.getAttachItems();i.items=e,i.busy=!1}),this,o),i.onDidAccept((()=>{1!==i.selectedItems.length&&t(new Error(c.AttachProcess.noProcessSelected));const n=i.selectedItems[0].id;o.forEach((e=>e.dispose())),i.dispose(),e(n)}),void 0,o),i.onDidHide((()=>{o.forEach((e=>e.dispose())),i.dispose(),t(new Error(c.AttachProcess.noProcessSelected))}),void 0,o),i.show()}))}};t.AttachPicker=u,t.AttachPicker=u=r([(0,o.injectable)(),i(0,(0,o.inject)(s.IApplicationShell))],u)},96366:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.AttachProcessProvider=void 0;const o=n(25891),s=n(54980),a=n(22408),c=n(35026),l=n(87818),u=n(33873);let p=class{constructor(e,t){this.platformService=e,this.processServiceFactory=t}getAttachItems(){return this._getInternalProcessEntries().then((e=>(e.sort((({processName:e,commandLine:t},{processName:n,commandLine:r})=>{const i=(e,t)=>{const n=e.toLowerCase(),r=t.toLowerCase();return n===r?0:n<r?-1:1},o=e.startsWith("python"),s=n.startsWith("python");return o||s?o&&!s?-1:s&&!o?1:o?i(t,r):i(r,t):i(e,n)})),e)))}async _getInternalProcessEntries(){let e;if(this.platformService.isMac)e=l.PsProcessParser.psDarwinCommand;else if(this.platformService.isLinux)e=l.PsProcessParser.psLinuxCommand;else{if(!this.platformService.isWindows)throw new Error(s.l10n.t("Operating system '{0}' not supported.",this.platformService.osType));e=u.WmicProcessParser.wmicCommand}const t=await this.processServiceFactory.create(),n=await t.exec(e.command,e.args,{throwOnStdErr:!0});return this.platformService.isWindows?u.WmicProcessParser.parseProcesses(n.stdout):l.PsProcessParser.parseProcesses(n.stdout)}};t.AttachProcessProvider=p,t.AttachProcessProvider=p=r([(0,o.injectable)(),i(0,(0,o.inject)(a.IPlatformService)),i(1,(0,o.inject)(c.IProcessServiceFactory))],p)},87818:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.PsProcessParser=void 0,function(e){const t="".padStart(50,"a");function n(e){const t=new RegExp("^\\s*([0-9]+)\\s+(.{49})\\s+(.*)$").exec(e);if(4===(null==t?void 0:t.length)){const e=t[1].trim(),n=t[2].trim(),r=t[3].trim();return{label:n,description:e,detail:r,id:e,processName:n,commandLine:r}}}e.psLinuxCommand={command:"ps",args:["axww","-o",`pid=,comm=${t},args=`]},e.psDarwinCommand={command:"ps",args:["axww","-o",`pid=,comm=${t},args=`,"-c"]},e.parseProcesses=function(e){return function(e){const t=[];for(let r=1;r<e.length;r+=1){const i=e[r];if(!i)continue;const o=n(i);o&&t.push(o)}return t}(e.split("\n"))}}(n||(t.PsProcessParser=n={}))},47586:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.REFRESH_BUTTON_ICON=t.IAttachProcessProviderFactory=void 0,t.IAttachProcessProviderFactory=Symbol("IAttachProcessProviderFactory"),t.REFRESH_BUTTON_ICON="refresh.svg"},33873:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.WmicProcessParser=void 0,function(e){const t="ProcessId",n={label:"",description:"",detail:"",id:"",processName:"",commandLine:""};function r(e,n){const r=e.indexOf("="),i=n;if(r>0){const n=e.slice(0,r).trim();let o=e.slice(r+1).trim();if("Name"===n)i.label=o,i.processName=o;else if(n===t)i.description=o,i.id=o;else if("CommandLine"===n){const e="\\??\\";0===o.lastIndexOf(e,0)&&(o=o.slice(e.length)),i.detail=o,i.commandLine=o}}return i}e.wmicCommand={command:"wmic",args:["process","get","Name,ProcessId,CommandLine","/FORMAT:list"]},e.parseProcesses=function(e){const i=e.split("\r\n"),o=[];let s={...n};for(const e of i)e.length&&(r(e,s),0===e.lastIndexOf(t,0)&&(o.push(s),s={...n}));return o}}(n||(t.WmicProcessParser=n={}))},74090:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PythonDebugConfigurationService=void 0;const o=n(25891),s=n(2769);let a=class{constructor(e,t){this.attachResolver=e,this.launchResolver=t}async resolveDebugConfiguration(e,t,n){if("attach"===t.request)return this.attachResolver.resolveDebugConfiguration(e,t,n);if("test"===t.request)throw Error('This configuration can only be used by the test debugging commands. `"request": "test"` is deprecated, please keep as `"request": "launch"` and add `"purpose": ["debug-test"]` instead.');return 0!==Object.keys(t).length?this.launchResolver.resolveDebugConfiguration(e,t,n):void 0}async resolveDebugConfigurationWithSubstitutedVariables(e,t,n){function r(r){return r.resolveDebugConfigurationWithSubstitutedVariables(e,t,n)}return"attach"===t.request?r(this.attachResolver):r(this.launchResolver)}};t.PythonDebugConfigurationService=a,t.PythonDebugConfigurationService=a=r([(0,o.injectable)(),i(0,(0,o.inject)(s.IDebugConfigurationResolver)),i(0,(0,o.named)("attach")),i(1,(0,o.inject)(s.IDebugConfigurationResolver)),i(1,(0,o.named)("launch"))],a)},21114:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getConfigurationsByUri=t.getConfigurationsForWorkspace=void 0;const s=o(n(16928)),a=n(25887),c=o(n(25943)),l=n(8841),u=n(61905);async function p(e){const t=s.join(e.uri.fsPath,".vscode","launch.json");if(!await c.pathExists(t)){const t=(0,l.getConfiguration)("launch",e);return t.configurations&&Array.isArray(t.configurations)?((0,u.traceLog)("Using configuration in workspace"),t.configurations):[]}const n=await c.readFile(t,"utf-8"),r=(0,a.parse)(n,[],{allowTrailingComma:!0,disallowComments:!1});if(!r.configurations||!Array.isArray(r.configurations))throw Error("Missing field in launch.json: configurations");if(!r.version)throw Error("Missing field in launch.json: version");return(0,u.traceLog)("Using configuration in launch.json"),r.configurations}t.getConfigurationsForWorkspace=p,t.getConfigurationsByUri=async function(e){if(e){const t=(0,l.getWorkspaceFolder)(e);if(t)return p(t)}return[]}},5659:function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.AttachConfigurationResolver=void 0;const o=n(25891),s=n(48112),a=n(59858),c=n(41907);let l=r=class extends c.BaseConfigurationResolver{async resolveDebugConfigurationWithSubstitutedVariables(e,t,n){const i=r.getWorkspaceFolder(e);await this.provideAttachDefaults(i,t);const o=t;return Array.isArray(o.debugOptions)&&(o.debugOptions=o.debugOptions.filter(((e,t)=>o.debugOptions.indexOf(e)===t))),void 0===t.clientOS&&(t.clientOS=(0,s.getOSType)()===s.OSType.Windows?"windows":"unix"),t}async provideAttachDefaults(e,t){Array.isArray(t.debugOptions)||(t.debugOptions=[]),t.connect||t.listen||t.host||(t.host="localhost"),t.showReturnValue=!1!==t.showReturnValue,t.workspaceFolder=e?e.fsPath:void 0;const n=t.debugOptions;t.django&&r.debugOption(n,a.DebugOptions.Django),t.jinja&&r.debugOption(n,a.DebugOptions.Jinja),!0===t.subProcess&&r.debugOption(n,a.DebugOptions.SubProcess),t.pyramid&&-1===n.indexOf(a.DebugOptions.Jinja)&&!1!==t.jinja&&r.debugOption(n,a.DebugOptions.Jinja),(t.redirectOutput||void 0===t.redirectOutput)&&r.debugOption(n,a.DebugOptions.RedirectOutput);const i=r.isLocalHost(t.host);(0,s.getOSType)()===s.OSType.Windows&&i&&r.debugOption(n,a.DebugOptions.FixFilePathCase),void 0===t.clientOS&&(t.clientOS=(0,s.getOSType)()===s.OSType.Windows?"windows":"unix"),t.showReturnValue&&r.debugOption(n,a.DebugOptions.ShowReturnValue),t.pathMappings=this.resolvePathMappings(t.pathMappings||[],t.host,t.localRoot,t.remoteRoot,e)}resolvePathMappings(e,t,n,i,o){return n&&i&&e.push({localRoot:n,remoteRoot:i}),r.isLocalHost(t)&&(e=r.fixUpPathMappings(e,o?o.fsPath:"")),e.length>0?e:void 0}};t.AttachConfigurationResolver=l,t.AttachConfigurationResolver=l=r=i([(0,o.injectable)()],l)},41907:function(e,t,n){"use strict";var r,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseConfigurationResolver=void 0;const c=n(25891),l=a(n(16928)),u=n(54980),p=n(48112),d=n(8841),h=n(46108),f=n(77113),v=n(56090);let g=r=class{constructor(e,t){this.configurationService=e,this.interpreterService=t,this.pythonPathSource=h.PythonPathSource.launchJson}async resolveDebugConfiguration(e,t,n){return void 0===t.clientOS&&(t.clientOS=(0,p.getOSType)()===p.OSType.Windows?"windows":"unix"),t}static getWorkspaceFolder(e){if(e)return e.uri;const t=(0,v.getProgram)(),n=(0,d.getWorkspaceFolders)();if(!Array.isArray(n)||0===n.length)return t?u.Uri.file(l.dirname(t)):void 0;if(1===n.length)return n[0].uri;if(t){const e=(0,d.getWorkspaceFolder)(u.Uri.file(t));if(e)return e.uri}}async resolveAndUpdatePaths(e,t){r.resolveAndUpdateEnvFilePath(e,t),await this.resolveAndUpdatePythonPath(e,t)}static resolveAndUpdateEnvFilePath(e,t){t&&t.envFile&&(e||t.cwd)&&(t.envFile=(0,f.resolveVariables)(t.envFile,(e?e.fsPath:void 0)||t.cwd,void 0))}async resolveAndUpdatePythonPath(e,t){var n,r,i,o,s,a,c;if(t){if("${command:python.interpreterPath}"!==t.pythonPath&&t.pythonPath)t.pythonPath=(0,f.resolveVariables)(t.pythonPath?t.pythonPath:void 0,null==e?void 0:e.fsPath,void 0);else{const i=null!==(r=null===(n=await this.interpreterService.getActiveInterpreter(e))||void 0===n?void 0:n.path)&&void 0!==r?r:this.configurationService.getSettings(e).pythonPath;t.pythonPath=i}if("${command:python.interpreterPath}"===t.python){this.pythonPathSource=h.PythonPathSource.settingsJson;const n=null!==(o=null===(i=await this.interpreterService.getActiveInterpreter(e))||void 0===i?void 0:i.path)&&void 0!==o?o:this.configurationService.getSettings(e).pythonPath;t.python=n}else void 0===t.python?(this.pythonPathSource=h.PythonPathSource.settingsJson,t.python=t.pythonPath):(this.pythonPathSource=h.PythonPathSource.launchJson,t.python=(0,f.resolveVariables)(null!==(s=t.python)&&void 0!==s?s:t.pythonPath,null==e?void 0:e.fsPath,void 0));"${command:python.interpreterPath}"!==t.debugAdapterPython&&void 0!==t.debugAdapterPython||(t.debugAdapterPython=null!==(a=t.pythonPath)&&void 0!==a?a:t.python),"${command:python.interpreterPath}"!==t.debugLauncherPython&&void 0!==t.debugLauncherPython||(t.debugLauncherPython=null!==(c=t.pythonPath)&&void 0!==c?c:t.python),delete t.pythonPath}}static debugOption(e,t){e.indexOf(t)>=0||e.push(t)}static isLocalHost(e){return!!(e&&["localhost","127.0.0.1","::1"].indexOf(e.toLowerCase())>=0)}static fixUpPathMappings(e,t,n){return t?(n||(n=t),e=0===e.length?[{localRoot:t,remoteRoot:n}]:e.map((({localRoot:e,remoteRoot:n})=>({localRoot:(0,f.resolveVariables)(e,t,void 0)||"",remoteRoot:n}))),(0,p.getOSType)()===p.OSType.Windows&&(e=e.map((({localRoot:e,remoteRoot:t})=>{let n=e;return e.match(/^[A-Z]:/)&&(n=`${e[0].toLowerCase()}${e.substr(1)}`),{localRoot:n,remoteRoot:t}}))),e):[]}static isDebuggingFastAPI(e){return!(!e.module||"FASTAPI"!==e.module.toUpperCase())}static isDebuggingFlask(e){return!(!e.module||"FLASK"!==e.module.toUpperCase())}};t.BaseConfigurationResolver=g,t.BaseConfigurationResolver=g=r=s([(0,c.injectable)()],g)},56090:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.getProgram=t.DebugEnvironmentVariablesHelper=t.IDebugEnvironmentVariablesService=void 0;const o=n(25891),s=n(86156),a=n(53694),c=n(552),l=n(85784),u=n(62982);t.IDebugEnvironmentVariablesService=Symbol("IDebugEnvironmentVariablesService");let p=class{constructor(e,t){this.envParser=e,this.process=t}async getEnvironmentVariables(e,t){var n;const r=(0,u.getSearchPathEnvVarNames)()[0],i=e.env&&Object.keys(e.env).length>0?{...e.env}:{},o=await this.envParser.parseFile(e.envFile,i),s=o?{...o}:{};return this.envParser.mergeVariables(i,s,{overwrite:!0}),t&&this.envParser.mergeVariables(t,s,{mergeAll:!0}),this.envParser.appendPath(s,null!==(n=i[r])&&void 0!==n?n:i[r.toUpperCase()]),this.envParser.appendPythonPath(s,i.PYTHONPATH),"string"==typeof s[r]&&s[r].length>0&&this.envParser.appendPath(s,this.process.env[r]),"string"==typeof s.PYTHONPATH&&s.PYTHONPATH.length>0&&this.envParser.appendPythonPath(s,this.process.env.PYTHONPATH),"internalConsole"===e.console&&(this.envParser.mergeVariables(this.process.env,s),void 0===s[r]&&"string"==typeof this.process.env[r]&&(s[r]=this.process.env[r]),void 0===s.PYTHONPATH&&"string"==typeof this.process.env.PYTHONPATH&&(s.PYTHONPATH=this.process.env.PYTHONPATH)),s.hasOwnProperty("PYTHONIOENCODING")||(s.PYTHONIOENCODING="UTF-8"),s.hasOwnProperty("PYTHONUNBUFFERED")||(s.PYTHONUNBUFFERED="1"),e.gevent&&(s.GEVENT_SUPPORT="True"),s}};t.DebugEnvironmentVariablesHelper=p,t.DebugEnvironmentVariablesHelper=p=r([(0,o.injectable)(),i(0,(0,o.inject)(a.IEnvironmentVariablesService)),i(1,(0,o.inject)(s.ICurrentProcess))],p),t.getProgram=function(){const e=(0,l.getActiveTextEditor)();if(e&&e.document.languageId===c.PYTHON_LANGUAGE)return e.document.fileName}},20825:function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.LaunchConfigurationResolver=void 0;const s=n(25891),a=n(98285),c=n(79576),l=n(86156),u=n(48112),p=n(67714),d=n(29413),h=n(54786),f=n(59858),v=n(41907),g=n(56090),m=n(58137),y=n(51535),b=n(53322);let _=r=class extends v.BaseConfigurationResolver{constructor(e,t,n,r,i){super(t,r),this.invalidPythonPathInDebuggerService=e,this.debugEnvHelper=n,this.environmentActivationService=i,this.isCustomPythonSet=!1}async resolveDebugConfiguration(e,t,n){if(this.isCustomPythonSet=void 0!==t.python,void 0===t.name&&void 0===t.type&&void 0===t.request&&void 0===t.program&&void 0===t.env){const e=(0,g.getProgram)();t.name="Launch",t.type=h.DebuggerTypeName,t.request="launch",t.program=null!=e?e:"",t.env={}}const i=r.getWorkspaceFolder(e);return t.workspaceFolder=null==i?void 0:i.fsPath,await this.resolveAndUpdatePaths(i,t),void 0===t.clientOS&&(t.clientOS=(0,u.getOSType)()===u.OSType.Windows?"windows":"unix"),t}async resolveDebugConfigurationWithSubstitutedVariables(e,t,n){const i=r.getWorkspaceFolder(e);if(await this.provideLaunchDefaults(i,t),await this.validateLaunchConfiguration(e,t))return Array.isArray(t.debugOptions)&&(t.debugOptions=t.debugOptions.filter(((e,n)=>t.debugOptions.indexOf(e)===n))),(0,y.sendTelemetryEvent)(b.EventName.ENVIRONMENT_CHECK_TRIGGER,void 0,{trigger:"debug"}),(0,m.triggerCreateEnvironmentCheckNonBlocking)(m.CreateEnvironmentCheckKind.Workspace,i),t}async provideLaunchDefaults(e,t){var n;if(void 0===t.python&&(t.python=t.pythonPath),void 0===t.debugAdapterPython&&(t.debugAdapterPython=t.pythonPath),void 0===t.debugLauncherPython&&(t.debugLauncherPython=t.pythonPath),delete t.pythonPath,"string"!=typeof t.cwd&&e&&(t.cwd=e.fsPath),"string"!=typeof t.envFile&&e){const n=this.configurationService.getSettings(e);t.envFile=n.envFile}let i;(this.isCustomPythonSet||"integratedTerminal"!==t.console)&&(i=await this.environmentActivationService.getActivatedEnvironmentVariables(e,await this.interpreterService.getInterpreterDetails(null!==(n=t.python)&&void 0!==n?n:""))),t.env=await this.debugEnvHelper.getEnvironmentVariables(t,i),"boolean"!=typeof t.stopOnEntry&&(t.stopOnEntry=!1),t.showReturnValue=!1!==t.showReturnValue,t.console||(t.console="integratedTerminal"),"internalConsole"===t.console||t.internalConsoleOptions||(t.internalConsoleOptions="neverOpen"),Array.isArray(t.debugOptions)||(t.debugOptions=[]);const o=t.debugOptions;t.stopOnEntry&&r.debugOption(o,f.DebugOptions.StopOnEntry),t.showReturnValue&&r.debugOption(o,f.DebugOptions.ShowReturnValue),t.django&&r.debugOption(o,f.DebugOptions.Django),t.jinja&&r.debugOption(o,f.DebugOptions.Jinja),void 0===t.redirectOutput&&"internalConsole"===t.console&&(t.redirectOutput=!0),t.redirectOutput&&r.debugOption(o,f.DebugOptions.RedirectOutput),t.sudo&&r.debugOption(o,f.DebugOptions.Sudo),!0===t.subProcess&&r.debugOption(o,f.DebugOptions.SubProcess),(0,u.getOSType)()===u.OSType.Windows&&r.debugOption(o,f.DebugOptions.FixFilePathCase);const s=r.isDebuggingFastAPI(t),a=r.isDebuggingFlask(t);if((t.pyramid||a||s)&&-1===o.indexOf(f.DebugOptions.Jinja)&&!1!==t.jinja&&r.debugOption(o,f.DebugOptions.Jinja),t.pathMappings){let{pathMappings:n}=t;n.length>0&&(n=r.fixUpPathMappings(n||[],e?e.fsPath:"")),t.pathMappings=n.length>0?n:void 0}}async validateLaunchConfiguration(e,t){const n=this.invalidPythonPathInDebuggerService;for(const r of[t.python,t.debugAdapterPython,t.debugLauncherPython])if(!await n.validatePythonPath(r,this.pythonPathSource,null==e?void 0:e.uri))return!1;return!0}};t.LaunchConfigurationResolver=_,t.LaunchConfigurationResolver=_=r=i([(0,s.injectable)(),o(0,(0,s.inject)(c.IDiagnosticsService)),o(0,(0,s.named)(a.InvalidPythonPathInDebuggerServiceId)),o(1,(0,s.inject)(l.IConfigurationService)),o(2,(0,s.inject)(g.IDebugEnvironmentVariablesService)),o(3,(0,s.inject)(d.IInterpreterService)),o(4,(0,s.inject)(p.IEnvironmentActivationService))],_)},2769:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IDebugConfigurationResolver=void 0,t.IDebugConfigurationResolver=Symbol("IDebugConfigurationResolver")},77113:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveVariables=void 0;const r=n(8841);t.resolveVariables=function(e,t,n){if(e){const i=n?(0,r.getWorkspaceFolder)(n.uri):void 0,o={};o.workspaceFolder=i?i.uri.fsPath:t;const s=/\$\{(.*?)\}/g;return e.replace(s,((e,t)=>{const n=o[t];return"string"==typeof(r=n)||r instanceof String?n:e&&(e.indexOf("env.")>0||e.indexOf("env:")>0)?"":e;var r}))}return e}},21896:function(e,t,n){"use strict";var r,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},c=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DebugCommands=void 0;const l=a(n(16928)),u=n(25891),p=n(54661),d=n(552),h=n(86156),f=n(51535),v=n(53322),g=n(59858),m=n(29413),y=n(98803),b=n(21114),_=n(58137);let E=r=class{constructor(e,t,n,r){this.commandManager=e,this.debugService=t,this.disposables=n,this.interpreterService=r,this.supportedWorkspaceTypes={untrustedWorkspace:!1,virtualWorkspace:!1}}activate(){return this.disposables.push(this.commandManager.registerCommand(d.Commands.Debug_In_Terminal,(async e=>{if(!await this.interpreterService.getActiveInterpreter(e))return void this.commandManager.executeCommand(d.Commands.TriggerEnvironmentSelection,e).then(y.noop,y.noop);(0,f.sendTelemetryEvent)(v.EventName.ENVIRONMENT_CHECK_TRIGGER,void 0,{trigger:"debug-in-terminal"}),(0,_.triggerCreateEnvironmentCheckNonBlocking)(_.CreateEnvironmentCheckKind.File,e);const t=await r.getDebugConfiguration(e);this.debugService.startDebugging(void 0,t)}))),Promise.resolve()}static async getDebugConfiguration(e){var t,n,r;const i=(await(0,b.getConfigurationsByUri)(e)).filter((e=>"launch"===e.request));for(const r of i)if(null===(t=r.purpose)||void 0===t?void 0:t.includes(g.DebugPurpose.DebugInTerminal))return r.program||r.module||r.code||(r.program=null!==(n=null==e?void 0:e.fsPath)&&void 0!==n?n:"${file}"),r.purpose=[],r;return{name:`Debug ${e?l.basename(e.fsPath):"File"}`,type:"python",request:"launch",program:null!==(r=null==e?void 0:e.fsPath)&&void 0!==r?r:"${file}",console:"integratedTerminal"}}};t.DebugCommands=E,t.DebugCommands=E=r=s([(0,u.injectable)(),c(0,(0,u.inject)(p.ICommandManager)),c(1,(0,u.inject)(p.IDebugService)),c(2,(0,u.inject)(h.IDisposableRegistry)),c(3,(0,u.inject)(m.IInterpreterService))],E)},42228:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ChildProcessAttachEventHandler=void 0;const o=n(25891),s=n(68989),a=n(13083),c=n(67715),l=n(54786);let u=class{constructor(e){this.childProcessAttachService=e}async handleCustomEvent(e){if(!e||e.session.configuration.type!==l.DebuggerTypeName)return;let t;e.event!==a.DebuggerEvents.PtvsdAttachToSubprocess&&e.event!==a.DebuggerEvents.DebugpyAttachToSubprocess||(t=e.body,Object.keys(t).length>0&&await this.childProcessAttachService.attach(t,e.session))}};t.ChildProcessAttachEventHandler=u,r([(0,s.swallowExceptions)("Handle child process launch")],u.prototype,"handleCustomEvent",null),t.ChildProcessAttachEventHandler=u=r([(0,o.injectable)(),i(0,(0,o.inject)(c.IChildProcessAttachService))],u)},41575:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ChildProcessAttachService=void 0;const o=n(25891),s=n(54661),a=n(54980),c=n(98803),l=n(85784),u=n(8841);let p=class{constructor(e){this.debugService=e}async attach(e,t){const n=e,r=this.getRelatedWorkspaceFolder(n),i={parentSession:t,lifecycleManagedByParent:!0};await this.debugService.startDebugging(r,n,i)||(0,l.showErrorMessage)(a.l10n.t("Failed to launch debugger for child process {0}",n.subProcessId)).then(c.noop,c.noop)}getRelatedWorkspaceFolder(e){var t;const n=e.workspaceFolder;if(((null===(t=(0,u.getWorkspaceFolders)())||void 0===t?void 0:t.length)||0)>0&&n)return(0,u.getWorkspaceFolders)().find((e=>e.uri.fsPath===n))}};t.ChildProcessAttachService=p,t.ChildProcessAttachService=p=r([(0,o.injectable)(),i(0,(0,o.inject)(s.IDebugService))],p)},13083:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.DebuggerEvents=void 0,function(e){e.PtvsdAttachToSubprocess="ptvsd_attach",e.DebugpyAttachToSubprocess="debugpyAttach"}(n||(t.DebuggerEvents=n={}))},30741:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DebugSessionEventDispatcher=void 0;const o=n(25891),s=n(54661),a=n(86156),c=n(67715);let l=class{constructor(e,t,n){this.eventHandlers=e,this.debugService=t,this.disposables=n}registerEventHandlers(){this.disposables.push(this.debugService.onDidReceiveDebugSessionCustomEvent((e=>{this.eventHandlers.forEach((t=>t.handleCustomEvent?t.handleCustomEvent(e).ignoreErrors():void 0))}))),this.disposables.push(this.debugService.onDidTerminateDebugSession((e=>{this.eventHandlers.forEach((t=>t.handleTerminateEvent?t.handleTerminateEvent(e).ignoreErrors():void 0))})))}};t.DebugSessionEventDispatcher=l,t.DebugSessionEventDispatcher=l=r([i(0,(0,o.multiInject)(c.IDebugSessionEventHandlers)),i(1,(0,o.inject)(s.IDebugService)),i(2,(0,o.inject)(a.IDisposableRegistry))],l)},67715:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IChildProcessAttachService=t.IDebugSessionEventHandlers=void 0,t.IDebugSessionEventHandlers=Symbol("IDebugSessionEventHandlers"),t.IChildProcessAttachService=Symbol("IChildProcessAttachService")},11833:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const r=n(11925),i=n(78518),o=n(32075),s=n(20652),a=n(13836),c=n(9645),l=n(47586),u=n(74090),p=n(5659),d=n(56090),h=n(20825),f=n(2769),v=n(21896),g=n(42228),m=n(41575),y=n(67715),b=n(46108);t.registerTypes=function(e){e.addSingleton(b.IDebugConfigurationService,u.PythonDebugConfigurationService),e.addSingleton(y.IChildProcessAttachService,m.ChildProcessAttachService),e.addSingleton(y.IDebugSessionEventHandlers,g.ChildProcessAttachEventHandler),e.addSingleton(f.IDebugConfigurationResolver,h.LaunchConfigurationResolver,"launch"),e.addSingleton(f.IDebugConfigurationResolver,p.AttachConfigurationResolver,"attach"),e.addSingleton(d.IDebugEnvironmentVariablesService,d.DebugEnvironmentVariablesHelper),e.addSingleton(r.IExtensionSingleActivationService,i.DebugAdapterActivator),e.addSingleton(b.IDebugAdapterDescriptorFactory,o.DebugAdapterDescriptorFactory),e.addSingleton(b.IDebugSessionLoggingFactory,s.DebugSessionLoggingFactory),e.addSingleton(b.IOutdatedDebuggerPromptFactory,a.OutdatedDebuggerPromptFactory),e.addSingleton(l.IAttachProcessProviderFactory,c.AttachProcessProviderFactory),e.addSingleton(r.IExtensionSingleActivationService,v.DebugCommands)}},46108:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.PythonPathSource=t.IOutdatedDebuggerPromptFactory=t.IDebugSessionLoggingFactory=t.IDebugAdapterDescriptorFactory=t.IDebugConfigurationService=void 0,t.IDebugConfigurationService=Symbol("IDebugConfigurationService"),t.IDebugAdapterDescriptorFactory=Symbol("IDebugAdapterDescriptorFactory"),t.IDebugSessionLoggingFactory=Symbol("IDebugSessionLoggingFactory"),t.IOutdatedDebuggerPromptFactory=Symbol("IOutdatedDebuggerPromptFactory"),function(e){e.launchJson="launch.json",e.settingsJson="settings.json"}(n||(t.PythonPathSource=n={}))},73354:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDebugpyPath=void 0;const r=n(54980);t.getDebugpyPath=async function(){var e;const t=await async function(){const e=await async function(){const e=r.extensions.getExtension("ms-python.debugpy");return e&&(e.isActive||await e.activate()),e}();return null==e?void 0:e.exports}();return null!==(e=null==t?void 0:t.debug.getDebuggerPackagePath())&&void 0!==e?e:""}},59858:(e,t)=>{"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.DebugPurpose=t.DebugOptions=void 0,function(e){e.RedirectOutput="RedirectOutput",e.Django="Django",e.Jinja="Jinja",e.Sudo="Sudo",e.Pyramid="Pyramid",e.FixFilePathCase="FixFilePathCase",e.WindowsClient="WindowsClient",e.UnixClient="UnixClient",e.StopOnEntry="StopOnEntry",e.ShowReturnValue="ShowReturnValue",e.SubProcess="Multiprocess"}(n||(t.DebugOptions=n={})),function(e){e.DebugTest="debug-test",e.DebugInTerminal="debug-in-terminal"}(r||(t.DebugPurpose=r={}))},69466:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildDeprecatedProposedApi=t.reportActiveInterpreterChangedDeprecated=t.reportInterpretersChanged=void 0;const r=n(54980),i=n(25943),o=n(86156),s=n(29413),a=n(61905),c=n(6514),l=n(51535),u=n(53322),p=new r.EventEmitter;t.reportInterpretersChanged=function(e){p.fire(e)};const d=new r.EventEmitter;function h(e){const t=[`${e.version.major}`,`${e.version.minor}`,`${e.version.micro}`];return e.version.release&&(t.push(`${e.version.release}`),e.version.sysVersion&&t.push(`${e.version.release}`)),t}t.reportActiveInterpreterChangedDeprecated=function(e){d.fire(e)},t.buildDeprecatedProposedApi=function(e,t){const n=t.get(o.IInterpreterPathService),f=t.get(s.IInterpreterService),v=t.get(o.IExtensions),g=new Set;function m(e,t=!0){v.determineExtensionFromCallStack().then((n=>{(0,l.sendTelemetryEvent)(u.EventName.PYTHON_ENVIRONMENTS_API,void 0,{apiName:e,extensionId:n.extensionId}),(0,a.traceVerbose)(`Extension ${n.extensionId} accessed ${e}`),t&&!g.has(n.extensionId)&&((0,a.traceWarn)(`${n.extensionId} extension is using deprecated python APIs which will be removed soon.`),g.add(n.extensionId))})).ignoreErrors()}return{environment:{async getExecutionDetails(e){m("deprecated.getExecutionDetails");const t=await f.getActiveInterpreter(e);return t?{execCommand:[t.path]}:{execCommand:void 0}},async getActiveEnvironmentPath(e){m("deprecated.getActiveEnvironmentPath");const t=await f.getActiveInterpreter(e);if(t)return(0,c.getEnvPath)(t.path,t.envPath)},async getEnvironmentDetails(t,n){let r;if(m("deprecated.getEnvironmentDetails"),(null==n?void 0:n.useCache)&&(r=e.getEnvs().find((e=>function(e,t){return(0,i.arePathsSame)(e,t.location)||(0,i.arePathsSame)(e,t.executable.filename)}(t,e)))),r||(r=await e.resolveEnv(t),r))return{interpreterPath:r.executable.filename,envFolderPath:r.location.length?r.location:void 0,version:h(r),environmentType:[r.kind],metadata:{sysPrefix:r.executable.sysPrefix,bitness:r.arch,project:r.searchLocation}}},getEnvironmentPaths(){m("deprecated.getEnvironmentPaths");const t=e.getEnvs().map((e=>(0,c.getEnvPath)(e.executable.filename,e.location)));return Promise.resolve(t)},setActiveEnvironment:(e,t)=>(m("deprecated.setActiveEnvironment"),n.update(t,r.ConfigurationTarget.WorkspaceFolder,e)),async refreshEnvironment(){m("deprecated.refreshEnvironment"),await e.triggerRefresh();const t=e.getEnvs().map((e=>(0,c.getEnvPath)(e.executable.filename,e.location)));return Promise.resolve(t)},getRefreshPromise:t=>(m("deprecated.getRefreshPromise"),e.getRefreshPromise(t)),get onDidChangeExecutionDetails(){return m("deprecated.onDidChangeExecutionDetails",!1),f.onDidChangeInterpreterConfiguration},get onDidEnvironmentsChanged(){return m("deprecated.onDidEnvironmentsChanged",!1),p.event},get onDidActiveEnvironmentChanged(){return m("deprecated.onDidActiveEnvironmentChanged",!1),d.event},get onRefreshProgress(){return m("deprecated.onRefreshProgress",!1),e.onProgress}}}}},36380:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerEnvExtFeatures=t.clearCache=t.runInDedicatedTerminal=t.runInTerminal=t.refreshEnvironments=t.getEnvironment=t.runInBackground=t.getEnvExtApi=t.onDidChangeEnvironmentEnvExt=t.useEnvExtension=t.ENVS_EXTENSION_ID=void 0;const r=n(54980),i=n(34467),o=n(93029);let s;function a(){return void 0!==s||(s=!!(0,i.getExtension)(t.ENVS_EXTENSION_ID)),s}t.ENVS_EXTENSION_ID="ms-python.vscode-python-envs",t.useEnvExtension=a;const c=new r.EventEmitter;function l(e,t,n){return c.event(e,t,n)}let u;async function p(){if(u)return u;const e=(0,i.getExtension)(t.ENVS_EXTENSION_ID);if(!e)throw new Error("Python Environments extension not found.");return(null==e?void 0:e.isActive)||await e.activate(),u=e.exports,u.onDidChangeEnvironment((e=>{c.fire(e)})),u}async function d(e){return(await p()).getEnvironment(e)}t.onDidChangeEnvironmentEnvExt=l,t.getEnvExtApi=p,t.runInBackground=async function(e,t){return(await p()).runInBackground(e,t)},t.getEnvironment=d,t.refreshEnvironments=async function(e){return(await p()).refreshEnvironments(e)},t.runInTerminal=async function(e,t,n,r){var i;const o=await p(),s=await d(e),a=e?o.getPythonProject(e):void 0;if(s&&e)return o.runInTerminal(s,{cwd:null!==(i=null!=n?n:null==a?void 0:a.uri)&&void 0!==i?i:process.cwd(),args:t,show:r});throw new Error("Invalid arguments to run in terminal")},t.runInDedicatedTerminal=async function(e,t,n,r){var i;const o=await p(),s=await d(e),a=e?o.getPythonProject(e):void 0;if(s)return o.runInDedicatedTerminal(null!=e?e:"global",s,{cwd:null!==(i=null!=n?n:null==a?void 0:a.uri)&&void 0!==i?i:process.cwd(),args:t,show:r});throw new Error("Invalid arguments to run in dedicated terminal")},t.clearCache=async function(){await p()&&await(0,o.executeCommand)("python-envs.clearCache")},t.registerEnvExtFeatures=function(e,t){a()&&e.push(l((async e=>{var n,i,o;t.get(e.uri)!==(null===(n=e.new)||void 0===n?void 0:n.environmentPath.fsPath)&&(e.uri?await t.update(e.uri,r.ConfigurationTarget.WorkspaceFolder,null===(i=e.new)||void 0===i?void 0:i.environmentPath.fsPath):await t.update(void 0,r.ConfigurationTarget.Global,null===(o=e.new)||void 0===o?void 0:o.environmentPath.fsPath))})))}},95241:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ensureTerminalLegacy=t.resetInterpreterLegacy=t.setInterpreterLegacy=t.getActiveInterpreterLegacy=void 0;const r=n(54980),i=n(36380),o=n(25297),s=n(48112),a=n(71067),c=n(15721),l=n(61905),u=n(65532),p=n(8841);function d(e){switch(e){case o.EnvironmentType.Pipenv:case o.EnvironmentType.VirtualEnv:case o.EnvironmentType.Pyenv:case o.EnvironmentType.Venv:case o.EnvironmentType.Poetry:case o.EnvironmentType.Hatch:case o.EnvironmentType.Pixi:case o.EnvironmentType.VirtualEnvWrapper:case o.EnvironmentType.ActiveState:return c.PythonEnvType.Virtual;case o.EnvironmentType.Conda:return c.PythonEnvType.Conda;case o.EnvironmentType.MicrosoftStore:case o.EnvironmentType.Global:case o.EnvironmentType.System:default:return}}function h(e){const t=(0,a.parseVersion)(e.version),n=(r=e).envId.managerId.toLowerCase().endsWith("system")?o.EnvironmentType.System:r.envId.managerId.toLowerCase().endsWith("venv")?o.EnvironmentType.Venv:r.envId.managerId.toLowerCase().endsWith("virtualenv")?o.EnvironmentType.VirtualEnv:r.envId.managerId.toLowerCase().endsWith("conda")?o.EnvironmentType.Conda:r.envId.managerId.toLowerCase().endsWith("pipenv")?o.EnvironmentType.Pipenv:r.envId.managerId.toLowerCase().endsWith("poetry")?o.EnvironmentType.Poetry:r.envId.managerId.toLowerCase().endsWith("pyenv")?o.EnvironmentType.Pyenv:r.envId.managerId.toLowerCase().endsWith("hatch")?o.EnvironmentType.Hatch:r.envId.managerId.toLowerCase().endsWith("pixi")?o.EnvironmentType.Pixi:r.envId.managerId.toLowerCase().endsWith("virtualenvwrapper")?o.EnvironmentType.VirtualEnvWrapper:r.envId.managerId.toLowerCase().endsWith("activestate")?o.EnvironmentType.ActiveState:o.EnvironmentType.Unknown;var r;return{id:e.environmentPath.fsPath,displayName:e.displayName,detailedDisplayName:e.name,envType:n,envPath:e.sysPrefix,type:d(n),path:e.environmentPath.fsPath,version:{raw:e.version,major:t.major,minor:t.minor,patch:t.micro,build:[],prerelease:[]},sysVersion:e.version,architecture:s.Architecture.x64,sysPrefix:e.sysPrefix}}const f=new Map;t.getActiveInterpreterLegacy=async function(e){var t,n;const r=await(0,i.getEnvExtApi)(),o=e?null===(t=r.getPythonProject(e))||void 0===t?void 0:t.uri:void 0,s=await(0,i.getEnvironment)(e),a=f.get((null==o?void 0:o.fsPath)||""),c=s?h(s):void 0,l=null!==(n=(0,p.getWorkspaceFolders)())&&void 0!==n?n:[];return(0===l.length&&void 0===e||l.length>0&&void 0!==e)&&c&&(null==a?void 0:a.envId.id)!==(null==s?void 0:s.envId.id)&&((0,u.reportActiveInterpreterChanged)({resource:(0,p.getWorkspaceFolder)(e),path:c.path}),f.set((null==o?void 0:o.fsPath)||"",s)),s?h(s):void 0},t.setInterpreterLegacy=async function(e,t){const n=await(0,i.getEnvExtApi)(),o=await n.resolveEnvironment(r.Uri.file(e));o?await n.setEnvironment(t,o):(0,l.traceError)(`EnvExt: Failed to resolve environment for ${e}`)},t.resetInterpreterLegacy=async function(e){const t=await(0,i.getEnvExtApi)();await t.setEnvironment(e,void 0)},t.ensureTerminalLegacy=async function(e,t){const n=await(0,i.getEnvExtApi)(),r=await n.getEnvironment(e),o=e?n.getPythonProject(e):void 0;if(r&&o){const e=t?{...t}:{cwd:o.uri};return await n.createTerminal(r,e)}throw new Error("Invalid arguments to create terminal")}},58136:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.createEnvExtApi=void 0;const s=o(n(16928)),a=n(54980),c=n(15721),l=n(18162),u=n(36380),p=n(7855),d=n(51080),h=n(61905),f=n(84391),v=n(29104),g=n(48112),m=n(71067);function y(e){switch(e){case c.PythonEnvKind.Poetry:case c.PythonEnvKind.Pyenv:case c.PythonEnvKind.VirtualEnv:case c.PythonEnvKind.Venv:case c.PythonEnvKind.VirtualEnvWrapper:case c.PythonEnvKind.OtherVirtual:case c.PythonEnvKind.Pipenv:case c.PythonEnvKind.ActiveState:case c.PythonEnvKind.Hatch:case c.PythonEnvKind.Pixi:return c.PythonEnvType.Virtual;case c.PythonEnvKind.Conda:return c.PythonEnvType.Conda;case c.PythonEnvKind.System:case c.PythonEnvKind.Unknown:case c.PythonEnvKind.OtherGlobal:case c.PythonEnvKind.Custom:case c.PythonEnvKind.MicrosoftStore:default:return}}function b(e){const t=function(e){return e.envId.managerId.toLowerCase().endsWith("system")?c.PythonEnvKind.System:e.envId.managerId.toLowerCase().endsWith("conda")?c.PythonEnvKind.Conda:e.envId.managerId.toLowerCase().endsWith("venv")?c.PythonEnvKind.Venv:e.envId.managerId.toLowerCase().endsWith("virtualenv")?c.PythonEnvKind.VirtualEnv:e.envId.managerId.toLowerCase().endsWith("virtualenvwrapper")?c.PythonEnvKind.VirtualEnvWrapper:e.envId.managerId.toLowerCase().endsWith("pyenv")?c.PythonEnvKind.Pyenv:e.envId.managerId.toLowerCase().endsWith("pipenv")?c.PythonEnvKind.Pipenv:e.envId.managerId.toLowerCase().endsWith("poetry")?c.PythonEnvKind.Poetry:e.envId.managerId.toLowerCase().endsWith("pixi")?c.PythonEnvKind.Pixi:e.envId.managerId.toLowerCase().endsWith("hatch")?c.PythonEnvKind.Hatch:e.envId.managerId.toLowerCase().endsWith("activestate")?c.PythonEnvKind.ActiveState:c.PythonEnvKind.Unknown}(e),n=g.Architecture.x64,r=(0,m.parseVersion)(e.version),{name:i,displayName:o,sysPrefix:a}=e,l=function(e){var t,n,r,i;if(null===(n=null===(t=e.execInfo)||void 0===t?void 0:t.run)||void 0===n?void 0:n.executable)return null===(i=null===(r=e.execInfo)||void 0===r?void 0:r.run)||void 0===i?void 0:i.executable;const o=s.basename(e.environmentPath.fsPath).toLowerCase();return(0,g.isWindows)()&&o.startsWith("python")&&o.endsWith(".exe")||!(0,g.isWindows)()&&o.startsWith("python")?e.environmentPath.fsPath:(a=e.sysPrefix)?"win32"===process.platform?s.join(a,"python.exe"):s.join(a,"python"):"win32"===process.platform?"python.exe":"python";var a}(e),u=function(e){return e.envId.managerId.toLowerCase().endsWith("conda")?e.sysPrefix:e.environmentPath.fsPath}(e);return{name:i,location:u,kind:t,id:l,executable:{filename:l,sysPrefix:a,ctime:-1,mtime:-1},version:{sysVersion:e.version,major:r.major,minor:r.minor,micro:r.micro},arch:n,distro:{org:""},source:[],detailedDisplayName:o,display:o,type:y(t)}}class _{constructor(e){this.envExtApi=e,this._envs=[],this._disposables=[],this._onProgress=new a.EventEmitter,this._onChanged=new a.EventEmitter,this.onProgress=this._onProgress.event,this.onChanged=this._onChanged.event,this.refreshState=l.ProgressReportStage.idle,this._disposables.push(this._onProgress,this._onChanged,this.envExtApi.onDidChangeEnvironments((e=>this.onDidChangeEnvironments(e))),this.envExtApi.onDidChangeEnvironment((e=>{this._onChanged.fire({type:v.FileChangeType.Changed,searchLocation:e.uri,old:e.old?b(e.old):void 0,new:e.new?b(e.new):void 0})})))}getRefreshPromise(e){var t;return null===(t=this._refreshPromise)||void 0===t?void 0:t.promise}triggerRefresh(e,t){var n,r,i;const o=new d.StopWatch;return(0,h.traceLog)("Native locator: Refresh started"),this.refreshState===l.ProgressReportStage.discoveryStarted&&(null===(n=this._refreshPromise)||void 0===n?void 0:n.promise)?null===(r=this._refreshPromise)||void 0===r?void 0:r.promise:(this.refreshState=l.ProgressReportStage.discoveryStarted,this._onProgress.fire({stage:this.refreshState}),this._refreshPromise=(0,p.createDeferred)(),setImmediate((async()=>{var e,t;try{await this.envExtApi.refreshEnvironments(void 0),null===(e=this._refreshPromise)||void 0===e||e.resolve()}catch(e){null===(t=this._refreshPromise)||void 0===t||t.reject(e)}finally{(0,h.traceLog)(`Native locator: Refresh finished in ${o.elapsedTime} ms`),this.refreshState=l.ProgressReportStage.discoveryFinished,this._refreshPromise=void 0,this._onProgress.fire({stage:this.refreshState})}})),null===(i=this._refreshPromise)||void 0===i?void 0:i.promise)}getEnvs(e){return this._envs}addEnv(e,t){const n=b(e);if(n){const e=this._envs.find((e=>e.executable.filename===n.executable.filename));e?(this._envs=this._envs.filter((e=>e.executable.filename!==n.executable.filename)),this._envs.push(n),function(e,t){return e.executable.filename!==t.executable.filename||e.version.major!==t.version.major||e.version.minor!==t.version.minor||e.version.micro!==t.version.micro||e.location!==t.location||e.kind!==t.kind||e.arch!==t.arch}(e,n)&&this._onChanged.fire({type:v.FileChangeType.Changed,old:e,new:n,searchLocation:t})):(this._envs.push(n),this._onChanged.fire({type:v.FileChangeType.Created,new:n,searchLocation:t}))}return n}removeEnv(e){if("string"==typeof e){const t=this._envs.find((t=>t.executable.filename===e));return this._envs=this._envs.filter((t=>t.executable.filename!==e)),void this._onChanged.fire({type:v.FileChangeType.Deleted,old:t})}this._envs=this._envs.filter((t=>t.executable.filename!==e.executable.filename)),this._onChanged.fire({type:v.FileChangeType.Deleted,old:e})}async resolveEnv(e){if(void 0===e)return;const t=await this.envExtApi.resolveEnvironment(a.Uri.file(e));return t?this.addEnv(t):void 0}dispose(){this._disposables.forEach((e=>e.dispose()))}onDidChangeEnvironments(e){e.forEach((e=>{e.kind===f.EnvironmentChangeKind.remove&&this.removeEnv(e.environment.environmentPath.fsPath),e.kind===f.EnvironmentChangeKind.add&&this.addEnv(e.environment)}))}}t.createEnvExtApi=async function(e){const t=new _(await(0,u.getEnvExtApi)());return e.push(t),t}},84391:(e,t)=>{"use strict";var n,r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.PackageChangeKind=t.EnvironmentChangeKind=t.TerminalShellType=void 0,function(e){e.powershell="powershell",e.powershellCore="powershellCore",e.commandPrompt="commandPrompt",e.gitbash="gitbash",e.bash="bash",e.zsh="zsh",e.ksh="ksh",e.fish="fish",e.cshell="cshell",e.tcshell="tshell",e.nushell="nushell",e.wsl="wsl",e.xonsh="xonsh",e.unknown="unknown"}(n||(t.TerminalShellType=n={})),function(e){e.add="add",e.remove="remove"}(r||(t.EnvironmentChangeKind=r={})),function(e){e.add="add",e.remove="remove"}(i||(t.PackageChangeKind=i={}))},65532:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.convertEnvInfo=t.convertCompleteEnvInfo=t.buildEnvironmentApi=t.EnvironmentReference=t.reportActiveInterpreterChanged=void 0;const s=n(54980),a=o(n(16928)),c=n(86156),l=n(48112),u=n(15721),p=n(6514),d=n(18162),h=n(35026),f=n(61905),v=n(25943),g=n(51535),m=n(53322),y=n(69466),b=n(53694),_=n(8841),E=n(50499),S=n(53533),w=n(98803),P=new s.EventEmitter,T=new Map;t.reportActiveInterpreterChanged=function(e){var t,n,r,i,o;T.get(null!==(n=null===(t=e.resource)||void 0===t?void 0:t.uri.fsPath)&&void 0!==n?n:"")!==e.path&&(T.set(null!==(i=null===(r=e.resource)||void 0===r?void 0:r.uri.fsPath)&&void 0!==i?i:"",e.path),P.fire({id:M(e.path),path:e.path,resource:e.resource}),(0,y.reportActiveInterpreterChangedDeprecated)({path:e.path,resource:null===(o=e.resource)||void 0===o?void 0:o.uri}))};const C=new s.EventEmitter,x=new s.EventEmitter,I=new Map;class O{constructor(e){this.internal=e,this.id=e.id}get executable(){return Object.freeze(this.internal.executable)}get environment(){return Object.freeze(this.internal.environment)}get version(){return Object.freeze(this.internal.version)}get tools(){return Object.freeze(this.internal.tools)}get path(){return Object.freeze(this.internal.path)}updateEnv(e){this.internal=e}}function R(e){let t=I.get(e.id);return t?t.updateEnv(e):t=new O(e),I.set(e.id,t),t}function D(e){const t=(0,_.getWorkspaceFolders)();if(e.searchLocation){const n=e.searchLocation;return!!t&&t.some((e=>(0,v.isParentPath)(n.fsPath,e.uri.fsPath)))}return!0}function k(e){const t={...e.version,sysVersion:e.version.sysVersion};let n=function(e){switch(e){case u.PythonEnvKind.Venv:return"Venv";case u.PythonEnvKind.Pipenv:return"Pipenv";case u.PythonEnvKind.Poetry:return"Poetry";case u.PythonEnvKind.Hatch:return"Hatch";case u.PythonEnvKind.VirtualEnvWrapper:return"VirtualEnvWrapper";case u.PythonEnvKind.VirtualEnv:return"VirtualEnv";case u.PythonEnvKind.Conda:return"Conda";case u.PythonEnvKind.Pyenv:return"Pyenv";default:return}}(e.kind);e.type&&!n&&(n="Unknown");const{path:r}=(0,p.getEnvPath)(e.executable.filename,e.location);return{path:r,id:e.id,executable:{uri:"python"===e.executable.filename?void 0:s.Uri.file(e.executable.filename),bitness:j(e.arch),sysPrefix:e.executable.sysPrefix},environment:e.type?{type:(i=e.type,i===u.PythonEnvType.Conda?"Conda":i===u.PythonEnvType.Virtual?"VirtualEnvironment":"Unknown"),name:""===e.name?void 0:e.name,folderUri:s.Uri.file(e.location),workspaceFolder:(0,_.getWorkspaceFolder)(e.searchLocation)}:void 0,version:"python"===e.executable.filename?void 0:t,tools:n?[n]:[]};var i}function A(e){var t,n,r,i;const o=k(e);return""===o.executable.sysPrefix&&(o.executable.sysPrefix=void 0),""===(null===(t=o.version)||void 0===t?void 0:t.sysVersion)&&(o.version.sysVersion=void 0),-1===(null===(n=o.version)||void 0===n?void 0:n.major)&&(o.version.major=void 0),-1===(null===(r=o.version)||void 0===r?void 0:r.micro)&&(o.version.micro=void 0),-1===(null===(i=o.version)||void 0===i?void 0:i.minor)&&(o.version.minor=void 0),o}function N(e){return R(A(e))}function j(e){switch(e){case l.Architecture.x64:return"64-bit";case l.Architecture.x86:return"32-bit";default:return"Unknown"}}function M(e){return(0,v.normCasePath)(e)}t.EnvironmentReference=O,t.buildEnvironmentApi=function(e,t,n){const r=t.get(c.IInterpreterPathService),i=t.get(c.IConfigurationService),o=t.get(c.IDisposableRegistry),l=t.get(c.IExtensions),u=t.get(b.IEnvironmentVariablesProvider);let v;function T(){const t=e.getEnvs().filter((e=>D(e))).map((e=>N(e)));return new S.EnvironmentKnownCache(t)}function I(e,t){l.determineExtensionFromCallStack().then((n=>{Math.random()<=.001&&(0,g.sendTelemetryEvent)(m.EventName.PYTHON_ENVIRONMENTS_API,void 0,{apiName:e,extensionId:n.extensionId}),(0,f.traceVerbose)(`Extension ${n.extensionId} accessed ${e} with args: ${JSON.stringify(t)}`)})).ignoreErrors()}function O(e){const t=(e=e&&"uri"in e?e.uri:e)&&n.getPythonEnvironment?n.getPythonEnvironment(e):void 0;if(t)return(0,f.traceVerbose)("Python Environment returned from Jupyter",null==e?void 0:e.fsPath,t.id),{id:t.id,path:t.path};const r=i.getSettings(e).pythonPath;return{id:"python"===r?"DEFAULT_PYTHON":M(r),path:r}}return o.push(P.event((e=>{let t="global";e.resource&&(t=e.resource instanceof s.Uri?e.resource.fsPath:e.resource.uri.fsPath),(0,f.traceInfo)(`Active interpreter [${t}]: `,e.path)})),e.onProgress((e=>{e.stage===d.ProgressReportStage.discoveryFinished&&(v=T())})),e.onChanged((e=>{var t;const n=null!==(t=e.new)&&void 0!==t?t:e.old;if(n&&D(n))if(v||(v=T()),e.old)if(e.new){const t=N(e.new);v.updateEnv(A(e.old),t),(0,f.traceVerbose)("Python API env change detected",n.id,"update"),C.fire({type:"update",env:t}),(0,y.reportInterpretersChanged)([{path:(0,p.getEnvPath)(e.new.executable.filename,e.new.location).path,type:"update"}])}else{const t=N(e.old);v.updateEnv(t,void 0),(0,f.traceVerbose)("Python API env change detected",n.id,"remove"),C.fire({type:"remove",env:t}),(0,y.reportInterpretersChanged)([{path:(0,p.getEnvPath)(e.old.executable.filename,e.old.location).path,type:"remove"}])}else if(e.new){const t=N(e.new);v.addEnv(t),(0,f.traceVerbose)("Python API env change detected",n.id,"add"),C.fire({type:"add",env:t}),(0,y.reportInterpretersChanged)([{path:(0,p.getEnvPath)(e.new.executable.filename,e.new.location).path,type:"add"}])}})),u.onDidEnvironmentVariablesChange((e=>{x.fire({resource:(0,_.getWorkspaceFolder)(e),env:u.getEnvironmentVariablesSync(e)})})),C,x,n.onDidChangePythonEnvironment?n.onDidChangePythonEnvironment((e=>{const t=O(e);P.fire({id:t.id,path:t.path,resource:e})}),void 0):{dispose:w.noop}),v||(v=T()),{getEnvironmentVariables:e=>(I("getEnvironmentVariables"),e=e&&"uri"in e?e.uri:e,u.getEnvironmentVariablesSync(e)),get onDidEnvironmentVariablesChange(){return I("onDidEnvironmentVariablesChange"),x.event},getActiveEnvironmentPath:e=>(I("getActiveEnvironmentPath"),O(e)),updateActiveEnvironmentPath(e,t){I("updateActiveEnvironmentPath");const n="string"!=typeof e?e.path:e;return t=t&&"uri"in t?t.uri:t,r.update(t,s.ConfigurationTarget.WorkspaceFolder,n)},get onDidChangeActiveEnvironmentPath(){return I("onDidChangeActiveEnvironmentPath"),P.event},resolveEnvironment:async n=>{if(!s.workspace.isTrusted)throw new Error("Not allowed to resolve environment in an untrusted workspace");let r="string"!=typeof n?n.path:n;if(a.basename(r)===r){const e=t.get(h.IPythonExecutionFactory),n=await e.create({pythonPath:r}),i=await n.getExecutablePath().catch((e=>{(0,f.traceError)("Cannot resolve full path",e)}));if(!i)return;r=i}return I("resolveEnvironment",n),async function(e,t){var n,r,i;const o=await t.resolveEnv(e);if(!o)return;const s=R(k(o));return-1!==(null===(n=s.version)||void 0===n?void 0:n.major)&&-1!==(null===(r=s.version)||void 0===r?void 0:r.minor)&&-1!==(null===(i=s.version)||void 0===i?void 0:i.micro)||(0,f.traceError)(`Invalid version for ${e}: ${JSON.stringify(o)}`),s}(r,e)},get known(){return v.envs},async refreshEnvironments(t){s.workspace.isTrusted?(await e.triggerRefresh(void 0,{ifNotTriggerredAlready:!(null==t?void 0:t.forceRefresh)}),I("refreshEnvironments")):(0,f.traceError)("Not allowed to refresh environments in an untrusted workspace")},get onDidChangeEnvironments(){return I("onDidChangeEnvironments"),C.event},...(0,E.buildEnvironmentCreationApi)()}},t.convertCompleteEnvInfo=k,t.convertEnvInfo=A},53533:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EnvironmentKnownCache=void 0,t.EnvironmentKnownCache=class{constructor(e){this._envs=[],this._envs=e}get envs(){return this._envs}addEnv(e){this._envs.find((t=>e.id===t.id))||this._envs.push(e)}updateEnv(e,t){const n=this._envs.findIndex((t=>e.id===t.id));-1!==n&&(void 0===t?this._envs.splice(n,1):this._envs[n]=t)}}},96130:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.activateFeatures=t.activateComponents=void 0;const s=n(54980),a=n(1048),c=n(11925),l=n(72290),u=n(9019),p=n(54661),d=n(552),h=n(37494),f=n(22408),v=n(86156),g=n(98803),m=n(11833),y=n(46108),b=n(29413),_=n(85602),E=n(13460),S=n(65422),w=n(62365),P=n(85120),T=n(50315),C=n(95609),x=n(52060),I=n(61516),O=o(n(51172)),R=n(29408),D=n(49044),k=n(30741),A=n(67715),N=n(68397),j=n(34614),M=n(30966),L=n(58137),F=n(9923),V=n(54786),U=n(57062),H=n(54380),W=n(5274),q=n(8164),B=n(83295),$=n(36380);t.activateComponents=async function(e,t,n){const r=await async function(e,t){const{legacyIOC:n}=e,{serviceManager:r,serviceContainer:i}=n,o=r.get(f.IFileSystem);await(0,P.setExtensionInstallTelemetryProperties)(o);const O=r.get(p.IApplicationEnvironment),{enableProposedApi:N}=O.packageJson;r.addSingletonInstance(d.UseProposedApi,N),(0,I.registerTypes)(r),(0,h.registerTypes)(r),(0,C.registerTypes)(r),(0,m.registerTypes)(r),(0,T.registerTypes)(r);const j=i.get(v.IExtensions);await(0,R.setDefaultLanguageServer)(j,r),i.get(v.IConfigurationService).getSettings().register(),(0,l.registerTypes)(r),(0,S.registerTypes)(r),(0,a.registerTypes)(r);const M=r.get(v.IDisposableRegistry),U=i.get(p.IWorkspaceService),H=i.get(p.ICommandManager);if(s.languages.setLanguageConfiguration(d.PYTHON_LANGUAGE,(0,_.getLanguageConfiguration)()),U.isTrusted&&(i.get(b.IInterpreterService).initialize(),!U.isVirtualWorkspace)){const t=r.getAll(A.IDebugSessionEventHandlers);new k.DebugSessionEventDispatcher(t,D.DebugService.instance,M).registerEventHandlers();const n=r.get(v.ILogOutputChannel);M.push(H.registerCommand(d.Commands.ViewOutput,(()=>n.show()))),H.executeCommand("setContext","python.vscode.channel",O.channel).then(g.noop,g.noop),i.get(u.IApplicationDiagnostics).register(),r.get(x.ITerminalAutoActivation).register(),await(0,W.registerPythonStartup)(e.context),r.get(x.ICodeExecutionManager).registerCommands(),M.push(new E.ReplProvider(i));const o=new w.TerminalProvider(i);o.initialize(s.window.activeTerminal).ignoreErrors(),i.getAll(y.IDebugConfigurationService).forEach((e=>{M.push(s.debug.registerDebugConfigurationProvider(V.DebuggerTypeName,e))})),M.push(o),(0,L.registerCreateEnvironmentTriggers)(M),(0,F.initializePersistentStateForTriggers)(e.context)}const q=i.get(c.IExtensionActivationManager);M.push(q);return{fullyReady:q.activate(t)}}(e,n);if(!(new N.WorkspaceService).isTrusted)return[r];const i=[O.activate(t.pythonEnvs,e)];return Promise.all([r,...i])},t.activateFeatures=function(e,t){const n=e.legacyIOC.serviceContainer.get(j.IInterpreterQuickPick),r=e.legacyIOC.serviceContainer.get(v.IInterpreterPathService),i=e.legacyIOC.serviceContainer.get(b.IInterpreterService);(0,$.registerEnvExtFeatures)(e.disposables,r);const o=e.legacyIOC.serviceContainer.get(v.IPathUtils);(0,q.registerPixiFeatures)(e.disposables),(0,M.registerAllCreateEnvironmentFeatures)(e.disposables,n,r,i,o);const s=e.legacyIOC.serviceContainer.get(x.ICodeExecutionHelper),a=e.legacyIOC.serviceContainer.get(p.ICommandManager);(0,H.registerTriggerForTerminalREPL)(e.disposables),(0,U.registerStartNativeReplCommand)(e.disposables,i),(0,U.registerReplCommands)(e.disposables,i,s,a),(0,U.registerReplExecuteOnEnter)(e.disposables,i,a),(0,B.registerCustomTerminalLinkProvider)(e.disposables)}},49892:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.initializeComponents=t.initializeStandard=t.initializeGlobals=void 0;const s=n(25891),a=n(54980),c=n(84021),l=n(42219),u=n(96777),p=n(74702),d=n(86156),h=n(90679),f=n(14152),v=n(92938),g=n(38927),m=n(9100),y=o(n(51172)),b=n(61905),_=n(36901);t.initializeGlobals=function(e){const t=e.subscriptions,n=new s.Container({skipBaseClassChecks:!0}),r=new g.ServiceManager(n),i=new v.ServiceContainer(n);r.addSingletonInstance(m.IServiceContainer,i),r.addSingletonInstance(m.IServiceManager,r),r.addSingletonInstance(d.IDisposableRegistry,t),r.addSingletonInstance(d.IMemento,e.globalState,d.GLOBAL_MEMENTO),r.addSingletonInstance(d.IMemento,e.workspaceState,d.WORKSPACE_MEMENTO),r.addSingletonInstance(d.IExtensionContext,e);const o=a.window.createOutputChannel(f.OutputChannelNames.python,{log:!0});return t.push(o),t.push((0,b.registerLogger)(new _.OutputChannelLogger(o))),r.addSingletonInstance(d.ILogOutputChannel,o),{context:e,disposables:t,legacyIOC:{serviceManager:r,serviceContainer:i}}},t.initializeStandard=function(e){const{serviceManager:t}=e.legacyIOC;(0,u.registerTypes)(t),(0,h.registerTypes)(t),(0,c.registerTypes)(t),(0,l.registerTypes)(t),(0,p.registerTypes)(t)},t.initializeComponents=async function(e){return{pythonEnvs:await y.initialize(e)}}},15656:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.EnvironmentActivationService=t.EnvironmentActivationServiceCache=t.defaultShells=void 0,n(87295);const c=s(n(16928)),l=n(25891),u=n(54661),p=n(552),d=n(22408),h=s(n(8370)),f=n(35026),v=n(23935),g=n(86156),m=n(7855),y=n(99652),b=n(48112),_=n(53694),E=n(25297),S=n(51535),w=n(53322),P=n(29413),T=n(580),C=n(61905),x=n(95885),I=n(51080),O=n(18065),R=n(62982),D=n(68989),k=n(8164),A="e8b39361-0157-4923-80e1-22d70d46dee6";t.defaultShells={[b.OSType.Windows]:{shell:"cmd",shellType:v.TerminalShellType.commandPrompt},[b.OSType.OSX]:{shell:"bash",shellType:v.TerminalShellType.bash},[b.OSType.Linux]:{shell:"bash",shellType:v.TerminalShellType.bash},[b.OSType.Unknown]:void 0};const N=["The process cannot access the file because it is being used by another process","The directory is not empty"];class j{constructor(){this.normalMap=new Map}static forceUseStatic(){j.useStatic=!0}static forceUseNormal(){j.useStatic=!1}get(e){return j.useStatic?j.staticMap.get(e):this.normalMap.get(e)}set(e,t){j.useStatic?j.staticMap.set(e,t):this.normalMap.set(e,t)}delete(e){j.useStatic?j.staticMap.delete(e):this.normalMap.delete(e)}clear(){j.useStatic||this.normalMap.clear()}}t.EnvironmentActivationServiceCache=j,j.useStatic=!1,j.staticMap=new Map;let M=class{constructor(e,t,n,r,i,o,s){this.helper=e,this.platform=t,this.processServiceFactory=n,this.currentProcess=r,this.workspace=i,this.interpreterService=o,this.envVarsService=s,this.disposables=[],this.activatedEnvVariablesCache=new j,this.envVarsService.onDidEnvironmentVariablesChange((()=>this.activatedEnvVariablesCache.clear()),this,this.disposables)}dispose(){this.disposables.forEach((e=>e.dispose()))}async getActivatedEnvironmentVariables(e,t,n,r){var i;const o=new I.StopWatch,s=this.workspace.getWorkspaceFolderIdentifier(e);t=null!=t?t:await this.interpreterService.getActiveInterpreter(e);const a=`${s}_${this.platform.isWindows?null==t?void 0:t.path.toLowerCase():null==t?void 0:t.path}_${r}`;if(null===(i=this.activatedEnvVariablesCache.get(a))||void 0===i?void 0:i.hasData)return this.activatedEnvVariablesCache.get(a).data;const c=new y.InMemoryCache(6e5);return this.getActivatedEnvironmentVariablesImpl(e,t,n,r).then((e=>(c.data=e,this.activatedEnvVariablesCache.set(a,c),(0,S.sendTelemetryEvent)(w.EventName.PYTHON_INTERPRETER_ACTIVATION_ENVIRONMENT_VARIABLES,o.elapsedTime,{failed:!1}),e))).catch((e=>{throw(0,S.sendTelemetryEvent)(w.EventName.PYTHON_INTERPRETER_ACTIVATION_ENVIRONMENT_VARIABLES,o.elapsedTime,{failed:!0}),e}))}async getProcessEnvironmentVariables(e,t){const n=this.interpreterService.getInterpreters().filter((e=>!E.virtualEnvTypes.includes(e.envType))),r=n.length>0&&n[0]?n[0].path:"python";try{const[n,i]=h.printEnvVariables();n.forEach(((e,t)=>{n[t]=e.toCommandArgumentForPythonExt()}));const o=`${r} ${n.join(" ")}`,s=await this.processServiceFactory.create(e,{doNotUseCustomEnvs:!0}),a=await s.shellExec(o,{shell:t,timeout:3e4,maxBuffer:1e6,throwOnStdErr:!1}),c=this.parseEnvironmentOutput(a.stdout,i);return null!=c?c:process.env}catch(e){return process.env}}async getEnvironmentActivationShellCommands(e,n){const r=t.defaultShells[this.platform.osType];return r?this.helper.getEnvironmentActivationShellCommands(e,r.shellType,n):[]}async getActivatedEnvironmentVariablesImpl(e,n,r,i){var o,s;let a=t.defaultShells[this.platform.osType];if(a){i&&(a={shellType:(0,O.identifyShellFromShellPath)(i),shell:i});try{const t=await this.processServiceFactory.create(e),r=null!==(o=await this.envVarsService.getEnvironmentVariables(e))&&void 0!==o?o:{},u=Object.keys(r).length?r:{...this.currentProcess.env};let d;const[f,g]=h.printEnvVariables();if(f.forEach(((e,t)=>{f[t]=e.toCommandArgumentForPythonExt()})),(null==n?void 0:n.envType)===E.EnvironmentType.Conda){const e=await x.Conda.getConda(i),t=await(null==e?void 0:e.getRunPythonArgs({name:n.envName,prefix:null!==(s=n.envPath)&&void 0!==s?s:""}));t&&(d=[...t,...f].map((e=>e.toCommandArgumentForPythonExt())).join(" "))}else if((null==n?void 0:n.envType)===E.EnvironmentType.Pixi){const e=await(0,k.getRunPixiPythonCommand)(n.path);e&&(d=[...e,...f].map((e=>e.toCommandArgumentForPythonExt())).join(" "))}if(!d){const t=await this.helper.getEnvironmentActivationShellCommands(e,a.shellType,n);if((0,C.traceVerbose)(`Activation Commands received ${t} for shell ${a.shell}, resource ${null==e?void 0:e.fsPath} and interpreter ${null==n?void 0:n.path}`),!t||!Array.isArray(t)||0===t.length){if(n&&[E.EnvironmentType.Venv,E.EnvironmentType.Pyenv].includes(null==n?void 0:n.envType)){const e=(0,R.getSearchPathEnvVarNames)()[0];return u[e]?u[e]=`${c.dirname(n.path)}${c.delimiter}${u[e]}`:u[e]=`${c.dirname(n.path)}`,u}return}const r=[v.TerminalShellType.powershell,v.TerminalShellType.powershellCore].includes(a.shellType)?";":"&&";d=`${(l=t,l.map((e=>e.replace(/^source\s+/,". ")))).join(` ${r} `)} ${r} echo '${A}' ${r} python ${f.join(" ")}`}const y=u[p.PYTHON_WARNINGS];let b;u[p.PYTHON_WARNINGS]="ignore",(0,C.traceVerbose)(`Activating Environment to capture Environment variables, ${d}`);let _,S=1;for(;!b;)try{b=await t.shellExec(d,{env:u,shell:a.shell,timeout:(null==n?void 0:n.envType)===E.EnvironmentType.Conda?6e4:3e4,maxBuffer:1e6,throwOnStdErr:!1});try{_=this.parseEnvironmentOutput(b.stdout,g)}catch(e){if(!b.stderr)throw e}if(b.stderr){if(!_)throw new Error(`StdErr from ShellExec, ${b.stderr} for ${d}`);if((0,C.traceWarn)("Got env variables but with errors",b.stderr,_),b.stderr.includes("running scripts is disabled")||b.stderr.includes("FullyQualifiedErrorId : UnauthorizedAccess"))throw new Error(`Skipping returned result when powershell execution is disabled, stderr ${b.stderr} for ${d}`)}}catch(e){const t=e.toString();if(!(N.find((e=>t.includes(e)))&&S<10))throw e;(0,C.traceInfo)("Conda is busy, attempting to retry ..."),b=void 0,S+=1,await(0,m.sleep)(500)}return y&&_?_[p.PYTHON_WARNINGS]=y:_&&delete _[p.PYTHON_WARNINGS],_}catch(e){if((0,C.traceError)("getActivatedEnvironmentVariables",e),(0,S.sendTelemetryEvent)(w.EventName.ACTIVATE_ENV_TO_GET_ENV_VARS_FAILED,void 0,{isPossiblyCondaEnv:(null==n?void 0:n.envType)===E.EnvironmentType.Conda,terminal:a.shellType}),r)throw e}var l}}parseEnvironmentOutput(e,t){return-1===e.indexOf(A)?t(e):t((e=e.substring(e.indexOf(A)+36)).substring(e.indexOf("{")).trim())}};t.EnvironmentActivationService=M,o([(0,C.traceDecoratorVerbose)("getActivatedEnvironmentVariables",T.TraceOptions.Arguments)],M.prototype,"getActivatedEnvironmentVariables",null),o([(0,D.cache)(-1,!0)],M.prototype,"getProcessEnvironmentVariables",null),o([(0,C.traceDecoratorError)("Failed to parse Environment variables"),(0,C.traceDecoratorVerbose)("parseEnvironmentOutput",T.TraceOptions.None)],M.prototype,"parseEnvironmentOutput",null),t.EnvironmentActivationService=M=o([(0,l.injectable)(),a(0,(0,l.inject)(v.ITerminalHelper)),a(1,(0,l.inject)(d.IPlatformService)),a(2,(0,l.inject)(f.IProcessServiceFactory)),a(3,(0,l.inject)(g.ICurrentProcess)),a(4,(0,l.inject)(u.IWorkspaceService)),a(5,(0,l.inject)(P.IInterpreterService)),a(6,(0,l.inject)(_.IEnvironmentVariablesProvider))],M)},67714:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IEnvironmentActivationService=void 0,t.IEnvironmentActivationService=Symbol("IEnvironmentActivationService")},7318:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.InterpreterAutoSelectionService=void 0;const o=n(25891),s=n(54980),a=n(54661),c=n(94496);n(87295);const l=n(22408),u=n(86156),p=n(7855),d=n(71067),h=n(18162),f=n(51535),v=n(53322),g=n(34614),m=n(29413),y=n(23167),b="preferredGlobalPyInterpreter";let _=class{constructor(e,t,n,r,i,o,a,c){this.workspaceService=e,this.stateFactory=t,this.fs=n,this.interpreterService=r,this.envTypeComparer=i,this.interpreterHelper=a,this.experimentService=c,this.autoSelectedWorkspacePromises=new Map,this.didAutoSelectedInterpreterEmitter=new s.EventEmitter,this.autoSelectedInterpreterByWorkspace=new Map,this.globallyPreferredInterpreter=this.stateFactory.createGlobalPersistentState(b,void 0),o.registerInstance(this)}async autoSelectInterpreter(e){const t=this.getWorkspacePathKey(e),n=this.autoSelectedWorkspacePromises.has(t);if(!n){const n=(0,p.createDeferred)();this.autoSelectedWorkspacePromises.set(t,n),await this.initializeStore(e),await this.clearWorkspaceStoreIfInvalid(e),await this.autoselectInterpreterWithLocators(e),n.resolve()}return(0,f.sendTelemetryEvent)(v.EventName.PYTHON_INTERPRETER_AUTO_SELECTION,void 0,{useCachedInterpreter:n}),this.autoSelectedWorkspacePromises.get(t).promise}get onDidChangeAutoSelectedInterpreter(){return this.didAutoSelectedInterpreterEmitter.event}getAutoSelectedInterpreter(e){const t=this.getWorkspaceState(e);if(t&&t.value)return t.value;const n=this.getWorkspacePathKey(e);return this.autoSelectedInterpreterByWorkspace.has(n)?this.autoSelectedInterpreterByWorkspace.get(n):this.globallyPreferredInterpreter.value}async setWorkspaceInterpreter(e,t){await this.storeAutoSelectedInterpreter(e,t)}async setGlobalInterpreter(e){await this.storeAutoSelectedInterpreter(void 0,e)}async clearWorkspaceStoreIfInvalid(e){const t=this.getWorkspaceState(e);t&&t.value&&!await this.fs.fileExists(t.value.path)&&await t.updateValue(void 0)}async storeAutoSelectedInterpreter(e,t){const n=this.getWorkspacePathKey(e);if(""===n){if(this.globallyPreferredInterpreter.value&&this.globallyPreferredInterpreter.value.version&&t&&t.version&&(0,d.compareSemVerLikeVersions)(this.globallyPreferredInterpreter.value.version,t.version)>0)return;await this.globallyPreferredInterpreter.updateValue(t),this.autoSelectedInterpreterByWorkspace.set(n,t)}else{const r=this.getWorkspaceState(e);r&&t&&await r.updateValue(t),this.autoSelectedInterpreterByWorkspace.set(n,t)}}async initializeStore(e){const t=this.getWorkspacePathKey(e);this.autoSelectedInterpreterByWorkspace.delete(t),this.globallyPreferredInterpreter||await this.clearStoreIfFileIsInvalid()}async clearStoreIfFileIsInvalid(){this.globallyPreferredInterpreter=this.stateFactory.createGlobalPersistentState(b,void 0),this.globallyPreferredInterpreter.value&&!await this.fs.fileExists(this.globallyPreferredInterpreter.value.path)&&await this.globallyPreferredInterpreter.updateValue(void 0)}getWorkspacePathKey(e){return this.workspaceService.getWorkspaceFolderIdentifier(e,"")}getWorkspaceState(e){const t=this.interpreterHelper.getActiveWorkspaceUri(e);if(t){const e=`autoSelectedWorkspacePythonInterpreter-${t.folderUri.fsPath}`;return this.stateFactory.createWorkspacePersistentState(e,void 0)}}getAutoSelectionInterpretersQueryState(e){const t=this.interpreterHelper.getActiveWorkspaceUri(e),n=`autoSelectionInterpretersQueried-${(null==t?void 0:t.folderUri.fsPath)||"global"}`;return this.stateFactory.createWorkspacePersistentState(n,void 0)}getAutoSelectionQueriedOnceState(){return this.stateFactory.createGlobalPersistentState("autoSelectionInterpretersQueriedOnce",void 0)}async autoselectInterpreterWithLocators(e){const t=this.getAutoSelectionInterpretersQueryState(e),n=this.getAutoSelectionQueriedOnceState();n.value&&!0!==t.value&&e&&await this.interpreterService.triggerRefresh({searchLocations:{roots:[e],doNotIncludeNonRooted:!0}}),await this.envTypeComparer.initialize(e);const r=this.experimentService.inExperimentSync(c.DiscoveryUsingWorkers.experiment),i=this.interpreterHelper.getActiveWorkspaceUri(e);let o;if(r){n.value||await this.interpreterService.getRefreshPromise({stage:h.ProgressReportStage.allPathsDiscovered});let t=this.interpreterService.getInterpreters(e);o=this.envTypeComparer.getRecommended(t,null==i?void 0:i.folderUri),(o?await this.interpreterService.getInterpreterDetails(o.path):void 0)&&o||(await this.interpreterService.refreshPromise,t=this.interpreterService.getInterpreters(e),o=this.envTypeComparer.getRecommended(t,null==i?void 0:i.folderUri))}else{n.value||await this.interpreterService.refreshPromise;const t=this.interpreterService.getInterpreters(e);o=this.envTypeComparer.getRecommended(t,null==i?void 0:i.folderUri)}o&&(i?this.setWorkspaceInterpreter(i.folderUri,o):this.setGlobalInterpreter(o),t.updateValue(!0),n.updateValue(!0),this.didAutoSelectedInterpreterEmitter.fire())}};t.InterpreterAutoSelectionService=_,t.InterpreterAutoSelectionService=_=r([(0,o.injectable)(),i(0,(0,o.inject)(a.IWorkspaceService)),i(1,(0,o.inject)(u.IPersistentStateFactory)),i(2,(0,o.inject)(l.IFileSystem)),i(3,(0,o.inject)(m.IInterpreterService)),i(4,(0,o.inject)(g.IInterpreterComparer)),i(5,(0,o.inject)(y.IInterpreterAutoSelectionProxyService)),i(6,(0,o.inject)(m.IInterpreterHelper)),i(7,(0,o.inject)(u.IExperimentService))],_)},97238:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.InterpreterAutoSelectionProxyService=void 0;const o=n(25891),s=n(54980),a=n(86156);let c=class{constructor(e){this.disposables=e,this.didAutoSelectedInterpreterEmitter=new s.EventEmitter}registerInstance(e){this.instance=e,this.disposables.push(this.instance.onDidChangeAutoSelectedInterpreter((()=>this.didAutoSelectedInterpreterEmitter.fire())))}get onDidChangeAutoSelectedInterpreter(){return this.didAutoSelectedInterpreterEmitter.event}getAutoSelectedInterpreter(e){return this.instance?this.instance.getAutoSelectedInterpreter(e):void 0}async setWorkspaceInterpreter(e,t){return this.instance?this.instance.setWorkspaceInterpreter(e,t):void 0}};t.InterpreterAutoSelectionProxyService=c,t.InterpreterAutoSelectionProxyService=c=r([(0,o.injectable)(),i(0,(0,o.inject)(a.IDisposableRegistry))],c)},23167:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.AutoSelectionRule=t.IInterpreterAutoSelectionService=t.IInterpreterAutoSelectionProxyService=void 0,t.IInterpreterAutoSelectionProxyService=Symbol("IInterpreterAutoSelectionProxyService"),t.IInterpreterAutoSelectionService=Symbol("IInterpreterAutoSelectionService"),function(e){e.all="all",e.currentPath="currentPath",e.workspaceVirtualEnvs="workspaceEnvs",e.settings="settings",e.cachedInterpreters="cachedInterpreters",e.systemWide="system",e.windowsRegistry="windowsRegistry"}(n||(t.AutoSelectionRule=n={}))},68681:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.getEnvLocationHeuristic=t.isProblematicCondaEnvironment=t.EnvironmentTypeComparer=t.EnvLocationHeuristic=void 0;const o=n(25891),s=n(48112),a=n(74857),c=n(69396),l=n(25297),u=n(29413),p=n(60852),d=n(25943);var h;!function(e){e[e.Local=1]="Local",e[e.Global=2]="Global"}(h||(t.EnvLocationHeuristic=h={}));let f=class{constructor(e){var t,n;this.interpreterHelper=e,this.preferredPyenvInterpreterPath=new Map,this.workspaceFolderPath=null!==(n=null===(t=this.interpreterHelper.getActiveWorkspaceUri(void 0))||void 0===t?void 0:t.folderUri.fsPath)&&void 0!==n?n:""}compare(e,t){if(m(e))return 1;if(m(t))return-1;const n=function(e,t,n){const r=y(e,n),i=y(t,n);return Math.sign(r-i)}(e,t,this.workspaceFolderPath);if(0!==n)return n;if(e.envType===l.EnvironmentType.Pyenv&&t.envType===l.EnvironmentType.Pyenv){const n=this.preferredPyenvInterpreterPath.get(this.workspaceFolderPath);if(n){if((0,d.arePathsSame)(n,t.path))return 1;if((0,d.arePathsSame)(n,e.path))return-1}}const r=function(e,t){if(!e.type&&!t.type)return e.envType===l.EnvironmentType.Pyenv&&t.envType!==l.EnvironmentType.Pyenv?-1:e.envType!==l.EnvironmentType.Pyenv&&t.envType===l.EnvironmentType.Pyenv?1:0;const n=[l.EnvironmentType.Poetry,l.EnvironmentType.Pipenv,l.EnvironmentType.VirtualEnvWrapper,l.EnvironmentType.Hatch,l.EnvironmentType.Venv,l.EnvironmentType.VirtualEnv,l.EnvironmentType.ActiveState,l.EnvironmentType.Conda,l.EnvironmentType.Pyenv,l.EnvironmentType.MicrosoftStore,l.EnvironmentType.Global,l.EnvironmentType.System,l.EnvironmentType.Unknown];return Math.sign(n.indexOf(e.envType)-n.indexOf(t.envType))}(e,t);if(0!==r)return r;const i=function(e,t){return e?t?e.raw===t.raw?0:e.major===t.major?e.minor===t.minor?e.patch===t.patch?e.build.join(" ")>t.build.join(" ")?-1:1:e.patch>t.patch?-1:1:e.minor>t.minor?-1:1:e.major>t.major?-1:1:-1:1}(e.version,t.version);if(0!==i)return i;if(g(e))return 1;if(g(t))return-1;const o=v(e,this.interpreterHelper),s=v(t,this.interpreterHelper);return o===s?0:o>s?1:-1}async initialize(e){const t=this.interpreterHelper.getActiveWorkspaceUri(e),n=null==t?void 0:t.folderUri.fsPath;if(!n)return;const r=await(0,p.getActivePyenvForDirectory)(n);this.preferredPyenvInterpreterPath.set(n,r)}getRecommended(e,t){const n=this.interpreterHelper.getActiveWorkspaceUri(t),r=e.filter((e=>{var t;return!(m(e)||!(e.envType!==l.EnvironmentType.ActiveState||e.path&&n&&(0,a.isActiveStateEnvironmentForWorkspace)(e.path,n.folderUri.fsPath))||y(e,(null==n?void 0:n.folderUri.fsPath)||"")!==h.Local&&(!l.workspaceVirtualEnvTypes.includes(e.envType)&&l.virtualEnvTypes.includes(e.envType)||2===(null===(t=e.version)||void 0===t?void 0:t.major)))}));return r.sort(this.compare.bind(this)),r.length?r[0]:void 0}};function v(e,t){const n=[],r=[];if(e.version&&n.push(e.version.raw),e.architecture&&n.push(function(e){switch(e){case s.Architecture.x64:return"x64";case s.Architecture.x86:return"x86";default:return""}}(e.architecture)),e.companyDisplayName&&e.companyDisplayName.length>0?n.push(e.companyDisplayName.trim()):n.push("Python"),e.envType){const n=t.getInterpreterTypeDisplayName(e.envType);n&&r.push(n)}e.envName&&e.envName.length>0&&r.push(e.envName);const i=0===r.length?"":`(${r.join(": ")})`;return`${n.join(" ")} ${i}`.trim()}function g(e){return e.envType===l.EnvironmentType.Conda&&("base"===e.envName||"miniconda"===e.envName)}function m(e){return e.envType===l.EnvironmentType.Conda&&"python"===e.path}function y(e,t){return t.length>0&&(e.envPath&&(0,c.isParentPath)(e.envPath,t)||e.path&&(0,c.isParentPath)(e.path,t))?h.Local:h.Global}t.EnvironmentTypeComparer=f,t.EnvironmentTypeComparer=f=r([(0,o.injectable)(),i(0,(0,o.inject)(u.IInterpreterHelper))],f),t.isProblematicCondaEnvironment=m,t.getEnvLocationHeuristic=y},77693:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseInterpreterSelectorCommand=void 0;const c=n(25891),l=s(n(16928)),u=n(54980),p=n(14152);let d=class{constructor(e,t,n,r,i,o){this.pythonPathUpdaterService=e,this.commandManager=t,this.applicationShell=n,this.workspaceService=r,this.pathUtils=i,this.configurationService=o,this.supportedWorkspaceTypes={untrustedWorkspace:!1,virtualWorkspace:!0},this.disposables=[],this.disposables.push(this)}dispose(){this.disposables.forEach((e=>e.dispose()))}async getConfigTargets(e){const t=this.workspaceService.workspaceFolders;if(void 0===t||0===t.length)return[{folderUri:void 0,configTarget:u.ConfigurationTarget.Global}];if(1===t.length)return[{folderUri:t[0].uri,configTarget:u.ConfigurationTarget.WorkspaceFolder}];let n=(null==e?void 0:e.resetTarget)?[{label:p.Common.clearAll}]:[];n.push(...t.map((e=>{const t=this.pathUtils.getDisplayName(this.configurationService.getSettings(e.uri).pythonPath,e.uri.fsPath);return{label:e.name,description:this.pathUtils.getDisplayName(l.dirname(e.uri.fsPath)),uri:e.uri,detail:t}})),{label:(null==e?void 0:e.resetTarget)?p.Interpreters.clearAtWorkspace:p.Interpreters.entireWorkspace,uri:t[0].uri});const r=await this.applicationShell.showQuickPick(n,{placeHolder:(null==e?void 0:e.resetTarget)?"Select the workspace folder to clear the interpreter for":"Select the workspace folder to set the interpreter"});return(null==r?void 0:r.label)===p.Common.clearAll?[...t.map((e=>({folderUri:e.uri,configTarget:u.ConfigurationTarget.WorkspaceFolder}))),{folderUri:t[0].uri,configTarget:u.ConfigurationTarget.Workspace}]:r?r.label===p.Interpreters.entireWorkspace||r.label===p.Interpreters.clearAtWorkspace?[{folderUri:r.uri,configTarget:u.ConfigurationTarget.Workspace}]:[{folderUri:r.uri,configTarget:u.ConfigurationTarget.WorkspaceFolder}]:void 0}};t.BaseInterpreterSelectorCommand=d,t.BaseInterpreterSelectorCommand=d=o([(0,c.injectable)(),a(0,(0,c.unmanaged)()),a(1,(0,c.unmanaged)()),a(2,(0,c.unmanaged)()),a(3,(0,c.unmanaged)()),a(4,(0,c.unmanaged)()),a(5,(0,c.unmanaged)())],d)},35880:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.InstallPythonCommand=void 0;const o=n(25891),s=n(19419),a=n(54661),c=n(2761),l=n(552),u=n(86156),p=n(22408);let d=class{constructor(e,t,n,r,i){this.commandManager=e,this.contextManager=t,this.browserService=n,this.platformService=r,this.disposables=i,this.supportedWorkspaceTypes={untrustedWorkspace:!0,virtualWorkspace:!1}}async activate(){this.disposables.push(this.commandManager.registerCommand(l.Commands.InstallPython,(()=>this._installPython())))}async _installPython(){this.platformService.isWindows&&(await this.platformService.getVersion()).major>8?this.browserService.launch("ms-windows-store://pdp/?ProductId=9NRWMJP3717K"):this.showInstallPythonTile()}showInstallPythonTile(){let e;this.contextManager.setContext(s.ExtensionContextKey.showInstallPythonTile,!0),e=this.platformService.isWindows?c.PythonWelcome.windowsInstallId:this.platformService.isLinux?c.PythonWelcome.linuxInstallId:c.PythonWelcome.macOSInstallId,this.commandManager.executeCommand("workbench.action.openWalkthrough",{category:`${l.PVSC_EXTENSION_ID}#${c.PythonWelcome.name}`,step:`${l.PVSC_EXTENSION_ID}#${c.PythonWelcome.name}#${e}`},!1)}};t.InstallPythonCommand=d,t.InstallPythonCommand=d=r([(0,o.injectable)(),i(0,(0,o.inject)(a.ICommandManager)),i(1,(0,o.inject)(a.IContextKeyManager)),i(2,(0,o.inject)(u.IBrowserService)),i(3,(0,o.inject)(p.IPlatformService)),i(4,(0,o.inject)(u.IDisposableRegistry))],d)},61149:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.InstallPythonViaTerminal=void 0;const o=n(25891),s=n(552),a=n(86156),c=n(54661),l=n(7855),u=n(48112),p=n(61905),d=n(14152);var h;!function(e){e.brew="brew",e.apt="apt",e.dnf="dnf"}(h||(h={}));let f=class{constructor(e,t,n){this.commandManager=e,this.terminalManager=t,this.disposables=n,this.supportedWorkspaceTypes={untrustedWorkspace:!0,virtualWorkspace:!1},this.packageManagerCommands={brew:["brew install python3"],dnf:["sudo dnf install python3"],apt:["sudo apt-get update","sudo apt-get install python3 python3-venv python3-pip"]}}async activate(){this.disposables.push(this.commandManager.registerCommand(s.Commands.InstallPythonOnMac,(()=>this._installPythonOnUnix(u.OSType.OSX)))),this.disposables.push(this.commandManager.registerCommand(s.Commands.InstallPythonOnLinux,(()=>this._installPythonOnUnix(u.OSType.Linux))))}async _installPythonOnUnix(e){const t=await this.getCommands(e),n=e===u.OSType.OSX?d.Interpreters.installPythonTerminalMacMessage:d.Interpreters.installPythonTerminalMessageLinux,r=this.terminalManager.createTerminal({name:"Python",message:t.length?void 0:n});r.show(!0),await async function(){await(0,l.sleep)(100)}();for(const e of t)r.sendText(e),await g()}async getCommands(e){if(e===u.OSType.OSX)return this.getCommandsForPackageManagers([h.brew]);if(e===u.OSType.Linux)return this.getCommandsForPackageManagers([h.apt,h.dnf]);throw new Error("OS not supported")}async getCommandsForPackageManagers(e){for(const t of e)if(await v(t))return this.packageManagerCommands[t];return[]}};async function v(e){try{const t=n(46911),r=await t.default(e);return(0,p.traceVerbose)(`Resolved path to ${e} module:`,r),r.trim().length>0}catch(t){return(0,p.traceVerbose)(`${e} not found`,t),!1}}async function g(){await(0,l.sleep)(500)}t.InstallPythonViaTerminal=f,t.InstallPythonViaTerminal=f=r([(0,o.injectable)(),i(0,(0,o.inject)(c.ICommandManager)),i(1,(0,o.inject)(c.ITerminalManager)),i(2,(0,o.inject)(a.IDisposableRegistry))],f)},75763:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ResetInterpreterCommand=void 0;const o=n(25891),s=n(54661),a=n(552),c=n(86156),l=n(34614),u=n(77693),p=n(36380),d=n(95241);let h=class extends u.BaseInterpreterSelectorCommand{constructor(e,t,n,r,i,o){super(e,t,n,r,i,o)}async activate(){this.disposables.push(this.commandManager.registerCommand(a.Commands.ClearWorkspaceInterpreter,this.resetInterpreter.bind(this)))}async resetInterpreter(){const e=await this.getConfigTargets({resetTarget:!0});e&&await Promise.all(e.map((async e=>{const t=e.configTarget,n=e.folderUri;await this.pythonPathUpdaterService.updatePythonPath(void 0,t,"ui",n),(0,p.useEnvExtension)()&&await(0,d.resetInterpreterLegacy)(n)})))}};t.ResetInterpreterCommand=h,t.ResetInterpreterCommand=h=r([(0,o.injectable)(),i(0,(0,o.inject)(l.IPythonPathUpdaterServiceManager)),i(1,(0,o.inject)(s.ICommandManager)),i(2,(0,o.inject)(s.IApplicationShell)),i(3,(0,o.inject)(s.IWorkspaceService)),i(4,(0,o.inject)(c.IPathUtils)),i(5,(0,o.inject)(c.IConfigurationService))],h)},97482:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.SetInterpreterCommand=t.EnvGroups=void 0;const c=n(25891),l=n(2543),u=s(n(16928)),p=n(54980),d=n(54661),h=n(552),f=n(25943),v=n(22408),g=n(86156),m=n(14152),y=n(98803),b=n(70670),_=n(79985),E=n(25297),S=n(51535),w=n(53322),P=n(29413),T=n(68681),C=n(34614),x=n(77693),I=n(65900),O=n(36380),R=n(95241);function D(e){return"interpreter"in e}function k(e){return"alwaysShow"in e}function A(e){return"kind"in e&&e.kind===p.QuickPickItemKind.Separator}var N;!function(e){e.Workspace=m.InterpreterQuickPickList.workspaceGroupName,e.Conda="Conda",e.Global=m.InterpreterQuickPickList.globalGroupName,e.VirtualEnv="VirtualEnv",e.PipEnv="PipEnv",e.Pyenv="Pyenv",e.Venv="Venv",e.Poetry="Poetry",e.Hatch="Hatch",e.Pixi="Pixi",e.VirtualEnvWrapper="VirtualEnvWrapper",e.ActiveState="ActiveState",e.Recommended=m.Common.recommended}(N||(t.EnvGroups=N={}));let j=class extends x.BaseInterpreterSelectorCommand{constructor(e,t,n,r,i,o,s,a,c,l){super(n,i,e,c,t,r),this.multiStepFactory=o,this.platformService=s,this.interpreterSelector=a,this.interpreterService=l,this.createEnvironmentSuggestion={label:`${h.Octicons.Add} ${m.InterpreterQuickPickList.create.label}`,alwaysShow:!0},this.manualEntrySuggestion={label:`${h.Octicons.Folder} ${m.InterpreterQuickPickList.enterPath.label}`,alwaysShow:!0},this.refreshButton={iconPath:new p.ThemeIcon(h.ThemeIcons.Refresh),tooltip:m.InterpreterQuickPickList.refreshInterpreterList},this.noPythonInstalled={label:`${h.Octicons.Error} ${m.InterpreterQuickPickList.noPythonInstalled}`,detail:m.InterpreterQuickPickList.clickForInstructions,alwaysShow:!0},this.wasNoPythonInstalledItemClicked=!1,this.tipToReloadWindow={label:`${h.Octicons.Lightbulb} Reload the window if you installed Python but don't see it`,detail:"Click to run `Developer: Reload Window` command",alwaysShow:!0}}async activate(){this.disposables.push(this.commandManager.registerCommand(h.Commands.Set_Interpreter,this.setInterpreter.bind(this)))}async _pickInterpreter(e,t,n,r){var i,o;const s=!!this.interpreterService.refreshPromise,a=this._getItems(t.workspace,n,r);t.path=void 0;const c=this.pathUtils.getDisplayName(this.configurationService.getSettings(t.workspace).pythonPath,t.workspace?t.workspace.fsPath:void 0),l=null===(null==r?void 0:r.placeholder)?void 0:null!==(i=null==r?void 0:r.placeholder)&&void 0!==i?i:p.l10n.t("Selected Interpreter: {0}",c),u=null===(null==r?void 0:r.title)?void 0:null!==(o=null==r?void 0:r.title)&&void 0!==o?o:m.InterpreterQuickPickList.browsePath.openButtonLabel,d=[{button:this.refreshButton,callback:e=>{this.refreshCallback(e,{isButton:!0,showBackButton:null==r?void 0:r.showBackButton})}}];(null==r?void 0:r.showBackButton)&&d.push({button:p.QuickInputButtons.Back,callback:()=>{}});const f=await e.showQuickPick({placeholder:l,items:a,sortByLabel:!s,keepScrollPosition:!0,activeItem:e=>this.getActiveItem(t.workspace,e),matchOnDetail:!0,matchOnDescription:!0,title:u,customButtonSetups:d,initialize:e=>{0===this.interpreterService.getInterpreters().length?this.refreshCallback(e,{showBackButton:null==r?void 0:r.showBackButton}):this.refreshCallback(e,{ifNotTriggerredAlready:!0,showBackButton:null==r?void 0:r.showBackButton})},onChangeItem:{event:this.interpreterService.onDidChangeInterpreters,callback:(e,i)=>{this.interpreterService.refreshPromise&&(i.busy=!0,this.interpreterService.refreshPromise.then((()=>{i.busy=!1,this.updateQuickPickItems(i,{},t.workspace,n,r)}))),this.updateQuickPickItems(i,e,t.workspace,n,r)}}});if(void 0===f)(0,S.sendTelemetryEvent)(w.EventName.SELECT_INTERPRETER_SELECTED,void 0,{action:"escape"});else{if(f.label===this.manualEntrySuggestion.label)return(0,S.sendTelemetryEvent)(w.EventName.SELECT_INTERPRETER_ENTER_OR_FIND),this._enterOrBrowseInterpreterPath.bind(this);f.label===this.createEnvironmentSuggestion.label?this.commandManager.executeCommand(h.Commands.Create_Environment,{showBackButton:!1,selectEnvironment:!0}).then(y.noop,y.noop):f.label===this.noPythonInstalled.label?(this.commandManager.executeCommand(h.Commands.InstallPython).then(y.noop,y.noop),this.wasNoPythonInstalledItemClicked=!0):f.label===this.tipToReloadWindow.label?this.commandManager.executeCommand("workbench.action.reloadWindow").then(y.noop,y.noop):((0,S.sendTelemetryEvent)(w.EventName.SELECT_INTERPRETER_SELECTED,void 0,{action:"selected"}),t.path=f.path)}}_getItems(e,t,n){const r=[];(null==n?void 0:n.showCreateEnvironment)&&r.push(this.createEnvironmentSuggestion,{label:"",kind:p.QuickPickItemKind.Separator}),r.push(this.manualEntrySuggestion,{label:"",kind:p.QuickPickItemKind.Separator});const i=this.getDefaultInterpreterPathSuggestion(e);i&&r.push(i);const o=this.getSuggestions(e,t,n);return this.finalizeItems(o,e,n),r.push(...o),r}getSuggestions(e,t,n){var r;const i=this.workspaceService.getWorkspaceFolder(e),o=this.interpreterSelector.getSuggestions(e,!!this.interpreterService.refreshPromise).filter((e=>!t||t(e.interpreter)));if(this.interpreterService.refreshPromise)return o;const s=this.interpreterSelector.getSuggestions(e,!0).filter((e=>!t||t(e.interpreter)));let a;return(null==n?void 0:n.skipRecommended)||(a=this.interpreterSelector.getRecommendedSuggestion(s,null===(r=this.workspaceService.getWorkspaceFolder(e))||void 0===r?void 0:r.uri)),a&&o[0].interpreter.id===a.interpreter.id&&o.shift(),function(e,t,n){const r=[];t&&r.push({label:N.Recommended,kind:p.QuickPickItemKind.Separator},t);let i=N.Recommended;for(const t of e)i=M(r,t,n,i),r.push(t);return r}(o,a,null==i?void 0:i.uri.fsPath)}async getActiveItem(e,t){const n=await this.interpreterService.getActiveInterpreter(e),r=t.items,i=r.find((e=>D(e)&&e.interpreter.id===(null==n?void 0:n.id)));if(i)return i;const o=r.find((e=>D(e)));if(o)return o;const s=r.find((e=>k(e)&&e.label===this.noPythonInstalled.label));return null!=s?s:r[0]}getDefaultInterpreterPathSuggestion(e){const t=this.workspaceService.getConfiguration("python",e),n=new _.SystemVariables(e,void 0,this.workspaceService).resolveAny(t.get("defaultInterpreterPath"));if(n&&"python"!==n)return{label:`${h.Octicons.Gear} ${m.InterpreterQuickPickList.defaultInterpreterPath.label}`,description:this.pathUtils.getDisplayName(n,e?e.fsPath:void 0),path:n,alwaysShow:!0}}updateQuickPickItems(e,t,n,r,i){const o=e.activeItems.length>0?e.activeItems[0]:void 0;e.items=this.getUpdatedItems(e.items,t,n,r,i);const s=o?e.items.find((e=>D(e)&&D(o)?e.interpreter.id===o.interpreter.id:!(!k(e)||!k(o))&&e.label===o.label)):void 0;s&&(e.activeItems=[s])}getUpdatedItems(e,t,n,r,i){var o,s;const a=[...e.values()],c=e.find((e=>A(e))),l=null!==(o=t.old)&&void 0!==o?o:t.new;r&&t.new&&!r(t.new)&&(t.new=void 0);let u=-1;if(l&&(u=a.findIndex((e=>D(e)&&e.interpreter.id===l.id))),t.new){const e=this.interpreterSelector.suggestionToQuickPickItem(t.new,n,!c);if(-1===u){const t=a.findIndex((e=>k(e)&&e.label===this.noPythonInstalled.label));-1!==t&&a.splice(t,1);const r=a.findIndex((e=>k(e)&&e.label===this.tipToReloadWindow.label));-1!==r&&a.splice(r,1),c&&M(a,e,null===(s=this.workspaceService.getWorkspaceFolder(n))||void 0===s?void 0:s.uri.fsPath),a.push(e)}else a[u]=e}return-1!==u&&void 0===t.new&&a.splice(u,1),this.finalizeItems(a,n,i),a}finalizeItems(e,t,n){const r=this.interpreterSelector.getSuggestions(t,!0);this.interpreterService.refreshPromise||(r.length?((null==n?void 0:n.skipRecommended)||this.setRecommendedItem(r,e,t),e.forEach(((t,n)=>{D(t)&&(0,T.isProblematicCondaEnvironment)(t.interpreter)&&(e[n].label.includes(h.Octicons.Warning)||(e[n].label=`${h.Octicons.Warning} ${e[n].label}`,e[n].tooltip=m.InterpreterQuickPickList.condaEnvWithoutPythonTooltip))}))):(e.some((e=>k(e)&&e.label===this.noPythonInstalled.label))||e.push(this.noPythonInstalled),this.wasNoPythonInstalledItemClicked&&!e.some((e=>k(e)&&e.label===this.tipToReloadWindow.label))&&e.push(this.tipToReloadWindow)))}setRecommendedItem(e,t,n){var r,i;const o=this.interpreterSelector.getRecommendedSuggestion(e,null===(r=this.workspaceService.getWorkspaceFolder(n))||void 0===r?void 0:r.uri);if(!o)return;const s=t.find((e=>A(e)&&e.label===N.Recommended)),a=(0,l.cloneDeep)(o);a.description=s?a.description:`${null!==(i=a.description)&&void 0!==i?i:""} - ${m.Common.recommended}`;const c=t.findIndex((e=>D(e)&&e.interpreter.id===a.interpreter.id));-1!==c&&(t[c]=a)}refreshCallback(e,t){e.buttons=this.getButtons(t),this.interpreterService.triggerRefresh(void 0,t).finally((()=>{e.buttons=this.getButtons({isButton:!1,showBackButton:null==t?void 0:t.showBackButton})})).ignoreErrors(),this.interpreterService.refreshPromise&&(e.busy=!0,this.interpreterService.refreshPromise.then((()=>{e.busy=!1})))}getButtons(e){const t=[];return(null==e?void 0:e.showBackButton)&&t.push(p.QuickInputButtons.Back),(null==e?void 0:e.isButton)?t.push({iconPath:new p.ThemeIcon(h.ThemeIcons.SpinningLoader),tooltip:m.InterpreterQuickPickList.refreshingInterpreterList}):t.push(this.refreshButton),t}async _enterOrBrowseInterpreterPath(e,t){const n=[{label:m.InterpreterQuickPickList.browsePath.label,detail:m.InterpreterQuickPickList.browsePath.detail}],r=await e.showQuickPick({placeholder:m.InterpreterQuickPickList.enterPath.placeholder,items:n,acceptFilterBoxTextAsSelection:!0});if("string"==typeof r)(0,S.sendTelemetryEvent)(w.EventName.SELECT_INTERPRETER_ENTER_CHOICE,void 0,{choice:"enter"}),t.path=r,this.sendInterpreterEntryTelemetry(r,t.workspace);else if(r&&r.label===m.InterpreterQuickPickList.browsePath.label){(0,S.sendTelemetryEvent)(w.EventName.SELECT_INTERPRETER_ENTER_CHOICE,void 0,{choice:"browse"});const e={Executables:["exe"]},n=await this.applicationShell.showOpenDialog({filters:this.platformService.isWindows?e:void 0,openLabel:m.InterpreterQuickPickList.browsePath.openButtonLabel,canSelectMany:!1,title:m.InterpreterQuickPickList.browsePath.title});if(!(n&&n.length>0))return Promise.reject(b.InputFlowAction.resume);t.path=n[0].fsPath,this.sendInterpreterEntryTelemetry(t.path,t.workspace)}return Promise.resolve()}async setInterpreter(){const e=await this.getConfigTargets();if(!e)return;const{configTarget:t}=e[0],n=e[0].folderUri,r={path:void 0,workspace:n},i=this.multiStepFactory.create();await i.run(((e,t)=>this._pickInterpreter(e,t,void 0,{showCreateEnvironment:!0})),r),void 0!==r.path&&(await this.pythonPathUpdaterService.updatePythonPath(r.path,t,"ui",n),(0,O.useEnvExtension)()&&await(0,R.setInterpreterLegacy)(r.path,n))}async getInterpreterViaQuickPick(e,t,n){const r={path:void 0,workspace:e},i=this.multiStepFactory.create();return await i.run(((e,r)=>this._pickInterpreter(e,r,t,n)),r),r.path}sendInterpreterEntryTelemetry(e,t){const n=this._getItems(t,void 0);let r=u.normalize((0,I.untildify)(e));u.isAbsolute(r)||(r=u.resolve((null==t?void 0:t.fsPath)||"",e));const i=n.map((e=>{const n=D(e)?e.interpreter.path:"";let r=u.normalize((0,I.untildify)(n));return u.isAbsolute(n)||(r=u.resolve((null==t?void 0:t.fsPath)||"",n)),r})).includes(r);(0,S.sendTelemetryEvent)(w.EventName.SELECT_INTERPRETER_ENTERED_EXISTS,void 0,{discovered:i})}};function M(e,t,n,r){if(!r){const t=e.length?e[e.length-1]:void 0;r=t&&D(t)?L(t,n):void 0}const i=L(t,n);if(!r||i!==r){const t={label:i,kind:p.QuickPickItemKind.Separator};e.push(t),r=i}return r}function L(e,t){if(t&&(0,f.isParentPath)(e.path,t))return N.Workspace;switch(e.interpreter.envType){case E.EnvironmentType.Global:case E.EnvironmentType.System:case E.EnvironmentType.Unknown:case E.EnvironmentType.MicrosoftStore:return N.Global;default:return N[e.interpreter.envType]}}t.SetInterpreterCommand=j,o([(0,S.captureTelemetry)(w.EventName.SELECT_INTERPRETER_ENTER_BUTTON)],j.prototype,"_enterOrBrowseInterpreterPath",null),o([(0,S.captureTelemetry)(w.EventName.SELECT_INTERPRETER)],j.prototype,"setInterpreter",null),t.SetInterpreterCommand=j=o([(0,c.injectable)(),a(0,(0,c.inject)(d.IApplicationShell)),a(1,(0,c.inject)(g.IPathUtils)),a(2,(0,c.inject)(C.IPythonPathUpdaterServiceManager)),a(3,(0,c.inject)(g.IConfigurationService)),a(4,(0,c.inject)(d.ICommandManager)),a(5,(0,c.inject)(b.IMultiStepInputFactory)),a(6,(0,c.inject)(v.IPlatformService)),a(7,(0,c.inject)(C.IInterpreterSelector)),a(8,(0,c.inject)(d.IWorkspaceService)),a(9,(0,c.inject)(P.IInterpreterService))],j)},15972:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.InterpreterSelector=void 0;const o=n(25891),s=n(25943),a=n(86156),c=n(6514),l=n(29413),u=n(34614);let p=class{constructor(e,t,n){this.interpreterManager=e,this.envTypeComparer=t,this.pathUtils=n,this.disposables=[]}dispose(){this.disposables.forEach((e=>e.dispose()))}getSuggestions(e,t=!1){const n=this.interpreterManager.getInterpreters(e);return n.sort(this.envTypeComparer.compare.bind(this.envTypeComparer)),n.map((n=>this.suggestionToQuickPickItem(n,e,t)))}async getAllSuggestions(e){const t=await this.interpreterManager.getAllInterpreters(e);return t.sort(this.envTypeComparer.compare.bind(this.envTypeComparer)),Promise.all(t.map((t=>this.suggestionToQuickPickItem(t,e))))}suggestionToQuickPickItem(e,t,n=!1){if(!n){const r=null==t?void 0:t.fsPath;r&&(0,s.isParentPath)(e.path,r)&&(n=!0)}const r=e.envPath&&"envFolderPath"===(0,c.getEnvPath)(e.path,e.envPath).pathType?e.envPath:e.path,i=this.pathUtils.getDisplayName(r,t?t.fsPath:void 0),o=e.cachedEntry?"(cached) ":"";return{label:(n?e.detailedDisplayName:e.displayName)||"Python",description:`${o}${i}`,path:r,interpreter:e}}getRecommendedSuggestion(e,t){const n=this.interpreterManager.getInterpreters(t),r=this.envTypeComparer.getRecommended(n,t);if(r)return e.find((e=>(0,s.arePathsSame)(e.interpreter.path,r.path)))}};t.InterpreterSelector=p,t.InterpreterSelector=p=r([(0,o.injectable)(),i(0,(0,o.inject)(l.IInterpreterService)),i(1,(0,o.inject)(u.IInterpreterComparer)),i(2,(0,o.inject)(a.IPathUtils))],p)},37958:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PythonPathUpdaterService=void 0;const o=n(25891),s=n(54980),a=n(51080),c=n(79985),l=n(61905),u=n(51535),p=n(53322),d=n(29413),h=n(34614);let f=class{constructor(e,t){this.pythonPathSettingsUpdaterFactory=e,this.pyenvs=t}async updatePythonPath(e,t,n,r){const i=new a.StopWatch,o=this.getPythonUpdaterService(t,r);let c=!1;try{await o.updatePythonPath(e)}catch(e){c=!0;const t=e,n=t&&"string"==typeof t.message?t.message:"";s.window.showErrorMessage(s.l10n.t("Failed to set interpreter path. Error: {0}",n)),(0,l.traceError)(t)}this.sendTelemetry(i.elapsedTime,c,n,e,r).catch((e=>(0,l.traceError)("Python Extension: sendTelemetry",e)))}async sendTelemetry(e,t,n,r,i){var o;const s={failed:t,trigger:n};if(!t&&r){const e=new c.SystemVariables(void 0,null==i?void 0:i.fsPath),t=await this.pyenvs.getInterpreterInformation(e.resolveAny(r));t&&(s.pythonVersion=null===(o=t.version)||void 0===o?void 0:o.raw)}(0,u.sendTelemetryEvent)(p.EventName.PYTHON_INTERPRETER,e,s)}getPythonUpdaterService(e,t){switch(e){case s.ConfigurationTarget.Global:return this.pythonPathSettingsUpdaterFactory.getGlobalPythonPathConfigurationService();case s.ConfigurationTarget.Workspace:if(!t)throw new Error("Workspace Uri not defined");return this.pythonPathSettingsUpdaterFactory.getWorkspacePythonPathConfigurationService(t);default:if(!t)throw new Error("Workspace Uri not defined");return this.pythonPathSettingsUpdaterFactory.getWorkspaceFolderPythonPathConfigurationService(t)}}};t.PythonPathUpdaterService=f,t.PythonPathUpdaterService=f=r([(0,o.injectable)(),i(0,(0,o.inject)(h.IPythonPathUpdaterServiceFactory)),i(1,(0,o.inject)(d.IComponentAdapter))],f)},40770:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PythonPathUpdaterServiceFactory=void 0;const o=n(25891),s=n(86156),a=n(9100),c=n(82277),l=n(92905),u=n(60389);let p=class{constructor(e){this.interpreterPathService=e.get(s.IInterpreterPathService)}getGlobalPythonPathConfigurationService(){return new c.GlobalPythonPathUpdaterService(this.interpreterPathService)}getWorkspacePythonPathConfigurationService(e){return new u.WorkspacePythonPathUpdaterService(e,this.interpreterPathService)}getWorkspaceFolderPythonPathConfigurationService(e){return new l.WorkspaceFolderPythonPathUpdaterService(e,this.interpreterPathService)}};t.PythonPathUpdaterServiceFactory=p,t.PythonPathUpdaterServiceFactory=p=r([(0,o.injectable)(),i(0,(0,o.inject)(a.IServiceContainer))],p)},82277:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalPythonPathUpdaterService=void 0;const r=n(54980);t.GlobalPythonPathUpdaterService=class{constructor(e){this.interpreterPathService=e}async updatePythonPath(e){const t=this.interpreterPathService.inspect(void 0);t&&t.globalValue===e||await this.interpreterPathService.update(void 0,r.ConfigurationTarget.Global,e)}}},92905:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceFolderPythonPathUpdaterService=void 0;const r=n(54980);t.WorkspaceFolderPythonPathUpdaterService=class{constructor(e,t){this.workspaceFolder=e,this.interpreterPathService=t}async updatePythonPath(e){const t=this.interpreterPathService.inspect(this.workspaceFolder);t&&t.workspaceFolderValue===e||await this.interpreterPathService.update(this.workspaceFolder,r.ConfigurationTarget.WorkspaceFolder,e)}}},60389:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspacePythonPathUpdaterService=void 0;const r=n(54980);t.WorkspacePythonPathUpdaterService=class{constructor(e,t){this.workspace=e,this.interpreterPathService=t}async updatePythonPath(e){const t=this.interpreterPathService.inspect(this.workspace);t&&t.workspaceValue===e||await this.interpreterPathService.update(this.workspace,r.ConfigurationTarget.Workspace,e)}}},34614:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IInterpreterQuickPick=t.IInterpreterComparer=t.IInterpreterSelector=t.IPythonPathUpdaterServiceManager=t.IPythonPathUpdaterServiceFactory=void 0,t.IPythonPathUpdaterServiceFactory=Symbol("IPythonPathUpdaterServiceFactory"),t.IPythonPathUpdaterServiceManager=Symbol("IPythonPathUpdaterServiceManager"),t.IInterpreterSelector=Symbol("IInterpreterSelector"),t.IInterpreterComparer=Symbol("IInterpreterComparer"),t.IInterpreterQuickPick=Symbol("IInterpreterQuickPick")},29413:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IActivatedEnvironmentLaunch=t.IInterpreterStatusbarVisibilityFilter=t.IInterpreterHelper=t.IInterpreterDisplay=t.IInterpreterService=t.ICondaService=t.IComponentAdapter=void 0,t.IComponentAdapter=Symbol("IComponentAdapter"),t.ICondaService=Symbol("ICondaService"),t.IInterpreterService=Symbol("IInterpreterService"),t.IInterpreterDisplay=Symbol("IInterpreterDisplay"),t.IInterpreterHelper=Symbol("IInterpreterHelper"),t.IInterpreterStatusbarVisibilityFilter=Symbol("IInterpreterStatusbarVisibilityFilter"),t.IActivatedEnvironmentLaunch=Symbol("IActivatedEnvironmentLaunch")},10223:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.InterpreterDisplay=void 0;const o=n(25891),s=n(54980),a=n(54661),c=n(552);n(87295);const l=n(86156),u=n(14152),p=n(9100),d=n(61905),h=n(29413),f=n(36380);let v=class{constructor(e){this.serviceContainer=e,this.supportedWorkspaceTypes={untrustedWorkspace:!1,virtualWorkspace:!0},this.useLanguageStatus=!1,this.visibilityFilters=[],this.helper=e.get(h.IInterpreterHelper),this.workspaceService=e.get(a.IWorkspaceService),this.pathUtils=e.get(l.IPathUtils),this.interpreterService=e.get(h.IInterpreterService),this.disposableRegistry=e.get(l.IDisposableRegistry),this.interpreterService.onDidChangeInterpreterInformation(this.onDidChangeInterpreterInformation,this,this.disposableRegistry)}async activate(){if((0,f.useEnvExtension)())return;const e=this.serviceContainer.get(a.IApplicationShell);if(this.useLanguageStatus)this.languageStatus=e.createLanguageStatusItem("python.selectedInterpreter",{language:c.PYTHON_LANGUAGE}),this.languageStatus.severity=s.LanguageStatusSeverity.Information,this.languageStatus.command={title:u.InterpreterQuickPickList.browsePath.openButtonLabel,command:c.Commands.Set_Interpreter},this.disposableRegistry.push(this.languageStatus);else{const[t,n]=[s.StatusBarAlignment.Right,100.09999];this.statusBar=e.createStatusBarItem(t,n,"python.selectedInterpreterDisplay"),this.statusBar.command=c.Commands.Set_Interpreter,this.disposableRegistry.push(this.statusBar),this.statusBar.name=u.Interpreters.selectedPythonInterpreter}}async refresh(e){if(e&&this.workspaceService.getWorkspaceFolder(e)&&(e=this.workspaceService.getWorkspaceFolder(e).uri),!e){const t=this.helper.getActiveWorkspaceUri(e);e=t?t.folderUri:void 0}await this.updateDisplay(e)}registerVisibilityFilter(e){const t=this.serviceContainer.get(l.IDisposableRegistry);this.visibilityFilters.push(e),e.changed&&e.changed(this.updateVisibility,this,t)}onDidChangeInterpreterInformation(e){this.currentlySelectedInterpreterPath===e.path&&this.updateDisplay(this.currentlySelectedWorkspaceFolder).ignoreErrors()}async updateDisplay(e){var t,n,r;if((0,f.useEnvExtension)())return null===(t=this.statusBar)||void 0===t||t.hide(),null===(n=this.languageStatus)||void 0===n||n.dispose(),void(this.languageStatus=void 0);const i=await this.interpreterService.getActiveInterpreter(e);if(!this.currentlySelectedInterpreterDisplay||this.currentlySelectedInterpreterDisplay!==(null==i?void 0:i.detailedDisplayName)||this.currentlySelectedInterpreterPath!==i.path){if(this.currentlySelectedWorkspaceFolder=e,this.statusBar)if(i){this.statusBar.color="",this.statusBar.tooltip=this.pathUtils.getDisplayName(i.path,null==e?void 0:e.fsPath),this.currentlySelectedInterpreterPath!==i.path&&((0,d.traceLog)(s.l10n.t("Python interpreter path: {0}",this.pathUtils.getDisplayName(i.path,null==e?void 0:e.fsPath))),this.currentlySelectedInterpreterPath=i.path);let t=i.detailedDisplayName;t=(null==t?void 0:t.startsWith("Python"))?null===(r=null==t?void 0:t.substring(6))||void 0===r?void 0:r.trim():t,this.statusBar.text=null!=t?t:"",this.statusBar.backgroundColor=void 0,this.currentlySelectedInterpreterDisplay=i.detailedDisplayName}else this.statusBar.tooltip="",this.statusBar.color="",this.statusBar.backgroundColor=new s.ThemeColor("statusBarItem.warningBackground"),this.statusBar.text=`$(alert) ${u.InterpreterQuickPickList.browsePath.openButtonLabel}`,this.currentlySelectedInterpreterDisplay=void 0;else if(this.languageStatus)if(i){this.languageStatus.detail=this.pathUtils.getDisplayName(i.path,null==e?void 0:e.fsPath),this.currentlySelectedInterpreterPath!==i.path&&((0,d.traceLog)(s.l10n.t("Python interpreter path: {0}",this.pathUtils.getDisplayName(i.path,null==e?void 0:e.fsPath))),this.currentlySelectedInterpreterPath=i.path);let t=i.detailedDisplayName;t=t.startsWith("Python")?t.substring(6).trim():t,this.languageStatus.text=t,this.currentlySelectedInterpreterDisplay=i.detailedDisplayName,this.languageStatus.severity=s.LanguageStatusSeverity.Information}else this.languageStatus.severity=s.LanguageStatusSeverity.Warning,this.languageStatus.text=`$(alert) ${u.InterpreterQuickPickList.browsePath.openButtonLabel}`,this.languageStatus.detail=void 0,this.currentlySelectedInterpreterDisplay=void 0;this.statusBarCanBeDisplayed=!0,this.updateVisibility()}}updateVisibility(){this.statusBar&&this.statusBarCanBeDisplayed&&(0===this.visibilityFilters.length||this.visibilityFilters.every((e=>!e.hidden))?this.statusBar.show():this.statusBar.hide())}};t.InterpreterDisplay=v,t.InterpreterDisplay=v=r([(0,o.injectable)(),i(0,(0,o.inject)(p.IServiceContainer))],v)},51188:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.InterpreterLocatorProgressStatusBarHandler=void 0;const o=n(25891),s=n(54980),a=n(54661),c=n(552),l=n(86156),u=n(7855),p=n(14152),d=n(61905),h=n(18162),f=n(29413);let v=class{constructor(e,t,n){this.shell=e,this.disposables=t,this.pyenvs=n,this.supportedWorkspaceTypes={untrustedWorkspace:!1,virtualWorkspace:!0},this.isFirstTimeLoadingInterpreters=!0}async activate(){this.pyenvs.onProgress((e=>{if(e.stage===h.ProgressReportStage.discoveryStarted){this.showProgress();const e=this.pyenvs.getRefreshPromise();e&&e.then((()=>this.hideProgress()))}else e.stage===h.ProgressReportStage.discoveryFinished&&this.hideProgress()}),this,this.disposables)}showProgress(){this.deferred||this.createProgress()}hideProgress(){this.deferred&&(this.deferred.resolve(),this.deferred=void 0)}createProgress(){const e={location:s.ProgressLocation.Window,title:`[${this.isFirstTimeLoadingInterpreters?p.Interpreters.discovering:p.Interpreters.refreshing}](command:${c.Commands.Set_Interpreter})`};this.isFirstTimeLoadingInterpreters=!1,this.shell.withProgress(e,(()=>(this.deferred=(0,u.createDeferred)(),this.deferred.promise)))}};t.InterpreterLocatorProgressStatusBarHandler=v,r([(0,d.traceDecoratorVerbose)("Display locator refreshing progress")],v.prototype,"showProgress",null),r([(0,d.traceDecoratorVerbose)("Hide locator refreshing progress")],v.prototype,"hideProgress",null),t.InterpreterLocatorProgressStatusBarHandler=v=r([(0,o.injectable)(),i(0,(0,o.inject)(a.IApplicationShell)),i(1,(0,o.inject)(l.IDisposableRegistry)),i(2,(0,o.inject)(f.IComponentAdapter))],v)},13119:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.InterpreterHelper=t.isInterpreterLocatedInWorkspace=void 0;const o=n(25891),s=n(54980),a=n(54661),c=n(25943),l=n(9100),u=n(71067),p=n(25297),d=n(29413);function h(e){if(0===e.length)return[];if(1===e.length)return[e[0]];const t=e.slice();return t.sort(((e,t)=>e.version&&t.version?(0,u.compareSemVerLikeVersions)(e.version,t.version):0)),t}t.isInterpreterLocatedInWorkspace=function(e,t){const n=c.FileSystemPaths.withDefaults(),r=n.normCase(e.path),i=n.normCase(t.fsPath);return r.startsWith(i)};let f=class{constructor(e,t){this.serviceContainer=e,this.pyenvs=t}getActiveWorkspaceUri(e){var t;const n=this.serviceContainer.get(a.IWorkspaceService);if(!(((null===(t=n.workspaceFolders)||void 0===t?void 0:t.length)||0)>0))return;if(Array.isArray(n.workspaceFolders)&&1===n.workspaceFolders.length)return{folderUri:n.workspaceFolders[0].uri,configTarget:s.ConfigurationTarget.Workspace};if(e){const t=n.getWorkspaceFolder(e);if(t)return{configTarget:s.ConfigurationTarget.WorkspaceFolder,folderUri:t.uri}}const r=this.serviceContainer.get(a.IDocumentManager);if(r.activeTextEditor){const e=n.getWorkspaceFolder(r.activeTextEditor.document.uri);if(e)return{configTarget:s.ConfigurationTarget.WorkspaceFolder,folderUri:e.uri}}}async getInterpreterInformation(e){return this.pyenvs.getInterpreterInformation(e)}async getInterpreters({resource:e,source:t}={}){return h(await this.pyenvs.getInterpreters(e,t))}async getInterpreterPath(e){const t=await this.getInterpreterInformation(e);return t?t.path:e}async isMacDefaultPythonPath(e){return this.pyenvs.isMacDefaultPythonPath(e)}getInterpreterTypeDisplayName(e){return(0,p.getEnvironmentTypeName)(e)}getBestInterpreter(e){if(!Array.isArray(e)||0===e.length)return;const t=h(e);return t[t.length-1]}};t.InterpreterHelper=f,t.InterpreterHelper=f=r([(0,o.injectable)(),i(0,(0,o.inject)(l.IServiceContainer)),i(1,(0,o.inject)(d.IComponentAdapter))],f)},2386:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.InterpreterPathCommand=void 0;const o=n(25891),s=n(54980),a=n(552),c=n(86156),l=n(93029),u=n(29413);let p=class{constructor(e,t){this.interpreterService=e,this.disposables=t,this.supportedWorkspaceTypes={untrustedWorkspace:!1,virtualWorkspace:!1}}async activate(){this.disposables.push((0,l.registerCommand)(a.Commands.GetSelectedInterpreterPath,(e=>this._getSelectedInterpreterPath(e))))}async _getSelectedInterpreterPath(e){var t,n;let r,i;if("workspaceFolder"in e)r=e.workspaceFolder;else if(e[1]){const[,t]=e;r=t}else r=void 0;try{i=r?s.Uri.file(r):void 0}catch(e){i=void 0}return(null!==(n=null===(t=await this.interpreterService.getActiveInterpreter(i))||void 0===t?void 0:t.path)&&void 0!==n?n:"python").toCommandArgumentForPythonExt()}};t.InterpreterPathCommand=p,t.InterpreterPathCommand=p=r([(0,o.injectable)(),i(0,(0,o.inject)(u.IInterpreterService)),i(1,(0,o.inject)(c.IDisposableRegistry))],p)},48769:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.InterpreterService=void 0;const c=n(25891),l=s(n(16928)),u=n(54980);n(87295);const p=n(54661),d=n(86156),h=n(9100),f=n(29413),v=n(61905),g=n(552),m=n(65532),y=n(35026),b=n(14152),_=n(51535),E=n(53322),S=n(68989),w=n(7855),P=n(36380),T=n(95241);let C=class{async hasInterpreters(e=async()=>!0){return this.pyenvs.hasInterpreters(e)}triggerRefresh(e,t){return this.pyenvs.triggerRefresh(e,t)}get refreshPromise(){return this.pyenvs.getRefreshPromise()}getRefreshPromise(e){return this.pyenvs.getRefreshPromise(e)}get onDidChangeInterpreter(){return this.didChangeInterpreterEmitter.event}get onDidChangeInterpreterInformation(){return this.didChangeInterpreterInformation.event}get onDidChangeInterpreterConfiguration(){return this.didChangeInterpreterConfigurationEmitter.event}constructor(e,t){this.serviceContainer=e,this.pyenvs=t,this._pythonPathSetting="",this.didChangeInterpreterConfigurationEmitter=new u.EventEmitter,this.didChangeInterpreterEmitter=new u.EventEmitter,this.didChangeInterpreterInformation=new u.EventEmitter,this.activeInterpreterPaths=new Map,this.configService=this.serviceContainer.get(d.IConfigurationService),this.interpreterPathService=this.serviceContainer.get(d.IInterpreterPathService),this.onDidChangeInterpreters=t.onChanged}async refresh(e){const t=this.serviceContainer.get(f.IInterpreterDisplay);await t.refresh(e);const n=this.serviceContainer.get(p.IWorkspaceService).getWorkspaceFolder(e),r=this.configService.getSettings(e).pythonPath,i=this.serviceContainer.get(p.IWorkspaceService).getWorkspaceFolderIdentifier(e);this.activeInterpreterPaths.set(i,{path:r,workspaceFolder:n}),this.ensureEnvironmentContainsPython(r,n).ignoreErrors()}initialize(){const e=this.serviceContainer.get(d.IDisposableRegistry),t=this.serviceContainer.get(p.IDocumentManager),n=this.serviceContainer.get(f.IInterpreterDisplay),r=new class{constructor(e,t,n){this.docManager=e,this.configService=t,this.disposablesReg=n,this.interpreterVisibilityEmitter=new u.EventEmitter,this.changed=this.interpreterVisibilityEmitter.event,this.disposablesReg.push(this.configService.onDidChange((async e=>{(null==e?void 0:e.affectsConfiguration("python.interpreter.infoVisibility"))&&this.interpreterVisibilityEmitter.fire()})))}get hidden(){var e;const t=this.configService.getSettings().interpreter.infoVisibility;if("never"===t)return!0;if("always"===t)return!1;const n=null===(e=this.docManager.activeTextEditor)||void 0===e?void 0:e.document,r=g.PVSC_EXTENSION_ID.split(".")[0];return!(null==n?void 0:n.fileName.endsWith("settings.json"))&&!(null==n?void 0:n.fileName.includes(r))&&(null==n?void 0:n.languageId)!==g.PYTHON_LANGUAGE}}(t,this.configService,e);n.registerVisibilityFilter(r),e.push(this.onDidChangeInterpreters((e=>{var t;const n=null!==(t=e.old)&&void 0!==t?t:e.new;if(n){this.didChangeInterpreterInformation.fire(n);for(const{path:t,workspaceFolder:r}of this.activeInterpreterPaths.values())t!==n.path||e.new||(this.didChangeInterpreterEmitter.fire(null==r?void 0:r.uri),(0,m.reportActiveInterpreterChanged)({path:t,resource:r}))}}))),e.push(t.onDidOpenTextDocument((()=>{r.interpreterVisibilityEmitter.fire()})),t.onDidChangeActiveTextEditor((e=>{r.interpreterVisibilityEmitter.fire(),e&&e.document&&this.refresh(e.document.uri)}))),e.push(this.interpreterPathService.onDidChange((e=>this._onConfigChanged(e.uri))))}getInterpreters(e){return this.pyenvs.getInterpreters(e)}async getAllInterpreters(e){return this.triggerRefresh(void 0,{ifNotTriggerredAlready:!0}).ignoreErrors(),await this.refreshPromise,this.getInterpreters(e)}dispose(){this.didChangeInterpreterEmitter.dispose(),this.didChangeInterpreterInformation.dispose()}async getActiveInterpreter(e){if((0,P.useEnvExtension)())return(0,T.getActiveInterpreterLegacy)(e);const t=this.serviceContainer.get(f.IActivatedEnvironmentLaunch);let n=await t.selectIfLaunchedViaActivatedEnv(!0);if(!n&&(n=this.configService.getSettings(e).pythonPath,l.basename(n)===n)){const t=this.serviceContainer.tryGet(y.IPythonExecutionFactory),r=t?await t.create({resource:e}):void 0,i=r?await r.getExecutablePath().catch((e=>{(0,v.traceError)(e)})):void 0;if(!i)return;n=i}return this.getInterpreterDetails(n)}async getInterpreterDetails(e){return this.pyenvs.getInterpreterDetails(e)}async _onConfigChanged(e){await(0,w.sleep)(1);const t=this.configService.getSettings(e);if(this.didChangeInterpreterConfigurationEmitter.fire(e),""===this._pythonPathSetting||this._pythonPathSetting!==t.pythonPath){this._pythonPathSetting=t.pythonPath,this.didChangeInterpreterEmitter.fire(e);const n=this.serviceContainer.get(p.IWorkspaceService).getWorkspaceFolder(e);(0,m.reportActiveInterpreterChanged)({path:t.pythonPath,resource:n});const r=this.serviceContainer.get(p.IWorkspaceService).getWorkspaceFolderIdentifier(e);this.activeInterpreterPaths.set(r,{path:t.pythonPath,workspaceFolder:n}),this.serviceContainer.get(f.IInterpreterDisplay).refresh().catch((e=>(0,v.traceError)("Python Extension: display.refresh",e))),await this.ensureEnvironmentContainsPython(this._pythonPathSetting,n)}}async ensureEnvironmentContainsPython(e,t){if((0,P.useEnvExtension)())return;const n=this.serviceContainer.get(d.IInstaller);if(!await n.isInstalled(d.Product.python)){(0,_.sendTelemetryEvent)(E.EventName.ENVIRONMENT_WITHOUT_PYTHON_SELECTED);const r=this.serviceContainer.get(p.IApplicationShell),i={location:u.ProgressLocation.Window,title:`[${b.Interpreters.installingPython}](command:${g.Commands.ViewOutput})`};(0,v.traceLog)("Conda envs without Python are known to not work well; fixing conda environment...");const o=n.install(d.Product.python,await this.getInterpreterDetails(e));r.withProgress(i,(()=>o)),o.then((async()=>{await this.getInterpreterDetails(e),this.didChangeInterpreterEmitter.fire(null==t?void 0:t.uri),(0,m.reportActiveInterpreterChanged)({path:e,resource:t})})).ignoreErrors()}}};t.InterpreterService=C,o([(0,S.cache)(-1,!0)],C.prototype,"ensureEnvironmentContainsPython",null),t.InterpreterService=C=o([(0,c.injectable)(),a(0,(0,c.inject)(h.IServiceContainer)),a(1,(0,c.inject)(f.IComponentAdapter))],C)},74702:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=t.registerInterpreterTypes=void 0;const r=n(11925),i=n(15656),o=n(67714),s=n(7318),a=n(97238),c=n(23167),l=n(68681),u=n(35880),p=n(61149),d=n(75763),h=n(97482),f=n(15972),v=n(37958),g=n(40770),m=n(34614),y=n(29413),b=n(10223),_=n(51188),E=n(13119),S=n(2386),w=n(48769),P=n(65145),T=n(80757),C=n(6876);function x(e){e.addSingleton(r.IExtensionSingleActivationService,u.InstallPythonCommand),e.addSingleton(r.IExtensionSingleActivationService,p.InstallPythonViaTerminal),e.addSingleton(r.IExtensionSingleActivationService,h.SetInterpreterCommand),e.addSingleton(r.IExtensionSingleActivationService,d.ResetInterpreterCommand),e.addSingleton(m.IInterpreterQuickPick,h.SetInterpreterCommand),e.addSingleton(r.IExtensionActivationService,C.VirtualEnvironmentPrompt),e.addSingleton(y.IInterpreterService,w.InterpreterService),e.addSingleton(y.IInterpreterDisplay,b.InterpreterDisplay),e.addBinding(y.IInterpreterDisplay,r.IExtensionSingleActivationService),e.addSingleton(m.IPythonPathUpdaterServiceFactory,g.PythonPathUpdaterServiceFactory),e.addSingleton(m.IPythonPathUpdaterServiceManager,v.PythonPathUpdaterService),e.addSingleton(m.IInterpreterSelector,f.InterpreterSelector),e.addSingleton(y.IInterpreterHelper,E.InterpreterHelper),e.addSingleton(m.IInterpreterComparer,l.EnvironmentTypeComparer),e.addSingleton(r.IExtensionSingleActivationService,_.InterpreterLocatorProgressStatusBarHandler),e.addSingleton(c.IInterpreterAutoSelectionService,s.InterpreterAutoSelectionService),e.addSingleton(r.IExtensionActivationService,T.CondaInheritEnvPrompt),e.addSingleton(y.IActivatedEnvironmentLaunch,P.ActivatedEnvironmentLaunch)}t.registerInterpreterTypes=x,t.registerTypes=function(e){x(e),e.addSingleton(c.IInterpreterAutoSelectionProxyService,a.InterpreterAutoSelectionProxyService),e.addSingleton(i.EnvironmentActivationService,i.EnvironmentActivationService),e.addSingleton(o.IEnvironmentActivationService,i.EnvironmentActivationService),e.addSingleton(r.IExtensionSingleActivationService,S.InterpreterPathCommand)}},65145:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ActivatedEnvironmentLaunch=void 0;const c=n(25891),l=n(54980),u=s(n(16928)),p=n(54661),d=n(35026),h=n(7855),f=n(68989),v=n(14152),g=n(61905),m=n(95885),y=n(51535),b=n(53322),_=n(34614),E=n(29413);let S=class{constructor(e,t,n,r,i,o=!1){this.workspaceService=e,this.appShell=t,this.pythonPathUpdaterService=n,this.interpreterService=r,this.processServiceFactory=i,this.wasSelected=o,this.supportedWorkspaceTypes={untrustedWorkspace:!1,virtualWorkspace:!0}}async _promptIfApplicable(){const e=w();if(!e)return;const t=await this.interpreterService.getInterpreterDetails(e);if("base"!==(null==t?void 0:t.envName))return;const n=await m.Conda.getConda();if(!n)return void(0,g.traceWarn)("Conda not found even though activated environment vars are set");const r=await this.processServiceFactory.create();(await r.shellExec(`${n.shellCommand} config --get auto_activate_base`).catch((e=>((0,g.traceError)(e),{stdout:""})))).stdout.trim().toLowerCase().endsWith("false")&&await this.promptAndUpdate(e)}async promptAndUpdate(e){this.wasSelected=!0;const t=[v.Common.bannerLabelYes,v.Common.bannerLabelNo],n=await this.appShell.showInformationMessage(v.Interpreters.activatedCondaEnvLaunch,...t);(0,y.sendTelemetryEvent)(b.EventName.ACTIVATED_CONDA_ENV_LAUNCH,void 0,{selection:n?["Yes","No"][t.indexOf(n)]:void 0}),n&&n===t[0]&&await this.setInterpeterInStorage(e)}async selectIfLaunchedViaActivatedEnv(e=!1){return this.wasSelected?this.inMemorySelection:this._selectIfLaunchedViaActivatedEnv(e)}async _selectIfLaunchedViaActivatedEnv(e=!1){if(this.workspaceService.workspaceFile)return;if("1"!==process.env.VSCODE_CLI)return;(0,g.traceVerbose)("VS Code was not launched from the command line");const t=await this.getPrefixOfSelectedActivatedEnv();if(t)return this.wasSelected=!0,this.inMemorySelection=t,(0,g.traceLog)(`VS Code was launched from an activated environment: '${u.basename(t)}', selecting it as the interpreter for workspace.`),e?this.setInterpeterInStorage(t).ignoreErrors():(await this.setInterpeterInStorage(t),await(0,h.sleep)(1)),this.inMemorySelection=void 0,t;this._promptIfApplicable().ignoreErrors()}async setInterpeterInStorage(e){const{workspaceFolders:t}=this.workspaceService;t&&0!==t.length?await this.pythonPathUpdaterService.updatePythonPath(e,l.ConfigurationTarget.WorkspaceFolder,"load",t[0].uri):await this.pythonPathUpdaterService.updatePythonPath(e,l.ConfigurationTarget.Global,"load")}async getPrefixOfSelectedActivatedEnv(){const e=process.env.VIRTUAL_ENV;if(void 0!==e&&e.length>0)return e;const t=w();if(!t)return;const n=await this.interpreterService.getInterpreterDetails(t);return"base"!==(null==n?void 0:n.envName)||void 0!==process.env.CONDA_AUTO_ACTIVATE_BASE&&"false"===process.env.CONDA_AUTO_ACTIVATE_BASE.toLowerCase()?t:void 0}};function w(){const e=process.env.CONDA_PREFIX;if(e&&e.length>0){const t=process.env.CONDA_SHLVL;if(void 0!==t&&t.length>0&&t>"0")return e}}t.ActivatedEnvironmentLaunch=S,o([(0,f.cache)(-1,!0)],S.prototype,"_promptIfApplicable",null),o([(0,f.cache)(-1,!0)],S.prototype,"_selectIfLaunchedViaActivatedEnv",null),t.ActivatedEnvironmentLaunch=S=o([(0,c.injectable)(),a(0,(0,c.inject)(p.IWorkspaceService)),a(1,(0,c.inject)(p.IApplicationShell)),a(2,(0,c.inject)(_.IPythonPathUpdaterServiceManager)),a(3,(0,c.inject)(E.IInterpreterService)),a(4,(0,c.inject)(d.IProcessServiceFactory))],S)},80757:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CondaInheritEnvPrompt=t.condaInheritEnvPromptKey=void 0;const o=n(25891),s=n(54980),a=n(54661),c=n(22408),l=n(86156),u=n(14152),p=n(61905),d=n(25297),h=n(51535),f=n(53322),v=n(29413);t.condaInheritEnvPromptKey="CONDA_INHERIT_ENV_PROMPT_KEY";let g=class{constructor(e,t,n,r,i,o,s=!1){this.interpreterService=e,this.workspaceService=t,this.appShell=n,this.persistentStateFactory=r,this.platformService=i,this.appEnvironment=o,this.hasPromptBeenShownInCurrentSession=s,this.supportedWorkspaceTypes={untrustedWorkspace:!1,virtualWorkspace:!0}}async activate(e){this.initializeInBackground(e).ignoreErrors()}async initializeInBackground(e){await this.shouldShowPrompt(e)&&await this.promptAndUpdate()}async promptAndUpdate(){const e=this.persistentStateFactory.createGlobalPersistentState(t.condaInheritEnvPromptKey,!0);if(!e.value)return;const n=[u.Common.allow,u.Common.close],r=await this.appShell.showInformationMessage(u.Interpreters.condaInheritEnvMessage,...n);(0,h.sendTelemetryEvent)(f.EventName.CONDA_INHERIT_ENV_PROMPT,void 0,{selection:r?["Allow","Close"][n.indexOf(r)]:void 0}),r&&(r===n[0]?await this.workspaceService.getConfiguration("terminal").update("integrated.inheritEnv",!1,s.ConfigurationTarget.Global):r===n[1]&&await e.updateValue(!1))}async shouldShowPrompt(e){if(this.hasPromptBeenShownInCurrentSession)return!1;if(this.appEnvironment.remoteName)return!1;if(this.platformService.isWindows)return!1;const t=await this.interpreterService.getActiveInterpreter(e);if(!t||t.envType!==d.EnvironmentType.Conda)return!1;const n=this.workspaceService.getConfiguration("terminal",e).inspect("integrated.inheritEnv");return n?void 0===n.globalValue&&void 0===n.workspaceValue&&void 0===n.workspaceFolderValue&&(this.hasPromptBeenShownInCurrentSession=!0,!0):((0,p.traceError)("WorkspaceConfiguration.inspect returns `undefined` for setting `terminal.integrated.inheritEnv`"),!1)}};t.CondaInheritEnvPrompt=g,r([(0,p.traceDecoratorError)("Failed to intialize conda inherit env prompt")],g.prototype,"initializeInBackground",null),r([(0,p.traceDecoratorError)("Failed to display conda inherit env prompt")],g.prototype,"promptAndUpdate",null),r([(0,p.traceDecoratorError)("Failed to check whether to display prompt for conda inherit env setting")],g.prototype,"shouldShowPrompt",null),t.CondaInheritEnvPrompt=g=r([(0,o.injectable)(),i(0,(0,o.inject)(v.IInterpreterService)),i(1,(0,o.inject)(a.IWorkspaceService)),i(2,(0,o.inject)(a.IApplicationShell)),i(3,(0,o.inject)(l.IPersistentStateFactory)),i(4,(0,o.inject)(c.IPlatformService)),i(5,(0,o.inject)(a.IApplicationEnvironment))],g)},6876:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.VirtualEnvironmentPrompt=void 0;const o=n(25891),s=n(54980),a=n(54661),c=n(86156),l=n(14152),u=n(61905),p=n(50499),d=n(51535),h=n(53322),f=n(34614),v=n(29413);let g=class{constructor(e,t,n,r,i,o,s){this.persistentStateFactory=e,this.helper=t,this.pythonPathUpdaterService=n,this.disposableRegistry=r,this.appShell=i,this.pyenvs=o,this.interpreterService=s,this.supportedWorkspaceTypes={untrustedWorkspace:!1,virtualWorkspace:!0}}async activate(e){const t=this.pyenvs.onDidCreate(e,(()=>this.handleNewEnvironment(e)));this.disposableRegistry.push(t)}async handleNewEnvironment(e){if((0,p.isCreatingEnvironment)())return;const t=await this.pyenvs.getWorkspaceVirtualEnvInterpreters(e),n=Array.isArray(t)&&t.length>0?this.helper.getBestInterpreter(t):void 0;if(!n)return;const r=await this.interpreterService.getActiveInterpreter(e);(null==r?void 0:r.id)!==n.id?await this.notifyUser(n,e):(0,u.traceVerbose)("New environment has already been selected")}async notifyUser(e,t){const n=this.persistentStateFactory.createWorkspacePersistentState("MESSAGE_KEY_FOR_VIRTUAL_ENV",!0);if(!n.value)return;const r=[l.Common.bannerLabelYes,l.Common.bannerLabelNo,l.Common.doNotShowAgain],i=await this.appShell.showInformationMessage(l.Interpreters.environmentPromptMessage,...r);(0,d.sendTelemetryEvent)(h.EventName.PYTHON_INTERPRETER_ACTIVATE_ENVIRONMENT_PROMPT,void 0,{selection:i?["Yes","No","Ignore"][r.indexOf(i)]:void 0}),i&&(i===r[0]?await this.pythonPathUpdaterService.updatePythonPath(e.path,s.ConfigurationTarget.WorkspaceFolder,"ui",t):i===r[2]&&await n.updateValue(!1))}};t.VirtualEnvironmentPrompt=g,r([(0,u.traceDecoratorError)("Error in event handler for detection of new environment")],g.prototype,"handleNewEnvironment",null),t.VirtualEnvironmentPrompt=g=r([(0,o.injectable)(),i(0,(0,o.inject)(c.IPersistentStateFactory)),i(1,(0,o.inject)(v.IInterpreterHelper)),i(2,(0,o.inject)(f.IPythonPathUpdaterServiceManager)),i(3,(0,o.inject)(c.IDisposableRegistry)),i(4,(0,o.inject)(a.IApplicationShell)),i(5,(0,o.inject)(v.IComponentAdapter)),i(6,(0,o.inject)(v.IInterpreterService))],g)},92938:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceContainer=void 0;const i=n(24434),o=n(25891),s=n(61905);try{(0,o.decorate)((0,o.injectable)(),i.EventEmitter)}catch(e){(0,s.traceWarn)("Failed to decorate EventEmitter for DI (possibly already decorated by another Extension)",e)}let a=class{constructor(e){this.container=e}get(e,t){return t?this.container.getNamed(e,t):this.container.get(e)}getAll(e,t){return t?this.container.getAllNamed(e,t):this.container.getAll(e)}tryGet(e,t){try{return t?this.container.getNamed(e,t):this.container.get(e)}catch(e){}}};t.ServiceContainer=a,t.ServiceContainer=a=r([(0,o.injectable)()],a)},38927:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceManager=void 0;const i=n(25891);let o=class{constructor(e){this.container=e}add(e,t,n,r){n?this.container.bind(e).to(t).whenTargetNamed(n):this.container.bind(e).to(t),r&&r.forEach((t=>{this.addBinding(e,t)}))}addFactory(e,t){this.container.bind(e).toFactory(t)}addBinding(e,t){this.container.bind(t).toService(e)}addSingleton(e,t,n,r){n?this.container.bind(e).to(t).inSingletonScope().whenTargetNamed(n):this.container.bind(e).to(t).inSingletonScope(),r&&r.forEach((t=>{this.addBinding(e,t)}))}addSingletonInstance(e,t,n){n?this.container.bind(e).toConstantValue(t).whenTargetNamed(n):this.container.bind(e).toConstantValue(t)}get(e,t){return t?this.container.getNamed(e,t):this.container.get(e)}tryGet(e,t){try{return t?this.container.getNamed(e,t):this.container.get(e)}catch(e){}}getAll(e,t){return t?this.container.getAllNamed(e,t):this.container.getAll(e)}rebind(e,t,n){n?this.container.rebind(e).to(t).whenTargetNamed(n):this.container.rebind(e).to(t)}rebindSingleton(e,t,n){n?this.container.rebind(e).to(t).inSingletonScope().whenTargetNamed(n):this.container.rebind(e).to(t).inSingletonScope()}rebindInstance(e,t,n){n?this.container.rebind(e).toConstantValue(t).whenTargetNamed(n):this.container.rebind(e).toConstantValue(t)}dispose(){this.container.unbindAll(),this.container.unload()}};t.ServiceManager=o,t.ServiceManager=o=r([(0,i.injectable)()],o)},9100:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IServiceContainer=t.IServiceManager=void 0,t.IServiceManager=Symbol("IServiceManager"),t.IServiceContainer=Symbol("IServiceContainer")},46003:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterExtensionDependencyManager=void 0;const o=n(25891),s=n(552),a=n(86156);let c=class{constructor(e){this.extensions=e}get isJupyterExtensionInstalled(){return void 0!==this.extensions.getExtension(s.JUPYTER_EXTENSION_ID)}};t.JupyterExtensionDependencyManager=c,t.JupyterExtensionDependencyManager=c=r([(0,o.injectable)(),i(0,(0,o.inject)(a.IExtensions))],c)},93616:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterExtensionPythonEnvironments=t.JupyterExtensionIntegration=void 0;const o=n(25891),s=n(16928),a=n(54980),c=n(54661),l=n(552),u=n(86156),p=n(67714),d=n(34614),h=n(29413),f=n(19419),v=n(73354),g=n(51271);let m=class{constructor(e,t,n,r,i,o,s,a,c){this.extensions=e,this.interpreterSelector=t,this.envActivation=n,this.globalState=r,this.interpreterDisplay=i,this.workspaceService=o,this.condaService=s,this.contextManager=a,this.interpreterService=c}registerApi(e){this.contextManager.setContext(f.ExtensionContextKey.IsJupyterInstalled,!0),this.workspaceService.isTrusted?e.registerPythonApi({getActivatedEnvironmentVariables:async(e,t,n)=>{const r=await this.interpreterService.getInterpreterDetails(t.path);return this.envActivation.getActivatedEnvironmentVariables(e,r,n)},getSuggestions:async e=>this.interpreterSelector.getAllSuggestions(e),getKnownSuggestions:e=>this.interpreterSelector.getSuggestions(e),getDebuggerPath:async()=>(0,s.dirname)(await(0,v.getDebugpyPath)()),getInterpreterPathSelectedForJupyterServer:()=>this.globalState.get("INTERPRETER_PATH_SELECTED_FOR_JUPYTER_SERVER"),registerInterpreterStatusFilter:this.interpreterDisplay.registerVisibilityFilter.bind(this.interpreterDisplay),getCondaFile:()=>this.condaService.getCondaFile(),getCondaVersion:()=>this.condaService.getCondaVersion(),registerJupyterPythonPathFunction:e=>this.registerJupyterPythonPathFunction(e)}):this.workspaceService.onDidGrantWorkspaceTrust((()=>this.registerApi(e)))}async integrateWithJupyterExtension(){const e=await this.getExtensionApi();e&&this.registerApi(e)}async getExtensionApi(){if(!this.pylanceExtension){const e=this.extensions.getExtension(l.PYLANCE_EXTENSION_ID);e&&!e.isActive&&await e.activate(),this.pylanceExtension=e}if(this.jupyterExtension)return this.jupyterExtension.exports;{const e=this.extensions.getExtension(l.JUPYTER_EXTENSION_ID);if(!e)return;if(await e.activate(),e.isActive)return this.jupyterExtension=e,this.jupyterExtension.exports}}getPylanceApi(){var e;const t=null===(e=this.pylanceExtension)||void 0===e?void 0:e.exports;return t&&t.notebook&&t.client&&t.client.isEnabled()?t:void 0}registerJupyterPythonPathFunction(e){const t=this.getPylanceApi();t&&t.notebook.registerJupyterPythonPathFunction(e)}};t.JupyterExtensionIntegration=m,t.JupyterExtensionIntegration=m=r([(0,o.injectable)(),i(0,(0,o.inject)(u.IExtensions)),i(1,(0,o.inject)(d.IInterpreterSelector)),i(2,(0,o.inject)(p.IEnvironmentActivationService)),i(3,(0,o.inject)(u.IMemento)),i(3,(0,o.named)(u.GLOBAL_MEMENTO)),i(4,(0,o.inject)(h.IInterpreterDisplay)),i(5,(0,o.inject)(c.IWorkspaceService)),i(6,(0,o.inject)(h.ICondaService)),i(7,(0,o.inject)(c.IContextKeyManager)),i(8,(0,o.inject)(h.IInterpreterService))],m);let y=class extends g.DisposableBase{constructor(e){super(),this.extensions=e,this._onDidChangePythonEnvironment=this._register(new a.EventEmitter),this.onDidChangePythonEnvironment=this._onDidChangePythonEnvironment.event}getPythonEnvironment(e){if(!(t=e).fsPath.endsWith(".ipynb")&&!a.workspace.notebookDocuments.some((e=>e.uri.toString()===t.toString())))return;var t;const n=this.getJupyterApi();return(null==n?void 0:n.getPythonEnvironment)?n.getPythonEnvironment(e):void 0}getJupyterApi(){if(!this.jupyterExtension){const e=this.extensions.getExtension(l.JUPYTER_EXTENSION_ID);if(!e)return;if(!e.isActive)return void e.activate().then((()=>{this.hookupOnDidChangePythonEnvironment(e.exports)}));this.hookupOnDidChangePythonEnvironment(e.exports)}return this.jupyterExtension}hookupOnDidChangePythonEnvironment(e){this.jupyterExtension=e,e.onDidChangePythonEnvironment&&this._register(e.onDidChangePythonEnvironment(this._onDidChangePythonEnvironment.fire,this._onDidChangePythonEnvironment))}};t.JupyterExtensionPythonEnvironments=y,t.JupyterExtensionPythonEnvironments=y=r([(0,o.injectable)(),i(0,(0,o.inject)(u.IExtensions))],y)},15555:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.RequireJupyterPrompt=void 0;const o=n(25891),s=n(54661),a=n(14152),c=n(552),l=n(86156),u=n(51535),p=n(53322);let d=class{constructor(e,t,n){this.appShell=e,this.commandManager=t,this.disposables=n,this.supportedWorkspaceTypes={untrustedWorkspace:!1,virtualWorkspace:!0}}async activate(){this.disposables.push(this.commandManager.registerCommand(c.Commands.InstallJupyter,(()=>this._showPrompt())))}async _showPrompt(){const e=[a.Common.bannerLabelYes,a.Common.bannerLabelNo],t=await this.appShell.showInformationMessage(a.Interpreters.requireJupyter,...e);(0,u.sendTelemetryEvent)(p.EventName.REQUIRE_JUPYTER_PROMPT,void 0,{selection:t?["Yes","No"][e.indexOf(t)]:void 0}),t&&t===e[0]&&await this.commandManager.executeCommand("workbench.extensions.installExtension",c.JUPYTER_EXTENSION_ID,void 0)}};t.RequireJupyterPrompt=d,t.RequireJupyterPrompt=d=r([(0,o.injectable)(),i(0,(0,o.inject)(s.IApplicationShell)),i(1,(0,o.inject)(s.ICommandManager)),i(2,(0,o.inject)(l.IDisposableRegistry))],d)},85602:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLanguageConfiguration=void 0;const r=n(54980),i=n(5406);t.getLanguageConfiguration=function(){return{onEnterRules:[{beforeText:(0,i.verboseRegExp)("\n                    ^\n                    (?! \\s+ \\\\ )\n                    [^#\n]+\n                    \\\\\n                    $\n                "),action:{indentAction:r.IndentAction.Indent}},{beforeText:/^\s*#.*/,afterText:/.+$/,action:{indentAction:r.IndentAction.None,appendText:"# "}},{beforeText:(0,i.verboseRegExp)("\n                    ^\n                    \\s*\n                    (?:\n                        (?:\n                            (?:\n                                class |\n                                def |\n                                async \\s+ def |\n                                except |\n                                for |\n                                async \\s+ for |\n                                if |\n                                elif |\n                                while |\n                                with |\n                                async \\s+ with |\n                                match |\n                                case\n                            )\n                            \\b .*\n                        ) |\n                        else |\n                        try |\n                        finally\n                    )\n                    \\s*\n                    [:]\n                    \\s*\n                    (?: [#] .* )?\n                    $\n                "),action:{indentAction:r.IndentAction.Indent}},{beforeText:(0,i.verboseRegExp)("\n                    ^\n                    (?:\n                        (?:\n                            \\s*\n                            (?:\n                                pass\n                            )\n                        ) |\n                        (?:\n                            \\s+\n                            (?:\n                                raise |\n                                break |\n                                continue\n                            )\n                        )\n                    )\n                    \\s*\n                    (?: [#] .* )?\n                    $\n                "),action:{indentAction:r.IndentAction.Outdent}}]}}},51182:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JediLSExtensionManager=void 0;const r=n(82275),i=n(66486),o=n(1096),s=n(94796),a=n(61905);t.JediLSExtensionManager=class{constructor(e,t,n,a,c,l,u,p,d){this.analysisOptions=new r.JediLanguageServerAnalysisOptions(p,t,c,a),this.clientFactory=new i.JediLanguageClientFactory(u),this.serverProxy=new o.JediLanguageServerProxy(this.clientFactory),this.serverManager=new s.JediLanguageServerManager(e,this.analysisOptions,this.serverProxy,d)}dispose(){this.serverManager.disconnect(),this.serverManager.dispose(),this.serverProxy.dispose(),this.analysisOptions.dispose()}async startLanguageServer(e,t){await this.serverManager.start(e,t),this.serverManager.connect()}async stopLanguageServer(){this.serverManager.disconnect(),await this.serverProxy.stop()}canStartLanguageServer(e){return!!e||((0,a.traceError)("Unable to start Jedi language server as a valid interpreter is not selected"),!1)}languageServerNotAvailable(){return Promise.resolve()}}},15198:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoneLSExtensionManager=void 0,t.NoneLSExtensionManager=class{dispose(){}startLanguageServer(){return Promise.resolve()}stopLanguageServer(){return Promise.resolve()}canStartLanguageServer(){return!0}languageServerNotAvailable(){return Promise.resolve()}}},90722:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PylanceLSExtensionManager=void 0;const r=n(52111),i=n(44501),o=n(55856),s=n(60690),a=n(52462),c=n(552),l=n(14152),u=n(61905);t.PylanceLSExtensionManager=class{constructor(e,t,n,r,c,l,u,p,d,h,f,v){this.workspaceService=r,this.configurationService=c,this.commandManager=d,this.extensions=f,this.applicationShell=v,this.analysisOptions=new i.NodeLanguageServerAnalysisOptions(t,r),this.clientFactory=new o.NodeLanguageClientFactory(h,f),this.serverProxy=new s.NodeLanguageServerProxy(this.clientFactory,n,l,p,r,f),this.serverManager=new a.NodeLanguageServerManager(e,this.analysisOptions,this.serverProxy,d,f)}dispose(){this.serverManager.disconnect(),this.serverManager.dispose(),this.serverProxy.dispose(),this.analysisOptions.dispose()}async startLanguageServer(e,t){await this.serverManager.start(e,t),this.serverManager.connect()}async stopLanguageServer(){this.serverManager.disconnect(),await this.serverProxy.stop()}canStartLanguageServer(){return!!this.extensions.getExtension(c.PYLANCE_EXTENSION_ID)}async languageServerNotAvailable(){await(0,r.promptForPylanceInstall)(this.applicationShell,this.commandManager,this.workspaceService,this.configurationService),(0,u.traceLog)(l.Pylance.pylanceNotInstalledMessage)}}},14764:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ILanguageServerWatcher=void 0,t.ILanguageServerWatcher=Symbol("ILanguageServerWatcher")},68597:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.LanguageServerWatcher=void 0;const c=s(n(16928)),l=n(25891),u=n(54980),p=n(52111),d=n(11925),h=n(54661),f=n(22408),v=n(86156),g=n(14152),m=n(53694),y=n(29413),b=n(9100),_=n(61905),E=n(51182),S=n(15198),w=n(90722),P=n(51535),T=n(53322);let C=class{constructor(e,t,n,r,i,o,s,a,c,l,u,p,d,h){this.serviceContainer=e,this.lsOutputChannel=t,this.configurationService=n,this.experimentService=r,this.interpreterHelper=i,this.interpreterPathService=o,this.interpreterService=s,this.environmentService=a,this.workspaceService=c,this.commandManager=l,this.fileSystem=u,this.extensions=p,this.applicationShell=d,this.disposables=h,this.supportedWorkspaceTypes={untrustedWorkspace:!0,virtualWorkspace:!0},this.registered=!1,this.workspaceInterpreters=new Map,this.workspaceLanguageServers=new Map,this.languageServerType=this.configurationService.getSettings().languageServer}async activate(e,t){this.register(),await this.startLanguageServer(this.languageServerType,e,t)}async startLanguageServer(e,t,n){await this.startAndGetLanguageServer(e,t,n)}register(){this.registered||(this.registered=!0,this.disposables.push(this.workspaceService.onDidChangeConfiguration(this.onDidChangeConfiguration.bind(this))),this.disposables.push(this.workspaceService.onDidChangeWorkspaceFolders(this.onDidChangeWorkspaceFolders.bind(this))),this.disposables.push(this.interpreterService.onDidChangeInterpreterInformation(this.onDidChangeInterpreterInformation,this)),this.workspaceService.isTrusted&&this.disposables.push(this.interpreterPathService.onDidChange(this.onDidChangeInterpreter.bind(this))),this.disposables.push(this.extensions.onDidChange((async()=>{await this.extensionsChangeHandler()}))),this.disposables.push(new p.LanguageServerChangeHandler(this.languageServerType,this.extensions,this.applicationShell,this.commandManager,this.workspaceService,this.configurationService)))}async startAndGetLanguageServer(e,t,n){var r,i,o;const s=this.getWorkspaceUri(t),a=this.workspaceInterpreters.get(s.fsPath),c=await(null===(r=this.interpreterService)||void 0===r?void 0:r.getActiveInterpreter(t));a&&c!==a&&await this.stopLanguageServer(s);let l=e;c&&(null!==(o=null===(i=c.version)||void 0===i?void 0:i.major)&&void 0!==o?o:0)<3&&(l===d.LanguageServerType.Jedi?l=d.LanguageServerType.None:this.getCurrentLanguageServerTypeIsDefault()&&(l=d.LanguageServerType.Node)),this.workspaceService.isTrusted||l===d.LanguageServerType.Node||l===d.LanguageServerType.None||((0,_.traceLog)(g.LanguageService.untrustedWorkspaceMessage),l=d.LanguageServerType.None);const u=this.getWorkspaceKey(t,l),p=this.workspaceLanguageServers.get(u);if((l===d.LanguageServerType.Node||l===d.LanguageServerType.None)&&p)return x(l,s),p;const h=this.createLanguageServer(l);return this.workspaceLanguageServers.set(u,h),h.canStartLanguageServer(c)?(n&&(0,P.sendTelemetryEvent)(T.EventName.LANGUAGE_SERVER_TRIGGER_TIME,n.elapsedTime,{triggerTime:n.elapsedTime}),await h.startLanguageServer(s,c),x(e,s),this.languageServerType=e,this.workspaceInterpreters.set(s.fsPath,c)):await h.languageServerNotAvailable(),h}async restartLanguageServers(){this.workspaceLanguageServers.forEach((async(e,t)=>{(0,P.sendTelemetryEvent)(T.EventName.LANGUAGE_SERVER_RESTART,void 0,{reason:"notebooksExperiment"});const n=u.Uri.parse(t);await this.stopLanguageServer(n),await this.startLanguageServer(this.languageServerType,n)}))}async get(e){const t=this.getWorkspaceKey(e,this.languageServerType);let n=this.workspaceLanguageServers.get(t);return n||(n=await this.startAndGetLanguageServer(this.languageServerType,e)),Promise.resolve(n)}async stopLanguageServer(e){const t=this.getWorkspaceKey(e,this.languageServerType),n=this.workspaceLanguageServers.get(t);n&&(await n.stopLanguageServer(),n.dispose(),this.workspaceLanguageServers.delete(t))}createLanguageServer(e){let t;switch(e){case d.LanguageServerType.Jedi:t=new E.JediLSExtensionManager(this.serviceContainer,this.lsOutputChannel,this.experimentService,this.workspaceService,this.configurationService,this.interpreterPathService,this.interpreterService,this.environmentService,this.commandManager);break;case d.LanguageServerType.Node:t=new w.PylanceLSExtensionManager(this.serviceContainer,this.lsOutputChannel,this.experimentService,this.workspaceService,this.configurationService,this.interpreterPathService,this.interpreterService,this.environmentService,this.commandManager,this.fileSystem,this.extensions,this.applicationShell);break;case d.LanguageServerType.None:default:t=new S.NoneLSExtensionManager}return this.disposables.push({dispose:async()=>{await t.stopLanguageServer(),t.dispose()}}),t}async refreshLanguageServer(e,t){const n=this.getWorkspaceUri(e),r=this.configurationService.getSettings(n).languageServer;(r!==this.languageServerType||t)&&(await this.stopLanguageServer(e),await this.startLanguageServer(r,n))}getCurrentLanguageServerTypeIsDefault(){return this.configurationService.getSettings().languageServerIsDefault}async onDidChangeConfiguration(e){var t,n;(null!==(n=null===(t=this.workspaceService.workspaceFolders)||void 0===t?void 0:t.map((e=>e.uri)))&&void 0!==n?n:[]).forEach((async t=>{e.affectsConfiguration("python.languageServer",t)?await this.refreshLanguageServer(t):e.affectsConfiguration("python.analysis.pylanceLspClientEnabled",t)&&await this.refreshLanguageServer(t,!0)}))}async onDidChangeInterpreter(e){return this.languageServerType===d.LanguageServerType.Node?Promise.resolve():this.activate(e.uri)}async onDidChangeInterpreterInformation(e){if(!e.envPath||""===e.envPath)return;const t=this.workspaceInterpreters.entries();let n=t.next(),r=n.done||!1;for(;!r;){const[i,o]=n.value,s=u.Uri.parse(i);e.envPath===(null==o?void 0:o.envPath)&&e.path!==(null==o?void 0:o.path)?(await this.activate(s),r=!0):(n=t.next(),r=n.done||!1)}}async extensionsChangeHandler(){this.configurationService.getSettings().languageServer!==this.languageServerType&&await this.refreshLanguageServer()}async onDidChangeWorkspaceFolders(e){if(e.removed.length&&this.languageServerType===d.LanguageServerType.Jedi)for(const t of e.removed)await this.stopLanguageServer(t.uri)}getWorkspaceUri(e){var t,n;let r;return r=e?null===(t=this.workspaceService.getWorkspaceFolder(e))||void 0===t?void 0:t.uri:null===(n=this.interpreterHelper.getActiveWorkspaceUri(e))||void 0===n?void 0:n.folderUri,null!=r?r:u.Uri.parse("default")}getWorkspaceKey(e,t){switch(t){case d.LanguageServerType.Node:return"Pylance";case d.LanguageServerType.None:return"None";default:return this.getWorkspaceUri(e).fsPath}}};function x(e,t){let n;const r=c.basename(t.fsPath);switch(e){case d.LanguageServerType.Jedi:n=u.l10n.t("Starting Jedi language server for {0}.",r);break;case d.LanguageServerType.Node:n=g.LanguageService.startingPylance;break;case d.LanguageServerType.None:n=g.LanguageService.startingNone;break;default:throw new Error(`Unknown language server type: ${e}`)}(0,_.traceLog)(n)}t.LanguageServerWatcher=C,t.LanguageServerWatcher=C=o([(0,l.injectable)(),a(0,(0,l.inject)(b.IServiceContainer)),a(1,(0,l.inject)(d.ILanguageServerOutputChannel)),a(2,(0,l.inject)(v.IConfigurationService)),a(3,(0,l.inject)(v.IExperimentService)),a(4,(0,l.inject)(y.IInterpreterHelper)),a(5,(0,l.inject)(v.IInterpreterPathService)),a(6,(0,l.inject)(y.IInterpreterService)),a(7,(0,l.inject)(m.IEnvironmentVariablesProvider)),a(8,(0,l.inject)(h.IWorkspaceService)),a(9,(0,l.inject)(h.ICommandManager)),a(10,(0,l.inject)(f.IFileSystem)),a(11,(0,l.inject)(v.IExtensions)),a(12,(0,l.inject)(h.IApplicationShell)),a(13,(0,l.inject)(v.IDisposableRegistry))],C)},53495:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.FileLogger=void 0;const s=o(n(39023)),a=n(22985);function c(e,...t){return e?`[${e.toUpperCase()} ${(0,a.getTimeForLogging)()}]: ${s.format(...t)}\r\n`:`${s.format(...t)}\r\n`}t.FileLogger=class{constructor(e){this.stream=e}traceLog(...e){this.stream.write(c(void 0,...e))}traceError(...e){this.stream.write(c("error",...e))}traceWarn(...e){this.stream.write(c("warn",...e))}traceInfo(...e){this.stream.write(c("info",...e))}traceVerbose(...e){this.stream.write(c("debug",...e))}dispose(){try{this.stream.close()}catch(e){}}}},61905:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logTo=t.traceDecoratorWarn=t.traceDecoratorInfo=t.traceDecoratorError=t.traceDecoratorVerbose=t.traceVerbose=t.traceInfo=t.traceWarn=t.traceError=t.traceLog=t.initializeFileLogging=t.registerLogger=void 0;const r=n(21605),i=n(24364),o=n(51080),s=n(51535),a=n(53495),c=n(580),l=n(22985),u=c.TraceOptions.Arguments|c.TraceOptions.ReturnValue;let p=[];function d(e){return p.push(e),{dispose:()=>{p=p.filter((t=>t!==e))}}}function h(...e){p.forEach((t=>t.traceError(...e)))}function f(...e){p.forEach((t=>t.traceWarn(...e)))}function v(...e){p.forEach((t=>t.traceInfo(...e)))}function g(...e){p.forEach((t=>t.traceVerbose(...e)))}function m(e){return function(t,n,r){const s=r.value;return r.value=function(...n){const r={kind:"Class",name:t&&t.constructor?t.constructor.name:"",args:n},a=this;return function(e){const t=new o.StopWatch;try{const r=s.apply(a,n);return(0,i.isPromise)(r)?r.then((n=>(e({elapsed:t.elapsedTime,returnValue:n}),n))).catch((n=>{e({elapsed:t.elapsedTime,err:n})})):e({elapsed:t.elapsedTime,returnValue:r}),r}catch(n){throw e({elapsed:t.elapsedTime,err:n}),n}}((t=>e(r,t)))},r}}function y(e){return m(((t,n)=>function(e,t,n){const r=function(e,t,n){n=function(e){let{kind:t,name:n,args:r}=e;return t&&""!==t||(t="Function"),n&&""!==n||(n="<anon>"),r||(r=[]),{kind:t,name:n,args:r}}(n);const r=[e.message];return r.push(`${n.kind} name = ${n.name}`.trim(),`completed in ${t.elapsed}ms`,`has a ${t.returnValue?"truthy":"falsy"} return value`),(e.opts&c.TraceOptions.Arguments)===c.TraceOptions.Arguments&&r.push((0,l.argsToLogString)(n.args)),(e.opts&c.TraceOptions.ReturnValue)===c.TraceOptions.ReturnValue&&r.push((0,l.returnValueToLogString)(t.returnValue)),r.join(", ")}(e,t,n);void 0===t.err?(!e.level||e.level>c.LogLevel.Error)&&b(c.LogLevel.Info,[r]):(b(c.LogLevel.Error,[r,t.err]),(0,s.sendTelemetryEvent)("ERROR",void 0,void 0,t.err))}(e,n,t)))}function b(e,...t){switch(e){case c.LogLevel.Error:h(...t);break;case c.LogLevel.Warning:f(...t);break;case c.LogLevel.Info:v(...t);break;case c.LogLevel.Debug:g(...t)}}t.registerLogger=d,t.initializeFileLogging=function(e){if(process.env.VSC_PYTHON_LOG_FILE){const t=new a.FileLogger((0,r.createWriteStream)(process.env.VSC_PYTHON_LOG_FILE));e.push(t),e.push(d(t))}},t.traceLog=function(...e){p.forEach((t=>t.traceLog(...e)))},t.traceError=h,t.traceWarn=f,t.traceInfo=v,t.traceVerbose=g,t.traceDecoratorVerbose=function(e,t=u){return y({message:e,opts:t,level:c.LogLevel.Debug})},t.traceDecoratorError=function(e){return y({message:e,opts:u,level:c.LogLevel.Error})},t.traceDecoratorInfo=function(e){return y({message:e,opts:u,level:c.LogLevel.Info})},t.traceDecoratorWarn=function(e){return y({message:e,opts:u,level:c.LogLevel.Warning})},t.logTo=b},36901:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.OutputChannelLogger=void 0;const s=o(n(39023));t.OutputChannelLogger=class{constructor(e){this.channel=e}traceLog(...e){this.channel.appendLine(s.format(...e))}traceError(...e){this.channel.error(s.format(...e))}traceWarn(...e){this.channel.warn(s.format(...e))}traceInfo(...e){this.channel.info(s.format(...e))}traceVerbose(...e){this.channel.debug(s.format(...e))}}},580:(e,t)=>{"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.TraceOptions=t.LogLevel=void 0,function(e){e[e.Off=0]="Off",e[e.Trace=1]="Trace",e[e.Debug=2]="Debug",e[e.Info=3]="Info",e[e.Warning=4]="Warning",e[e.Error=5]="Error"}(n||(t.LogLevel=n={})),function(e){e[e.None=0]="None",e[e.Arguments=1]="Arguments",e[e.ReturnValue=2]="ReturnValue"}(r||(t.TraceOptions=r={}))},22985:(e,t)=>{"use strict";function n(e,t){if(void 0===e)return"undefined";if(null===e)return"null";try{return e&&e.fsPath?`<Uri:${e.fsPath}>`:JSON.stringify(e)}catch(e){return`<${t} cannot be serialized for logging>`}}Object.defineProperty(t,"__esModule",{value:!0}),t.getTimeForLogging=t.returnValueToLogString=t.argsToLogString=void 0,t.argsToLogString=function(e){if(!e)return"";try{return e.map(((e,t)=>`Arg ${t+1}: ${n(e,"argument")}`)).join(", ")}catch(e){return""}},t.returnValueToLogString=function(e){return`Return Value: ${n(e,"Return value")}`},t.getTimeForLogging=function(){const e=new Date;return`${e.getFullYear()}-${e.getMonth()}-${e.getDate()} ${e.getHours()}:${e.getMinutes()}:${e.getSeconds()}.${e.getMilliseconds()}`}},94925:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildProposedApi=void 0;const r=n(69466);t.buildProposedApi=function(e,t){let n;try{n={...(0,r.buildDeprecatedProposedApi)(e,t)}}catch(e){n={}}return{...n}}},44694:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LaunchJsonCodeActionProvider=void 0;const r=n(54980);t.LaunchJsonCodeActionProvider=class{provideCodeActions(e,t,n){return n.diagnostics.filter((e=>'Incorrect type. Expected "string".'===e.message)).map((t=>this.createFix(e,t)))}createFix(e,t){const n=`"${e.getText(t.range)}"`,i=new r.CodeAction(`Convert to ${n}`,r.CodeActionKind.QuickFix);return i.edit=new r.WorkspaceEdit,i.edit.replace(e.uri,t.range,n),i}}},83028:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CodeActionProviderService=void 0;const o=n(25891),s=n(86156),a=n(44694);let c=class{constructor(e){this.disposableRegistry=e,this.supportedWorkspaceTypes={untrustedWorkspace:!1,virtualWorkspace:!1}}async activate(){const e=n(54980);this.disposableRegistry.push(e.languages.registerCodeActionsProvider({scheme:"file",language:"jsonc",pattern:"**/launch.json"},new a.LaunchJsonCodeActionProvider,{providedCodeActionKinds:[e.CodeActionKind.QuickFix]}))}};t.CodeActionProviderService=c,t.CodeActionProviderService=c=r([(0,o.injectable)(),i(0,(0,o.inject)(s.IDisposableRegistry))],c)},13460:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReplProvider=void 0;const r=n(54661),i=n(552),o=n(98803),s=n(29413),a=n(52060);t.ReplProvider=class{constructor(e){this.serviceContainer=e,this.disposables=[],this.activeResourceService=this.serviceContainer.get(r.IActiveResourceService),this.registerCommand()}dispose(){this.disposables.forEach((e=>e.dispose()))}registerCommand(){const e=this.serviceContainer.get(r.ICommandManager).registerCommand(i.Commands.Start_REPL,this.commandHandler,this);this.disposables.push(e)}async commandHandler(){const e=this.activeResourceService.getActiveResource(),t=this.serviceContainer.get(s.IInterpreterService);if(!await t.getActiveInterpreter(e))return void this.serviceContainer.get(r.ICommandManager).executeCommand(i.Commands.TriggerEnvironmentSelection,e).then(o.noop,o.noop);const n=this.serviceContainer.get(a.ICodeExecutionService,"standard");await n.initializeRepl(e)}}},65422:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const r=n(11925),i=n(83028);t.registerTypes=function(e){e.addSingleton(r.IExtensionSingleActivationService,i.CodeActionProviderService)}},62365:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalProvider=void 0;const i=n(54661),o=n(552),s=n(8103),a=n(23935),c=n(86156),l=n(68989),u=n(51535),p=n(53322),d=n(36380);class h{constructor(e){this.serviceContainer=e,this.disposables=[],this.registerCommands(),this.activeResourceService=this.serviceContainer.get(i.IActiveResourceService)}async initialize(e){const t=this.serviceContainer.get(c.IConfigurationService),n=this.serviceContainer.get(c.IExperimentService),r=t.getSettings(this.activeResourceService.getActiveResource());if(e&&r.terminal.activateEnvInCurrentTerminal&&!(0,s.inTerminalEnvVarExperiment)(n)&&!(0,d.useEnvExtension)()){const t="hideFromUser"in e.creationOptions&&e.creationOptions.hideFromUser;if(!t){const t=this.serviceContainer.get(a.ITerminalActivator);await t.activateEnvironmentInTerminal(e,{preserveFocus:!0})}(0,u.sendTelemetryEvent)(p.EventName.ACTIVATE_ENV_IN_CURRENT_TERMINAL,void 0,{isTerminalVisible:!t})}}dispose(){this.disposables.forEach((e=>e.dispose()))}registerCommands(){const e=this.serviceContainer.get(i.ICommandManager).registerCommand(o.Commands.Create_Terminal,this.onCreateTerminal,this);this.disposables.push(e)}async onCreateTerminal(){const e=this.activeResourceService.getActiveResource();if((0,d.useEnvExtension)()){const t=this.serviceContainer.get(i.ICommandManager);await t.executeCommand("python-envs.createTerminal",e)}const t=this.serviceContainer.get(a.ITerminalServiceFactory);await t.createTerminalService(e,"Python").show(!1)}}t.TerminalProvider=h,r([(0,l.swallowExceptions)("Failed to initialize terminal provider")],h.prototype,"initialize",null),r([(0,u.captureTelemetry)(p.EventName.TERMINAL_CREATE,{triggeredBy:"commandpalette"})],h.prototype,"onCreateTerminal",null)},30228:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPythonEnvironments=void 0;class n{constructor(e){this.getLocator=e}async activate(){this.locator=await this.getLocator()}get onProgress(){return this.locator.onProgress}get refreshState(){return this.locator.refreshState}getRefreshPromise(e){return this.locator.getRefreshPromise(e)}get onChanged(){return this.locator.onChanged}getEnvs(e){return this.locator.getEnvs(e)}async resolveEnv(e){return this.locator.resolveEnv(e)}async triggerRefresh(e,t){return this.locator.triggerRefresh(e,t)}}t.createPythonEnvironments=async function(e){const t=new n(e);return await t.activate(),t}},6514:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.comparePythonVersionSpecificity=t.areSameEnv=t.getEnvID=t.getEnvPath=t.setEnvDisplayString=t.copyEnvInfo=t.areEnvsDeepEqual=t.buildEnvInfo=void 0;const s=n(2543),a=o(n(16928)),c=n(95774),l=n(48112),u=n(69396),p=n(11352),d=n(71067),h=n(15721);function f(e,t){void 0!==t.kind&&(e.kind=t.kind),void 0!==t.executable&&(e.executable.filename=t.executable),void 0!==t.location&&(e.location=t.location),void 0!==t.version&&(e.version=t.version),void 0!==t.searchLocation&&(e.searchLocation=t.searchLocation),void 0!==t.type&&(e.type=t.type)}function v(e,t=!1){const n=t||h.globallyInstalledEnvKinds.includes(e.kind),r=!h.virtualEnvKinds.includes(e.kind),i=["Python"];if(e.version&&!(0,d.isVersionEmpty)(e.version)&&i.push((0,d.getVersionDisplayString)(e.version)),r){const t=(0,c.getArchitectureDisplayName)(e.arch);""!==t&&i.push(t)}const o=[];if(e.name&&""!==e.name)o.push(`'${e.name}'`);else if(e.location&&""!==e.location&&e.kind===h.PythonEnvKind.Conda){const t=a.basename(e.location);o.push(`'${t}'`)}if(n){const t=(0,p.getKindDisplayName)(e.kind);""!==t&&o.push(t)}const s=0===o.length?"":`(${o.join(": ")})`;return`${i.join(" ")} ${s}`.trim()}function g(e){if("string"==typeof e){if(""===e)return;return{id:"",executable:{filename:e,sysPrefix:"",ctime:-1,mtime:-1}}}return"executablePath"in e?{id:"",executable:{filename:e.executablePath,sysPrefix:"",ctime:-1,mtime:-1},location:e.envPath,kind:e.kind,source:e.source}:e}function m(e,t){let n={path:e,pathType:"interpreterPath"};return t&&!(0,u.isParentPath)(e,t)&&(n={path:t,pathType:"envFolderPath"}),n}function y(e,t){return(0,u.normCasePath)(m(e,t).path)}function b(e){var t,n;let r=0;return e.major>0&&(r+=20),e.minor>=0&&(r+=10),e.micro>=0&&(r+=5),(null===(t=e.release)||void 0===t?void 0:t.level)&&(r+=3),((null===(n=e.release)||void 0===n?void 0:n.serial)||e.sysVersion)&&(r+=1),r}t.buildEnvInfo=function(e){var t,n,r,i,o,s,a,c,u;const p={name:null!==(t=null==e?void 0:e.name)&&void 0!==t?t:"",location:"",kind:h.PythonEnvKind.Unknown,executable:{filename:"",sysPrefix:null!==(n=null==e?void 0:e.sysPrefix)&&void 0!==n?n:"",ctime:null!==(i=null===(r=null==e?void 0:e.fileInfo)||void 0===r?void 0:r.ctime)&&void 0!==i?i:-1,mtime:null!==(s=null===(o=null==e?void 0:e.fileInfo)||void 0===o?void 0:o.mtime)&&void 0!==s?s:-1},searchLocation:void 0,display:null==e?void 0:e.display,version:{major:-1,minor:-1,micro:-1,release:{level:h.PythonReleaseLevel.Final,serial:0}},arch:null!==(a=null==e?void 0:e.arch)&&void 0!==a?a:l.Architecture.Unknown,distro:{org:null!==(c=null==e?void 0:e.org)&&void 0!==c?c:""},source:null!==(u=null==e?void 0:e.source)&&void 0!==u?u:[],pythonRunCommand:null==e?void 0:e.pythonRunCommand,identifiedUsingNativeLocator:null==e?void 0:e.identifiedUsingNativeLocator};return void 0!==e&&f(p,e),p.id=y(p.executable.filename,p.location),p},t.areEnvsDeepEqual=function(e,t){var n,r,i,o,a,c,l,p;const d=(0,s.cloneDeep)(e),h=(0,s.cloneDeep)(t);delete d.searchLocation,delete h.searchLocation,d.source=d.source.sort(),h.source=h.source.sort();const f=null!==(r=null===(n=e.searchLocation)||void 0===n?void 0:n.fsPath)&&void 0!==r?r:"",v=null!==(o=null===(i=t.searchLocation)||void 0===i?void 0:i.fsPath)&&void 0!==o?o:"",g=null!==(c=null===(a=e.searchLocation)||void 0===a?void 0:a.scheme)&&void 0!==c?c:"",m=null!==(p=null===(l=t.searchLocation)||void 0===l?void 0:l.scheme)&&void 0!==p?p:"";return(0,s.isEqual)(d,h)&&(0,u.arePathsSame)(f,v)&&g===m},t.copyEnvInfo=function(e,t){const n=(0,s.cloneDeep)(e);return void 0!==t&&f(n,t),n},t.setEnvDisplayString=function(e){e.display=v(e),e.detailedDisplayName=v(e,!0)},t.getEnvPath=m,t.getEnvID=y,t.areSameEnv=function(e,t,n=!0){var r,i,o,s;const c=g(e),l=g(t);if(void 0===c||void 0===l)return;if((null===(r=c.executable)||void 0===r?void 0:r.filename)&&!(null===(i=l.executable)||void 0===i?void 0:i.filename)||!(null===(o=c.executable)||void 0===o?void 0:o.filename)&&(null===(s=l.executable)||void 0===s?void 0:s.filename))return!1;if(c.id&&c.id===l.id)return!0;const p=c.executable.filename,h=l.executable.filename;if(y(p,c.location)===y(h,l.location))return!0;if(n&&"python"!==p&&"python"!==h&&(0,u.arePathsSame)(a.dirname(p),a.dirname(h))){const n="string"==typeof e?void 0:c.version,r="string"==typeof t?void 0:l.version;if(n&&r&&((0,d.areIdenticalVersion)(n,r)||(0,d.areSimilarVersions)(n,r)))return!0}return!1},t.comparePythonVersionSpecificity=function(e,t){return Math.sign(b(e)-b(t))}},11352:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPrioritizedEnvKinds=t.getKindDisplayName=void 0;const r=n(15721);t.getKindDisplayName=function(e){for(const[t,n]of[[r.PythonEnvKind.System,"system"],[r.PythonEnvKind.MicrosoftStore,"Microsoft Store"],[r.PythonEnvKind.Pyenv,"pyenv"],[r.PythonEnvKind.Poetry,"Poetry"],[r.PythonEnvKind.Hatch,"Hatch"],[r.PythonEnvKind.Pixi,"Pixi"],[r.PythonEnvKind.Custom,"custom"],[r.PythonEnvKind.Venv,"venv"],[r.PythonEnvKind.VirtualEnv,"virtualenv"],[r.PythonEnvKind.VirtualEnvWrapper,"virtualenv"],[r.PythonEnvKind.Pipenv,"Pipenv"],[r.PythonEnvKind.Conda,"conda"],[r.PythonEnvKind.ActiveState,"ActiveState"]])if(e===t)return n;return""},t.getPrioritizedEnvKinds=function(){return[r.PythonEnvKind.Pyenv,r.PythonEnvKind.Pixi,r.PythonEnvKind.Conda,r.PythonEnvKind.MicrosoftStore,r.PythonEnvKind.Pipenv,r.PythonEnvKind.Poetry,r.PythonEnvKind.Hatch,r.PythonEnvKind.Venv,r.PythonEnvKind.VirtualEnvWrapper,r.PythonEnvKind.VirtualEnv,r.PythonEnvKind.ActiveState,r.PythonEnvKind.OtherVirtual,r.PythonEnvKind.OtherGlobal,r.PythonEnvKind.System,r.PythonEnvKind.Custom,r.PythonEnvKind.Unknown]}},24509:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEnvironmentInfoService=t.EnvironmentInfoServiceQueuePriority=void 0;const r=n(7855),i=n(79979),o=n(73827),s=n(20467),a=n(61905),c=n(95885),l=n(15721),u=n(69396),p=n(8370),d=n(48112),h=n(71067);var f;async function v(e,t=!0){const n=[e.executable.filename];return t?n.push("-I",p.OUTPUT_MARKER_SCRIPT):n.push(p.OUTPUT_MARKER_SCRIPT),await(0,o.getInterpreterInfo)((0,s.buildPythonExecInfo)(n,void 0,e.executable.filename))}async function g(e){const t=await c.Conda.getConda(),n=e.location.length?e.location:e.executable.filename,r=await(null==t?void 0:t.getCondaEnvironment(n));if(!r)return;const i=await(null==t?void 0:t.getRunPythonArgs(r,!0,!0));return i?await(0,o.getInterpreterInfo)((0,s.buildPythonExecInfo)(i,void 0,e.executable.filename),c.CONDA_ACTIVATION_TIMEOUT):void 0}!function(e){e[e.Default=0]="Default",e[e.High=1]="High"}(f||(t.EnvironmentInfoServiceQueuePriority=f={}));class m{constructor(){this.cache=new Map}dispose(){void 0!==this.workerPool&&(this.workerPool.stop(),this.workerPool=void 0),void 0!==this.condaRunWorkerPool&&(this.condaRunWorkerPool.stop(),this.condaRunWorkerPool=void 0)}async getEnvironmentInfo(e,t){const n=e.executable.filename,i=this.cache.get((0,u.normCasePath)(n));if(void 0!==i)return i.promise;const o=(0,r.createDeferred)();return this.cache.set((0,u.normCasePath)(n),o),this._getEnvironmentInfo(e,t).then((e=>{o.resolve(e)})).catch((e=>{o.reject(e)})),o.promise}async _getEnvironmentInfo(e,t,n=!0){if(e.kind===l.PythonEnvKind.Conda&&"python"===e.executable.filename)return{arch:d.Architecture.Unknown,executable:{filename:"python",ctime:-1,mtime:-1,sysPrefix:""},version:(0,h.getEmptyVersion)()};let o;void 0===this.workerPool&&(this.workerPool=(0,i.createRunningWorkerPool)(v));let s=await y(this.workerPool,e,t).catch((e=>{o=e}));if(void 0===s)if(e.kind===l.PythonEnvKind.Conda||await(0,c.isCondaEnvironment)(e.executable.filename))(0,a.traceVerbose)(`Validating ${e.executable.filename} normally failed with error, falling back to using conda run: (${o})`),void 0===this.condaRunWorkerPool&&(this.condaRunWorkerPool=(0,i.createRunningWorkerPool)(g)),s=await y(this.condaRunWorkerPool,e,t).catch((e=>{(0,a.traceError)(e)}));else if(o){if(o.message.includes("Unknown option: -I")||o.message.includes("ModuleNotFoundError: No module named 'encodings'"))return(0,a.traceWarn)(o),o.message.includes("Unknown option: -I")&&(0,a.traceError)("Support for Python 2.7 has been dropped by the Python extension so certain features may not work, upgrade to using Python 3."),v(e,!1).catch((e=>{(0,a.traceError)(e)}));(0,a.traceError)(o)}return void 0===s&&n?(0,r.sleep)(2e3).then((()=>this._getEnvironmentInfo(e,t,!1))):s}resetInfo(e){const t=e.fsPath;Array.from(this.cache.keys()).forEach((e=>{e.startsWith((0,u.normCasePath)(t))&&this.cache.delete(e)}))}}function y(e,t,n){return n===f.High?e.addToQueue(t,i.QueuePosition.Front):e.addToQueue(t,i.QueuePosition.Back)}let b;t.getEnvironmentInfoService=function(e){if(void 0===b){const t=new m;null==e||e.push({dispose:()=>{t.dispose(),b=void 0}}),b=t}return b}},39397:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.parseVersionFromExecutable=void 0;const s=o(n(16928)),a=n(48112),c=n(71067),l=n(69396);t.parseVersionFromExecutable=function(e){const t=function(e){if(e=(0,l.normCasePath)(e),(0,a.getOSType)()===a.OSType.Windows){if("python.exe"===e)return(0,c.getEmptyVersion)()}else if("python"===e)return(0,c.parseVersion)("2.7");if(!e.startsWith("python"))throw Error(`not a Python executable (expected "python..", got "${e}")`);return(0,c.parseVersion)(e)}(s.basename(e));return 2===t.major&&-1===t.minor&&(t.minor=7),t}},15721:(e,t)=>{"use strict";var n,r,i,o;Object.defineProperty(t,"__esModule",{value:!0}),t.UNKNOWN_PYTHON_VERSION=t.PythonReleaseLevel=t.PythonEnvSource=t.globallyInstalledEnvKinds=t.virtualEnvKinds=t.PythonEnvType=t.PythonEnvKind=void 0,function(e){e.Unknown="unknown",e.System="global-system",e.MicrosoftStore="global-microsoft-store",e.Pyenv="global-pyenv",e.Poetry="poetry",e.Hatch="hatch",e.Pixi="pixi",e.ActiveState="activestate",e.Custom="global-custom",e.OtherGlobal="global-other",e.Venv="virt-venv",e.VirtualEnv="virt-virtualenv",e.VirtualEnvWrapper="virt-virtualenvwrapper",e.Pipenv="virt-pipenv",e.Conda="virt-conda",e.OtherVirtual="virt-other"}(n||(t.PythonEnvKind=n={})),function(e){e.Conda="Conda",e.Virtual="Virtual"}(r||(t.PythonEnvType=r={})),t.virtualEnvKinds=[n.Poetry,n.Hatch,n.Pixi,n.Pipenv,n.Venv,n.VirtualEnvWrapper,n.Conda,n.VirtualEnv],t.globallyInstalledEnvKinds=[n.OtherGlobal,n.Unknown,n.MicrosoftStore,n.System,n.Custom],function(e){e.PathEnvVar="path env var",e.WindowsRegistry="windows registry"}(i||(t.PythonEnvSource=i={})),function(e){e.Alpha="alpha",e.Beta="beta",e.Candidate="candidate",e.Final="final"}(o||(t.PythonReleaseLevel=o={})),t.UNKNOWN_PYTHON_VERSION={major:-1,minor:-1,micro:-1,release:{level:o.Final,serial:-1},sysVersion:void 0},Object.freeze(t.UNKNOWN_PYTHON_VERSION)},73827:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getInterpreterInfo=void 0;const r=n(552),i=n(8370),o=n(48112),s=n(61905),a=n(69396),c=n(20467),l=n(71067);t.getInterpreterInfo=async function(e,t){const[n,u]=(0,i.interpreterInfo)(),p=(0,c.copyPythonExecInfo)(e,n),d=[p.command,...p.args].reduce(((e,t)=>e?`${e} ${t.toCommandArgumentForPythonExt()}`:`${t.toCommandArgumentForPythonExt()}`),"");let h=r.isCI?3e4:15e3;void 0!==process.env.VSC_PYTHON_INTERPRETER_INFO_TIMEOUT&&(h=parseInt(process.env.VSC_PYTHON_INTERPRETER_INFO_TIMEOUT,10),(0,s.traceInfo)(`Custom interpreter discovery timeout: ${h}`));const f=await(0,a.shellExecute)(d,{timeout:null!=t?t:h});let v;f.stderr&&(0,s.traceError)(`Stderr when executing script with >> ${d} << stderr: ${f.stderr}, still attempting to parse output`);try{v=u(f.stdout)}catch(e){return void(0,s.traceError)(`Failed to parse interpreter information for >> ${d} << with ${e}`)}return(0,s.traceVerbose)(`Found interpreter for >> ${d} <<: ${JSON.stringify(v)}`),function(e,t){let n=`${t.versionInfo.slice(0,3).join(".")}`;if(void 0!==t.versionInfo[3]&&["final","alpha","beta","candidate"].includes(t.versionInfo[3])&&(n=`${n}-${t.versionInfo[3]}`,void 0!==t.versionInfo[4])){let e=-1;try{e=parseInt(`${t.versionInfo[4]}`,10)}catch(t){e=-1}n=e>=0?`${n}${e}`:n}return{arch:t.is64Bit?o.Architecture.x64:o.Architecture.x86,executable:{filename:e,sysPrefix:t.sysPrefix,mtime:-1,ctime:-1},version:{...(0,l.parseVersion)(n),sysVersion:t.sysVersion}}}(e.pythonExecutable,v)}},71067:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.compareSemVerLikeVersions=t.toSemverLikeVersion=t.areSimilarVersions=t.areIdenticalVersion=t.getShortVersionString=t.getVersionDisplayString=t.isVersionEmpty=t.getEmptyVersion=t.parseBasicVersion=t.parseRelease=t.parseVersion=t.getPythonVersionFromPath=void 0;const s=n(2543),a=o(n(16928)),c=o(n(8727)),l=n(15721),u=n(61905);function p(e){const[t,n]=h(e);if(-1===t.micro)return t;const[r]=d(n);return t.release=r,t}function d(e){let t,n,r,i,o,s,a,c=e.match(/^(?:-?final|\.final(?:\.0)?)(.*)$/);if(c)[,t]=c,o="final",s="0";else for(const o of[/^(?:(a)|(b)|(rc))([1-9]\d*)(.*)$/,/^-(?:(?:(alpha)|(beta)|(candidate))([1-9]\d*))(.*)$/,/^\.(?:(?:(alpha)|(beta)|(candidate))\.([1-9]\d*))(.*)$/])if(c=e.match(o),c){[,n,r,i,s,t]=c;break}if(o)a=l.PythonReleaseLevel.Final;else if(i)a=l.PythonReleaseLevel.Candidate;else if(r)a=l.PythonReleaseLevel.Beta;else{if(!n)return[void 0,e];a=l.PythonReleaseLevel.Alpha}return[{level:a,serial:parseInt(s,10)},t]}function h(e){const t=c.parseBasicVersionInfo(`ignored-${e}`);if(!t){if(""===e)return[f(),""];throw Error(`invalid version ${e}`)}const{version:n,after:r}=t;if(n.release=void 0,-1===n.minor&&n.major>9){const e=10**(n.major.toString().length-1);n.minor=n.major%e,n.major=Math.floor(n.major/e)}return[n,r]}function f(){return(0,s.cloneDeep)(c.EMPTY_VERSION)}function v(e){return c.isVersionInfoEmpty(e)}function g(e){let t=c.getVersionString(e);if(void 0===e.release)return t;if(e.release.level===l.PythonReleaseLevel.Final)return t;if(e.release.level===l.PythonReleaseLevel.Candidate)t=`${t}rc${e.release.serial}`;else if(e.release.level===l.PythonReleaseLevel.Beta)t=`${t}b${e.release.serial}`;else{if(e.release.level!==l.PythonReleaseLevel.Alpha)throw Error(`unsupported release level ${e.release.level}`);t=`${t}a${e.release.serial}`}return t}function m(e,t){return void 0===e.release?void 0===t.release?[0,""]:[1,"level"]:void 0===t.release?[-1,"level"]:e.release.level<t.release.level?[1,"level"]:e.release.level>t.release.level?[-1,"level"]:e.release.level===l.PythonReleaseLevel.Final?[0,""]:e.release.serial<t.release.serial?[1,"serial"]:e.release.serial>t.release.serial?[-1,"serial"]:[0,""]}t.getPythonVersionFromPath=function(e){let t=l.UNKNOWN_PYTHON_VERSION;try{t=p(a.basename(e))}catch(t){(0,u.traceError)(`Failed to parse version from path: ${e}`,t)}return t},t.parseVersion=p,t.parseRelease=d,t.parseBasicVersion=h,t.getEmptyVersion=f,t.isVersionEmpty=v,t.getVersionDisplayString=function(e){return v(e)?"":-1!==e.micro?g(e):`${g(e)}.x`},t.getShortVersionString=g,t.areIdenticalVersion=function(e,t){return c.areIdenticalVersion(e,t,m)},t.areSimilarVersions=function(e,t){return!!c.areSimilarVersions(e,t,m)&&(2===e.major||e.minor>-1&&t.minor>-1)},t.toSemverLikeVersion=function(e){const t=c.getVersionString(e);let n=[];return e.release&&(n=e.release.serial<0?[`${e.release.level}`]:[`${e.release.level}`,`${e.release.serial}`]),{raw:t,major:e.major,minor:e.minor,patch:e.micro,build:[],prerelease:n}},t.compareSemVerLikeVersions=function(e,t){return e.major===t.major?e.minor===t.minor?e.patch===t.patch?0:e.patch>t.patch?1:-1:e.minor>t.minor?1:-1:e.major>t.major?1:-1}},18162:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Locator=t.NOOP_ITERATOR=t.isProgressEvent=t.ProgressReportStage=void 0;const r=n(7855),i=n(28472);var o;!function(e){e.idle="idle",e.discoveryStarted="discoveryStarted",e.allPathsDiscovered="allPathsDiscovered",e.discoveryFinished="discoveryFinished"}(o||(t.ProgressReportStage=o={})),t.isProgressEvent=function(e){return"stage"in e},t.NOOP_ITERATOR=(0,r.iterEmpty)();class s{constructor(e){this.emitter=e,this.onChanged=e.onChanged}}t.Locator=class extends s{constructor(){super(new i.PythonEnvsWatcher)}}},94725:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEnvs=t.getQueryFilter=void 0;const r=n(7855),i=n(98803),o=n(61905),s=n(18162);t.getQueryFilter=function(e){var t;const n=void 0!==e.kinds&&e.kinds.length>0?e.kinds:void 0,r=!(null===(t=e.searchLocations)||void 0===t?void 0:t.doNotIncludeNonRooted),o=function(e){if(void 0!==e.searchLocations)return 0===e.searchLocations.roots.length?[]:e.searchLocations.roots.map((e=>(0,i.getURIFilter)(e,{checkParent:!0})))}(e);return e=>!!function(e){return void 0===n||n.includes(e.kind)}(e)&&!!function(e){if(void 0===e.searchLocation)return r;const t=e.searchLocation;return void 0===o||o.some((e=>e(t)))}(e)},t.getEnvs=async function(e){const t=[],n=(0,r.createDeferred)();if(void 0===e.onUpdated)n.resolve();else{const r=e.onUpdated((e=>{if((0,s.isProgressEvent)(e)){if(e.stage!==s.ProgressReportStage.discoveryFinished)return;n.resolve(),r.dispose()}else if(void 0!==e.index){const{index:n,update:r}=e;if(void 0===t[n]){const e=JSON.stringify(r);(0,o.traceVerbose)(`Updates sent for an env which was classified as invalid earlier, currently not expected, ${e}`)}t[n]=r}}))}let i=0;for await(const n of e)void 0===t[i]&&(t[i]=n),i+=1;return await n.promise,t.filter((e=>void 0!==e)).map((e=>e))}},95465:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Locators=t.combineIterators=void 0;const r=n(7855),i=n(51271),o=n(18162),s=n(97087);function a(e){const t=(0,r.chain)(e),n=e.map((e=>e.onUpdated)).filter((e=>e));return n&&0!==n.length?(t.onUpdated=e=>{const t=new i.Disposables;let r=n.length;return n.forEach((n=>{const i=n((t=>{(0,o.isProgressEvent)(t)?t.stage===o.ProgressReportStage.discoveryFinished?(r-=1,0===r&&e({stage:o.ProgressReportStage.discoveryFinished})):e({stage:t.stage}):e(t)}));t.push(i)})),t},t):t}t.combineIterators=a;class c extends s.PythonEnvsWatchers{constructor(e){super(e),this.locators=e,this.providerId=e.map((e=>e.providerId)).join("+")}iterEnvs(e){return a(this.locators.map((t=>t.iterEnvs(e))))}}t.Locators=c},14601:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.clearCacheDirectory=t.getCacheDirectory=t.getNativePythonFinder=t.isNativeEnvInfo=void 0;const s=n(54980),a=o(n(35317)),c=o(n(16928)),l=o(n(77123)),u=n(2203),p=o(n(25943)),d=n(48112),h=n(84090),f=n(7855),v=n(51271),g=n(98803),m=n(8841),y=n(95885),b=n(45882),_=n(85784),E=n(99350),S=n(51080),w=n(65900),P=n(61905),T=(0,d.isWindows)()?c.join(h.EXTENSION_ROOT_DIR,"python-env-tools","bin","pet.exe"):c.join(h.EXTENSION_ROOT_DIR,"python-env-tools","bin","pet");t.isNativeEnvInfo=function(e){return!e.tool};class C extends v.DisposableBase{constructor(e){super(),this.cacheDirectory=e,this.outputChannel=this._register((0,_.createLogOutputChannel)("Python Locator",{log:!0})),this.initialRefreshMetrics={timeToSpawn:0,timeToConfigure:0,timeToRefresh:0},this.connection=this.start(),this.configure(),this.firstRefreshResults=this.refreshFirstTime()}async resolve(e){await this.configure();const t=await this.connection.sendRequest("resolve",{executable:e});return this.outputChannel.info(`Resolved Python Environment ${t.executable}`),t}async*refresh(e){if(this.firstRefreshResults){const e=this.firstRefreshResults();this.firstRefreshResults=void 0,yield*e}else{const t=this.doRefresh(e);let n=!1;t.completed.finally((()=>{n=!0}));const r=[];let i=(0,f.createDeferred)();const o=t.discovered((e=>{r.push(e),i.resolve()}));do{if(r.length||await Promise.race([t.completed,i.promise]),r.length){const e=[...r];r.length=0;for(const t of e)yield t}n||(i=(0,f.createDeferred)())}while(!n);o.dispose()}}refreshFirstTime(){const e=this.doRefresh(),t=(0,f.createDeferredFrom)(e.completed),n=[];let r=(0,f.createDeferred)();const i=e.discovered((e=>{n.push(e),r.resolve()}));return async function*(){do{if(n.length||await Promise.race([t.promise,r.promise]),n.length){const e=[...n];n.length=0;for(const t of e)yield t}t.completed||(r=(0,f.createDeferred)())}while(!t.completed);i.dispose()}.bind(this)}start(){this.outputChannel.info(`Starting Python Locator ${T} server`);const e=new u.PassThrough,t=new u.PassThrough,n=[];try{const r=new S.StopWatch,i=a.spawn(T,["server"],{env:process.env});this.initialRefreshMetrics.timeToSpawn=r.elapsedTime,i.stdout.pipe(e,{end:!1}),i.stderr.on("data",(e=>this.outputChannel.error(e.toString()))),t.pipe(i.stdin,{end:!1}),n.push({dispose:()=>{try{null===i.exitCode&&i.kill()}catch(e){this.outputChannel.error("Error disposing finder",e)}}})}catch(e){this.outputChannel.error(`Error starting Python Finder ${T} server`,e)}const r=new s.Disposable((()=>{e.end(),t.end()})),i=l.createMessageConnection(new l.StreamMessageReader(e),new l.StreamMessageWriter(t));return n.push(i,r,i.onError((e=>{r.dispose(),this.outputChannel.error("Connection Error:",e)})),i.onNotification("log",(e=>{switch(e.level){case"info":this.outputChannel.info(e.message);break;case"warning":this.outputChannel.warn(e.message);break;case"error":this.outputChannel.error(e.message);break;case"debug":this.outputChannel.debug(e.message);break;default:this.outputChannel.trace(e.message)}})),i.onNotification("telemetry",(e=>(0,E.sendNativeTelemetry)(e,this.initialRefreshMetrics))),i.onClose((()=>{n.forEach((e=>e.dispose()))}))),i.listen(),this._register(s.Disposable.from(...n)),i}doRefresh(e){const t=this._register(new v.DisposableStore),n=t.add(new s.EventEmitter),r=(0,f.createDeferred)(),i=[],o=new S.StopWatch,a=()=>{const e=i.length;Promise.all(i).then((()=>{e===i.length?r.resolve():setTimeout(a,0)})).catch(g.noop)},c=e=>{i.push(e),a()};t.add(this.connection.onNotification("environment",(e=>{if(this.outputChannel.info(`Discovered env: ${e.executable||e.prefix}`),!e.executable||e.version&&e.prefix)n.fire(e);else{const t=this.connection.sendRequest("resolve",{executable:e.executable}).then((e=>{this.outputChannel.info(`Resolved ${e.executable}`),n.fire(e)})).catch((t=>this.outputChannel.error(`Error in Resolving ${JSON.stringify(e)}`,t)));c(t)}}))),t.add(this.connection.onNotification("manager",(e=>{this.outputChannel.info(`Discovered manager: (${e.tool}) ${e.executable}`),n.fire(e)})));const l={};return e&&Array.isArray(e)&&e.length>0?l.searchPaths=e.map((e=>e.fsPath)):e&&"string"==typeof e&&(l.searchKind=e),c(this.configure().then((()=>this.connection.sendRequest("refresh",l).then((({duration:e})=>{this.outputChannel.info(`Refresh completed in ${e}ms`),this.initialRefreshMetrics.timeToRefresh=o.elapsedTime})).catch((e=>this.outputChannel.error("Refresh error",e)))))),r.promise.finally((()=>t.dispose())),{completed:r.promise,discovered:n.event}}async configure(){var e;const t={workspaceDirectories:(0,m.getWorkspaceFolderPaths)(),environmentDirectories:x(),condaExecutable:I(y.CONDAPATH_SETTING_KEY),poetryExecutable:I("poetryPath"),cacheDirectory:null===(e=this.cacheDirectory)||void 0===e?void 0:e.fsPath};if(JSON.stringify(t)!==JSON.stringify(this.lastConfiguration||{}))try{const e=new S.StopWatch;this.lastConfiguration=t,await this.connection.sendRequest("configure",t),this.initialRefreshMetrics.timeToConfigure=e.elapsedTime}catch(e){this.outputChannel.error("Refresh error",e)}}async getCondaInfo(){return this.connection.sendRequest("condaInfo")}}function x(){var e;const t=[],n=I(b.VENVPATH_SETTING_KEY);n&&t.push((0,w.untildify)(n));const r=null!==(e=I(b.VENVFOLDERS_SETTING_KEY))&&void 0!==e?e:[],i=(0,d.getUserHomeDir)();return i&&(r.map((e=>e.startsWith(i)?e:c.join(i,e))).forEach((e=>t.push(e))),r.forEach((e=>t.push((0,w.untildify)(e))))),Array.from(new Set(t))}function I(e,t){const n=(0,m.getConfiguration)("python",t).get(e);return"string"==typeof n?n?(0,w.untildify)(n):void 0:n}let O;function R(e){return s.Uri.joinPath(e.globalStorageUri,"pythonLocator")}t.getNativePythonFinder=function(e){if(!(0,m.isTrusted)())return{async*refresh(){(0,P.traceError)("Python discovery not supported in untrusted workspace"),yield*[]},resolve:async()=>((0,P.traceError)("Python discovery not supported in untrusted workspace"),{}),getCondaInfo:async()=>((0,P.traceError)("Python discovery not supported in untrusted workspace"),{}),dispose(){}};if(!O){const t=e?R(e):void 0;O=new C(t),e&&e.subscriptions.push(O)}return O},t.getCacheDirectory=R,t.clearCacheDirectory=async function(e){const t=R(e);await p.emptyDir(t.fsPath).catch(g.noop)}},99350:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendNativeTelemetry=void 0;const r=n(61905),i=n(51535),o=n(53322);let s=!1;t.sendNativeTelemetry=function(e,t){switch(e.event){case"MissingCondaEnvironments":(0,i.sendTelemetryEvent)(o.EventName.NATIVE_FINDER_MISSING_CONDA_ENVS,void 0,e.data.missingCondaEnvironments);break;case"MissingPoetryEnvironments":(0,i.sendTelemetryEvent)(o.EventName.NATIVE_FINDER_MISSING_POETRY_ENVS,void 0,e.data.missingPoetryEnvironments);break;case"RefreshPerformance":if(s)break;s=!0,(0,i.sendTelemetryEvent)(o.EventName.NATIVE_FINDER_PERF,{duration:e.data.refreshPerformance.total,totalDuration:e.data.refreshPerformance.total,breakdownGlobalVirtualEnvs:e.data.refreshPerformance.breakdown.GlobalVirtualEnvs,breakdownLocators:e.data.refreshPerformance.breakdown.Locators,breakdownPath:e.data.refreshPerformance.breakdown.Path,breakdownWorkspaces:e.data.refreshPerformance.breakdown.Workspaces,locatorConda:e.data.refreshPerformance.locators.Conda||0,locatorHomebrew:e.data.refreshPerformance.locators.Homebrew||0,locatorLinuxGlobalPython:e.data.refreshPerformance.locators.LinuxGlobalPython||0,locatorMacCmdLineTools:e.data.refreshPerformance.locators.MacCmdLineTools||0,locatorMacPythonOrg:e.data.refreshPerformance.locators.MacPythonOrg||0,locatorMacXCode:e.data.refreshPerformance.locators.MacXCode||0,locatorPipEnv:e.data.refreshPerformance.locators.PipEnv||0,locatorPixiEnv:e.data.refreshPerformance.locators.PixiEnv||0,locatorPoetry:e.data.refreshPerformance.locators.Poetry||0,locatorPyEnv:e.data.refreshPerformance.locators.PyEnv||0,locatorVenv:e.data.refreshPerformance.locators.Venv||0,locatorVirtualEnv:e.data.refreshPerformance.locators.VirtualEnv||0,locatorVirtualEnvWrapper:e.data.refreshPerformance.locators.VirtualEnvWrapper||0,locatorWindowsRegistry:e.data.refreshPerformance.locators.WindowsRegistry||0,locatorWindowsStore:e.data.refreshPerformance.locators.WindowsStore||0,timeToSpawn:t.timeToSpawn,timeToConfigure:t.timeToConfigure,timeToRefresh:t.timeToRefresh});break;default:(0,r.traceError)(`Unhandled Telemetry Event type ${JSON.stringify(e)}`)}}},23172:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.categoryToKind=t.NativePythonEnvironmentKind=void 0;const r=n(15721),i=n(61905);var o;!function(e){e.Conda="Conda",e.Pixi="Pixi",e.Homebrew="Homebrew",e.Pyenv="Pyenv",e.GlobalPaths="GlobalPaths",e.PyenvVirtualEnv="PyenvVirtualEnv",e.Pipenv="Pipenv",e.Poetry="Poetry",e.MacPythonOrg="MacPythonOrg",e.MacCommandLineTools="MacCommandLineTools",e.LinuxGlobal="LinuxGlobal",e.MacXCode="MacXCode",e.Venv="Venv",e.VirtualEnv="VirtualEnv",e.VirtualEnvWrapper="VirtualEnvWrapper",e.WindowsStore="WindowsStore",e.WindowsRegistry="WindowsRegistry"}(o||(t.NativePythonEnvironmentKind=o={}));const s=new Map([[o.Conda,r.PythonEnvKind.Conda],[o.Pixi,r.PythonEnvKind.Pixi],[o.GlobalPaths,r.PythonEnvKind.OtherGlobal],[o.Pyenv,r.PythonEnvKind.Pyenv],[o.PyenvVirtualEnv,r.PythonEnvKind.Pyenv],[o.Pipenv,r.PythonEnvKind.Pipenv],[o.Poetry,r.PythonEnvKind.Poetry],[o.VirtualEnv,r.PythonEnvKind.VirtualEnv],[o.VirtualEnvWrapper,r.PythonEnvKind.VirtualEnvWrapper],[o.Venv,r.PythonEnvKind.Venv],[o.WindowsRegistry,r.PythonEnvKind.System],[o.WindowsStore,r.PythonEnvKind.MicrosoftStore],[o.Homebrew,r.PythonEnvKind.System],[o.LinuxGlobal,r.PythonEnvKind.System],[o.MacCommandLineTools,r.PythonEnvKind.System],[o.MacPythonOrg,r.PythonEnvKind.System],[o.MacXCode,r.PythonEnvKind.System]]);t.categoryToKind=function(e,t){if(!e)return r.PythonEnvKind.Unknown;return s.get(e)||(t?t.error(`Unknown Python Environment category '${e}' from Native Locator.`):(0,i.traceError)(`Unknown Python Environment category '${e}' from Native Locator.`),r.PythonEnvKind.Unknown)}},36500:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPythonWatcher=void 0;const r=n(54980),i=n(8841),o=n(48112),s=n(69396),a=n(29104),c=(0,o.isWindows)()?"**/python.exe":"**/python";class l{constructor(){this.disposables=[],this._onDidWorkspaceEnvChanged=new r.EventEmitter,this._onDidGlobalEnvChanged=new r.EventEmitter,this._disposeMap=new Map,this.onDidGlobalEnvChanged=this._onDidGlobalEnvChanged.event,this.onDidWorkspaceEnvChanged=this._onDidWorkspaceEnvChanged.event,this.disposables.push(this._onDidWorkspaceEnvChanged,this._onDidGlobalEnvChanged)}watchWorkspace(e){if(this._disposeMap.has(e.uri.fsPath)){const t=this._disposeMap.get(e.uri.fsPath);null==t||t.dispose()}const t=[],n=(0,i.createFileSystemWatcher)(new r.RelativePattern(e,c));t.push(n,n.onDidChange((t=>{this.fireWorkspaceEvent(a.FileChangeType.Changed,e,t)})),n.onDidCreate((t=>{this.fireWorkspaceEvent(a.FileChangeType.Created,e,t)})),n.onDidDelete((t=>{this.fireWorkspaceEvent(a.FileChangeType.Deleted,e,t)})));const o={dispose:()=>{t.forEach((e=>e.dispose())),this._disposeMap.delete(e.uri.fsPath)}};this._disposeMap.set(e.uri.fsPath,o)}unwatchWorkspace(e){const t=this._disposeMap.get(e.uri.fsPath);null==t||t.dispose()}fireWorkspaceEvent(e,t,n){const r=(0,i.getWorkspaceFolder)(n);r&&(0,s.arePathsSame)(r.uri.fsPath,t.uri.fsPath)&&this._onDidWorkspaceEnvChanged.fire({type:e,workspaceFolder:t,executable:n.fsPath})}watchPath(e,t){if(this._disposeMap.has(e.fsPath)){const t=this._disposeMap.get(e.fsPath);null==t||t.dispose()}const n=t?new r.RelativePattern(e,t):e.fsPath,o=[],s=(0,i.createFileSystemWatcher)(n);o.push(s,s.onDidChange((()=>{this._onDidGlobalEnvChanged.fire({type:a.FileChangeType.Changed,uri:e})})),s.onDidCreate((()=>{this._onDidGlobalEnvChanged.fire({type:a.FileChangeType.Created,uri:e})})),s.onDidDelete((()=>{this._onDidGlobalEnvChanged.fire({type:a.FileChangeType.Deleted,uri:e})})));const c={dispose:()=>{o.forEach((e=>e.dispose())),this._disposeMap.delete(e.fsPath)}};this._disposeMap.set(e.fsPath,c)}unwatchPath(e){const t=this._disposeMap.get(e.fsPath);null==t||t.dispose()}dispose(){this.disposables.forEach((e=>e.dispose())),this._disposeMap.forEach((e=>e.dispose()))}}t.createPythonWatcher=function(){return new l}},96211:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LazyResourceBasedLocator=void 0;const r=n(7855),i=n(51271),o=n(61905),s=n(69396),a=n(6514),c=n(18162);class l extends c.Locator{constructor(){super(...arguments),this.disposables=new i.Disposables}async activate(){await this.ensureResourcesReady();try{this.ensureWatchersReady()}catch(e){(0,o.traceWarn)(`Failed to ensure watchers are ready for locator ${this.constructor.name}`,e)}}async dispose(){await this.disposables.dispose()}async*iterEnvs(e){await this.activate();const t=this.doIterEnvs(e);if(null==e?void 0:e.envPath){let n=await t.next();for(;!n.done;){const r=n.value,{path:i}=(0,a.getEnvPath)(r.executablePath,r.envPath);if((0,s.arePathsSame)(i,e.envPath)){yield r;break}n=await t.next()}}else yield*t}async initResources(){}async initWatchers(){}async ensureResourcesReady(){void 0===this.resourcesReady?(this.resourcesReady=(0,r.createDeferred)(),await this.initResources().catch((e=>{var t;(0,o.traceError)(e),null===(t=this.resourcesReady)||void 0===t||t.reject(e)})),this.resourcesReady.resolve()):await this.resourcesReady.promise}async ensureWatchersReady(){void 0===this.watchersReady?(this.watchersReady=(0,r.createDeferred)(),(0,s.isVirtualWorkspace)()||await this.initWatchers().catch((e=>{var t;(0,o.traceError)(e),null===(t=this.watchersReady)||void 0===t||t.reject(e)})),this.watchersReady.resolve()):await this.watchersReady.promise}}t.LazyResourceBasedLocator=l},91428:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCollectionCache=t.PythonEnvInfoCache=void 0;const r=n(552),i=n(61905),o=n(69396),s=n(15721),a=n(6514),c=n(28472),l=n(95885);class u extends c.PythonEnvsWatcher{constructor(e){super(),this.persistentStorage=e,this.envs=[],this.validatedEnvs=new Set,this.flushedEnvs=new Set}async validateCache(e,t){(await Promise.all(this.envs.map((async n=>{const{path:r}=(0,a.getEnvPath)(n.executable.filename,n.location);if(await(0,o.pathExists)(r)){if(!e||!t)return!0;if(n.searchLocation)return!0;if(e.some((e=>n.id===e.id)))return!0;if(Array.from(this.validatedEnvs.keys()).some((e=>n.id===e)))return!0}return!1})))).map(((e,t)=>e?-1:t)).filter((e=>-1!==e)).reverse().forEach((e=>{const t=this.envs.splice(e,1)[0];(0,i.traceVerbose)(`Removing invalid env from cache ${t.id}`),this.fire({old:t,new:void 0})})),e&&e.forEach((e=>{const t=this.envs.find((t=>t.id===e.id));t&&!(0,a.areEnvsDeepEqual)(t,e)&&this.updateEnv(t,e,!0)}))}getAllEnvs(){return this.envs}addEnv(e,t){const n=this.envs.find((t=>(0,a.areSameEnv)(t,e)));n?t&&!this.validatedEnvs.has(e.id)&&this.updateEnv(n,e,!0):(this.envs.push(e),this.fire({new:e})),t&&((0,i.traceVerbose)(`Flushing env to cache ${e.id}`),this.validatedEnvs.add(e.id),this.flush(e).ignoreErrors())}updateEnv(e,t,n=!1){if(this.flushedEnvs.has(e.id)&&!n)return;const r=this.envs.findIndex((t=>(0,a.areSameEnv)(t,e)));-1!==r&&(void 0===t?this.envs.splice(r,1):this.envs[r]=t,this.fire({old:e,new:t}))}async getLatestInfo(e){var t;const n=null!==(t=this.envs.find((t=>(0,o.arePathsSame)(t.location,e))))&&void 0!==t?t:this.envs.find((t=>(0,a.areSameEnv)(t,e)));if((null==n?void 0:n.kind)===s.PythonEnvKind.Conda&&"envFolderPath"===(0,a.getEnvPath)(n.executable.filename,n.location).pathType)return await(0,o.pathExists)((0,l.getCondaInterpreterPath)(n.location))?void this.validatedEnvs.delete(n.id):(this.validatedEnvs.add(n.id),n);if(n){if(this.validatedEnvs.has(n.id))return(0,i.traceVerbose)(`Found cached env for ${e}`),n;if(await this.validateInfo(n))return(0,i.traceVerbose)(`Needed to validate ${e} with latest info`),this.validatedEnvs.add(n.id),n}(0,i.traceVerbose)(`No cached env found for ${e}`)}clearAndReloadFromStorage(){this.envs=this.persistentStorage.get(),this.markAllEnvsAsFlushed()}async flush(e){if(e){const t=this.persistentStorage.get(),n=t.findIndex((t=>t.id===e.id));return t[n]=e,this.flushedEnvs.add(e.id),void await this.persistentStorage.store(t)}(0,i.traceVerbose)("Environments added to cache",JSON.stringify(this.envs)),this.markAllEnvsAsFlushed(),await this.persistentStorage.store(this.envs)}markAllEnvsAsFlushed(){this.envs.forEach((e=>{this.flushedEnvs.add(e.id)}))}async validateInfo(e){if(!this.flushedEnvs.has(e.id))return!1;if(-1===e.version.micro||-1===e.version.major||-1===e.version.minor)return!1;const{ctime:t,mtime:n}=await(0,o.getFileInfo)(e.executable.filename);return-1!==t&&-1!==n&&t===e.executable.ctime&&n===e.executable.mtime||(e.executable.ctime=t,e.executable.mtime=n,!1)}}t.PythonEnvInfoCache=u,t.createCollectionCache=async function(e){const t=new u(e);return t.clearAndReloadFromStorage(),await async function(e){return(0,r.isTestExecution)()?e.validateCache():e.validateCache().ignoreErrors()}(t),t}},95117:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EnvsCollectionService=void 0;const r=n(54980);n(87295);const i=n(7855),o=n(51080),s=n(61905),a=n(51535),c=n(53322),l=n(69396),u=n(15721),p=n(6514),d=n(18162),h=n(94725),f=n(28472);class v extends f.PythonEnvsWatcher{get onProgress(){return this.progress.event}getRefreshPromise(e){var t,n;const r=null!==(t=null==e?void 0:e.stage)&&void 0!==t?t:d.ProgressReportStage.discoveryFinished;return null===(n=this.progressPromises.get(r))||void 0===n?void 0:n.promise}constructor(e,t,n){super(),this.cache=e,this.locator=t,this.usingNativeLocator=n,this.refreshesPerQuery=new Map,this.scheduledRefreshesPerQuery=new Map,this.progressPromises=new Map,this.hasRefreshFinishedForQuery=new Map,this.progress=new r.EventEmitter,this.refreshState=d.ProgressReportStage.discoveryFinished,this.locator.onChanged((e=>{const t=e.providerId?{providerId:e.providerId,envPath:e.envPath}:void 0;let n=this.scheduledRefreshesPerQuery.get(t);n||(n=this.scheduleNewRefresh(t)),n.then((()=>{this.fire(e)}))})),this.cache.onChanged((e=>{this.fire(e)})),this.onProgress((e=>{var t;this.refreshState=e.stage,null===(t=this.progressPromises.get(e.stage))||void 0===t||t.resolve(),this.progressPromises.delete(e.stage)}))}async resolveEnv(e){e=(0,l.normalizePath)(e);const t=await this.cache.getLatestInfo(e);if(t)return t;const n=await this.locator.resolveEnv(e).catch((t=>{(0,s.traceError)(`Failed to resolve ${e}`,t)}));return(0,s.traceVerbose)(`Resolved ${e} using downstream locator`),n&&this.cache.addEnv(n,!0),n}getEnvs(e){const t=this.cache.getAllEnvs();return e?t.filter((0,h.getQueryFilter)(e)):t}triggerRefresh(e,t){let n=this.getRefreshPromiseForQuery(e);if(!n){if((null==t?void 0:t.ifNotTriggerredAlready)&&this.hasRefreshFinished(e))return Promise.resolve();const r=new o.StopWatch;(0,s.traceInfo)("Starting Environment refresh"),n=this.startRefresh(e).then((()=>{this.sendTelemetry(e,r),(0,s.traceInfo)(`Environment refresh took ${r.elapsedTime} milliseconds`)}))}return n}startRefresh(e){return this.createProgressStates(e),this.addEnvsToCacheForQuery(e).then((async()=>{this.resolveProgressStates(e)})).catch((t=>{this.rejectProgressStates(e,t)}))}async addEnvsToCacheForQuery(e){const t=this.locator.iterEnvs(e),n=[],r={done:!1,pending:0},a=(0,i.createDeferred)(),c=new o.StopWatch;if(void 0!==t.onUpdated){const i=t.onUpdated((async t=>{if((0,d.isProgressEvent)(t))switch(t.stage){case d.ProgressReportStage.discoveryFinished:r.done=!0,i.dispose(),(0,s.traceInfo)(`Environments refresh finished (event): ${c.elapsedTime} milliseconds`);break;case d.ProgressReportStage.allPathsDiscovered:e||((0,s.traceInfo)(`Environments refresh paths discovered (event): ${c.elapsedTime} milliseconds`),this.progress.fire(t));break;default:this.progress.fire(t)}else void 0!==t.index&&(r.pending+=1,this.cache.updateEnv(n[t.index],t.update),t.update&&(n[t.index]=t.update),r.pending-=1);r.done&&0===r.pending&&a.resolve()}))}else this.progress.fire({stage:d.ProgressReportStage.discoveryStarted}),a.resolve();for await(const e of t)n.push(e),this.cache.addEnv(e);(0,s.traceInfo)(`Environments refresh paths discovered: ${c.elapsedTime} milliseconds`),await a.promise,await this.cache.validateCache(n,void 0===e),this.cache.flush().ignoreErrors()}getRefreshPromiseForQuery(e){var t,n,r;return null!==(n=null===(t=this.refreshesPerQuery.get(e))||void 0===t?void 0:t.promise)&&void 0!==n?n:null===(r=this.refreshesPerQuery.get(void 0))||void 0===r?void 0:r.promise}hasRefreshFinished(e){var t;return null!==(t=this.hasRefreshFinishedForQuery.get(e))&&void 0!==t?t:this.hasRefreshFinishedForQuery.get(void 0)}async scheduleNewRefresh(e){const t=this.getRefreshPromiseForQuery(e);let n;return t?(n=t.then((()=>{this.scheduledRefreshesPerQuery.delete(e),this.startRefresh(e)})),this.scheduledRefreshesPerQuery.set(e,n)):n=this.startRefresh(e),n}createProgressStates(e){this.refreshesPerQuery.set(e,(0,i.createDeferred)()),Object.values(d.ProgressReportStage).forEach((e=>{this.progressPromises.set(e,(0,i.createDeferred)())})),d.ProgressReportStage.allPathsDiscovered&&e&&this.progressPromises.delete(d.ProgressReportStage.allPathsDiscovered)}rejectProgressStates(e,t){var n;null===(n=this.refreshesPerQuery.get(e))||void 0===n||n.reject(t),this.refreshesPerQuery.delete(e),Object.values(d.ProgressReportStage).forEach((e=>{var n;null===(n=this.progressPromises.get(e))||void 0===n||n.reject(t),this.progressPromises.delete(e)}))}resolveProgressStates(e){var t;null===(t=this.refreshesPerQuery.get(e))||void 0===t||t.resolve(),this.refreshesPerQuery.delete(e),Array.from(this.refreshesPerQuery.values()).every((e=>e.completed))&&this.progress.fire({stage:d.ProgressReportStage.discoveryFinished})}sendTelemetry(e,t){if(!e&&!this.hasRefreshFinished(e)){const e=this.cache.getAllEnvs(),n=e.filter((e=>"envFolderPath"===(0,p.getEnvPath)(e.executable.filename,e.location).pathType)).length,r=e.filter((e=>e.kind===u.PythonEnvKind.ActiveState)).length,i=e.filter((e=>e.kind===u.PythonEnvKind.Conda)).length,o=e.filter((e=>e.kind===u.PythonEnvKind.Custom)).length,s=e.filter((e=>e.kind===u.PythonEnvKind.Hatch)).length,l=e.filter((e=>e.kind===u.PythonEnvKind.MicrosoftStore)).length,d=e.filter((e=>e.kind===u.PythonEnvKind.OtherGlobal)).length,h=e.filter((e=>e.kind===u.PythonEnvKind.OtherVirtual)).length,f=e.filter((e=>e.kind===u.PythonEnvKind.Pipenv)).length,v=e.filter((e=>e.kind===u.PythonEnvKind.Poetry)).length,g=e.filter((e=>e.kind===u.PythonEnvKind.Pyenv)).length,m=e.filter((e=>e.kind===u.PythonEnvKind.System)).length,y=e.filter((e=>e.kind===u.PythonEnvKind.Unknown)).length,b=e.filter((e=>e.kind===u.PythonEnvKind.Venv)).length,_=e.filter((e=>e.kind===u.PythonEnvKind.VirtualEnv)).length,E=e.filter((e=>e.kind===u.PythonEnvKind.VirtualEnvWrapper)).length;(0,a.sendTelemetryEvent)(c.EventName.PYTHON_INTERPRETER_DISCOVERY,t.elapsedTime,{interpreters:this.cache.getAllEnvs().length,usingNativeLocator:this.usingNativeLocator,environmentsWithoutPython:n,activeStateEnvs:r,condaEnvs:i,customEnvs:o,hatchEnvs:s,microsoftStoreEnvs:l,otherGlobalEnvs:d,otherVirtualEnvs:h,pipEnvEnvs:f,poetryEnvs:v,pyenvEnvs:g,systemEnvs:m,unknownEnvs:y,venvEnvs:b,virtualEnvEnvs:_,virtualEnvWrapperEnvs:E})}this.hasRefreshFinishedForQuery.set(e,!0)}}t.EnvsCollectionService=v},4898:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PythonEnvsReducer=void 0;const r=n(2543),i=n(54980),o=n(61905),s=n(69396),a=n(6514),c=n(11352),l=n(18162);async function u(e,t,n,i,o){n.pending+=1;const a=o[e],l=function(e,t){var n,i;const[o]=function(...e){const t=(0,c.getPrioritizedEnvKinds)();return e.sort(((e,n)=>t.indexOf(e.kind)-t.indexOf(n.kind)))}(e,t),a=(0,r.cloneDeep)(o);return a.source=(0,r.uniq)((null!==(n=e.source)&&void 0!==n?n:[]).concat(null!==(i=t.source)&&void 0!==i?i:[])),a.searchLocation=function(e,t){var n;if(e.searchLocation&&t.searchLocation){if((0,s.isParentPath)(e.searchLocation.fsPath,t.searchLocation.fsPath))return e.searchLocation;if((0,s.isParentPath)(t.searchLocation.fsPath,e.searchLocation.fsPath))return t.searchLocation}return null!==(n=e.searchLocation)&&void 0!==n?n:t.searchLocation}(e,t),a}(a,t);(0,r.isEqual)(a,l)||(o[e]=l,i.fire({index:e,old:a,update:l})),n.pending-=1,p(n,i)}function p(e,t){e.done&&0===e.pending&&(t.fire({stage:l.ProgressReportStage.discoveryFinished}),t.dispose(),(0,o.traceVerbose)("Finished with environment reducer"))}t.PythonEnvsReducer=class{get onChanged(){return this.parentLocator.onChanged}constructor(e){this.parentLocator=e}iterEnvs(e){const t=new i.EventEmitter,n=async function*(e,t){const n={done:!1,pending:0},r=[];if(void 0!==e.onUpdated){const i=e.onUpdated((e=>{if((0,l.isProgressEvent)(e))e.stage===l.ProgressReportStage.discoveryFinished?(n.done=!0,i.dispose()):t.fire(e);else{if(void 0===e.update)throw new Error("Unsupported behavior: `undefined` environment updates are not supported from downstream locators in reducer");if(void 0!==e.index&&void 0!==r[e.index]){const n=r[e.index];r[e.index]=e.update,t.fire({index:e.index,old:n,update:e.update})}else(0,o.traceVerbose)(`Expected already iterated env, got ${e.old} (#${e.index})`)}n.pending-=1,p(n,t)}))}else t.fire({stage:l.ProgressReportStage.discoveryStarted});let i=await e.next();for(;!i.done;){const o=i.value,s=r.findIndex((e=>(0,a.areSameEnv)(e,o)));-1!==s?u(s,o,n,t,r).ignoreErrors():(yield o,r.push(o)),i=await e.next()}void 0===e.onUpdated&&(n.done=!0,p(n,t))}(this.parentLocator.iterEnvs(e),t);return n.onUpdated=t.event,n}}},78582:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PythonEnvsResolver=void 0;const r=n(2543),i=n(54980),o=n(24230),s=n(15721),a=n(6514),c=n(18162),l=n(30977),u=n(61905),p=n(96966),d=n(71067);async function h(e,t){const{path:n}=(0,a.getEnvPath)(e.executablePath,e.envPath);if(e.identifiedUsingNativeLocator)return void t.set(n,e.kind);let r=t.get(n);if(!r){if(!(0,o.isIdentifierRegistered)(e.kind))return;r=await(0,o.identifyEnvironment)(n),t.set(n,r)}e.kind=r}function f(e,t){e.done&&0===e.pending&&(t.fire({stage:c.ProgressReportStage.discoveryFinished}),t.dispose(),(0,u.traceVerbose)("Finished with environment resolver"))}function v(e,t,n=!1){const i=(0,r.cloneDeep)(t);return i.executable.sysPrefix=e.executable.sysPrefix,"envFolderPath"!==(0,a.getEnvPath)(i.executable.filename,i.location).pathType||t.kind===s.PythonEnvKind.MicrosoftStore||n?i.version=e.version:i.version=(0,d.getEmptyVersion)(),i.arch=e.arch,(0,a.setEnvDisplayString)(i),i}t.PythonEnvsResolver=class{get onChanged(){return this.parentLocator.onChanged}constructor(e,t){this.parentLocator=e,this.environmentInfoService=t,this.parentLocator.onChanged((e=>{e.type&&void 0!==e.searchLocation&&this.environmentInfoService.resetInfo(e.searchLocation)}))}async resolveEnv(e){const[t,n]=await async function(e){var t;let n,r;return await(0,p.isPythonExecutable)(e).catch((t=>((0,u.traceWarn)("Failed to check if",e,"is an executable",t),!0)))?(n=e,r=(0,p.getEnvironmentDirFromPath)(n)):(r=e,n=null!==(t=await(0,p.getInterpreterPathFromDir)(r))&&void 0!==t?t:""),[n,r]}(e);e=t.length?t:n;const r=await(0,o.identifyEnvironment)(e),i=await(0,l.resolveBasicEnv)({kind:r,executablePath:t,envPath:n}),s=await this.environmentInfoService.getEnvironmentInfo(i);if((0,u.traceVerbose)(`Environment resolver resolved ${e} for ${JSON.stringify(i)} to ${JSON.stringify(s)}`),s)return v(s,i)}iterEnvs(e){const t=new i.EventEmitter,n=this.parentLocator.iterEnvs(e),r=this.iterEnvsIterator(n,t);return r.onUpdated=t.event,r}async*iterEnvsIterator(e,t){const n=new Map,r={done:!1,pending:0},i=[];if(void 0!==e.onUpdated){const o=e.onUpdated((async e=>{if(r.pending+=1,(0,c.isProgressEvent)(e))e.stage===c.ProgressReportStage.discoveryFinished?(t.fire({stage:c.ProgressReportStage.allPathsDiscovered}),r.done=!0,o.dispose()):t.fire(e);else{if(void 0===e.update)throw new Error("Unsupported behavior: `undefined` environment updates are not supported from downstream locators in resolver");if(void 0!==e.index&&void 0!==i[e.index]){const o=i[e.index];await h(e.update,n),i[e.index]=await(0,l.resolveBasicEnv)(e.update),t.fire({old:o,index:e.index,update:i[e.index]}),this.resolveInBackground(e.index,r,t,i).ignoreErrors()}else(0,u.traceVerbose)(`Expected already iterated env, got ${e.old} (#${e.index})`)}r.pending-=1,f(r,t)}))}else t.fire({stage:c.ProgressReportStage.discoveryStarted});let o=await e.next();for(;!o.done;){await h(o.value,n);const s=await(0,l.resolveBasicEnv)(o.value);i.push(s),yield s,this.resolveInBackground(i.indexOf(s),r,t,i).ignoreErrors(),o=await e.next()}void 0===e.onUpdated&&(r.done=!0,f(r,t))}async resolveInBackground(e,t,n,r){t.pending+=1;const i=await this.environmentInfoService.getEnvironmentInfo(r[e]),o=r[e];if(i){const t=v(i,r[e],o.identifiedUsingNativeLocator);r[e]=t,n.fire({old:o,index:e,update:t})}else n.fire({old:o,index:e,update:void 0});t.pending-=1,f(t,n)}}},30977:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.resolveBasicEnv=void 0;const s=o(n(16928)),a=n(54980),c=n(2543),l=n(15721),u=n(6514),p=n(96966),d=n(69396),h=n(95885),f=n(60852),v=n(48112),g=n(71067),m=n(56300),y=n(39397),b=n(61905),_=n(45163),E=n(8841),S=n(74857);async function w(e){const{executablePath:t}=e;let n;try{n=e.identifiedUsingNativeLocator?e.version:(0,y.parseVersionFromExecutable)(t)}catch(e){n=l.UNKNOWN_PYTHON_VERSION}return(0,u.buildEnvInfo)({kind:e.kind,name:e.name,display:e.displayName,sysPrefix:e.envPath,location:e.envPath,searchLocation:e.searchLocation,version:n,executable:t,identifiedUsingNativeLocator:e.identifiedUsingNativeLocator})}async function P(e){var t;const{executablePath:n,kind:r}=e,i=(0,u.buildEnvInfo)({kind:r,version:e.identifiedUsingNativeLocator?e.version:await(0,p.getPythonVersionFromPath)(n),executable:n,sysPrefix:e.envPath,location:e.envPath,display:e.displayName,searchLocation:e.searchLocation,identifiedUsingNativeLocator:e.identifiedUsingNativeLocator,name:e.name,type:l.PythonEnvType.Virtual}),o=null!==(t=e.envPath)&&void 0!==t?t:(0,p.getEnvironmentDirFromPath)(n);return i.location=o,i.name=s.basename(o),i}async function T(e){var t,n,r,i;if(e.identifiedUsingNativeLocator){const r=e.executablePath,i=null!==(t=e.envPath)&&void 0!==t?t:(0,p.getEnvironmentDirFromPath)(r),o=null!==(n=e.version)&&void 0!==n?n:r?await(0,p.getPythonVersionFromPath)(r):void 0,a=(0,u.buildEnvInfo)({executable:r,kind:l.PythonEnvKind.Conda,org:h.AnacondaCompanyName,location:i,sysPrefix:i,display:e.displayName,identifiedUsingNativeLocator:e.identifiedUsingNativeLocator,searchLocation:e.searchLocation,source:[],version:o,type:l.PythonEnvType.Conda,name:e.name});if(e.envPath&&r&&s.basename(r)===r){const t=(0,h.getCondaInterpreterPath)(e.envPath);a.id=(0,u.getEnvID)(t,e.envPath)}return a}const{executablePath:o}=e,a=await h.Conda.getConda();if(void 0===a){(0,b.traceWarn)(`${o} identified as Conda environment even though Conda is not found`),e.kind=l.PythonEnvKind.Unknown;const t=await P(e);return t.type=l.PythonEnvType.Conda,t.name="",t}const c=null!==(r=e.envPath)&&void 0!==r?r:(0,p.getEnvironmentDirFromPath)(e.executablePath);let d;d=e.executablePath.length>0?e.executablePath:await a.getInterpreterPathForEnvironment({prefix:c});const f=d?await(0,h.getPythonVersionFromConda)(d):void 0,v=(0,u.buildEnvInfo)({executable:d,kind:l.PythonEnvKind.Conda,org:h.AnacondaCompanyName,location:c,source:[],version:f,type:l.PythonEnvType.Conda,name:null!==(i=e.name)&&void 0!==i?i:await(null==a?void 0:a.getName(c))});if(e.envPath&&s.basename(d)===d){const t=(0,h.getCondaInterpreterPath)(e.envPath);v.id=(0,u.getEnvID)(t,e.envPath)}return v}async function C(e){var t,n;const{executablePath:r}=e,i=null!==(t=e.envPath)&&void 0!==t?t:(0,p.getEnvironmentDirFromPath)(r),o=s.basename(i),a=(0,f.parsePyenvVersion)(o),c=(0,u.buildEnvInfo)({kind:e.identifiedUsingNativeLocator&&e.kind?e.kind:l.PythonEnvKind.Pyenv,executable:r,source:[],location:i,searchLocation:e.searchLocation,sysPrefix:e.envPath,display:e.displayName,name:e.name,identifiedUsingNativeLocator:e.identifiedUsingNativeLocator,version:null!==(n=e.version)&&void 0!==n?n:await(0,p.getPythonVersionFromPath)(r,null==a?void 0:a.pythonVer),org:a&&a.distro?a.distro:""});return e.identifiedUsingNativeLocator||(await async function(e){if(!await(0,h.isCondaEnvironment)(e))return!1;const t=(0,p.getEnvironmentDirFromPath)(e),n=(0,f.getPyenvVersionsDir)();return(0,d.arePathsSame)(s.dirname(t),n)}(r)?c.name="base":c.name=o),c}async function x(e){const t=(0,u.buildEnvInfo)({kind:e.kind,executable:e.executablePath,display:e.displayName,version:e.version,identifiedUsingNativeLocator:e.identifiedUsingNativeLocator,location:e.envPath,name:e.name,searchLocation:e.searchLocation,sysPrefix:e.envPath}),n=await S.ActiveState.getState().then((e=>null==e?void 0:e.getProjects()));if(n)for(const r of n)for(const n of r.executables)if((0,d.arePathsSame)(n,s.dirname(e.executablePath)))return t.name=`${r.organization}/${r.name}`,t;return t}async function I(e){var t;const{executablePath:n}=e;return(0,u.buildEnvInfo)({kind:l.PythonEnvKind.MicrosoftStore,executable:n,version:null!==(t=e.version)&&void 0!==t?t:(0,g.getPythonVersionFromPath)(n),org:"Microsoft",display:e.displayName,location:e.envPath,sysPrefix:e.envPath,searchLocation:e.searchLocation,name:e.name,identifiedUsingNativeLocator:e.identifiedUsingNativeLocator,arch:v.Architecture.x64,source:[l.PythonEnvSource.PathEnvVar]})}t.resolveBasicEnv=async function(e){var t;const{kind:n,source:r,searchLocation:i}=e,o=function(){const e=new Map;return Object.values(l.PythonEnvKind).forEach((t=>{e.set(t,w)})),l.virtualEnvKinds.forEach((t=>{e.set(t,P)})),e.set(l.PythonEnvKind.Conda,T),e.set(l.PythonEnvKind.MicrosoftStore,I),e.set(l.PythonEnvKind.Pyenv,C),e.set(l.PythonEnvKind.ActiveState,x),e}().get(n),s=await o(e);if(s.searchLocation=function(e,t){if(t)return t;return(0,E.getWorkspaceFolderPaths)().some((t=>(0,d.isParentPath)(e.executable.filename,t)||(0,d.isParentPath)(e.location,t)))?a.Uri.file(e.location):void 0}(s,i),s.source=(0,c.uniq)(s.source.concat(null!=r?r:[])),!e.identifiedUsingNativeLocator&&(0,v.getOSType)()===v.OSType.Windows&&(null===(t=s.source)||void 0===t?void 0:t.includes(l.PythonEnvSource.WindowsRegistry))&&await async function(e){var t,n,r;let i=(0,m.getRegistryInterpretersSync)();i||((0,b.traceError)("Expected registry interpreter cache to be initialized already"),i=await(0,m.getRegistryInterpreters)());const o=i.find((t=>(0,d.arePathsSame)(t.interpreterPath,e.executable.filename)));if(o){const i=null!==(n=null!==(t=o.versionStr)&&void 0!==t?t:o.sysVersionStr)&&void 0!==n?n:o.interpreterPath;let s;try{s=(0,g.parseVersion)(i)}catch(e){s=l.UNKNOWN_PYTHON_VERSION}e.kind=e.kind===l.PythonEnvKind.Unknown?l.PythonEnvKind.OtherGlobal:e.kind,e.version=(0,u.comparePythonVersionSpecificity)(s,e.version)>0?s:e.version,e.distro.defaultDisplayName=o.companyDisplayName,e.arch="32bit"===o.bitnessStr?v.Architecture.x86:v.Architecture.x64,e.distro.org=null!==(r=o.distroOrgName)&&void 0!==r?r:e.distro.org,e.source=(0,c.uniq)(e.source.concat(l.PythonEnvSource.WindowsRegistry))}else(0,b.traceWarn)("Expected registry to find the interpreter as source was set")}(s),(0,u.setEnvDisplayString)(s),e.arch&&!s.arch&&(s.arch=e.arch),e.ctime&&e.mtime)s.executable.ctime=e.ctime,s.executable.mtime=e.mtime;else{const{ctime:e,mtime:t}=await(0,d.getFileInfo)(s.executable.filename);s.executable.ctime=e,s.executable.mtime=t}if(!e.identifiedUsingNativeLocator){const e=await async function(e){return e.type?e.type:await(0,_.isVirtualEnvironment)(e.executable.filename)?l.PythonEnvType.Virtual:await(0,h.isCondaEnvironment)(e.executable.filename)?l.PythonEnvType.Conda:void 0}(s);e&&(s.type=e)}return s}},14688:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActiveStateLocator=void 0;const r=n(74857),i=n(15721),o=n(61905),s=n(96211),a=n(96966),c=n(51080);class l extends s.LazyResourceBasedLocator{constructor(){super(...arguments),this.providerId="activestate"}async*doIterEnvs(){const e=new c.StopWatch,t=await r.ActiveState.getState();if(void 0===t)return void(0,o.traceVerbose)("Couldn't locate the state binary.");(0,o.traceInfo)("Searching for active state environments");const n=await t.getProjects();if(void 0!==n){for(const e of n)if(e.executables)for(const t of e.executables)try{(0,o.traceVerbose)(`Looking for Python in: ${e.name}`);for await(const e of(0,a.findInterpretersInDir)(t))(0,o.traceVerbose)(`Found Python executable: ${e.filename}`),yield{kind:i.PythonEnvKind.ActiveState,executablePath:e.filename}}catch(t){(0,o.traceError)(`Failed to process State Tool project: ${JSON.stringify(e)}`,t)}(0,o.traceInfo)(`Finished searching for active state environments: ${e.elapsedTime} milliseconds`)}else(0,o.traceVerbose)("Couldn't fetch State Tool projects.")}}t.ActiveStateLocator=l},63484:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CondaEnvironmentLocator=void 0,n(87295);const r=n(15721),i=n(95885),o=n(61905),s=n(46691),a=n(51080);class c extends s.FSWatchingLocator{constructor(){super((()=>(0,i.getCondaEnvironmentsTxt)()),(async()=>r.PythonEnvKind.Conda),{isFile:!0}),this.providerId="conda-envs"}async*doIterEnvs(e){const t=new a.StopWatch;(0,o.traceInfo)("Searching for conda environments");const n=await i.Conda.getConda();if(void 0===n)return void(0,o.traceVerbose)("Couldn't locate the conda binary.");(0,o.traceVerbose)(`Searching for conda environments using ${n.command}`);const s=await n.getEnvList();for(const e of s)try{(0,o.traceVerbose)(`Looking into conda env for executable: ${JSON.stringify(e)}`);const t=await n.getInterpreterPathForEnvironment(e);(0,o.traceVerbose)(`Found conda executable: ${t}`),yield{kind:r.PythonEnvKind.Conda,executablePath:t,envPath:e.prefix}}catch(t){(0,o.traceError)(`Failed to process conda env: ${JSON.stringify(e)}`,t)}(0,o.traceInfo)(`Finished searching for conda environments: ${t.elapsedTime} milliseconds`)}}t.CondaEnvironmentLocator=c},45882:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CustomVirtualEnvironmentLocator=t.VENVFOLDERS_SETTING_KEY=t.VENVPATH_SETTING_KEY=void 0;const s=n(2543),a=o(n(16928)),c=n(7855),l=n(48112),u=n(15721),p=n(46691),d=n(96966),h=n(69396),f=n(35864),v=n(45163);n(87295);const g=n(83597),m=n(61905),y=n(51080),b=n(65900);async function _(){var e;const n=[],r=(0,h.getPythonSetting)(t.VENVPATH_SETTING_KEY);r&&n.push((0,b.untildify)(r));const i=null!==(e=(0,h.getPythonSetting)(t.VENVFOLDERS_SETTING_KEY))&&void 0!==e?e:[],o=(0,l.getUserHomeDir)();return o&&await(0,h.pathExists)(o)&&(i.map((e=>e.startsWith(o)?e:a.join(o,e))).forEach((e=>n.push(e))),i.forEach((e=>n.push((0,b.untildify)(e))))),(0,g.asyncFilter)((0,s.uniq)(n),h.pathExists)}async function E(e){return await(0,f.isPipenvEnvironment)(e)?u.PythonEnvKind.Pipenv:await(0,v.isVirtualenvwrapperEnvironment)(e)?u.PythonEnvKind.VirtualEnvWrapper:await(0,v.isVenvEnvironment)(e)?u.PythonEnvKind.Venv:await(0,v.isVirtualenvEnvironment)(e)?u.PythonEnvKind.VirtualEnv:u.PythonEnvKind.Unknown}t.VENVPATH_SETTING_KEY="venvPath",t.VENVFOLDERS_SETTING_KEY="venvFolders";class S extends p.FSWatchingLocator{constructor(){super(_,E,{delayOnCreated:1e3}),this.providerId="custom-virtual-envs"}async initResources(){this.disposables.push((0,h.onDidChangePythonSetting)(t.VENVPATH_SETTING_KEY,(()=>this.fire()))),this.disposables.push((0,h.onDidChangePythonSetting)(t.VENVFOLDERS_SETTING_KEY,(()=>this.fire())))}doIterEnvs(){return async function*(){const e=new y.StopWatch;(0,m.traceInfo)("Searching for custom virtual environments");const t=(await _()).map((e=>async function*(){(0,m.traceVerbose)(`Searching for custom virtual envs in: ${e}`);const t=(0,d.findInterpretersInDir)(e,2);for await(const e of t){const{filename:t}=e;if(await(0,d.looksLikeBasicVirtualPython)(e))try{const e=await E(t);yield{kind:e,executablePath:t},(0,m.traceVerbose)(`Custom Virtual Environment: [added] ${t}`)}catch(e){(0,m.traceError)(`Failed to process environment: ${t}`,e)}else(0,m.traceVerbose)(`Custom Virtual Environment: [skipped] ${t}`)}}()));yield*(0,c.iterable)((0,c.chain)(t)),(0,m.traceInfo)(`Finished searching for custom virtual envs: ${e.elapsedTime} milliseconds`)}()}}t.CustomVirtualEnvironmentLocator=S},60161:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CustomWorkspaceLocator=t.DEFAULT_INTERPRETER_PATH_SETTING_KEY=void 0;const r=n(15721),i=n(46691),o=n(69396);n(87295);const s=n(61905),a=n(552);t.DEFAULT_INTERPRETER_PATH_SETTING_KEY="defaultInterpreterPath";class c extends i.FSWatchingLocator{constructor(e){super((()=>[]),(async()=>r.PythonEnvKind.Unknown)),this.root=e,this.providerId="custom-workspace-locator"}async initResources(){this.disposables.push((0,o.onDidChangePythonSetting)(t.DEFAULT_INTERPRETER_PATH_SETTING_KEY,(()=>this.fire()),this.root))}doIterEnvs(){return async function*(e){(0,s.traceVerbose)("Searching for custom workspace envs");const n=(0,o.getPythonSetting)(t.DEFAULT_INTERPRETER_PATH_SETTING_KEY,e);n&&n!==a.DEFAULT_INTERPRETER_SETTING&&(yield{kind:r.PythonEnvKind.Unknown,executablePath:n},(0,s.traceVerbose)("Finished searching for custom workspace envs"))}(this.root)}}t.CustomWorkspaceLocator=c},788:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DirFilesLocator=void 0;const r=n(96966),i=n(28472);class o{constructor(e,t,n){this.kind=e,this.getExecutables=t,this.source=n,this.watcher=new i.PythonEnvsWatcher,this.onChanged=this.watcher.onChanged}iterEnvs(e){const t=this.getExecutables();return async function*(e,n){for await(const r of t)yield{executablePath:r,kind:e,source:n}}(this.kind,this.source)}}async function*s(e){for await(const t of(0,r.iterPythonExecutablesInDir)(e))yield t.filename}t.DirFilesLocator=class extends o{constructor(e,t,n=s,r){super(t,(()=>n(e)),r),this.providerId=`dir-files-${e}`}}},46691:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.FSWatchingLocator=t.FSWatcherKind=void 0;const s=o(n(79896)),a=o(n(16928)),c=n(54980),l=n(29104),u=n(7855),p=n(61905),d=n(96966),h=n(40337),f=n(96211);var v;!function(e){e[e.Global=0]="Global",e[e.Workspace=1]="Workspace"}(v||(t.FSWatcherKind=v={}));class g extends f.LazyResourceBasedLocator{constructor(e,t,n={},r=v.Global){super(),this.getRoots=e,this.getKind=t,this.creationOptions=n,this.watcherKind=r,this.activate().ignoreErrors()}async initWatchers(){if(this.watcherKind===v.Global&&!m(this.creationOptions))return;let e=await this.getRoots();"string"==typeof e&&(e=[e]);const t=e.map((async e=>{if(m(this.creationOptions))return e;const t=await function(e){let t;try{t=s.readdirSync(e)}catch(e){const t=e;return(0,p.traceVerbose)("Reading directory failed",t),"ENOENT"===t.code?"directory does not exist":void 0}if(t.length>200)return"too many files"}(e);if(!t)return e;(0,p.traceWarn)(`Dir "${e}" is not watchable (${t})`)}));(await Promise.all(t)).filter((e=>!!e)).forEach((e=>this.startWatchers(e)))}fire(e={}){this.emitter.fire({...e,providerId:this.providerId})}startWatchers(e){const t=this.creationOptions;if(m(t))return(0,p.traceVerbose)("Start watching file for changes",e),void this.disposables.push((0,l.watchLocationForPattern)(a.dirname(e),a.basename(e),(()=>{(0,p.traceVerbose)("Detected change in file: ",e,"initiating a refresh"),this.emitter.fire({providerId:this.providerId})})));const n=async(e,n)=>{var r;e===l.FileChangeType.Created&&void 0!==t.delayOnCreated&&await(0,u.sleep)(t.delayOnCreated);const i=await this.getKind(n).catch((()=>{})),o=c.Uri.file(null!==(r=t.searchLocation)&&void 0!==r?r:a.dirname((0,d.getEnvironmentDirFromPath)(n)));(0,p.traceVerbose)("Fired event ",JSON.stringify({type:e,kind:i,searchLocation:o}),"from locator"),this.emitter.fire({type:e,kind:i,searchLocation:o,providerId:this.providerId,envPath:n})},r=(0,h.resolvePythonExeGlobs)(t.baseGlob,t.envStructure);(0,p.traceVerbose)("Start watching root",e,"for globs",JSON.stringify(r));const i=r.map((t=>(0,h.watchLocationForPythonBinaries)(e,n,t)));this.disposables.push(...i)}}function m(e){return"isFile"in e&&e.isFile}t.FSWatchingLocator=g},94733:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalVirtualEnvironmentLocator=void 0;const s=n(2543),a=o(n(16928)),c=n(54980),l=n(7855),u=n(48112),p=n(15721),d=n(46691),h=n(96966),f=n(69396),v=n(35864),g=n(45163);n(87295);const m=n(83597),y=n(61905),b=n(51080),_=n(65900);async function E(){const e=[];let t=(0,u.getEnvironmentVariable)("WORKON_HOME");t&&(t=(0,_.untildify)(t),await(0,f.pathExists)(t)&&e.push(t));const n=(0,u.getUserHomeDir)();if(n&&await(0,f.pathExists)(n)){const t=["envs","Envs",".direnv",".venvs",".virtualenvs",a.join(".local","share","virtualenvs")];(await(0,m.asyncFilter)(t.map((e=>a.join(n,e))),f.pathExists)).forEach((t=>e.push(t)))}return[u.OSType.Windows,u.OSType.OSX].includes((0,u.getOSType)())?(0,s.uniqBy)(e,s.toLower):(0,s.uniq)(e)}async function S(e){if(e.kind===p.PythonEnvKind.Pipenv){const t=await(0,v.getProjectDir)(a.dirname(a.dirname(e.executablePath)));if(t)return c.Uri.file(t)}}async function w(e){return await(0,v.isPipenvEnvironment)(e)?p.PythonEnvKind.Pipenv:await(0,g.isVirtualenvwrapperEnvironment)(e)?p.PythonEnvKind.VirtualEnvWrapper:await(0,g.isVenvEnvironment)(e)?p.PythonEnvKind.Venv:await(0,g.isVirtualenvEnvironment)(e)?p.PythonEnvKind.VirtualEnv:p.PythonEnvKind.Unknown}class P extends d.FSWatchingLocator{constructor(e){super(E,w,{delayOnCreated:1e3}),this.searchDepth=e,this.providerId="global-virtual-env"}doIterEnvs(){var e;const t=null!==(e=this.searchDepth)&&void 0!==e?e:2;return async function*(){const e=new b.StopWatch;(0,y.traceInfo)("Searching for global virtual environments");const n=(await E()).map((e=>async function*(){(0,y.traceVerbose)(`Searching for global virtual envs in: ${e}`);const n=(0,h.findInterpretersInDir)(e,t);for await(const e of n){const{filename:t}=e;if(await(0,h.looksLikeBasicVirtualPython)(e)){const e=await w(t),n=await S({kind:e,executablePath:t});try{yield{kind:e,executablePath:t,searchLocation:n},(0,y.traceVerbose)(`Global Virtual Environment: [added] ${t}`)}catch(e){(0,y.traceError)(`Failed to process environment: ${t}`,e)}}else(0,y.traceVerbose)(`Global Virtual Environment: [skipped] ${t}`)}}()));yield*(0,l.iterable)((0,l.chain)(n)),(0,y.traceInfo)(`Finished searching for global virtual envs: ${e.elapsedTime} milliseconds`)}()}}t.GlobalVirtualEnvironmentLocator=P},85243:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HatchLocator=void 0;const r=n(15721),i=n(96211),o=n(80256),s=n(83597),a=n(69396),c=n(61905),l=n(7855),u=n(96966);class p extends i.LazyResourceBasedLocator{constructor(e){super(),this.root=e,this.providerId="hatch"}doIterEnvs(){return async function*(e){const t=(await async function(e){var t;const n=await o.Hatch.getHatch(e),r=null!==(t=await(null==n?void 0:n.getEnvList()))&&void 0!==t?t:[];return(0,s.asyncFilter)(r,a.pathExists)}(e)).map((e=>async function*(){(0,c.traceVerbose)(`Searching for Hatch virtual envs in: ${e}`);const t=await(0,u.getInterpreterPathFromDir)(e);if(void 0!==t)try{yield{executablePath:t,kind:r.PythonEnvKind.Hatch},(0,c.traceVerbose)(`Hatch Virtual Environment: [added] ${t}`)}catch(e){(0,c.traceError)(`Failed to process environment: ${t}`,e)}}()));yield*(0,l.iterable)((0,l.chain)(t)),(0,c.traceVerbose)("Finished searching for Hatch envs")}(this.root)}}t.HatchLocator=p},83406:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.MicrosoftStoreLocator=t.getMicrosoftStorePythonExes=void 0;const s=o(n(94027)),a=o(n(16928)),c=o(n(25943)),l=n(15721),u=n(46691),p=n(40337),d=n(66830),h=n(61905),f=n(51080),v="python3.{[0-9],[0-9][0-9]}.exe";function g(e){return s.default(a.basename(e),v,{nocase:!0})}async function m(){if(await(0,d.isStorePythonInstalled)()){const e=(0,d.getMicrosoftStoreAppsRoot)();return(await c.readdir(e)).map((t=>a.join(e,t))).filter(g)}return[]}t.getMicrosoftStorePythonExes=m;class y extends u.FSWatchingLocator{constructor(){super(d.getMicrosoftStoreAppsRoot,(async()=>this.kind),{baseGlob:v,searchLocation:(0,d.getMicrosoftStoreAppsRoot)(),envStructure:p.PythonEnvStructure.Flat}),this.providerId="microsoft-store",this.kind=l.PythonEnvKind.MicrosoftStore}doIterEnvs(){return async function*(e){const t=new f.StopWatch;(0,h.traceInfo)("Searching for windows store envs");const n=await m();yield*n.map((async t=>({kind:e,executablePath:t}))),(0,h.traceInfo)(`Finished searching for windows store envs: ${t.elapsedTime} milliseconds`)}(this.kind)}}t.MicrosoftStoreLocator=y},13545:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.PixiLocator=void 0;const s=o(n(16928)),a=n(83597),c=n(7855),l=n(61905),u=n(95885),p=n(69396),d=n(15721),h=n(46691),f=n(8164);class v extends h.FSWatchingLocator{constructor(e){super((async()=>function(e){return[s.join(s.join(e,".pixi"),"envs")]}(this.root)),(async()=>d.PythonEnvKind.Pixi),{delayOnCreated:1e3},h.FSWatcherKind.Workspace),this.root=e,this.providerId="pixi"}doIterEnvs(){return async function*(e){const t=(await async function(e){var t;const n=await(0,f.getPixi)(),r=null!==(t=await(null==n?void 0:n.getEnvList(e)))&&void 0!==t?t:[];return(0,a.asyncFilter)(r,p.pathExists)}(e)).map((e=>async function*(){(0,l.traceVerbose)(`Searching for Pixi virtual envs in: ${e}`);const t=await(0,u.getCondaInterpreterPath)(e);if(void 0!==t)try{yield{executablePath:t,kind:d.PythonEnvKind.Pixi,envPath:e},(0,l.traceVerbose)(`Pixi Virtual Environment: [added] ${t}`)}catch(e){(0,l.traceError)(`Failed to process environment: ${t}`,e)}}()));yield*(0,c.iterable)((0,c.chain)(t)),(0,l.traceVerbose)("Finished searching for Pixi envs")}(this.root)}}t.PixiLocator=v},33342:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.PoetryLocator=void 0;const s=o(n(16928)),a=n(54980),c=n(7855),l=n(15721),u=n(96966),p=n(69396),d=n(60649);n(87295);const h=n(83597),f=n(61905),v=n(96211);class g extends v.LazyResourceBasedLocator{constructor(e){super(),this.root=e,this.providerId="poetry"}doIterEnvs(){return async function*(e){const t=(await async function(e){const t=[s.join(e,d.localPoetryEnvDirName)],n=await d.Poetry.getPoetry(e),r=await(null==n?void 0:n.getEnvList());return r&&t.push(...r),(0,h.asyncFilter)(t,p.pathExists)}(e)).map((t=>async function*(){(0,f.traceVerbose)(`Searching for poetry virtual envs in: ${t}`);const n=await(0,u.getInterpreterPathFromDir)(t);if(void 0!==n){const t=await async function(e){return await(0,d.isPoetryEnvironment)(e)?l.PythonEnvKind.Poetry:l.PythonEnvKind.Unknown}(n);try{yield{executablePath:n,kind:t,searchLocation:a.Uri.file(e)},(0,f.traceVerbose)(`Poetry Virtual Environment: [added] ${n}`)}catch(e){(0,f.traceError)(`Failed to process environment: ${n}`,e)}}}()));yield*(0,c.iterable)((0,c.chain)(t)),(0,f.traceVerbose)("Finished searching for poetry envs")}(this.root)}}t.PoetryLocator=g},17663:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.PosixKnownPathsLocator=void 0;const s=o(n(70857)),a=n(99589),c=n(15721),l=n(18162),u=n(93830),p=n(60852),d=n(48112),h=n(80292),f=n(61905),v=n(51080);class g extends l.Locator{constructor(){super(...arguments),this.providerId="posixKnownPaths",this.kind=c.PythonEnvKind.OtherGlobal}iterEnvs(){let e=!1;return(0,d.getOSType)()===d.OSType.OSX&&(0,a.gte)(s.release(),"21.0.0")&&(e=!0),async function*(t){const n=new v.StopWatch;(0,f.traceInfo)("Searching for interpreters in posix paths locator");try{const n=(await(0,u.commonPosixBinPaths)()).filter((e=>!(0,p.isPyenvShimDir)(e)));let r=await(0,u.getPythonBinFromPosixPaths)(n);(0,f.traceVerbose)(`Found ${r.length} python binaries in posix paths`),e&&(r=r.filter((e=>!(0,h.isMacDefaultPythonPath)(e))));for(const e of r)try{yield{executablePath:e,kind:t,source:[c.PythonEnvSource.PathEnvVar]}}catch(t){(0,f.traceError)(`Failed to process environment: ${e}`,t)}}catch(e){(0,f.traceError)("Failed to process posix paths",e)}(0,f.traceInfo)(`Finished searching for interpreters in posix paths locator: ${n.elapsedTime} milliseconds`)}(this.kind)}}t.PosixKnownPathsLocator=g},27919:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PyenvLocator=void 0;const r=n(15721),i=n(46691),o=n(96966),s=n(69396),a=n(60852),c=n(61905),l=n(51080);class u extends i.FSWatchingLocator{constructor(){super(a.getPyenvVersionsDir,(async()=>r.PythonEnvKind.Pyenv)),this.providerId="pyenv"}doIterEnvs(){return async function*(){const e=new l.StopWatch;(0,c.traceInfo)("Searching for pyenv environments");try{const e=(0,a.getPyenvVersionsDir)(),t=(0,s.getSubDirs)(e,{resolveSymlinks:!0});for await(const e of t){const t=await(0,o.getInterpreterPathFromDir)(e);if(t)try{yield{kind:r.PythonEnvKind.Pyenv,executablePath:t}}catch(e){(0,c.traceError)(`Failed to process environment: ${t}`,e)}}}catch(e){(0,c.traceInfo)("pyenv is not installed")}(0,c.traceInfo)(`Finished searching for pyenv environments: ${e.elapsedTime} milliseconds`)}()}}t.PyenvLocator=u},2097:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.WindowsPathEnvVarLocator=void 0;const s=o(n(16928)),a=n(62982),c=n(51271),l=n(60852),u=n(66830),p=n(15721),d=n(95465),h=n(94725),f=n(788),v=n(61905),g=n(69396),m=n(94496),y=n(96966),b=n(51080);async function*_(e){for await(const t of(0,y.iterPythonExecutablesInDir)(e))await(0,y.looksLikeBasicGlobalPython)(t)&&(yield t.filename)}async function*E(e){const t=s.join(e,"python.exe");await(0,g.pathExists)(t)&&(yield t)}t.WindowsPathEnvVarLocator=class{constructor(){this.providerId="windows-path-env-var-locator",this.disposables=new c.Disposables;const e=(0,g.inExperiment)(m.DiscoveryUsingWorkers.experiment),t=(0,a.getSearchPathEntries)().filter((e=>!(0,u.isMicrosoftStoreDir)(e)&&!(0,l.isPyenvShimDir)(e))).map((t=>function(e,t,n,r){const i=r?E:_,o=new f.DirFilesLocator(e,t,i,n);return{providerId:o.providerId,iterEnvs:async function*(e){yield*await(0,h.getEnvs)(o.iterEnvs(e)).then((e=>e))},dispose:async()=>{},onChanged:o.onChanged}}(t,p.PythonEnvKind.System,[p.PythonEnvSource.PathEnvVar],e)));this.disposables.push(...t),this.locators=new d.Locators(t),this.onChanged=this.locators.onChanged}async dispose(){this.locators.dispose(),await this.disposables.dispose()}iterEnvs(e){return async function*(e){const t=new b.StopWatch;(0,v.traceInfo)("Searching windows known paths locator");for await(const t of e)yield t;(0,v.traceInfo)(`Finished searching windows known paths locator: ${t.elapsedTime} milliseconds`)}(this.locators.iterEnvs(e))}}},41979:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WindowsRegistryLocator=t.WINDOWS_REG_PROVIDER_ID=void 0;const r=n(15721),i=n(18162),o=n(56300),s=n(61905),a=n(66830),c=n(94496),l=n(69396),u=n(51080);t.WINDOWS_REG_PROVIDER_ID="windows-registry";class p extends i.Locator{constructor(){super(...arguments),this.providerId=t.WINDOWS_REG_PROVIDER_ID}iterEnvs(e,n=(0,l.inExperiment)(c.DiscoveryUsingWorkers.experiment)){return n?(null==e?void 0:e.providerId)===this.providerId?d():async function*(e){(async function(e){const n=new u.StopWatch;(0,s.traceInfo)("Searching for windows registry interpreters"),e.fire({providerId:t.WINDOWS_REG_PROVIDER_ID}),(0,s.traceInfo)(`Finished searching for windows registry interpreters: ${n.elapsedTime} milliseconds`)})(e).ignoreErrors()}(this.emitter):d()}}async function*d(){const e=new u.StopWatch;(0,s.traceInfo)("Searching for windows registry interpreters");const t=await(0,o.getRegistryInterpreters)();for(const e of t)try{if((0,a.isMicrosoftStoreDir)(e.interpreterPath))continue;const t={kind:r.PythonEnvKind.OtherGlobal,executablePath:e.interpreterPath,source:[r.PythonEnvSource.WindowsRegistry]};yield t}catch(t){(0,s.traceError)(`Failed to process environment: ${e}`,t)}(0,s.traceInfo)(`Finished searching for windows registry interpreters: ${e.elapsedTime} milliseconds`)}t.WindowsRegistryLocator=p},32080:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceVirtualEnvironmentLocator=void 0;const s=o(n(16928)),a=n(7855),c=n(96966),l=n(69396),u=n(35864),p=n(45163),d=n(15721),h=n(46691);n(87295);const f=n(83597),v=n(61905);function g(e){return(0,f.asyncFilter)([e,s.join(e,".direnv")],l.pathExists)}async function m(e){return await(0,u.isPipenvEnvironment)(e)?d.PythonEnvKind.Pipenv:await(0,p.isVenvEnvironment)(e)?d.PythonEnvKind.Venv:await(0,p.isVirtualenvEnvironment)(e)?d.PythonEnvKind.VirtualEnv:d.PythonEnvKind.Unknown}class y extends h.FSWatchingLocator{constructor(e){super((()=>g(this.root)),m,{delayOnCreated:1e3},h.FSWatcherKind.Workspace),this.root=e,this.providerId="workspaceVirtualEnvLocator"}doIterEnvs(){return async function*(e){const t=(await g(e)).map((e=>async function*(){(0,v.traceVerbose)(`Searching for workspace virtual envs in: ${e}`);const t=(0,c.findInterpretersInDir)(e,2);for await(const e of t){const{filename:t}=e;if(await(0,c.looksLikeBasicVirtualPython)(e)){const e=await m(t);yield{kind:e,executablePath:t},(0,v.traceVerbose)(`Workspace Virtual Environment: [added] ${t}`)}else(0,v.traceVerbose)(`Workspace Virtual Environment: [skipped] ${t}`)}}()));yield*(0,a.iterable)((0,a.chain)(t)),(0,v.traceVerbose)("Finished searching for workspace virtual envs")}(this.root)}}t.WorkspaceVirtualEnvironmentLocator=y},74236:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceLocators=t.ExtensionLocators=void 0;const r=n(7855),i=n(98803),o=n(51271),s=n(95465),a=n(96211);class c extends s.Locators{constructor(e,t){super([...e,t]),this.nonWorkspace=e,this.workspace=t}iterEnvs(e){var t;const n=[this.workspace.iterEnvs(e)];if(!(null===(t=null==e?void 0:e.searchLocations)||void 0===t?void 0:t.doNotIncludeNonRooted)){const t=(null==e?void 0:e.providerId)?this.nonWorkspace.filter((t=>e.providerId===t.providerId)):this.nonWorkspace;n.push(...t.map((t=>t.iterEnvs(e))))}return(0,s.combineIterators)(n)}}t.ExtensionLocators=c;class l extends a.LazyResourceBasedLocator{constructor(e,t){super(),this.watchRoots=e,this.factories=t,this.providerId="workspace-locators",this.locators={},this.roots={},this.activate().ignoreErrors()}async dispose(){await super.dispose(),Object.keys(this.roots).map((e=>this.roots[e])).forEach((e=>this.removeRoot(e)))}doIterEnvs(e){const t=Object.keys(this.locators).map((t=>{if(void 0!==(null==e?void 0:e.searchLocations)){const n=this.roots[t],o=(0,i.getURIFilter)(n,{checkParent:!0,checkChild:!0});if(!e.searchLocations.roots.some(o))return(0,r.iterEmpty)();if(e.providerId&&e.providerId!==this.providerId)return(0,r.iterEmpty)()}const[n]=this.locators[t];return n.iterEnvs(e)}));return(0,s.combineIterators)(t)}async initResources(){const e=this.watchRoots({initRoot:e=>this.addRoot(e),addRoot:e=>{this.removeRoot(e),this.addRoot(e),this.emitter.fire({searchLocation:e})},removeRoot:e=>{this.removeRoot(e),this.emitter.fire({searchLocation:e})}});this.disposables.push(e)}addRoot(e){const t=[],n=new o.Disposables;this.factories.forEach((r=>{r(e).forEach((e=>{t.push(e),void 0!==e.dispose&&n.push(e)}))}));const r=new s.Locators(t),i=e.toString();this.locators[i]=[r,n],this.roots[i]=e,n.push(r.onChanged((t=>{void 0===t.searchLocation&&(t.searchLocation=e),this.emitter.fire(t)})))}removeRoot(e){const t=e.toString(),n=this.locators[t];if(void 0===n)return;const[,r]=n;delete this.locators[t],delete this.roots[t],r.dispose()}}t.WorkspaceLocators=l},28472:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PythonEnvsWatcher=void 0;const r=n(54980);t.PythonEnvsWatcher=class{constructor(){this.didChange=new r.EventEmitter,this.onChanged=this.didChange.event}fire(e){this.didChange.fire(e)}}},97087:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PythonEnvsWatchers=void 0;const r=n(51271),i=n(28472);t.PythonEnvsWatchers=class{constructor(e){this.watcher=new i.PythonEnvsWatcher,this.disposables=new r.Disposables,this.onChanged=this.watcher.onChanged,e.forEach((e=>{const t=e.onChanged((e=>this.watcher.fire(e)));this.disposables.push(t)}))}async dispose(){await this.disposables.dispose()}}},96966:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getEnvironmentDirFromPath=t.getInterpreterPathFromDir=t.looksLikeBasicVirtualPython=t.looksLikeBasicGlobalPython=t.getPythonVersionFromPath=t.iterPythonExecutablesInDir=t.findInterpretersInDir=t.isPythonExecutable=void 0;const s=o(n(79896)),a=o(n(16928)),c=n(77476),l=n(48112),u=n(61905),p=n(15721),d=n(6514),h=n(71067),f=n(95885),v=n(45163),g=n(69396),m=o(n(93830)),y=o(n(56300)),b=(0,l.getOSType)()===l.OSType.Windows?y.matchPythonBinFilename:m.matchPythonBinFilename;async function*_(e,t,n,r=!0){const i=(0,l.getOSType)()===l.OSType.Windows?y.matchPythonBinFilename:m.matchPythonBinFilename,o={ignoreErrors:r,filterSubDir:n,filterFile:i,maxDepth:t||0};for await(const t of E(e,1,o)){const{filename:e,filetype:n}=t;n!==c.FileType.File&&n!==c.FileType.SymbolicLink||w(e,i,r)&&(yield t)}}async function*E(e,t,n){const r=await S(e,n);for(const e of r){yield e;const{filename:r,filetype:i}=e;i===c.FileType.Directory&&(n.maxDepth<0||t<=n.maxDepth)&&w(r,n.filterSubDir,n.ignoreErrors)&&(yield*E(r,t+1,n))}}async function S(e,t={ignoreErrors:!0}){const n=t.ignoreErrors||!1;if(t.filterFilename&&(0,l.getOSType)()===l.OSType.Windows){let r;try{r=await s.promises.readdir(e)}catch(t){if("ENOENT"===t.code)return[];if(n)return(0,u.traceError)(`readdir() failed for "${e}" (${t})`),[];throw t}const i=r.map((t=>a.join(e,t))).filter((e=>w(e,t.filterFilename,n)));return Promise.all(i.map((async e=>({filename:e,filetype:await(0,c.getFileType)(e,t)||c.FileType.Unknown}))))}let r;try{r=await s.promises.readdir(e,{withFileTypes:!0})}catch(t){if("ENOENT"===t.code)return[];if(n)return(0,u.traceError)(`readdir() failed for "${e}" (${t})`),[];throw t}const i=r.map((t=>({filename:a.join(e,t.name),filetype:(0,c.convertFileType)(t)})));return t.filterFilename?i.filter((e=>w(e.filename,t.filterFilename,n))):i}function w(e,t,n=!0){if(void 0===t)return!0;try{return t(e)}catch(t){if(n)return(0,u.traceError)(`filter failed for "${e}" (${t})`),!1;throw t}}async function P(e,t){return!(!(t.matchFilename||b)("string"==typeof e?e:e.filename)||t.filterFile&&!await t.filterFile(e))}t.isPythonExecutable=async function(e){return!(!b(e)||(0,l.getOSType)()!==l.OSType.Windows)||!!await(0,g.isFile)(e)},t.findInterpretersInDir=_,t.iterPythonExecutablesInDir=async function*(e,t={ignoreErrors:!0}){const n={...t,filterFile:b},r=await S(e,n);for(const e of r){const{filetype:t}=e;t!==c.FileType.File&&t!==c.FileType.SymbolicLink||(yield e)}},t.getPythonVersionFromPath=async function(e,t){let n;try{n=t?(0,h.parseVersion)(t):p.UNKNOWN_PYTHON_VERSION}catch(e){n=p.UNKNOWN_PYTHON_VERSION}const r=e?await async function(e){const t=a.dirname(e);let n=p.UNKNOWN_PYTHON_VERSION;for await(const e of _(t)){const{filename:t}=e;try{const e=(0,h.parseVersion)(a.basename(t));(0,d.comparePythonVersionSpecificity)(e,n)>0&&(n=e)}catch(e){}}return n}(e):p.UNKNOWN_PYTHON_VERSION;(0,u.traceVerbose)("Best effort version B for",e,JSON.stringify(r));const i=e?await(0,v.getPythonVersionFromPyvenvCfg)(e):p.UNKNOWN_PYTHON_VERSION;(0,u.traceVerbose)("Best effort version C for",e,JSON.stringify(i));const o=e?await(0,f.getPythonVersionFromConda)(e):p.UNKNOWN_PYTHON_VERSION;(0,u.traceVerbose)("Best effort version D for",e,JSON.stringify(o));let s=p.UNKNOWN_PYTHON_VERSION;for(const e of[n,r,i,o])s=(0,d.comparePythonVersionSpecificity)(s,e)>0?s:e;return s};const T=(0,c.getFileFilter)({ignoreFileType:c.FileType.SymbolicLink});async function C(e){return P(e,{matchFilename:(0,l.getOSType)()===l.OSType.Windows?y.matchBasicPythonBinFilename:m.matchBasicPythonBinFilename,filterFile:T})}async function x(e){return P(e,{matchFilename:(0,l.getOSType)()===l.OSType.Windows?y.matchBasicPythonBinFilename:m.matchBasicPythonBinFilename,filterFile:void 0})}t.looksLikeBasicGlobalPython=C,t.looksLikeBasicVirtualPython=x,t.getInterpreterPathFromDir=async function(e,t={}){const n=t.global?C:x,r=_(e,2,(function(e){const t=a.basename(e).toLowerCase();return["bin","scripts"].includes(t)}),t.ignoreErrors);for await(const e of r)if(await n(e))return e.filename},t.getEnvironmentDirFromPath=function(e){const t=a.basename(a.dirname(e));return["bin","scripts"].map((e=>(0,g.normCasePath)(e))).includes((0,g.normCasePath)(t))?a.dirname(a.dirname(e)):a.dirname(e)}},24230:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.identifyEnvironment=t.isIdentifierRegistered=void 0;const r=n(61905),i=n(15721),o=n(11352),s=n(95885),a=n(94593),c=n(35864),l=n(60649),u=n(60852),p=n(45163),d=n(66830),h=n(74857),f=n(8164),v=()=>Promise.resolve(!1);function g(){const e=new Map;return Object.values(i.PythonEnvKind).forEach((t=>{e.set(t,v)})),e.set(i.PythonEnvKind.Conda,s.isCondaEnvironment),e.set(i.PythonEnvKind.MicrosoftStore,d.isMicrosoftStoreEnvironment),e.set(i.PythonEnvKind.Pipenv,c.isPipenvEnvironment),e.set(i.PythonEnvKind.Pyenv,u.isPyenvEnvironment),e.set(i.PythonEnvKind.Poetry,l.isPoetryEnvironment),e.set(i.PythonEnvKind.Pixi,f.isPixiEnvironment),e.set(i.PythonEnvKind.Venv,p.isVenvEnvironment),e.set(i.PythonEnvKind.VirtualEnvWrapper,p.isVirtualenvwrapperEnvironment),e.set(i.PythonEnvKind.VirtualEnv,p.isVirtualenvEnvironment),e.set(i.PythonEnvKind.ActiveState,h.isActiveStateEnvironment),e.set(i.PythonEnvKind.Unknown,(()=>Promise.resolve(!0))),e.set(i.PythonEnvKind.OtherGlobal,a.isGloballyInstalledEnv),e}t.isIdentifierRegistered=function(e){return g().get(e)!==v},t.identifyEnvironment=async function(e){const t=g(),n=(0,o.getPrioritizedEnvKinds)();for(const i of n){const n=t.get(i);if(n&&await n(e).catch((t=>((0,r.traceWarn)(`Identifier for ${i} failed to identify ${e}`,t),!1))))return i}return i.PythonEnvKind.Unknown}},74857:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.isActiveStateEnvironmentForWorkspace=t.ActiveState=t.isActiveStateEnvironment=t.ACTIVESTATETOOLPATH_SETTING_KEY=void 0;const a=s(n(16928)),c=n(16928),l=n(69396),u=n(68989),p=n(61905),d=n(48112);t.ACTIVESTATETOOLPATH_SETTING_KEY="activeStateToolPath",t.isActiveStateEnvironment=async function(e){const t=a.dirname(e),n=a.dirname(t);return(0,l.pathExists)(a.join(n,"_runtime_store"))};class h{static async getState(){return void 0===h.statePromise&&(h.statePromise=h.locate()),h.statePromise}constructor(){(0,l.onDidChangePythonSetting)(t.ACTIVESTATETOOLPATH_SETTING_KEY,(()=>{h.statePromise=void 0}))}static getStateToolDir(){const e=(0,d.getUserHomeDir)();if(e)return(0,d.getOSType)()===d.OSType.Windows?a.join(e,"AppData","Local","ActiveState","StateTool"):a.join(e,".local","ActiveState","StateTool")}static async locate(){var e;const n=this.getStateToolDir(),r=null!==(e=(0,l.getPythonSetting)(t.ACTIVESTATETOOLPATH_SETTING_KEY))&&void 0!==e?e:h.defaultStateCommand;if(n&&(await(0,l.pathExists)(n)||r!==this.defaultStateCommand))return new h}async getProjects(){return this.getProjectsCached()}async getProjectsCached(){var e;try{const n=null!==(e=(0,l.getPythonSetting)(t.ACTIVESTATETOOLPATH_SETTING_KEY))&&void 0!==e?e:h.defaultStateCommand,r=await(0,l.shellExecute)(`${n} projects -o editor`,{timeout:5e3});if(!r)return;let i=r.stdout.trimEnd();"\0"===i[i.length-1]&&(i=i.substring(0,i.length-1)),(0,p.traceVerbose)(`${n} projects -o editor: ${i}`);const o=JSON.parse(i);return h.setCachedProjectInfo(o),o}catch(e){return void(0,p.traceError)(e)}}static getCachedProjectInfo(){return this.cachedProjectInfo}static setCachedProjectInfo(e){this.cachedProjectInfo=e}}t.ActiveState=h,h.defaultStateCommand="state",h.cachedProjectInfo=[],o([(0,u.cache)(3e4,!0,1e4)],h.prototype,"getProjectsCached",null),t.isActiveStateEnvironmentForWorkspace=function(e,t){const n=(0,c.dirname)(e);for(const e of h.getCachedProjectInfo())if(e.executables)for(const[r,i]of e.executables.entries())if((0,l.arePathsSame)(i,n)&&(0,l.arePathsSame)(t,e.local_checkouts[r]))return!0;return!1}},95885:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getCondaPathSetting=t.getCondaEnvDirs=t.setCondaBinary=t.Conda=t.CONDA_ACTIVATION_TIMEOUT=t.CONDA_RUN_VERSION=t.getCondaInterpreterPath=t.getPythonVersionFromConda=t.getCondaEnvironmentsTxt=t.isCondaEnvironment=t.getCondaMetaPaths=t.parseCondaInfo=t.CONDAPATH_SETTING_KEY=t.AnacondaCompanyName=void 0;const a=s(n(16928)),c=n(99589),l=s(n(25943)),u=n(48112),p=n(69396),d=n(15721),h=n(71067),f=n(56300),v=n(25297),g=n(68989),m=n(552),y=n(61905),b=n(8370),_=n(74399),E=n(7855),S=n(8841);function w(e){const t="conda-meta";return[a.join(a.dirname(e),t),a.join(a.dirname(a.dirname(e)),t),a.join(e,t)]}function P(e){const t=(0,u.getOSType)()===u.OSType.Windows?"python.exe":a.join("bin","python");return a.join(e,t)}t.AnacondaCompanyName="Anaconda, Inc.",t.CONDAPATH_SETTING_KEY="condaPath",t.parseCondaInfo=async function(e,n,r,i){const o=Array.isArray(e.envs)?e.envs:[];e.default_prefix&&e.default_prefix.length>0&&o.push(e.default_prefix);const s=o.map((async e=>{const o=n(e);if(!await r(o))return;const s=await i(o);return s?{...s,path:o,companyDisplayName:t.AnacondaCompanyName,envType:v.EnvironmentType.Conda,envPath:e}:void 0}));return Promise.all(s).then((e=>e.filter((e=>null!=e)))).then((e=>e.map((e=>e))))},t.getCondaMetaPaths=w,t.isCondaEnvironment=async function(e){const t=w(e);for(const e of t)if(await(0,p.pathExists)(e))return!0;return!1},t.getCondaEnvironmentsTxt=async function(){const e=(0,u.getUserHomeDir)();return e?[a.join(e,".conda","environments.txt")]:[]},t.getPythonVersionFromConda=async function(e){const t=w(e).map((e=>a.join(e,"history"))),n=/\:python-(([\d\.a-z]?)+)/;for(const e of t)if(await(0,p.pathExists)(e))try{const t=(0,_.splitLines)(await(0,p.readFile)(e)).map((e=>{const t=n.exec(e);return t?t[1]:""})).filter((e=>e.length>0));if(t.length>0){const e=t.length-1;return(0,h.parseVersion)(t[e].trim())}}catch(e){return d.UNKNOWN_PYTHON_VERSION}return d.UNKNOWN_PYTHON_VERSION},t.getCondaInterpreterPath=P,t.CONDA_RUN_VERSION="4.9.0",t.CONDA_ACTIVATION_TIMEOUT=45e3;class T{constructor(e,n,r,i){this.command=e,this.shellPath=r,this.useWorkerThreads=i,this.condaInfoCached=new Map,void 0===this.useWorkerThreads&&(this.useWorkerThreads=!1),this.shellCommand=null!=n?n:e,(0,p.onDidChangePythonSetting)(t.CONDAPATH_SETTING_KEY,(()=>{T.condaPromise=new Map}))}static async getConda(e){return(void 0===T.condaPromise.get(e)||(0,m.isTestExecution)())&&T.condaPromise.set(e,T.locate(e)),T.condaPromise.get(e)}static setConda(e){T.condaPromise.set(void 0,Promise.resolve(new T(e)))}static async locate(e){(0,y.traceVerbose)("Searching for conda.");const n=(0,u.getUserHomeDir)();let r="conda";try{r=(0,p.getPythonSetting)(t.CONDAPATH_SETTING_KEY)}catch(e){(0,y.traceError)(`Failed to get conda path setting, ${e}`)}const i=(0,u.getOSType)()===u.OSType.Windows?"Scripts\\conda.exe":"bin/conda";async function o(e){const t=a.dirname(e),n=a.join(t,"..","condabin","conda.bat");if(await(0,p.pathExists)(n))return n}for await(const t of async function*(){r&&"conda"!==r&&(yield r),yield"conda",(0,u.getOSType)()===u.OSType.Windows&&(yield*async function*(){const e=(await(0,f.getRegistryInterpreters)()).filter((e=>e.interpreterPath&&"ContinuumAnalytics"===e.distroOrgName)).map((e=>a.join(a.win32.dirname(e.interpreterPath),i)));yield*e}()),yield*async function*(){const e=[];if((0,u.getOSType)()===u.OSType.Windows){const t=(0,u.getEnvironmentVariable)("PROGRAMDATA")||"C:\\ProgramData";if(e.push(t),n){const t=(0,u.getEnvironmentVariable)("LOCALAPPDATA")||a.join(n,"AppData","Local");e.push(n,a.join(t,"Continuum"))}}else e.push("/usr/share","/usr/local/share","/opt","/opt/homebrew/bin"),n&&e.push(n,a.join(n,"opt"));for(const t of e){let e;try{e=await l.readdir(t)}catch(t){e=void 0}void 0!==e&&(yield*e.filter((e=>e.toLowerCase().includes("conda"))).map((e=>a.join(t,e,i))))}}(),yield*async function*(){if(!n)return;let e;try{e=await l.readFile(a.join(n,".conda","environments.txt"),"utf8")}catch(t){e=""}yield*e.split(/\r?\n/g).map((e=>e.trim())).filter((e=>""!==e&&!e.startsWith("#"))).map((e=>a.join(e,i)))}()}()){(0,y.traceVerbose)(`Probing conda binary: ${t}`);let n=new T(t,void 0,e);try{if(await n.getInfo(),(0,u.getOSType)()===u.OSType.Windows&&((0,m.isTestExecution)()||t!==r)){const r=await o(t);try{if(r){const i=new T(r,void 0,e);await i.getInfo(),n=new T(t,r,e)}}catch(e){(0,y.traceVerbose)("Failed to spawn conda bat file",r,e)}}return(0,y.traceVerbose)(`Found conda via filesystem probing: ${t}`),n}catch(e){(0,y.traceVerbose)("Failed to spawn conda binary",t,e)}}(0,y.traceVerbose)("Couldn't locate the conda binary.")}async getInfo(e){let t=this.condaInfoCached.get(this.shellPath);return e&&t||(t=this.getInfoImpl(this.command,this.shellPath),this.condaInfoCached.set(this.shellPath,t)),t}async getInfoImpl(e,t){const n={timeout:45e3};t&&(n.shell=t);const r=(0,p.exec)(e,["info","--json"],n,this.useWorkerThreads);if(await Promise.race([r.then((()=>!0)),(0,E.sleep)(48e3).then((()=>!1))])){const t=await r;return(0,y.traceVerbose)(`${e} info --json: ${t.stdout}`),JSON.parse(t.stdout)}throw new Error(`Launching '${e} info --json' timed out`)}async getEnvList(){const e=await this.getInfo(),{envs:t}=e;return void 0===t?[]:Promise.all(t.map((async t=>({prefix:t,name:await this.getName(t,e)}))))}async getEnvDirs(){var e;return null!==(e=(await this.getInfo()).envs_dirs)&&void 0!==e?e:[]}async getName(e,t){if((t=null!=t?t:await this.getInfo(!0)).root_prefix&&(0,p.arePathsSame)(e,t.root_prefix))return"base";const n=a.dirname(e);if(void 0!==t.envs_dirs)for(const r of t.envs_dirs)if((0,p.arePathsSame)(n,r))return a.basename(e)}async getCondaEnvironment(e){const t=await this.getEnvList();return t.find((t=>(0,p.arePathsSame)(e,t.prefix)))||t.find((t=>(0,p.isParentPath)(e,t.prefix)))}async getInterpreterPathForEnvironment(e){const t=P(e.prefix);return await(0,p.pathExists)(t)?((0,y.traceVerbose)("Found executable within conda env",JSON.stringify(e)),t):((0,y.traceVerbose)("Executable does not exist within conda env, assume the executable to be `python`",JSON.stringify(e)),"python")}async getRunPythonArgs(e,n,r=!1){const i=await this.getCondaVersion();if(i&&(0,c.lt)(i,t.CONDA_RUN_VERSION))return void(0,y.traceError)("`conda run` is not supported for conda version",i.raw);const o=[];o.push("-p",e.prefix);const s=[n?this.shellCommand:this.command,"run",...o,"--no-capture-output","python"];return r&&s.push("-I"),[...s,b.OUTPUT_MARKER_SCRIPT]}async getCondaVersion(){const e=await this.getInfo(!0).catch((()=>{}));let t;if(e&&e.conda_version)t=e.conda_version;else{const e=await(0,p.exec)(this.command,["--version"],{timeout:45e3}).then((e=>e.stdout.trim())).catch((()=>{}));t=e&&e.startsWith("conda ")?e.substring(6).trim():e}if(!t)return;const n=t.match(/(?<major>\d+)\.(?<minor>\d+)\.(?<micro>\d+)(?:.*)?/);if(n&&n.groups){const e=n.groups.major.concat(".",n.groups.minor,".",n.groups.micro),t=new c.SemVer(e);if(t)return t}return(0,y.traceError)(`Unable to parse version of Conda, ${t}`),new c.SemVer("0.0.1")}async isCondaRunSupported(){const e=await this.getCondaVersion();return!e||!(0,c.lt)(e,t.CONDA_RUN_VERSION)}}t.Conda=T,T.condaPromise=new Map,o([(0,g.cache)(3e4,!0,1e4)],T.prototype,"getInfoImpl",null),o([(0,g.cache)(3e4,!0,1e4)],T.prototype,"getEnvList",null),o([(0,g.cache)(3e4,!0,1e4)],T.prototype,"getEnvDirs",null),o([(0,g.cache)(-1,!0)],T.prototype,"getCondaVersion",null),t.setCondaBinary=function(e){T.setConda(e)},t.getCondaEnvDirs=async function(){const e=await T.getConda();return null==e?void 0:e.getEnvDirs()},t.getCondaPathSetting=function(){return(0,S.getConfiguration)("python").get(t.CONDAPATH_SETTING_KEY,"")}},58038:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CondaService=void 0;const c=n(25891),l=s(n(16928)),u=n(22408),p=n(68989),d=n(61905),h=n(95885);let f=class{constructor(e,t){this.platform=e,this.fileSystem=t}async getActivationScriptFromInterpreter(e,t){const n=await this.getCondaFileFromInterpreter(e,t),r=(n?l.join(l.dirname(n),"activate"):"activate").fileToCommandArgumentForPythonExt();if(this.platform.isLinux||this.platform.isMac){const e=await this.getCondaInfo();if(null==e?void 0:e.root_prefix){const t=l.join(e.root_prefix,this.platform.virtualEnvBinName,"activate").fileToCommandArgumentForPythonExt();if(r===t||!await this.fileSystem.fileExists(r))return{path:t,type:"global"}}}return{path:r,type:"local"}}async getCondaFile(e){return h.Conda.getConda().then((t=>{const n=e?null==t?void 0:t.shellCommand:null==t?void 0:t.command;return null!=n?n:"conda"}))}async getInterpreterPathForEnvironment(e){const t=await h.Conda.getConda();return null==t?void 0:t.getInterpreterPathForEnvironment({name:e.name,prefix:e.path})}async isCondaAvailable(){return"boolean"==typeof this.isAvailable?this.isAvailable:this.getCondaVersion().then((e=>this.isAvailable=void 0!==e)).catch((()=>this.isAvailable=!1))}async getCondaVersion(){return h.Conda.getConda().then((e=>null==e?void 0:e.getCondaVersion()))}async getCondaFileFromInterpreter(e,t){const n=this.platform.isWindows?"conda.exe":"conda",r=this.platform.isWindows?"Scripts":"bin",i=e?l.dirname(e):"",o=t?i.indexOf(l.join("envs",t)):-1;if(o>0){const e=i.slice(0,o);let t=l.join(e,n);if(await this.fileSystem.fileExists(t))return t;if(t=l.join(e,r,n),await this.fileSystem.fileExists(t))return t}let s=l.join(i,n);return await this.fileSystem.fileExists(s)?s:(s=l.join(i,r,n),await this.fileSystem.fileExists(s)?s:this.getCondaFile())}async getCondaInfo(){const e=await h.Conda.getConda();return null==e?void 0:e.getInfo()}};t.CondaService=f,o([(0,d.traceDecoratorVerbose)("Get Conda File from interpreter"),(0,p.cache)(12e4)],f.prototype,"getCondaFileFromInterpreter",null),o([(0,p.cache)(6e4)],f.prototype,"getCondaInfo",null),t.CondaService=f=o([(0,c.injectable)(),a(0,(0,c.inject)(u.IPlatformService)),a(1,(0,c.inject)(u.IFileSystem))],f)},94593:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isGloballyInstalledEnv=void 0;const r=n(62982),i=n(48112),o=n(69396),s=n(93830),a=n(60852);t.isGloballyInstalledEnv=async function(e){return async function(e){let t=[];t=(0,i.getOSType)()===i.OSType.Windows?(0,r.getSearchPathEntries)():await(0,s.commonPosixBinPaths)(),t=t.filter((e=>!(0,a.isPyenvShimDir)(e)));for(const n of t)if((0,o.isParentPath)(e,n))return!0;return!1}(e)}},80256:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.Hatch=void 0;const i=n(552),o=n(69396),s=n(61905),a=n(68989),c=n(48112);class l{constructor(e,t){this.command=e,this.cwd=t,this.fixCwd()}static async getHatch(e){return(void 0===l.hatchPromise.get(e)||(0,i.isTestExecution)())&&l.hatchPromise.set(e,l.locate(e)),l.hatchPromise.get(e)}static async locate(e){const t="hatch";(0,s.traceVerbose)(`Probing Hatch binary ${t}`);const n=new l(t,e);if(void 0!==await n.getEnvList())return(0,s.traceVerbose)(`Found hatch binary ${t}`),n;(0,s.traceVerbose)(`Failed to find Hatch binary ${t}`),(0,s.traceVerbose)("No Hatch binary found")}async getEnvList(){return this.getEnvListCached(this.cwd)}async getEnvListCached(e){const t=await(0,o.exec)(this.command,["env","show","--json"],{cwd:this.cwd,throwOnStdErr:!0}).catch(s.traceVerbose);if(t)return(await Promise.all(Object.keys(JSON.parse(t.stdout)).map((async e=>{const t=await(0,o.exec)(this.command,["env","find",e],{cwd:this.cwd,throwOnStdErr:!0}).catch(s.traceVerbose);if(!t)return;const n=t.stdout.trim();return await(0,o.pathExists)(n)?n:void 0})))).flatMap((e=>e?[e]:[]))}fixCwd(){if((0,c.getOSType)()===c.OSType.Windows&&/^[a-z]:/.test(this.cwd)){const e=this.cwd.split(":");e[0]=e[0].toUpperCase(),this.cwd=e.join(":")}}}t.Hatch=l,l.hatchPromise=new Map,r([(0,a.cache)(3e4,!0,1e4)],l.prototype,"getEnvListCached",null)},80292:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMacDefaultPythonPath=void 0;const r=n(48112);t.isMacDefaultPythonPath=function(e){return(0,r.getOSType)()===r.OSType.OSX&&(["/usr/bin/python"].includes(e)||e.startsWith("/usr/bin/python2"))}},66830:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.isMicrosoftStoreEnvironment=t.isStorePythonInstalled=t.isMicrosoftStoreDir=t.getMicrosoftStoreAppsRoot=void 0;const s=o(n(16928)),a=n(48112),c=n(61905),l=n(69396);function u(){const e=(0,a.getEnvironmentVariable)("LOCALAPPDATA")||"";return s.join(e,"Microsoft","WindowsApps")}function p(e){const t=s.join((0,a.getEnvironmentVariable)("ProgramFiles")||"Program Files","WindowsApps").normalize().toUpperCase();return s.normalize(e).toUpperCase().includes(t)}async function d(e){let t=await Promise.all([(0,l.pathExists)(s.join(u(),"idle.exe")),(0,l.pathExists)(s.join(u(),"pip.exe"))]);return!!t.includes(!0)||!!e&&(t=await Promise.all([(0,l.pathExists)(s.join(s.dirname(e),"idle.exe")),(0,l.pathExists)(s.join(s.dirname(e),"pip.exe"))]),t.includes(!0))}t.getMicrosoftStoreAppsRoot=u,t.isMicrosoftStoreDir=function(e){const t=s.normalize(u()).toUpperCase();return s.normalize(e).toUpperCase().includes(t)||p(e)},t.isStorePythonInstalled=d,t.isMicrosoftStoreEnvironment=async function(e){if(await d(e)){const t=s.normalize(e).toUpperCase(),n=s.normalize(u()).toUpperCase();if(t.includes(n))return!0;if(p(t))return(0,c.traceWarn)("isMicrosoftStoreEnvironment called with Program Files store path."),!0}return!1}},35864:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.isPipenvEnvironmentRelatedToFolder=t.isPipenvEnvironment=t.getProjectDir=t._getAssociatedPipfile=void 0;const s=o(n(16928)),a=n(48112),c=n(61905),l=n(69396);async function u(e,t){const n=(0,a.getEnvironmentVariable)("PIPENV_PIPFILE")||"Pipfile";let r=t.lookIntoParentDirectories?function(){const e=(0,a.getEnvironmentVariable)("PIPENV_MAX_DEPTH");if(void 0===e)return 3;const t=parseInt(e,10);return isNaN(t)?((0,c.traceError)(`PIPENV_MAX_DEPTH is incorrectly set. Converting value '${e}' to number results in NaN`),1):t}():1;for(;r>0&&!(0,l.arePathsSame)(e,s.dirname(e));){const t=s.join(e,n);if(await(0,l.pathExists)(t))return t;e=s.dirname(e),r-=1}}async function p(e){const t=s.join(e,".project");if(!await(0,l.pathExists)(t))return;const n=(await(0,l.readFile)(t)).trim();if(await(0,l.pathExists)(n))return n;(0,c.traceVerbose)(`The .project file inside environment folder: ${e} doesn't contain a valid path to the project`)}async function d(e){const t=s.dirname(s.dirname(e)),n=await p(t);if(void 0!==n)return s.basename((0,l.normCasePath)(t)).startsWith(`${s.basename((0,l.normCasePath)(n))}-`)?u(n,{lookIntoParentDirectories:!1}):void 0}t._getAssociatedPipfile=u,t.getProjectDir=p,t.isPipenvEnvironment=async function(e){return!!await async function(e){const t=s.dirname(s.dirname(e));if(".venv"===s.basename(t))return u(s.dirname(t),{lookIntoParentDirectories:!1})}(e)||!!await d(e)},t.isPipenvEnvironmentRelatedToFolder=async function(e,t){const n=await d(e);if(!n)return!1;const r=void 0===(0,a.getEnvironmentVariable)("PIPENV_NO_INHERIT"),i=await u(t,{lookIntoParentDirectories:r});return!!i&&(0,l.arePathsSame)(n,i)}},8164:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getPixiActivationCommands=t.getRunPixiPythonCommand=t.registerPixiFeatures=t.isNonDefaultPixiEnvironmentName=t.getPixiEnvironmentFromInterpreter=t.getPixi=t.Pixi=t.getPrefixFromInterpreterPath=t.isPixiEnvironment=t.PIXITOOLPATH_SETTING_KEY=void 0;const c=s(n(16928)),l=n(21605),u=a(n(46911)),p=n(48112),d=n(69396),h=n(68989),f=n(61905),v=n(8370),g=n(8841),m=n(552);function y(e){const t=c.dirname(e);return t.endsWith("bin")||t.endsWith("Scripts")?c.dirname(t):t}t.PIXITOOLPATH_SETTING_KEY="pixiToolPath",t.isPixiEnvironment=async function(e){const t=y(e);return(0,d.pathExists)(c.join(t,"conda-meta/pixi"))||(0,d.pathExists)(c.join(t,"conda-meta/pixi_env_prefix"))},t.getPrefixFromInterpreterPath=y;class b{constructor(e){this.command=e}async getEnvList(e){const t=await this.getPixiInfo(e);return null==t?void 0:t.environments_info.map((e=>e.prefix))}async getPixiInfo(e){try{const t=await(0,d.exec)(this.command,["info","--json"],{cwd:e,throwOnStdErr:!1});if(!t||!t.stdout)return;return JSON.parse(t.stdout)}catch(t){return void(0,f.traceWarn)(`Failed to get pixi info for ${e}`,t)}}getRunPythonArgs(e,t,n=!1){let r=[this.command,"run","--manifest-path",e];return P(t)&&(r=r.concat(["--environment",t])),r.push("python"),n&&r.push("-I"),[...r,v.OUTPUT_MARKER_SCRIPT]}async getPixiEnvironmentMetadata(e){const t=c.join(e,"conda-meta/pixi");try{return await(0,l.readJSON)(t)}catch(t){(0,f.traceVerbose)(`Failed to get pixi environment metadata for ${e}`,t)}}}async function _(){let e=(0,d.getPythonSetting)(t.PIXITOOLPATH_SETTING_KEY);if(!e||"pixi"===e||!await(0,d.pathExists)(e)){e=void 0;const t=await async function(){try{return await(0,u.default)("pixi",{all:!0})}catch(e){}return[]}();for(const n of t)if(await(0,d.pathExists)(n)){e=n;break}}if(!e){const t=(0,p.getUserHomeDir)();if(t){const n=c.join(t,".pixi","bin",(0,p.isWindows)()?"pixi.exe":"pixi");await(0,d.pathExists)(n)&&(e=n)}}return e?new b(e):void 0}let E;function S(){return(void 0===E||(0,m.isTestExecution)())&&(E=_()),E}async function w(e){if(!e)return;const t=y(e),n=await S();if(!n)return void(0,f.traceVerbose)(`could not find a pixi interpreter for the interpreter at ${e}`);const r=await n.getPixiEnvironmentMetadata(t);if(void 0!==r)return{interpreterPath:e,pixi:n,pixiVersion:r.pixi_version,manifestPath:r.manifest_path,envName:r.environment_name};let i,o,s,a,l;try{return i=c.basename(t),o=c.dirname(t),s=c.dirname(o),a=c.dirname(s),function(e){const t=(0,g.getWorkspaceFolderPaths)().map((e=>c.normalize(e))),n=c.normalize(e);return t.some((e=>e===n))}(a)?(l=await n.getPixiInfo(a),l&&l.project_info?{interpreterPath:e,pixi:n,pixiVersion:l.version,manifestPath:l.project_info.manifest_path,envName:i}:void(0,f.traceWarn)(`failed to determine pixi project information for the interpreter at ${e}`)):void(0,f.traceVerbose)(`could not determine the pixi project directory for the interpreter at ${e}`)}catch(e){(0,f.traceWarn)("Error processing paths or getting Pixi Info:",e)}}function P(e){return"default"!==e}t.Pixi=b,o([(0,h.cache)(1e3,!0,1e3)],b.prototype,"getPixiInfo",null),o([(0,h.cache)(5e3,!0,1e4)],b.prototype,"getPixiEnvironmentMetadata",null),t.getPixi=S,t.getPixiEnvironmentFromInterpreter=w,t.isNonDefaultPixiEnvironmentName=P,t.registerPixiFeatures=function(e){e.push((0,d.onDidChangePythonSetting)(t.PIXITOOLPATH_SETTING_KEY,(()=>{E=_()})))},t.getRunPixiPythonCommand=async function(e){const t=await w(e);if(!t)return;const n=[t.pixi.command.toCommandArgumentForPythonExt(),"run","--manifest-path",t.manifestPath.toCommandArgumentForPythonExt()];return P(t.envName)&&(n.push("--environment"),n.push(t.envName.toCommandArgumentForPythonExt())),n.push("python"),n},t.getPixiActivationCommands=async function(e,t){const n=await w(e);if(!n)return;const r=[n.pixi.command.toCommandArgumentForPythonExt(),"shell","--manifest-path",n.manifestPath.toCommandArgumentForPythonExt()];return P(n.envName)&&(r.push("--environment"),r.push(n.envName.toCommandArgumentForPythonExt())),[r.join(" ")]}},60649:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.isPoetryEnvironmentRelatedToFolder=t.Poetry=t.isPoetryEnvironment=t.localPoetryEnvDirName=void 0;const a=s(n(16928)),c=n(48112),l=n(69396),u=n(96966),p=n(45163),d=n(51080),h=n(68989),f=n(552),v=n(61905),g=n(74399),m=/^(.+)-(.+)-py(\d).(\d){1,2}$/;t.localPoetryEnvDirName=".venv",t.isPoetryEnvironment=async function(e){return!!await async function(e){const t=(0,u.getEnvironmentDirFromPath)(e);return!!m.test(a.basename(t))&&(0,p.isVirtualenvEnvironment)(e)}(e)||!!await async function(e){const n=(0,u.getEnvironmentDirFromPath)(e);if(a.basename(n)!==t.localPoetryEnvDirName)return!1;const r=a.dirname(n);return!!await b(r)}(e)};class y{constructor(e,t){this.command=e,this.cwd=t,this.fixCwd()}static async getPoetry(e){if(await b(e))return(void 0===y.poetryPromise.get(e)||(0,f.isTestExecution)())&&y.poetryPromise.set(e,y.locate(e)),y.poetryPromise.get(e)}static async locate(e){(0,v.traceVerbose)(`Getting poetry for cwd ${e}`);for(const t of function*(){try{const e=(0,l.getPythonSetting)("poetryPath");e&&"poetry"!==e&&(yield e)}catch(e){(0,v.traceError)("Failed to get poetry setting",e)}yield"poetry";const e=(0,c.getUserHomeDir)();if(e){const t=a.join(e,".poetry","bin","poetry");(0,l.pathExistsSync)(t)&&(yield t)}}()){(0,v.traceVerbose)(`Probing poetry binary for ${e}: ${t}`);const n=new y(t,e);if(void 0!==await n.getEnvList())return(0,v.traceVerbose)(`Found poetry via filesystem probing for ${e}: ${t}`),n;(0,v.traceVerbose)(`Failed to find poetry for ${e}: ${t}`)}(0,v.traceVerbose)(`No poetry binary found for ${e}`)}async getEnvList(){return this.getEnvListCached(this.cwd)}async getEnvListCached(e){const t=await this.safeShellExecute(`${this.command} env list --full-path`);if(!t)return;return(await Promise.all((0,g.splitLines)(t.stdout).map((async e=>{e.endsWith("(Activated)")&&(e=e.slice(0,-11));const t=e.trim();return await(0,l.pathExists)(t)?t:void 0})))).filter((e=>void 0!==e)).map((e=>e))}async getActiveEnvPath(){return this.getActiveEnvPathCached(this.cwd)}async getActiveEnvPathCached(e){const t=await this.safeShellExecute(`${this.command} env info -p`,!0);if(t)return t.stdout.trim()}async getVirtualenvsPathSetting(){const e=await this.safeShellExecute(`${this.command} config virtualenvs.path`);if(e)return e.stdout.trim()}fixCwd(){if((0,c.getOSType)()===c.OSType.Windows&&/^[a-z]:/.test(this.cwd)){const e=this.cwd.split(":");e[0]=e[0].toUpperCase(),this.cwd=e.join(":")}}async safeShellExecute(e,t=!1){const n=new d.StopWatch,r=await(0,l.shellExecute)(e,{cwd:this.cwd,throwOnStdErr:!0,timeout:5e4}).catch((e=>{t?(0,v.traceVerbose)(e):(0,v.traceError)(e)}));return(0,v.traceVerbose)(`Time taken to run ${e} in ms`,n.elapsedTime),r}}async function b(e){const t=a.join(e,"pyproject.toml");return!!(0,l.pathExistsSync)(t)&&!!(await(0,l.readFile)(t)).includes("[tool.poetry]")}t.Poetry=y,y.poetryPromise=new Map,o([(0,h.cache)(3e4,!0,1e4)],y.prototype,"getEnvListCached",null),o([(0,h.cache)(2e4,!0,1e4)],y.prototype,"getActiveEnvPathCached",null),t.isPoetryEnvironmentRelatedToFolder=async function(e,t,n){const r=n?new y(n,t):await y.getPoetry(t),i=await(null==r?void 0:r.getActiveEnvPath());return!!i&&(0,l.isParentPath)(e,i)}},60852:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.parsePyenvVersion=t.isPyenvEnvironment=t.isPyenvShimDir=t.getPyenvVersionsDir=t.getActivePyenvForDirectory=t.setPyEnvBinary=t.getPyenvDir=void 0;const s=o(n(16928)),a=n(48112),c=n(69396),l=n(61905);function u(){var e;let t=null!==(e=(0,a.getEnvironmentVariable)("PYENV_ROOT"))&&void 0!==e?e:(0,a.getEnvironmentVariable)("PYENV");if(!t){const e=(0,a.getUserHomeDir)()||"";t=(0,a.getOSType)()===a.OSType.Windows?s.join(e,".pyenv","pyenv-win"):s.join(e,".pyenv")}return t}let p;t.getPyenvDir=u,t.setPyEnvBinary=function(e){p=e},t.getActivePyenvForDirectory=async function(e){const t=await async function(){if(p&&await(0,c.pathExists)(p))return p;const e=u(),t=s.join(e,"bin","pyenv");return await(0,c.pathExists)(t)?t:"pyenv"}();try{return(await(0,c.shellExecute)(`${t} which python`,{cwd:e})).stdout.trim()}catch(e){return void(0,l.traceVerbose)(e)}},t.getPyenvVersionsDir=function(){return s.join(u(),"versions")},t.isPyenvShimDir=function(e){const t=s.join(u(),"shims");return(0,c.arePathsSame)(t,e)||(0,c.arePathsSame)(`${t}${s.sep}`,e)},t.isPyenvEnvironment=async function(e){const t=e,n=u();return!!await(0,c.pathExists)(n)&&(0,c.isParentPath)(t,n)},t.parsePyenvVersion=function(e){const t=function(){function e(e){return{pythonVer:e,distro:void 0,distroVer:void 0}}function t(e){const t=e.split("-");return 3===t.length?{pythonVer:void 0,distroVer:`${t[1]}-${t[2]}`,distro:t[0]}:2===t.length?{pythonVer:void 0,distroVer:t[1],distro:t[0]}:{pythonVer:void 0,distroVer:void 0,distro:e}}const n=new Map;return n.set("activepython",t),n.set("anaconda",t),n.set("graalpython",t),n.set("ironpython",t),n.set("jython",t),n.set("micropython",t),n.set("miniconda",t),n.set("miniforge",t),n.set("pypy",(function(e){const t=e.split("-"),n=t[0].search(/[0-9\.]+/)>0?t[0].substr(4):void 0;return 2===t.length?{pythonVer:n,distroVer:t[1],distro:"pypy"}:3===t.length&&(t[2].startsWith("src")||t[2].startsWith("beta")||t[2].startsWith("alpha")||t[2].startsWith("win64"))?{pythonVer:n,distroVer:`${t[1].startsWith("v")?t[1].substr(1):t[1]}-${t[2]}`,distro:"pypy"}:3===t.length&&"stm"===t[1]?{pythonVer:n,distroVer:t[2],distro:`${t[0]}-${t[1]}`}:4===t.length&&"c"===t[1]?{pythonVer:n,distroVer:t[3],distro:`pypy-${t[1]}-${t[2]}`}:4===t.length&&t[3].startsWith("src")?{pythonVer:n,distroVer:`${t[1]}-${t[2]}-${t[3]}`,distro:"pypy"}:{pythonVer:n,distroVer:void 0,distro:"pypy"}})),n.set("pyston",t),n.set("stackless",t),n.set("3",e),n.set("2",e),n}(),n=Array.from(t.keys()).filter((t=>e.startsWith(t))).map((e=>t.get(e))).filter((e=>void 0!==e));if(n.length>0&&n[0])return n[0](e)}},45163:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getPythonVersionFromPyvenvCfg=t.isVirtualenvwrapperEnvironment=t.isVirtualenvEnvironment=t.isVenvEnvironment=t.isVirtualEnvironment=void 0;const s=o(n(16928)),a=o(n(25943));n(87295);const c=n(74399),l=n(48112),u=n(15721),p=n(6514),d=n(71067),h=n(69396);function f(e){const t="pyvenv.cfg";return[s.join(s.dirname(s.dirname(e)),t),s.join(s.dirname(e),t)]}async function v(e){const t=f(e);for(const e of t)if(await(0,h.pathExists)(e))return!0;return!1}async function g(e){const t=s.dirname(e),n=await a.readdir(t),r=/^activate(\.([A-z]|\d)+)?$/i;return void 0!==n.find((e=>r.test(e)))}function m(e){let t,n;try{[t,n]=(0,d.parseBasicVersion)(e)}catch(e){return u.UNKNOWN_PYTHON_VERSION}return-1!==t.micro&&n.startsWith(".")&&([t.release]=(0,d.parseRelease)(n)),t}t.isVirtualEnvironment=async function(e){return v(e)},t.isVenvEnvironment=v,t.isVirtualenvEnvironment=g,t.isVirtualenvwrapperEnvironment=async function(e){const t=await function(){const e=(0,l.getEnvironmentVariable)("WORKON_HOME");return e?Promise.resolve(e):async function(){const e=(0,l.getUserHomeDir)()||"";if((0,l.getOSType)()===l.OSType.Windows){const t=s.join(e,"Envs");if(await(0,h.pathExists)(t))return t}return s.join(e,".virtualenvs")}()}();return await(0,h.pathExists)(t)&&(0,h.isParentPath)(e,t)&&g(e)},t.getPythonVersionFromPyvenvCfg=async function(e){const t=f(e);let n=u.UNKNOWN_PYTHON_VERSION;for(const e of t)if(await(0,h.pathExists)(e))try{const t=(0,c.splitLines)(await(0,h.readFile)(e)).map((e=>{const t=e.split("=");if(2===t.length){const e=t[0].toLowerCase().trim(),n=t[1].trim();if("version"===e)try{return(0,d.parseVersion)(n)}catch(e){return}else if("version_info"===e)try{return m(n)}catch(e){return}}})).filter((e=>void 0!==e)).map((e=>e));if(t.length>0)for(const e of t)(0,p.comparePythonVersionSpecificity)(e,n)>0&&(n=e)}catch(e){return u.UNKNOWN_PYTHON_VERSION}return n}},69396:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.onDidChangePythonSetting=t.getPythonSetting=t.getSubDirs=t.isFile=t.getFileInfo=t.resolveSymbolicLink=t.arePathsSame=t.normCasePath=t.resolvePath=t.normalizePath=t.isDirectory=t.isParentPath=t.readFileSync=t.readFile=t.pathExistsSync=t.pathExists=t.isVirtualWorkspace=t.inExperiment=t.exec=t.shellExecute=t.initializeExternalDependencies=void 0;const s=o(n(16928)),a=o(n(54980)),c=o(n(25943)),l=n(54661),u=n(35026),p=n(86156),d=n(7855),h=n(48112),f=n(61905);let v;function g(e){return(0,h.getOSType)()===h.OSType.Windows?s.normalize(e).toUpperCase():s.normalize(e)}async function m(e,t,n){if((t=null!=t?t:await c.lstat(e)).isSymbolicLink()){if(n&&n>5)return(0,f.traceError)(`Detected a potential symbolic link loop at ${e}, terminating resolution.`),e;const t=await c.readlink(e);return m(s.isAbsolute(t)?t:s.resolve(s.dirname(e),t),void 0,n=n?n+1:1)}return e}t.initializeExternalDependencies=function(e){v=e},t.shellExecute=async function(e,t={}){const n=await v.get(u.IProcessServiceFactory).create();return t={...t,useWorker:!1},n.shellExec(e,t)},t.exec=async function(e,t,n={},r=!1){const i=await v.get(u.IProcessServiceFactory).create();return n={...n,useWorker:r},i.exec(e,t,n)},t.inExperiment=function(e){return v.get(p.IExperimentService).inExperimentSync(e)},t.isVirtualWorkspace=function(){return v.get(l.IWorkspaceService).isVirtualWorkspace},t.pathExists=function(e){return c.pathExists(e)},t.pathExistsSync=function(e){return c.pathExistsSync(e)},t.readFile=function(e){return c.readFile(e,"utf-8")},t.readFileSync=function(e){return c.readFileSync(e,"utf-8")},t.isParentPath=function(e,t){return t.endsWith(s.sep)||(t+=s.sep),e.endsWith(s.sep)||(e+=s.sep),g(e).startsWith(g(t))},t.isDirectory=async function(e){return(await c.lstat(e)).isDirectory()},t.normalizePath=function(e){return s.normalize(e)},t.resolvePath=function(e){return s.resolve(e)},t.normCasePath=g,t.arePathsSame=function(e,t){return g(e)===g(t)},t.resolveSymbolicLink=m,t.getFileInfo=async function(e){try{const t=await c.lstat(e);return{ctime:t.ctime.valueOf(),mtime:t.mtime.valueOf()}}catch(t){return(0,f.traceVerbose)(`Failed to get file info for ${e}`,t),{ctime:-1,mtime:-1}}},t.isFile=async function(e){const t=await c.lstat(e);if(t.isSymbolicLink()){const n=await m(e,t);return(await c.lstat(n)).isFile()}return t.isFile()},t.getSubDirs=async function*(e,t){const n=(await c.readdir(e,{withFileTypes:!0})).map((n=>async function*(){const r=s.join(e,n.name);if(n.isDirectory())yield r;else if((null==t?void 0:t.resolveSymlinks)&&n.isSymbolicLink()){const e=await m(r);(await c.lstat(e)).isDirectory()&&(yield e)}}()));yield*(0,d.iterable)((0,d.chain)(n))},t.getPythonSetting=function(e,t){const n=t?a.Uri.file(t):void 0;return v.get(p.IConfigurationService).getSettings(n)[e]},t.onDidChangePythonSetting=function(e,t,n){return a.workspace.onDidChangeConfiguration((r=>{const i=n?a.Uri.file(n):void 0;r.affectsConfiguration(`python.${e}`,i)&&t()}))}},93830:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getPythonBinFromPosixPaths=t.commonPosixBinPaths=t.matchPythonBinFilename=t.matchBasicPythonBinFilename=void 0;const s=o(n(79896)),a=o(n(16928)),c=n(2543),l=o(n(25943)),u=n(62982),p=n(69396),d=n(61905);function h(e){return/^python(\d+(\.\d+)?)?$/.test(a.basename(e))}async function f(e){return(await s.promises.readdir(e,{withFileTypes:!0})).filter((e=>!e.isDirectory())).map((t=>a.join(e,t.name))).filter(h)}t.matchBasicPythonBinFilename=function(e){return"python"===a.basename(e)},t.matchPythonBinFilename=h,t.commonPosixBinPaths=async function(){const e=(0,u.getSearchPathEntries)(),t=Array.from(new Set(["/bin","/etc","/lib","/lib/x86_64-linux-gnu","/lib64","/sbin","/snap/bin","/usr/bin","/usr/games","/usr/include","/usr/lib","/usr/lib/x86_64-linux-gnu","/usr/lib64","/usr/libexec","/usr/local","/usr/local/bin","/usr/local/etc","/usr/local/games","/usr/local/lib","/usr/local/sbin","/usr/sbin","/usr/share","~/.local/bin"].concat(e))),n=await Promise.all(t.map((e=>l.pathExists(e))));return t.filter(((e,t)=>n[t]))},t.getPythonBinFromPosixPaths=async function(e){var t;const n=new Map;for(const r of e){const e=await f(r).catch((e=>((0,d.traceWarn)("Looking for python binaries within",r,"failed with",e),[])));for(const r of e)try{(0,d.traceVerbose)(`Attempting to resolve symbolic link: ${r}`);const e=await(0,p.resolveSymbolicLink)(r);n.has(e)?null===(t=n.get(e))||void 0===t||t.push(r):n.set(e,[r]),(0,d.traceInfo)(`Found: ${r} --\x3e ${e}`)}catch(e){(0,d.traceError)("Failed to resolve symbolic link: ",e)}}const r=Array.from(n.keys()).map((e=>{var t;return function(e){let t=e[0].length,n=e[0];for(const r of e)r.length<=t&&(t=r.length,n=r);return n}([e,...null!==(t=n.get(e))&&void 0!==t?t:[]])}));return(0,c.uniq)(r)}},40337:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.resolvePythonExeGlobs=t.PythonEnvStructure=t.watchLocationForPythonBinaries=void 0;const s=o(n(94027)),a=o(n(16928)),c=n(29104),l=n(48112),u=n(61905),[p,d]=(0,l.getOSType)()===l.OSType.Windows?["python.exe","Scripts"]:["python","bin"];var h;t.watchLocationForPythonBinaries=function(e,t,n=p){const r=a.posix.normalize(n),[i]=r.split("/").slice(-1);return(0,c.watchLocationForPattern)(e,r,(function(e,n){(0,u.traceVerbose)("Received event",e,JSON.stringify(n),"for baseglob",i),s.default(a.basename(n),i,{nocase:(0,l.getOSType)()===l.OSType.Windows})&&t(e,n)}))},function(e){e.Standard="standard",e.Flat="flat"}(h||(t.PythonEnvStructure=h={})),t.resolvePythonExeGlobs=function(e=p,t=h.Standard){if(a.posix.normalize(e).includes("/"))throw Error(`invalid basename glob "${e}"`);const n=[];return t===h.Standard?n.push(e,`*/${e}`,`*/${d}/${e}`):t===h.Flat&&n.push(e),n}},53174:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.readRegistryKeys=t.readRegistryValues=t.REG_SZ=t.HKLM=t.HKCU=void 0;const s=n(62802);Object.defineProperty(t,"HKCU",{enumerable:!0,get:function(){return s.HKCU}}),Object.defineProperty(t,"HKLM",{enumerable:!0,get:function(){return s.HKLM}}),Object.defineProperty(t,"REG_SZ",{enumerable:!0,get:function(){return s.REG_SZ}});const a=o(n(16928)),c=n(7855),l=n(3989);t.readRegistryValues=async function(e,t){if(!t){const t=new(n(62802))(e),r=(0,c.createDeferred)();return t.values(((e,t)=>{e&&r.reject(e),r.resolve(t)})),r.promise}return(0,l.executeWorkerFile)(a.join(__dirname,"registryValues.worker.js"),e)},t.readRegistryKeys=async function(e,t){if(!t){const t=new(n(62802))(e),r=(0,c.createDeferred)();return t.keys(((e,t)=>{e&&r.reject(e),r.resolve(t)})),r.promise}return(0,l.executeWorkerFile)(a.join(__dirname,"registryKeys.worker.js"),e)}},56300:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getRegistryInterpreters=t.getRegistryInterpretersSync=t.getInterpreterDataFromRegistry=t.matchPythonBinFilename=t.matchBasicPythonBinFilename=void 0;const s=n(2543),a=o(n(16928)),c=n(552),l=n(61905),u=n(53174);async function p(e,t,n,r){const i=await(0,u.readRegistryKeys)({arch:e,hive:t,key:n},r),o=n.substr(n.lastIndexOf("\\")+1),s=await Promise.all(i.map((e=>async function({arch:e,hive:t,key:n},r,i){const o={interpreterPath:"",distroOrgName:r},s=await(0,u.readRegistryValues)({arch:e,hive:t,key:n},i);for(const e of s)switch(e.name){case"SysArchitecture":o.bitnessStr=e.value;break;case"SysVersion":o.sysVersionStr=e.value;break;case"Version":o.versionStr=e.value;break;case"DisplayName":o.companyDisplayName=e.value}const a=(await(0,u.readRegistryKeys)({arch:e,hive:t,key:n},i)).map((e=>e.key)).find((e=>e.endsWith("InstallPath")));if(a){const n=(await(0,u.readRegistryValues)({arch:e,hive:t,key:a},i)).find((e=>"ExecutablePath"===e.name));n&&(o.interpreterPath=n.value,n.type!==u.REG_SZ&&(0,l.traceVerbose)(`Registry interpreter path type [${n.type}]: ${n.value}`))}if(o.interpreterPath.length>0)return o}(e,o,r))));return s.filter((e=>void 0!==e))||[]}let d,h;t.matchBasicPythonBinFilename=function(e){return"python.exe"===a.basename(e).toLowerCase()},t.matchPythonBinFilename=function(e){return/^python(\d+(.\d+)?)?\.exe$/.test(a.basename(e))},t.getInterpreterDataFromRegistry=p,t.getRegistryInterpretersSync=function(){return(0,c.isTestExecution)()?void 0:d},t.getRegistryInterpreters=async function(){return(0,c.isTestExecution)()||void 0===h?(h=async function(e=!1){let t=[];for(const n of["x64","x86"])for(const r of[u.HKLM,u.HKCU]){const i="\\SOFTWARE\\Python";let o=[];try{o=(await(0,u.readRegistryKeys)({arch:n,hive:r,key:i},e)).map((e=>e.key))}catch(e){(0,l.traceError)(`Failed to access Registry: ${n}\\${r}\\${i}`,e)}for(const i of o)t=t.concat(await p(n,r,i,e))}return d=(0,s.uniqBy)(t,(e=>e.interpreterPath)),d}(),h):h}},76650:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.hasPrefixCondaEnv=t.getPrefixCondaEnvPath=t.getVenvExecutable=t.hasVenv=t.getVenvPath=t.showErrorMessageWithLogs=void 0;const s=o(n(16928)),a=o(n(25943)),c=n(552),l=n(14152),u=n(93029),p=n(85784),d=n(48112);function h(e){return s.join(e.uri.fsPath,".venv")}function f(e){return s.join(e.uri.fsPath,".conda")}t.showErrorMessageWithLogs=async function(e){const t=await(0,p.showErrorMessage)(e,l.Common.openOutputPanel,l.Common.selectPythonInterpreter);t===l.Common.openOutputPanel?await(0,u.executeCommand)(c.Commands.ViewOutput):t===l.Common.selectPythonInterpreter&&await(0,u.executeCommand)(c.Commands.Set_Interpreter)},t.getVenvPath=h,t.hasVenv=async function(e){return a.pathExists(s.join(h(e),"pyvenv.cfg"))},t.getVenvExecutable=function(e){return(0,d.isWindows)()?s.join(h(e),"Scripts","python.exe"):s.join(h(e),"bin","python")},t.getPrefixCondaEnvPath=f,t.hasPrefixCondaEnv=async function(e){return a.pathExists(f(e))}},53038:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.isCreateEnvWorkspaceCheckNotRun=t.disableCreateEnvironmentTrigger=t.shouldPromptToCreateEnv=t.isGlobalPythonSelected=t.hasKnownFiles=t.hasRequirementFiles=t.fileContainsInlineDependencies=t.CREATE_ENV_TRIGGER_SETTING=t.CREATE_ENV_TRIGGER_SETTING_PART=void 0;const s=o(n(16928)),a=n(54980),c=o(n(25943)),l=n(31026),u=n(34467),p=n(552),d=n(61905),h=n(8841),f=n(9923);t.CREATE_ENV_TRIGGER_SETTING_PART="createEnvironment.trigger",t.CREATE_ENV_TRIGGER_SETTING=`python.${t.CREATE_ENV_TRIGGER_SETTING_PART}`,t.fileContainsInlineDependencies=async function(e){return!1},t.hasRequirementFiles=async function(e){var t;const n=await(0,l.getPipRequirementsFiles)(e),r=(null!==(t=null==n?void 0:n.length)&&void 0!==t?t:0)>0;return r&&(0,d.traceVerbose)(`Found requirement files: ${e.uri.fsPath}`),r},t.hasKnownFiles=async function(e){const t=["poetry.lock","conda.yaml","environment.yaml","conda.yml","environment.yml","Pipfile","Pipfile.lock"].map((t=>s.join(e.uri.fsPath,t))),n=(await Promise.all(t.map((e=>c.pathExists(e))))).some((e=>e));return n&&(0,d.traceVerbose)(`Found known files: ${e.uri.fsPath}`),n},t.isGlobalPythonSelected=async function(e){const t=(0,u.getExtension)(p.PVSC_EXTENSION_ID);if(!t)return!1;const n=t.exports,r=n.environments.getActiveEnvironmentPath(e.uri),i=await n.environments.resolveEnvironment(r),o=void 0===(null==i?void 0:i.environment);return o&&(0,d.traceVerbose)(`Selected python for [${e.uri.fsPath}] is [global] type: ${r.path}`),o},t.shouldPromptToCreateEnv=function(){const e=(0,h.getConfiguration)("python");return e?"off"!==e.get(t.CREATE_ENV_TRIGGER_SETTING_PART,"off"):"off"!==(0,f.getWorkspaceStateValue)(t.CREATE_ENV_TRIGGER_SETTING,"off")},t.disableCreateEnvironmentTrigger=function(){const e=(0,h.getConfiguration)("python");e&&e.update("createEnvironment.trigger","off",a.ConfigurationTarget.Global)};let v=!1;t.isCreateEnvWorkspaceCheckNotRun=function(){return!v&&(v=!0,!0)}},83306:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getInstalledPackagesDiagnostics=t.INSTALL_CHECKER_SOURCE=void 0;const r=n(54980),i=n(8370),o=n(43761),s=n(61905),a=n(8841);function c(e){const t=(0,a.getConfiguration)("python",e.uri).get("missingPackage.severity","Hint");return"Error"===t?r.DiagnosticSeverity.Error:"Warning"===t?r.DiagnosticSeverity.Warning:"Information"===t?r.DiagnosticSeverity.Information:r.DiagnosticSeverity.Hint}t.INSTALL_CHECKER_SOURCE="Python-InstalledPackagesChecker",t.getInstalledPackagesDiagnostics=async function(e,n){const a=await e.getActiveInterpreter(n.uri);if(!a)return[];const l=(0,i.installedCheckScript)();try{(0,s.traceInfo)("Running installed packages checker: ",a,l,n.uri.fsPath);const e={...process.env,VSCODE_MISSING_PGK_SEVERITY:`${c(n)}`},i=await(0,o.plainExec)(a.path,[l,n.uri.fsPath],{env:e});return(0,s.traceVerbose)("Installed packages check result:\n",i.stdout),i.stderr&&(0,s.traceError)("Installed packages check error:\n",i.stderr),function(e){let n=[];try{n=JSON.parse(e).map((e=>{const n=new r.Diagnostic(new r.Range(e.line,e.character,e.endLine,e.endCharacter),r.l10n.t("Package `{0}` is not installed in the selected environment.",e.package),e.severity);return n.code={value:e.code,target:r.Uri.parse(`https://pypi.org/p/${e.package}`)},n.source=t.INSTALL_CHECKER_SOURCE,n}))}catch(e){n=[]}return n}(i.stdout)}catch(e){(0,s.traceError)("Error while getting installed packages check result:\n",e)}return[]}},41043:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.pickWorkspaceFolder=void 0;const s=o(n(16928)),a=o(n(25943)),c=n(85784),l=n(8841),u=n(14152),p=n(93029);function d(e){return Promise.race([a.pathExists(s.join(e.uri.fsPath,".venv")),a.pathExists(s.join(e.uri.fsPath,".conda"))])}t.pickWorkspaceFolder=async function(e,t){const n=(0,l.getWorkspaceFolders)();if(!n||0===n.length){if(t===c.MultiStepAction.Back)throw c.MultiStepAction.Back;return void(await(0,c.showErrorMessage)(u.CreateEnv.noWorkspace,u.Common.openFolder)===u.Common.openFolder&&await(0,p.executeCommand)("vscode.openFolder"))}if(null==e?void 0:e.preSelectedWorkspace){if(t===c.MultiStepAction.Back)throw c.MultiStepAction.Back;return e.preSelectedWorkspace}if(1===n.length){if(t===c.MultiStepAction.Back)throw c.MultiStepAction.Back;return n[0]}const r=await(0,c.showQuickPickWithBack)(await async function(e){const t=[];for(const n of e)t.push({label:n.name,detail:n.uri.fsPath,description:await d(n)?u.CreateEnv.hasVirtualEnv:void 0});return t}(n),{placeHolder:u.CreateEnv.pickWorkspacePlaceholder,ignoreFocusOut:!0,canPickMany:null==e?void 0:e.allowMultiSelect,matchOnDescription:!0,matchOnDetail:!0},null==e?void 0:e.token);if(r){if(Array.isArray(r)){const e=r.map((e=>e.detail)).filter((e=>void 0!==e));return n.filter((t=>e.includes(t.uri.fsPath)))}return n.filter((e=>e.uri.fsPath===r.detail))[0]}}},50499:(e,t,n)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.buildEnvironmentCreationApi=t.registerCreateEnvironmentFeatures=t.isCreatingEnvironment=t.onCreateEnvironmentExited=t.onCreateEnvironmentStarted=t.registerCreateEnvironmentProvider=void 0;const i=n(54980),o=n(552),s=n(93029),a=n(34469),c=n(31911),l=n(18983),u=n(85784),p=n(14152),d=n(51535),h=n(53322),f=n(36380),v=new class{constructor(){this._createEnvProviders=[],this._createEnvProviders=[]}add(e){if(this._createEnvProviders.filter((t=>t.id===e.id)).length>0)throw new Error(`Create Environment provider with id ${e.id} already registered`);this._createEnvProviders.push(e)}remove(e){this._createEnvProviders=this._createEnvProviders.filter((t=>t!==e))}getAll(){return this._createEnvProviders}};function g(e){return v.add(e),new i.Disposable((()=>{v.remove(e)}))}t.registerCreateEnvironmentProvider=g,r=(0,a.getCreationEvents)(),t.onCreateEnvironmentStarted=r.onCreateEnvironmentStarted,t.onCreateEnvironmentExited=r.onCreateEnvironmentExited,t.isCreatingEnvironment=r.isCreatingEnvironment,t.registerCreateEnvironmentFeatures=function(e,n,r,m){e.push((0,s.registerCommand)(o.Commands.Create_Environment,(async e=>{if(!(0,f.useEnvExtension)()){const t=v.getAll();return(0,a.handleCreateEnvironmentCommand)(t,e)}try{const t=await(0,s.executeCommand)("python-envs.createAny",e);if(t)return{path:t.environmentPath.path}}catch(e){if(e===i.QuickInputButtons.Back)return{workspaceFolder:void 0,action:"Back"};throw e}})),(0,s.registerCommand)(o.Commands.Create_Environment_Button,(async()=>{(0,d.sendTelemetryEvent)(h.EventName.ENVIRONMENT_BUTTON,void 0,void 0),await(0,s.executeCommand)(o.Commands.Create_Environment)})),g(new l.VenvCreationProvider(n)),g((0,c.condaCreationProvider)()),(0,t.onCreateEnvironmentExited)((async e=>{var t,n;e.path&&(null===(t=e.options)||void 0===t?void 0:t.selectEnvironment)&&(await r.update(null===(n=e.workspaceFolder)||void 0===n?void 0:n.uri,i.ConfigurationTarget.WorkspaceFolder,e.path),(0,u.showInformationMessage)(`${p.CreateEnv.informEnvCreation} ${m.getDisplayName(e.path)}`))})))},t.buildEnvironmentCreationApi=function(){return{onWillCreateEnvironment:t.onCreateEnvironmentStarted,onDidCreateEnvironment:t.onCreateEnvironmentExited,createEnvironment:async e=>{const t=v.getAll();try{return await(0,a.handleCreateEnvironmentCommand)(t,e)}catch(e){return{path:void 0,workspaceFolder:void 0,action:void 0,error:e}}},registerCreateEnvironmentProvider:e=>g(e)}}},26624:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerCreateEnvironmentButtonFeatures=void 0;const r=n(93029),i=n(8841);async function o(){const e="show"===(0,i.getConfiguration)("python").get("createEnvironment.contentButton","show");await(0,r.executeCommand)("setContext","showCreateEnvButton",e)}t.registerCreateEnvironmentButtonFeatures=function(e){e.push((0,i.onDidChangeConfiguration)((async()=>{await o()}))),o()}},34469:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleCreateEnvironmentCommand=t.getCreationEvents=void 0;const r=n(54980),i=n(14152),o=n(85784),s=n(61905),a=new r.EventEmitter,c=new r.EventEmitter;let l=0;function u(){return l>0}t.getCreationEvents=function(){return{onCreateEnvironmentStarted:a.event,onCreateEnvironmentExited:c.event,isCreatingEnvironment:u}},t.handleCreateEnvironmentCommand=async function(e,t){const n=function(e){return{installPackages:!0,ignoreSourceControl:!0,showBackButton:!1,selectEnvironment:!0,...e}}(t);let u;const p=new o.MultiStepNode(void 0,(async t=>{if(e.length>0){try{u=await async function(e,t){const n=e.map((e=>({label:e.name,description:e.description,id:e.id})));if(null==t?void 0:t.providerId){const n=e.find((e=>e.id===t.providerId));if(n)return n}let r;if(r=(null==t?void 0:t.showBackButton)?await(0,o.showQuickPickWithBack)(n,{placeHolder:i.CreateEnv.providersQuickPickPlaceholder,matchOnDescription:!0,ignoreFocusOut:!0}):await(0,o.showQuickPick)(n,{placeHolder:i.CreateEnv.providersQuickPickPlaceholder,matchOnDescription:!0,ignoreFocusOut:!0}),r){const t=Array.isArray(r)?r[0]:r;if(t){const n=e.filter((e=>e.id===t.id));if(n.length>0)return n[0]}}}(e,n)}catch(e){if(e===o.MultiStepAction.Back||e===o.MultiStepAction.Cancel)return e;throw e}if(!u)return o.MultiStepAction.Cancel}else if((0,s.traceError)("No Environment Creation providers were registered."),t===o.MultiStepAction.Back)return o.MultiStepAction.Back;return o.MultiStepAction.Continue}),void 0);let d;const h=new o.MultiStepNode(p,(async e=>{if(e===o.MultiStepAction.Back)return o.MultiStepAction.Back;if(u)try{d=await async function(e,t){let n,i;try{!function(e){a.fire({options:e}),l+=1}(t),n=await e.createEnvironment(t)}catch(e){if(e===r.QuickInputButtons.Back&&((0,s.traceVerbose)("Create Env: User clicked back button during environment creation"),!t.showBackButton))return;throw i=e,i}finally{!function(e,t,n){l-=1,e?c.fire({options:t,...e}):n&&c.fire({options:t,error:n})}(n,t,i)}return n}(u,n)}catch(e){if(e===o.MultiStepAction.Back||e===o.MultiStepAction.Cancel)return e;throw e}return o.MultiStepAction.Continue}),void 0);p.next=h;const f=await o.MultiStepNode.run(p);if((null==t?void 0:t.showBackButton)&&(f!==o.MultiStepAction.Back&&f!==o.MultiStepAction.Cancel||(d={action:f,workspaceFolder:void 0,path:void 0,error:void 0})),d)return Object.freeze(d)}},58137:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerCreateEnvironmentTriggers=t.triggerCreateEnvironmentCheckNonBlocking=t.triggerCreateEnvironmentCheck=t.CreateEnvironmentCheckKind=void 0;const r=n(53038),i=n(8841),o=n(61905),s=n(76650),a=n(85784),c=n(14152),l=n(93029),u=n(552),p=n(51535),d=n(53322);var h;function f(e,t={}){return(0,r.isCreateEnvWorkspaceCheckNotRun)()||(null==t?void 0:t.force)?async function(e){const t=(0,i.getWorkspaceFolder)(e);if(!t)return void(0,o.traceInfo)(`CreateEnv Trigger - Workspace not found for ${e.fsPath}`);if((await Promise.all([(0,s.hasVenv)(t),(0,s.hasPrefixCondaEnv)(t),(async e=>!await(0,r.hasRequirementFiles)(e))(t),(0,r.hasKnownFiles)(t),(async e=>!await(0,r.isGlobalPythonSelected)(e))(t)])).some((e=>e)))return(0,p.sendTelemetryEvent)(d.EventName.ENVIRONMENT_CHECK_RESULT,void 0,{result:"criteria-not-met"}),void(0,o.traceInfo)(`CreateEnv Trigger - Skipping for ${e.fsPath}`);(0,p.sendTelemetryEvent)(d.EventName.ENVIRONMENT_CHECK_RESULT,void 0,{result:"criteria-met"});const n=await(0,a.showInformationMessage)(c.CreateEnv.Trigger.workspaceTriggerMessage,c.CreateEnv.Trigger.createEnvironment,c.Common.doNotShowAgain);if(n===c.CreateEnv.Trigger.createEnvironment)try{await(0,l.executeCommand)(u.Commands.Create_Environment)}catch(e){(0,o.traceError)("CreateEnv Trigger - Error while creating environment: ",e)}else n===c.Common.doNotShowAgain&&(0,r.disableCreateEnvironmentTrigger)()}(e):((0,p.sendTelemetryEvent)(d.EventName.ENVIRONMENT_CHECK_RESULT,void 0,{result:"already-ran"}),(0,o.traceVerbose)("CreateEnv Trigger - skipping this because it was already run"),Promise.resolve())}async function v(e,t,n){if(!t)return(0,p.sendTelemetryEvent)(d.EventName.ENVIRONMENT_CHECK_RESULT,void 0,{result:"no-uri"}),void(0,o.traceVerbose)("CreateEnv Trigger - Skipping No URI provided");(0,r.shouldPromptToCreateEnv)()?e===h.File?await async function(e,t){await(0,r.fileContainsInlineDependencies)(e)&&await f(e,t),await f(e,t)}(t,n):await f(t,n):((0,p.sendTelemetryEvent)(d.EventName.ENVIRONMENT_CHECK_RESULT,void 0,{result:"turned-off"}),(0,o.traceVerbose)("CreateEnv Trigger - turned off in settings"))}function g(e,t,n){setTimeout((()=>v(e,t,n).ignoreErrors()),0)}!function(e){e.File="file",e.Workspace="workspace"}(h||(t.CreateEnvironmentCheckKind=h={})),t.triggerCreateEnvironmentCheck=v,t.triggerCreateEnvironmentCheckNonBlocking=g,t.registerCreateEnvironmentTriggers=function(e){e.push((0,l.registerCommand)(u.Commands.Create_Environment_Check,(e=>{(0,p.sendTelemetryEvent)(d.EventName.ENVIRONMENT_CHECK_TRIGGER,void 0,{trigger:"as-command"}),g(h.File,e,{force:!0})})))}},59027:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTriggerForPipInTerminal=void 0;const r=n(53038),i=n(8841),o=n(14152),s=n(61905),a=n(93029),c=n(552),l=n(85784),u=n(51535),p=n(53322);t.registerTriggerForPipInTerminal=function(e){if(!(0,r.shouldPromptToCreateEnv)())return;const t=(0,i.getWorkspaceFolders)();if(!t||0===t.length)return;const n=new Map;t.forEach((e=>{n.set(e.uri.fsPath,!1)})),e.push((0,l.onDidStartTerminalShellExecution)((async e=>{const t=(0,i.getWorkspaceFolder)(e.shellIntegration.cwd);if(t&&!n.get(t.uri.fsPath)&&await(0,r.isGlobalPythonSelected)(t)&&e.execution.commandLine.isTrusted&&function(e){const t=e.toLowerCase();return t.startsWith("pip install")||t.startsWith("pip3 install")||t.startsWith("python -m pip install")||t.startsWith("python3 -m pip install")}(e.execution.commandLine.value)){n.set(t.uri.fsPath,!0),(0,u.sendTelemetryEvent)(p.EventName.ENVIRONMENT_TERMINAL_GLOBAL_PIP);const i=await(0,l.showWarningMessage)(o.CreateEnv.Trigger.globalPipInstallTriggerMessage,o.CreateEnv.Trigger.createEnvironment,o.Common.doNotShowAgain);if(i===o.CreateEnv.Trigger.createEnvironment)try{const n=await(0,a.executeCommand)(c.Commands.Create_Environment,{workspaceFolder:t,providerId:`${c.PVSC_EXTENSION_ID}:venv`});n.path&&((0,s.traceInfo)("CreateEnv Trigger - Environment created: ",n.path),(0,s.traceInfo)(`CreateEnv Trigger - Running: ${n.path} -m ${e.execution.commandLine.value.trim()}`),e.shellIntegration.executeCommand(`${n.path} -m ${e.execution.commandLine.value}`.trim()))}catch(e){(0,s.traceError)("CreateEnv Trigger - Error while creating environment: ",e)}else i===o.Common.doNotShowAgain&&(0,r.disableCreateEnvironmentTrigger)()}})))}},17992:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerInstalledPackagesDiagnosticsProvider=t.DEPS_NOT_INSTALLED_KEY=void 0;const r=n(93029),i=n(37938),o=n(85784),s=n(8841),a=n(61905),c=n(83306);async function l(e){var n;const i=null===(n=(0,o.getActiveTextEditor)())||void 0===n?void 0:n.document;if(i&&("pip-requirements"===i.languageId||i.fileName.endsWith("pyproject.toml"))){const n=e.get(i.uri);if(n&&n.length>0)return(0,a.traceVerbose)(`Setting context for python dependencies not installed: ${i.uri.fsPath}`),void await(0,r.executeCommand)("setContext",t.DEPS_NOT_INSTALLED_KEY,!0)}await(0,r.executeCommand)("setContext",t.DEPS_NOT_INSTALLED_KEY,!1)}t.DEPS_NOT_INSTALLED_KEY="pythonDepsNotInstalled",t.registerInstalledPackagesDiagnosticsProvider=function(e,t){const n=(0,i.createDiagnosticCollection)(c.INSTALL_CHECKER_SOURCE),r=(e,t)=>{t.length>0?n.set(e,t):n.has(e)&&n.delete(e)};e.push(n),e.push((0,s.onDidOpenTextDocument)((async e=>{if("pip-requirements"===e.languageId||e.fileName.endsWith("pyproject.toml")){const n=await(0,c.getInstalledPackagesDiagnostics)(t,e);r(e.uri,n)}})),(0,s.onDidSaveTextDocument)((async e=>{if("pip-requirements"===e.languageId||e.fileName.endsWith("pyproject.toml")){const n=await(0,c.getInstalledPackagesDiagnostics)(t,e);r(e.uri,n)}})),(0,s.onDidCloseTextDocument)((e=>{r(e.uri,[])})),(0,i.onDidChangeDiagnostics)((async()=>{await l(n)})),(0,o.onDidChangeActiveTextEditor)((async()=>{await l(n)})),t.onDidChangeInterpreter((()=>{(0,s.getOpenTextDocuments)().forEach((async e=>{if("pip-requirements"===e.languageId||e.fileName.endsWith("pyproject.toml")){const n=await(0,c.getInstalledPackagesDiagnostics)(t,e);r(e.uri,n)}}))}))),(0,s.getOpenTextDocuments)().forEach((async e=>{if("pip-requirements"===e.languageId||e.fileName.endsWith("pyproject.toml")){const n=await(0,c.getInstalledPackagesDiagnostics)(t,e);r(e.uri,n)}}))}},31911:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.condaCreationProvider=void 0;const s=n(54980),a=o(n(16928)),c=n(552),l=n(61905),u=n(41043),p=n(43761),d=n(7855),h=n(48112),f=n(8370),v=n(14152),g=n(70098),m=n(76650),y=n(85784),b=n(53322),_=n(51535),E=n(10056),S=n(74399);function w(e){return(0,h.getOSType)()===h.OSType.Windows?a.join(e,"python.exe"):a.join(e,"bin","python")}async function P(e){const t=await(0,g.getCondaBaseEnv)();if(!t)return;let n;const r=new y.MultiStepNode(void 0,(async e=>{try{n=await(0,u.pickWorkspaceFolder)(void 0,e)}catch(e){if(e===y.MultiStepAction.Back||e===y.MultiStepAction.Cancel)return e;throw e}return void 0===n?((0,l.traceError)("Workspace was not selected or found for creating conda environment."),y.MultiStepAction.Cancel):((0,l.traceInfo)(`Selected workspace ${n.uri.fsPath} for creating conda environment.`),y.MultiStepAction.Continue)}),void 0);let i;const o=new y.MultiStepNode(r,(async e=>{if(n&&e===y.MultiStepAction.Continue)try{return i=await(0,g.pickExistingCondaAction)(n),y.MultiStepAction.Continue}catch(e){if(e===y.MultiStepAction.Back||e===y.MultiStepAction.Cancel)return e;throw e}else if(e===y.MultiStepAction.Back)return y.MultiStepAction.Back;return y.MultiStepAction.Continue}),void 0);let a;r.next=o;const h=new y.MultiStepNode(r,(async e=>{if(i===g.ExistingCondaAction.Recreate||i===g.ExistingCondaAction.Create){try{a=await(0,g.pickPythonVersion)()}catch(e){if(e===y.MultiStepAction.Back||e===y.MultiStepAction.Cancel)return e;throw e}if(void 0===a)return(0,l.traceError)("Python version was not selected for creating conda environment."),y.MultiStepAction.Cancel;(0,l.traceInfo)(`Selected Python version ${a} for creating conda environment.`)}else if(i===g.ExistingCondaAction.UseExisting&&e===y.MultiStepAction.Back)return y.MultiStepAction.Back;return y.MultiStepAction.Continue}),void 0);o.next=h;const P=await y.MultiStepNode.run(r);if(P===y.MultiStepAction.Back||P===y.MultiStepAction.Cancel)throw P;if(n)if(i===g.ExistingCondaAction.Recreate){if((0,_.sendTelemetryEvent)(b.EventName.ENVIRONMENT_DELETE,void 0,{environmentType:"conda",status:"triggered"}),!await(0,g.deleteEnvironment)(n,w(t)))throw(0,_.sendTelemetryEvent)(b.EventName.ENVIRONMENT_DELETE,void 0,{environmentType:"conda",status:"failed"}),y.MultiStepAction.Cancel;(0,_.sendTelemetryEvent)(b.EventName.ENVIRONMENT_DELETE,void 0,{environmentType:"conda",status:"deleted"})}else if(i===g.ExistingCondaAction.UseExisting)return(0,_.sendTelemetryEvent)(b.EventName.ENVIRONMENT_REUSE,void 0,{environmentType:"conda"}),{path:(0,m.getPrefixCondaEnvPath)(n),workspaceFolder:n};return(0,y.withProgress)({location:s.ProgressLocation.Notification,title:`${v.CreateEnv.statusTitle} ([${v.Common.showLogs}](command:${c.Commands.ViewOutput}))`,cancellable:!0},(async(r,i)=>{let o;r.report({message:v.CreateEnv.statusStarting});try{if((0,_.sendTelemetryEvent)(b.EventName.ENVIRONMENT_CREATING,void 0,{environmentType:"conda",pythonVersion:a}),n){if(o=await async function(e,t,n,r,i){r.report({message:v.CreateEnv.Conda.creating});const o=(0,d.createDeferred)(),s=(0,g.getPathEnvVariableForConda)(t);(0,l.traceLog)("Running Conda Env creation script: ",[t,...n]);const{proc:a,out:c,dispose:u}=(0,p.execObservable)(t,n,{mergeStdOutErr:!0,token:i,cwd:e.uri.fsPath,env:{PATH:s}}),h=new E.CondaProgressAndTelemetry(r);let f;return c.subscribe((e=>{const t=(0,S.splitLines)(e.out).join("\r\n");(0,l.traceLog)(t.trimEnd()),(t.includes(E.CONDA_ENV_CREATED_MARKER)||t.includes(E.CONDA_ENV_EXISTING_MARKER))&&(f=function(e){try{const t=e.split(/\r?\n/g).map((e=>e.trim())).filter((e=>e.startsWith(E.CONDA_ENV_CREATED_MARKER)||e.startsWith(E.CONDA_ENV_EXISTING_MARKER)))[0];return t.includes(E.CONDA_ENV_CREATED_MARKER)?t.substring(E.CONDA_ENV_CREATED_MARKER.length):t.substring(E.CONDA_ENV_EXISTING_MARKER.length)}catch(e){return void(0,l.traceError)("Parsing out environment path failed.")}}(t)),h.process(t)}),(async e=>{(0,l.traceError)("Error while running conda env creation script: ",e),o.reject(e)}),(()=>{u(),0!==(null==a?void 0:a.exitCode)?((0,l.traceError)("Error while running venv creation script: ",h.getLastError()),o.reject(h.getLastError()||`Conda env creation failed with exitCode: ${null==a?void 0:a.exitCode}`)):o.resolve(f)})),o.promise}(n,w(t),function(e,t){let n=!0,r=!0;t&&(n=void 0===(null==t?void 0:t.ignoreSourceControl)||t.ignoreSourceControl,r=void 0===(null==t?void 0:t.installPackages)||t.installPackages);const i=[(0,f.createCondaScript)()];return n&&i.push("--git-ignore"),r&&i.push("--install"),e&&(i.push("--python"),i.push(e)),i}(a,e),r,i),o)return{path:o,workspaceFolder:n};throw new Error("Failed to create conda environment. See Output > Python for more info.")}throw new Error("A workspace is needed to create conda environment")}catch(e){return(0,l.traceError)(e),(0,m.showErrorMessageWithLogs)(v.CreateEnv.Conda.errorCreatingEnvironment),{error:e}}}))}t.condaCreationProvider=function(){return{createEnvironment:P,name:"Conda",description:v.CreateEnv.Conda.providerDescription,id:`${c.PVSC_EXTENSION_ID}:conda`,tools:["Conda"]}}},13995:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteCondaEnvironment=void 0;const r=n(43761),i=n(14152),o=n(61905),s=n(76650);t.deleteCondaEnvironment=async function(e,t,n){const a=(0,s.getPrefixCondaEnvPath)(e),c=t,l=["-m","conda","env","remove","--prefix",a,"--yes"];try{(0,o.traceInfo)(`Deleting conda environment: ${a}`),(0,o.traceInfo)(`Running command: ${c} ${l.join(" ")}`);const t=await(0,r.plainExec)(c,l,{mergeStdOutErr:!0},{...process.env,PATH:n});if((0,o.traceInfo)(t.stdout),await(0,s.hasPrefixCondaEnv)(e))return(0,o.traceError)(`Conda environment ${a} could not be deleted.`),(0,o.traceError)(`Please delete the environment manually: ${a}`),(0,s.showErrorMessageWithLogs)(i.CreateEnv.Conda.errorDeletingEnvironment),!1}catch(e){return(0,s.showErrorMessageWithLogs)(i.CreateEnv.Conda.errorDeletingEnvironment),(0,o.traceError)(`Deleting conda environment ${a} Failed with error: `,e),!1}return!0}},10056:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CondaProgressAndTelemetry=t.CREATE_FAILED_INSTALL_YML=t.CREATE_CONDA_INSTALLED_YML=t.CREATE_CONDA_FAILED_MARKER=t.CONDA_INSTALLING_YML=t.CONDA_ENV_EXISTING_MARKER=t.CONDA_ENV_CREATED_MARKER=void 0;const r=n(14152),i=n(51535),o=n(53322);t.CONDA_ENV_CREATED_MARKER="CREATED_CONDA_ENV:",t.CONDA_ENV_EXISTING_MARKER="EXISTING_CONDA_ENV:",t.CONDA_INSTALLING_YML="CONDA_INSTALLING_YML:",t.CREATE_CONDA_FAILED_MARKER="CREATE_CONDA.ENV_FAILED_CREATION",t.CREATE_CONDA_INSTALLED_YML="CREATE_CONDA.INSTALLED_YML",t.CREATE_FAILED_INSTALL_YML="CREATE_CONDA.FAILED_INSTALL_YML",t.CondaProgressAndTelemetry=class{constructor(e){this.progress=e,this.condaCreatedReported=!1,this.condaFailedReported=!1,this.condaInstallingPackagesReported=!1,this.condaInstallingPackagesFailedReported=!1,this.condaInstalledPackagesReported=!1,this.lastError=void 0}process(e){!this.condaCreatedReported&&e.includes(t.CONDA_ENV_CREATED_MARKER)?(this.condaCreatedReported=!0,this.progress.report({message:r.CreateEnv.Conda.created}),(0,i.sendTelemetryEvent)(o.EventName.ENVIRONMENT_CREATED,void 0,{environmentType:"conda",reason:"created"})):!this.condaCreatedReported&&e.includes(t.CONDA_ENV_EXISTING_MARKER)?(this.condaCreatedReported=!0,this.progress.report({message:r.CreateEnv.Conda.created}),(0,i.sendTelemetryEvent)(o.EventName.ENVIRONMENT_CREATED,void 0,{environmentType:"conda",reason:"existing"})):!this.condaFailedReported&&e.includes(t.CREATE_CONDA_FAILED_MARKER)?(this.condaFailedReported=!0,(0,i.sendTelemetryEvent)(o.EventName.ENVIRONMENT_FAILED,void 0,{environmentType:"conda",reason:"other"}),this.lastError=t.CREATE_CONDA_FAILED_MARKER):!this.condaInstallingPackagesReported&&e.includes(t.CONDA_INSTALLING_YML)?(this.condaInstallingPackagesReported=!0,this.progress.report({message:r.CreateEnv.Conda.installingPackages}),(0,i.sendTelemetryEvent)(o.EventName.ENVIRONMENT_INSTALLING_PACKAGES,void 0,{environmentType:"conda",using:"environment.yml"})):!this.condaInstallingPackagesFailedReported&&e.includes(t.CREATE_FAILED_INSTALL_YML)?(this.condaInstallingPackagesFailedReported=!0,(0,i.sendTelemetryEvent)(o.EventName.ENVIRONMENT_INSTALLING_PACKAGES_FAILED,void 0,{environmentType:"conda",using:"environment.yml"}),this.lastError=t.CREATE_FAILED_INSTALL_YML):!this.condaInstalledPackagesReported&&e.includes(t.CREATE_CONDA_INSTALLED_YML)&&(this.condaInstalledPackagesReported=!0,(0,i.sendTelemetryEvent)(o.EventName.ENVIRONMENT_INSTALLED_PACKAGES,void 0,{environmentType:"conda",using:"environment.yml"}))}getLastError(){return this.lastError}}},70098:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.pickExistingCondaAction=t.ExistingCondaAction=t.deleteEnvironment=t.getPathEnvVariableForConda=t.pickPythonVersion=t.getCondaBaseEnv=void 0;const s=o(n(16928)),a=n(54980),c=n(552),l=n(14152),u=n(93029),p=n(85784),d=n(61905),h=n(95885),f=n(76650),v=n(48112),g=n(13995);function m(e){const t=(0,v.getEnvironmentVariable)("PATH")||(0,v.getEnvironmentVariable)("Path")||"";if((0,v.getOSType)()===v.OSType.Windows){const n=s.dirname(e);return`${[s.join(n,"Library","bin"),s.join(n,"Library","mingw-w64","bin"),s.join(n,"Library","usr","bin"),s.join(n,"bin"),s.join(n,"Scripts")].join(s.delimiter)}${s.delimiter}${t}`}return t}var y;t.getCondaBaseEnv=async function(){const e=await h.Conda.getConda();if(!e)return void(await(0,p.showErrorMessage)(l.CreateEnv.Conda.condaMissing,l.Common.learnMore)===l.Common.learnMore&&await(0,u.executeCommand)("vscode.open",a.Uri.parse("https://docs.anaconda.com/anaconda/install/")));const t=(await e.getEnvList()).filter((e=>"base"===e.name));if(1===t.length)return t[0].prefix;t.length>1&&(0,d.traceLog)("Multiple conda base envs detected: ",t.map((e=>e.prefix)))},t.pickPythonVersion=async function(e){const t=["3.11","3.12","3.10","3.9","3.8"].map((e=>({label:"3.11"===e?`${c.Octicons.Star} Python`:"Python",description:e}))),n=await(0,p.showQuickPickWithBack)(t,{placeHolder:l.CreateEnv.Conda.selectPythonQuickPickPlaceholder,matchOnDescription:!0,ignoreFocusOut:!0},e);if(n)return n.description},t.getPathEnvVariableForConda=m,t.deleteEnvironment=async function(e,t){const n=(0,f.getPrefixCondaEnvPath)(e);return(0,p.withProgress)({location:a.ProgressLocation.Notification,title:`${l.CreateEnv.Conda.deletingEnvironmentProgress} ([${l.Common.showLogs}](command:${c.Commands.ViewOutput})): ${n}`,cancellable:!1},(async()=>(0,g.deleteCondaEnvironment)(e,t,m(t))))},function(e){e[e.Recreate=0]="Recreate",e[e.UseExisting=1]="UseExisting",e[e.Create=2]="Create"}(y||(t.ExistingCondaAction=y={})),t.pickExistingCondaAction=async function(e){if(e){if(!await(0,f.hasPrefixCondaEnv)(e))return y.Create;{const e=[{label:l.CreateEnv.Conda.recreate,description:l.CreateEnv.Conda.recreateDescription},{label:l.CreateEnv.Conda.useExisting,description:l.CreateEnv.Conda.useExistingDescription}],t=await(0,p.showQuickPickWithBack)(e,{placeHolder:l.CreateEnv.Conda.existingCondaQuickPickPlaceholder,ignoreFocusOut:!0},void 0);if((null==t?void 0:t.label)===l.CreateEnv.Conda.recreate)return y.Recreate;if((null==t?void 0:t.label)===l.CreateEnv.Conda.useExisting)return y.UseExisting}}throw p.MultiStepAction.Cancel}},18983:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.VenvCreationProvider=void 0;const s=o(n(70857)),a=n(54980),c=n(552),l=n(8370),u=n(43761),p=n(7855),d=n(14152),h=n(61905),f=n(41043),v=n(25297),g=n(85784),m=n(51535),y=n(53322),b=n(5544),_=n(76650),E=n(31026),S=n(70670);t.VenvCreationProvider=class{constructor(e){this.interpreterQuickPick=e,this.name="Venv",this.description=d.CreateEnv.Venv.providerDescription,this.id=`${c.PVSC_EXTENSION_ID}:venv`,this.tools=["Venv"]}async createEnvironment(e){let t;const n=new g.MultiStepNode(void 0,(async n=>{try{t=await(0,f.pickWorkspaceFolder)({preSelectedWorkspace:null==e?void 0:e.workspaceFolder},n)}catch(e){if(e===g.MultiStepAction.Back||e===g.MultiStepAction.Cancel)return e;throw e}return void 0===t?((0,h.traceError)("Workspace was not selected or found for creating virtual environment."),g.MultiStepAction.Cancel):((0,h.traceInfo)(`Selected workspace ${t.uri.fsPath} for creating virtual environment.`),g.MultiStepAction.Continue)}),void 0);let r;const i=new g.MultiStepNode(n,(async e=>{if(t&&e===g.MultiStepAction.Continue)try{return r=await(0,E.pickExistingVenvAction)(t),g.MultiStepAction.Continue}catch(e){if(e===g.MultiStepAction.Back||e===g.MultiStepAction.Cancel)return e;throw e}else if(e===g.MultiStepAction.Back)return g.MultiStepAction.Back;return g.MultiStepAction.Continue}),void 0);let o;n.next=i;const w=new g.MultiStepNode(i,(async e=>{if(t)if(r===E.ExistingVenvAction.Recreate||r===E.ExistingVenvAction.Create)try{o=await this.interpreterQuickPick.getInterpreterViaQuickPick(t.uri,(e=>[v.EnvironmentType.System,v.EnvironmentType.MicrosoftStore,v.EnvironmentType.Global,v.EnvironmentType.Pyenv].includes(e.envType)&&void 0===e.type),{skipRecommended:!0,showBackButton:!0,placeholder:d.CreateEnv.Venv.selectPythonPlaceHolder,title:null})}catch(e){if(e===S.InputFlowAction.back)return g.MultiStepAction.Back;o=void 0}else if(r===E.ExistingVenvAction.UseExisting){if(e===g.MultiStepAction.Back)return g.MultiStepAction.Back;o=(0,_.getVenvExecutable)(t)}return o?((0,h.traceInfo)(`Selected interpreter ${o} for creating virtual environment.`),g.MultiStepAction.Continue):((0,h.traceError)("Virtual env creation requires an interpreter."),g.MultiStepAction.Cancel)}),void 0);i.next=w;let P,T=!0,C=!0;e&&(T=void 0===(null==e?void 0:e.ignoreSourceControl)||e.ignoreSourceControl,C=void 0===(null==e?void 0:e.installPackages)||e.installPackages);const x=new g.MultiStepNode(w,(async e=>{if(t&&C)if(r!==E.ExistingVenvAction.UseExisting){try{P=await(0,E.pickPackagesToInstall)(t)}catch(e){if(e===g.MultiStepAction.Back||e===g.MultiStepAction.Cancel)return e;throw e}if(!P)return(0,h.traceVerbose)("Virtual env creation exited during dependencies selection."),g.MultiStepAction.Cancel}else if(e===g.MultiStepAction.Back)return g.MultiStepAction.Back;return g.MultiStepAction.Continue}),void 0);w.next=x;const I=await g.MultiStepNode.run(n);if(I===g.MultiStepAction.Back||I===g.MultiStepAction.Cancel)throw I;if(t)if(r===E.ExistingVenvAction.Recreate){if((0,m.sendTelemetryEvent)(y.EventName.ENVIRONMENT_DELETE,void 0,{environmentType:"venv",status:"triggered"}),!await(0,E.deleteEnvironment)(t,o))throw(0,m.sendTelemetryEvent)(y.EventName.ENVIRONMENT_DELETE,void 0,{environmentType:"venv",status:"failed"}),g.MultiStepAction.Cancel;(0,m.sendTelemetryEvent)(y.EventName.ENVIRONMENT_DELETE,void 0,{environmentType:"venv",status:"deleted"})}else if(r===E.ExistingVenvAction.UseExisting)return(0,m.sendTelemetryEvent)(y.EventName.ENVIRONMENT_REUSE,void 0,{environmentType:"venv"}),{path:(0,_.getVenvExecutable)(t),workspaceFolder:t};const O=function(e,t){var n;const r=[(0,l.createVenvScript)()];let i;if(t&&r.push("--git-ignore"),e){if(e.some((e=>"toml"===e.installType))){const t=null===(n=e.find((e=>"toml"===e.installType)))||void 0===n?void 0:n.source;r.push("--toml",(null==t?void 0:t.fileToCommandArgumentForPythonExt())||"pyproject.toml")}e.filter((e=>"toml"===e.installType)).map((e=>e.installItem)).forEach((e=>{e&&r.push("--extras",e)}));const t=e.filter((e=>"requirements"===e.installType)).map((e=>e.installItem));t.length<10?t.forEach((e=>{e&&r.push("--requirements",e)})):(r.push("--stdin"),i=JSON.stringify({requirements:t}))}return{argv:r,stdin:i}}(P,T);return(0,g.withProgress)({location:a.ProgressLocation.Notification,title:`${d.CreateEnv.statusTitle} ([${d.Common.showLogs}](command:${c.Commands.ViewOutput}))`,cancellable:!0},(async(e,n)=>{let r;e.report({message:d.CreateEnv.statusStarting});try{if(o&&t){if(r=await async function(e,t,n,r,i){r.report({message:d.CreateEnv.Venv.creating}),(0,m.sendTelemetryEvent)(y.EventName.ENVIRONMENT_CREATING,void 0,{environmentType:"venv",pythonVersion:void 0});const o=(0,p.createDeferred)();(0,h.traceLog)("Running Env creation script: ",[t,...n.argv]),n.stdin&&(0,h.traceLog)("Requirements passed in via stdin: ",n.stdin);const{proc:a,out:c,dispose:l}=(0,u.execObservable)(t,n.argv,{mergeStdOutErr:!0,token:i,cwd:e.uri.fsPath,stdinStr:n.stdin}),f=new b.VenvProgressAndTelemetry(r);let v;return c.subscribe((e=>{const t=e.out.split(/\r?\n/g).join(s.EOL);(0,h.traceLog)(t.trimEnd()),(t.includes(b.VENV_CREATED_MARKER)||t.includes(b.VENV_EXISTING_MARKER))&&(v=function(e){try{const t=e.split(/\r?\n/g).map((e=>e.trim())).filter((e=>e.startsWith(b.VENV_CREATED_MARKER)||e.startsWith(b.VENV_EXISTING_MARKER)))[0];return t.includes(b.VENV_CREATED_MARKER)?t.substring(b.VENV_CREATED_MARKER.length):t.substring(b.VENV_EXISTING_MARKER.length)}catch(e){return void(0,h.traceError)("Parsing out environment path failed.")}}(t)),f.process(t)}),(e=>{(0,h.traceError)("Error while running venv creation script: ",e),o.reject(e)}),(()=>{l(),0!==(null==a?void 0:a.exitCode)?((0,h.traceError)("Error while running venv creation script: ",f.getLastError()),o.reject(f.getLastError()||`Failed to create virtual environment with exitCode: ${null==a?void 0:a.exitCode}`)):o.resolve(v)})),o.promise}(t,o,O,e,n),r)return{path:r,workspaceFolder:t};throw new Error("Failed to create virtual environment. See Output > Python for more info.")}throw new Error("Failed to create virtual environment. Either interpreter or workspace is undefined.")}catch(e){return(0,h.traceError)(e),(0,_.showErrorMessageWithLogs)(d.CreateEnv.Venv.errorCreatingEnvironment),{error:e}}}))}}},84491:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteEnvironmentWindows=t.deleteEnvironmentNonWindows=void 0;const s=o(n(16928)),a=o(n(25943)),c=n(61905),l=n(76650),u=n(14152),p=n(7855),d=n(1521);async function h(e){try{return!await a.pathExists(e)||(await a.rmdir(e,{recursive:!0,maxRetries:10,retryDelay:200}),!0)}catch(t){return(0,c.traceError)(`Failed to delete directory [${e}]:`,t),!1}}t.deleteEnvironmentNonWindows=async function(e){const t=(0,l.getVenvPath)(e);return await h(t)?((0,c.traceInfo)(`Deleted venv dir: ${t}`),!0):((0,l.showErrorMessageWithLogs)(u.CreateEnv.Venv.errorDeletingEnvironment),!1)},t.deleteEnvironmentWindows=async function(e,t){const n=(0,l.getVenvPath)(e),r=s.join(n,"Scripts","python.exe");if(await async function(e){try{return!await a.pathExists(e)||(await a.unlink(e),!0)}catch(t){return(0,c.traceError)(`Failed to delete file [${e}]:`,t),!1}}(r))return(0,c.traceInfo)(`Deleted python executable: ${r}`),await h(n)?((0,c.traceInfo)(`Deleted ".venv" dir: ${n}`),!0):((0,c.traceError)(`Failed to delete ".venv" dir: ${n}`),(0,c.traceError)("This happens if the virtual environment is still in use, or some binary in the venv is still running."),(0,c.traceError)(`Please delete the ".venv" manually: [${n}]`),(0,l.showErrorMessageWithLogs)(u.CreateEnv.Venv.errorDeletingEnvironment),!1);if((0,c.traceError)(`Failed to delete python executable: ${r}`),(0,c.traceError)("This happens if the virtual environment is still in use."),t){(0,c.traceError)('We will attempt to switch python temporarily to delete the ".venv"'),await(0,d.switchSelectedPython)(t,e.uri,'temporarily to delete the ".venv"'),(0,c.traceInfo)(`Attempting to delete ".venv" again: ${n}`);const r=500;for(let e=0;e<5;e+=1){if((0,c.traceInfo)(`Waiting for ${r}ms to let processes exit, before a delete attempt.`),await(0,p.sleep)(r),await h(n))return(0,c.traceInfo)(`Deleted ".venv" dir: ${n}`),!0;(0,c.traceError)(`Failed to delete ".venv" dir [${n}] (attempt ${e+1}/5).`)}}else(0,c.traceError)(`Please delete the ".venv" dir manually: [${n}]`);return(0,l.showErrorMessageWithLogs)(u.CreateEnv.Venv.errorDeletingEnvironment),!1}},5544:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VenvProgressAndTelemetry=t.VENV_EXISTING_MARKER=t.VENV_CREATED_MARKER=void 0;const r=n(14152),i=n(51535),o=n(53322);t.VENV_CREATED_MARKER="CREATED_VENV:",t.VENV_EXISTING_MARKER="EXISTING_VENV:";const s="CREATE_VENV.PIP_NOT_FOUND",a="CREATE_VENV.VENV_NOT_FOUND",c="CREATE_VENV.PIP_FAILED_INSTALL_REQUIREMENTS",l="CREATE_VENV.PIP_FAILED_INSTALL_PYPROJECT",u="CREATE_VENV.VENV_FAILED_CREATION",p="CREATE_VENV.UPGRADE_PIP_FAILED",d="CREATE_VENV.MICROVENV_FAILED_CREATION",h="CREATE_MICROVENV.MICROVENV_FAILED_CREATION",f="CREATE_VENV.INSTALL_PIP_FAILED",v="CREATE_VENV.DOWNLOAD_PIP_FAILED";t.VenvProgressAndTelemetry=class{constructor(e){this.progress=e,this.processed=new Set,this.reportActions=new Map([[t.VENV_CREATED_MARKER,e=>{e.report({message:r.CreateEnv.Venv.created}),(0,i.sendTelemetryEvent)(o.EventName.ENVIRONMENT_CREATED,void 0,{environmentType:"venv",reason:"created"})}],[t.VENV_EXISTING_MARKER,e=>{e.report({message:r.CreateEnv.Venv.existing}),(0,i.sendTelemetryEvent)(o.EventName.ENVIRONMENT_CREATED,void 0,{environmentType:"venv",reason:"existing"})}],["VENV_INSTALLING_REQUIREMENTS:",e=>{e.report({message:r.CreateEnv.Venv.installingPackages}),(0,i.sendTelemetryEvent)(o.EventName.ENVIRONMENT_INSTALLING_PACKAGES,void 0,{environmentType:"venv",using:"requirements.txt"})}],["VENV_INSTALLING_PYPROJECT:",e=>{e.report({message:r.CreateEnv.Venv.installingPackages}),(0,i.sendTelemetryEvent)(o.EventName.ENVIRONMENT_INSTALLING_PACKAGES,void 0,{environmentType:"venv",using:"pyproject.toml"})}],[s,e=>((0,i.sendTelemetryEvent)(o.EventName.ENVIRONMENT_FAILED,void 0,{environmentType:"venv",reason:"noPip"}),s)],["CREATE_VENV.DISTUTILS_NOT_INSTALLED",e=>((0,i.sendTelemetryEvent)(o.EventName.ENVIRONMENT_FAILED,void 0,{environmentType:"venv",reason:"noDistUtils"}),a)],[a,e=>((0,i.sendTelemetryEvent)(o.EventName.ENVIRONMENT_FAILED,void 0,{environmentType:"venv",reason:"noVenv"}),a)],[c,e=>((0,i.sendTelemetryEvent)(o.EventName.ENVIRONMENT_INSTALLING_PACKAGES_FAILED,void 0,{environmentType:"venv",using:"requirements.txt"}),c)],[l,e=>((0,i.sendTelemetryEvent)(o.EventName.ENVIRONMENT_INSTALLING_PACKAGES_FAILED,void 0,{environmentType:"venv",using:"pyproject.toml"}),l)],[u,e=>((0,i.sendTelemetryEvent)(o.EventName.ENVIRONMENT_FAILED,void 0,{environmentType:"venv",reason:"other"}),u)],["CREATE_VENV.VENV_ALREADY_EXISTS",e=>{(0,i.sendTelemetryEvent)(o.EventName.ENVIRONMENT_CREATED,void 0,{environmentType:"venv",reason:"existing"})}],["CREATE_VENV.PIP_INSTALLED_REQUIREMENTS",e=>{(0,i.sendTelemetryEvent)(o.EventName.ENVIRONMENT_INSTALLED_PACKAGES,void 0,{environmentType:"venv",using:"requirements.txt"})}],["CREATE_VENV.PIP_INSTALLED_PYPROJECT",e=>{(0,i.sendTelemetryEvent)(o.EventName.ENVIRONMENT_INSTALLED_PACKAGES,void 0,{environmentType:"venv",using:"pyproject.toml"})}],["CREATE_VENV.UPGRADED_PIP",e=>{(0,i.sendTelemetryEvent)(o.EventName.ENVIRONMENT_INSTALLED_PACKAGES,void 0,{environmentType:"venv",using:"pipUpgrade"})}],[p,e=>((0,i.sendTelemetryEvent)(o.EventName.ENVIRONMENT_INSTALLING_PACKAGES_FAILED,void 0,{environmentType:"venv",using:"pipUpgrade"}),p)],["CREATE_VENV.DOWNLOADING_PIP",e=>{e.report({message:r.CreateEnv.Venv.downloadingPip}),(0,i.sendTelemetryEvent)(o.EventName.ENVIRONMENT_INSTALLING_PACKAGES,void 0,{environmentType:"venv",using:"pipDownload"})}],[v,e=>((0,i.sendTelemetryEvent)(o.EventName.ENVIRONMENT_INSTALLING_PACKAGES_FAILED,void 0,{environmentType:"venv",using:"pipDownload"}),v)],["CREATE_VENV.INSTALLING_PIP",e=>{e.report({message:r.CreateEnv.Venv.installingPip}),(0,i.sendTelemetryEvent)(o.EventName.ENVIRONMENT_INSTALLING_PACKAGES,void 0,{environmentType:"venv",using:"pipInstall"})}],[f,e=>((0,i.sendTelemetryEvent)(o.EventName.ENVIRONMENT_INSTALLING_PACKAGES_FAILED,void 0,{environmentType:"venv",using:"pipInstall"}),f)],["CREATE_MICROVENV.CREATING_MICROVENV",e=>{e.report({message:r.CreateEnv.Venv.creatingMicrovenv}),(0,i.sendTelemetryEvent)(o.EventName.ENVIRONMENT_CREATING,void 0,{environmentType:"microvenv",pythonVersion:void 0})}],[d,e=>((0,i.sendTelemetryEvent)(o.EventName.ENVIRONMENT_FAILED,void 0,{environmentType:"microvenv",reason:"other"}),d)],[h,e=>((0,i.sendTelemetryEvent)(o.EventName.ENVIRONMENT_FAILED,void 0,{environmentType:"microvenv",reason:"other"}),h)],["CREATE_MICROVENV.CREATED_MICROVENV",e=>{(0,i.sendTelemetryEvent)(o.EventName.ENVIRONMENT_CREATED,void 0,{environmentType:"microvenv",reason:"created"})}],["CREATE_VENV.UPGRADING_PIP",e=>{e.report({message:r.CreateEnv.Venv.upgradingPip}),(0,i.sendTelemetryEvent)(o.EventName.ENVIRONMENT_INSTALLING_PACKAGES,void 0,{environmentType:"venv",using:"pipUpgrade"})}]]),this.lastError=void 0}getLastError(){return this.lastError}process(e){const t=Array.from(this.reportActions.keys());for(const n of t)if(e.includes(n)&&!this.processed.has(n)){const e=this.reportActions.get(n);if(e){const t=e(this.progress);t&&(this.lastError=t)}this.processed.add(n)}}}},1521:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.switchSelectedPython=void 0;const s=o(n(16928)),a=n(7855),c=n(34467),l=n(46225),u=n(61905);t.switchSelectedPython=async function(e,t,n){var r;let i;try{const o=(0,a.createDeferred)(),p=null===(r=(0,c.getExtension)(l.PVSC_EXTENSION_ID))||void 0===r?void 0:r.exports;i=p.environments.onDidChangeActiveEnvironmentPath((async t=>{s.normalize(t.path)===s.normalize(e)&&((0,u.traceInfo)(`Switched to interpreter ${n}: ${e}`),o.resolve())})),p.environments.updateActiveEnvironmentPath(e,t),(0,u.traceInfo)(`Switching interpreter ${n}: ${e}`),await o.promise}finally{null==i||i.dispose()}}},31026:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.pickExistingVenvAction=t.ExistingVenvAction=t.deleteEnvironment=t.pickPackagesToInstall=t.isPipInstallableToml=t.getPipRequirementsFiles=t.OPEN_REQUIREMENTS_BUTTON=void 0;const s=o(n(10009)),a=n(2543),c=o(n(16928)),l=n(54980),u=o(n(25943)),p=n(14152),d=n(85784),h=n(8841),f=n(61905),v=n(552),g=n(48112),m=n(76650),y=n(84491);t.OPEN_REQUIREMENTS_BUTTON={iconPath:new l.ThemeIcon("go-to-file"),tooltip:p.CreateEnv.Venv.openRequirementsFile};const b="**/{.venv*,.git,.nox,.tox,.conda,site-packages,__pypackages__}/**";async function _(e,t){return(0,a.flatten)(await Promise.all([(0,h.findFiles)(new l.RelativePattern(e,"**/*requirement*.txt"),b,void 0,t),(0,h.findFiles)(new l.RelativePattern(e,"**/requirements/*.txt"),b,void 0,t)])).map((e=>e.fsPath))}function E(e){try{return s.parse(e)}catch(e){(0,f.traceError)("Failed to parse `pyproject.toml`:",e)}return{}}function S(e){return void 0!==e["build-system"]}function w(e){return void 0!==e.project}var P;t.getPipRequirementsFiles=_,t.isPipInstallableToml=function(e){const t=E(e);return S(t)&&w(t)},t.pickPackagesToInstall=async function(e,n){const r=c.join(e.uri.fsPath,"pyproject.toml"),i=[],o=new d.MultiStepNode(void 0,(async e=>{(0,f.traceVerbose)(`Looking for toml pyproject.toml with optional dependencies at: ${r}`);let t=[],o=!1,s=!1;if(await u.pathExists(r)){const e=E(await u.readFile(r,"utf-8"));t=function(e){const t=[];if(e.project&&e.project["optional-dependencies"]){const n=e.project["optional-dependencies"];for(const e of Object.keys(n))t.push(e)}return t}(e),o=S(e),s=w(e),s||(0,f.traceVerbose)("Create env: Found toml without project. So we will not use editable install."),o||(0,f.traceVerbose)("Create env: Found toml without build system. So we will not use editable install."),0===t.length&&(0,f.traceVerbose)("Create env: Found toml without optional dependencies.")}else if(e===d.MultiStepAction.Back)return d.MultiStepAction.Back;if(o&&s)if(t.length>0){(0,f.traceVerbose)("Create Env: Found toml with optional dependencies.");try{const e=await async function(e,t){const n=e.map((e=>({label:e}))),r=await(0,d.showQuickPickWithBack)(n,{placeHolder:p.CreateEnv.Venv.tomlExtrasQuickPickTitle,canPickMany:!0,ignoreFocusOut:!0},t);if(r&&(0,a.isArray)(r))return r.map((e=>e.label))}(t,n);if(!e)return d.MultiStepAction.Cancel;e.length>0&&e.forEach((e=>{i.push({installType:"toml",installItem:e,source:r})})),i.push({installType:"toml",source:r})}catch(e){if(e===d.MultiStepAction.Back||e===d.MultiStepAction.Cancel)return e;throw e}}else{if(e===d.MultiStepAction.Back)return d.MultiStepAction.Back;i.push({installType:"toml",source:r})}else if(e===d.MultiStepAction.Back)return d.MultiStepAction.Back;return d.MultiStepAction.Continue}),void 0),s=new d.MultiStepNode(o,(async r=>{(0,f.traceVerbose)("Looking for pip requirements.");const o=await _(e,n);if(o&&o.length>0){(0,f.traceVerbose)("Found pip requirements.");try{const r=await async function(e,n,r){const i=e.map((e=>c.relative(n,e))).sort(((e,t)=>{const n=e.split(/[\\\/]/).length,r=t.split(/[\\\/]/).length;return n===r?e.length===t.length?e.localeCompare(t):e.length-t.length:n-r})).map((e=>({label:e,buttons:[t.OPEN_REQUIREMENTS_BUTTON]}))),o=await(0,d.showQuickPickWithBack)(i,{placeHolder:p.CreateEnv.Venv.requirementsQuickPickTitle,ignoreFocusOut:!0,canPickMany:!0},r,(async e=>{e.item.label&&await(0,d.showTextDocument)(l.Uri.file(c.join(n,e.item.label)))}));if(o&&(0,a.isArray)(o))return o.map((e=>e.label))}(o,e.uri.fsPath,n),s=null==r?void 0:r.map((t=>c.join(e.uri.fsPath,t)));if(!s)return d.MultiStepAction.Cancel;s.forEach((e=>{i.push({installType:"requirements",installItem:e})}))}catch(e){if(e===d.MultiStepAction.Back||e===d.MultiStepAction.Cancel)return e;throw e}}else if(r===d.MultiStepAction.Back)return d.MultiStepAction.Back;return d.MultiStepAction.Continue}),void 0);o.next=s;const h=await d.MultiStepNode.run(o);if(h===d.MultiStepAction.Back||h===d.MultiStepAction.Cancel)throw h;return i},t.deleteEnvironment=async function(e,t){const n=(0,m.getVenvPath)(e);return(0,d.withProgress)({location:l.ProgressLocation.Notification,title:`${p.CreateEnv.Venv.deletingEnvironmentProgress} ([${p.Common.showLogs}](command:${v.Commands.ViewOutput})): ${n}`,cancellable:!1},(async()=>(0,g.isWindows)()?(0,y.deleteEnvironmentWindows)(e,t):(0,y.deleteEnvironmentNonWindows)(e)))},function(e){e[e.Recreate=0]="Recreate",e[e.UseExisting=1]="UseExisting",e[e.Create=2]="Create"}(P||(t.ExistingVenvAction=P={})),t.pickExistingVenvAction=async function(e){if(e){if(!await(0,m.hasVenv)(e))return P.Create;{const e=[{label:p.CreateEnv.Venv.useExisting,description:p.CreateEnv.Venv.useExistingDescription},{label:p.CreateEnv.Venv.recreate,description:p.CreateEnv.Venv.recreateDescription}],t=await(0,d.showQuickPickWithBack)(e,{placeHolder:p.CreateEnv.Venv.existingVenvQuickPickPlaceholder,ignoreFocusOut:!0},void 0);if((null==t?void 0:t.label)===p.CreateEnv.Venv.recreate)return P.Recreate;if((null==t?void 0:t.label)===p.CreateEnv.Venv.useExisting)return P.UseExisting}}throw d.MultiStepAction.Cancel}},86853:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerPyProjectTomlFeatures=void 0;const r=n(93029),i=n(8841),o=n(31026);async function s(e){(0,o.isPipInstallableToml)(e.getText())?await(0,r.executeCommand)("setContext","pipInstallableToml",!0):await(0,r.executeCommand)("setContext","pipInstallableToml",!1)}t.registerPyProjectTomlFeatures=function(e){e.push((0,i.onDidOpenTextDocument)((async e=>{e.fileName.endsWith("pyproject.toml")&&await s(e)})),(0,i.onDidSaveTextDocument)((async e=>{e.fileName.endsWith("pyproject.toml")&&await s(e)}))),(0,i.getOpenTextDocuments)().filter((e=>e.fileName.endsWith("pyproject.toml")&&(0,o.isPipInstallableToml)(e.getText()))).length>0?(0,r.executeCommand)("setContext","pipInstallableToml",!0):(0,r.executeCommand)("setContext","pipInstallableToml",!1)}},30966:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerAllCreateEnvironmentFeatures=void 0;const r=n(50499),i=n(26624),o=n(59027),s=n(17992),a=n(86853);t.registerAllCreateEnvironmentFeatures=function(e,t,n,c,l){(0,r.registerCreateEnvironmentFeatures)(e,t,n,l),(0,i.registerCreateEnvironmentButtonFeatures)(e),(0,a.registerPyProjectTomlFeatures)(e),(0,s.registerInstalledPackagesDiagnosticsProvider)(e,c),(0,o.registerTriggerForPipInTerminal)(e)}},20467:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.copyPythonExecInfo=t.buildPythonExecInfo=void 0,t.buildPythonExecInfo=function(e,t,n){if(Array.isArray(e)){const r=e.slice(1);return t&&r.push(...t),{args:r,command:e[0],python:[...e],pythonExecutable:null!=n?n:e[e.length-1]}}return{command:e,args:t||[],python:[e],pythonExecutable:e}},t.copyPythonExecInfo=function(e,t){const n={command:e.command,args:[...e.args],python:[...e.python],pythonExecutable:e.pythonExecutable};return t&&n.args.push(...t),void 0===n.pythonExecutable&&(n.pythonExecutable=n.python[n.python.length-1]),n}},51172:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.activate=t.initialize=t.shouldUseNativeLocator=void 0;const s=o(n(54980)),a=n(54980),c=n(2543),l=n(9923),u=n(48112),p=n(4898),d=n(78582),h=n(2097),f=n(32080),v=n(69396),g=n(74236),m=n(45882),y=n(63484),b=n(94733),_=n(17663),E=n(27919),S=n(41979),w=n(83406),P=n(24509),T=n(37012),C=n(33342),x=n(85243),I=n(30228),O=n(91428),R=n(95117),D=n(61905),k=n(14688),A=n(60161),N=n(13545),j=n(8841),M=n(14601),L=n(53933),F=n(36380),V=n(58136),U="PYTHON_ENV_INFO_CACHEv2";function H(){return"native"===(0,j.getConfiguration)("python").get("locator","js")}function W(e){const{initRoot:t,addRoot:n,removeRoot:r}=e,i=s.workspace.workspaceFolders;return i&&i.map((e=>e.uri)).forEach(t),s.workspace.onDidChangeWorkspaceFolders((e=>{for(const t of e.removed)r(t.uri);for(const t of e.added)n(t.uri)}))}t.shouldUseNativeLocator=H,t.initialize=async function(e){if((0,v.initializeExternalDependencies)(e.legacyIOC.serviceContainer),(0,F.useEnvExtension)()){const t=await(0,V.createEnvExtApi)(e.disposables);return(0,T.registerNewDiscoveryForIOC)(e.legacyIOC.serviceManager,t),t}if(H()){const t=(0,M.getNativePythonFinder)(e.context),n=(0,L.createNativeEnvironmentsApi)(t);return e.disposables.push(n),(0,T.registerNewDiscoveryForIOC)(e.legacyIOC.serviceManager,n),n}const t=await(0,I.createPythonEnvironments)((()=>async function(e){const t=new g.ExtensionLocators(function(e){const t=[];t.push(new E.PyenvLocator,new y.CondaEnvironmentLocator,new k.ActiveStateLocator,new b.GlobalVirtualEnvironmentLocator,new m.CustomVirtualEnvironmentLocator),(0,u.getOSType)()===u.OSType.Windows?t.push(new S.WindowsRegistryLocator,new w.MicrosoftStoreLocator,new h.WindowsPathEnvVarLocator):t.push(new _.PosixKnownPathsLocator);const n=t.filter((e=>void 0!==e.dispose));return e.disposables.push(...n),t}(e),function(e){const t=new g.WorkspaceLocators(W,[e=>[new f.WorkspaceVirtualEnvironmentLocator(e.fsPath),new C.PoetryLocator(e.fsPath),new x.HatchLocator(e.fsPath),new N.PixiLocator(e.fsPath),new A.CustomWorkspaceLocator(e.fsPath)]]);return e.disposables.push(t),t}(e)),n=(0,P.getEnvironmentInfoService)(e.disposables),r=new p.PythonEnvsReducer(t),i=new d.PythonEnvsResolver(r,n),o=new R.EnvsCollectionService(await async function(e){const t=(0,l.getGlobalStorage)(e.context,U,[]);return await(0,O.createCollectionCache)({get:()=>function(e){return e.get().map((e=>(e.searchLocation&&("string"==typeof e.searchLocation?e.searchLocation=a.Uri.parse(e.searchLocation):"scheme"in e.searchLocation&&"path"in e.searchLocation?e.searchLocation=a.Uri.parse(`${e.searchLocation.scheme}://${e.searchLocation.path}`):(0,D.traceError)("Unexpected search location",JSON.stringify(e.searchLocation))),e)))}(t),store:async e=>function(e,t){return e.set((0,c.cloneDeep)(t).map((e=>(e.searchLocation&&(e.searchLocation=e.searchLocation.toString()),e)))),Promise.resolve()}(t,e)})}(e),i,H());return o}(e)));return(0,T.registerNewDiscoveryForIOC)(e.legacyIOC.serviceManager,t),t},t.activate=async function(e,t){const n=s.workspace.workspaceFolders;return(0,l.getGlobalStorage)(t.context,U,[]).get().length>0?null==n||n.forEach((async n=>{const r=(0,l.getGlobalStorage)(t.context,`PYTHON_WAS_DISCOVERY_TRIGGERED_${(0,v.normCasePath)(n.uri.fsPath)}`,!1);r.get()||(e.triggerRefresh({searchLocations:{roots:[n.uri],doNotIncludeNonRooted:!0}}).ignoreErrors(),await r.set(!0))})):(e.triggerRefresh().ignoreErrors(),null==n||n.forEach((async e=>{const n=(0,l.getGlobalStorage)(t.context,`PYTHON_WAS_DISCOVERY_TRIGGERED_${(0,v.normCasePath)(e.uri.fsPath)}`,!1);await n.set(!0)}))),{fullyReady:Promise.resolve()}}},86157:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getExecutablePath=void 0;const r=n(13931),i=n(61905),o=n(20467);t.getExecutablePath=async function(e,t){try{const[n,i]=(0,r.getExecutable)(),s=(0,o.copyPythonExecInfo)(e,n),a=[s.command,...s.args].reduce(((e,t)=>e?`${e} ${t.toCommandArgumentForPythonExt()}`:`${t.toCommandArgumentForPythonExt()}`),""),c=i((await t(a,{timeout:15e3})).stdout.trim());if(""===c)throw new Error(`${a} resulted in empty stdout`);return c}catch(e){return void(0,i.traceError)(e)}}},25297:(e,t)=>{"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.getEnvironmentTypeName=t.ModuleInstallerType=t.virtualEnvTypes=t.workspaceVirtualEnvTypes=t.EnvironmentType=void 0,function(e){e.Unknown="Unknown",e.Conda="Conda",e.VirtualEnv="VirtualEnv",e.Pipenv="PipEnv",e.Pyenv="Pyenv",e.Venv="Venv",e.MicrosoftStore="MicrosoftStore",e.Poetry="Poetry",e.Hatch="Hatch",e.Pixi="Pixi",e.VirtualEnvWrapper="VirtualEnvWrapper",e.ActiveState="ActiveState",e.Global="Global",e.System="System"}(n||(t.EnvironmentType=n={})),t.workspaceVirtualEnvTypes=[n.Poetry,n.Pipenv,n.Pixi],t.virtualEnvTypes=[...t.workspaceVirtualEnvTypes,n.Hatch,n.Venv,n.VirtualEnvWrapper,n.Conda,n.VirtualEnv],function(e){e.Unknown="Unknown",e.Conda="Conda",e.Pip="Pip",e.Poetry="Poetry",e.Pipenv="Pipenv",e.Pixi="Pixi"}(r||(t.ModuleInstallerType=r={})),t.getEnvironmentTypeName=function(e){switch(e){case n.Conda:return"conda";case n.Pipenv:return"Pipenv";case n.Pyenv:return"pyenv";case n.Venv:return"venv";case n.VirtualEnv:return"virtualenv";case n.MicrosoftStore:return"Microsoft Store";case n.Poetry:return"Poetry";case n.Hatch:return"Hatch";case n.Pixi:return"pixi";case n.VirtualEnvWrapper:return"virtualenvwrapper";case n.ActiveState:return"ActiveState";default:return""}}},43803:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getInterpreterInfo=void 0;const r=n(99589),i=n(8370),o=n(74399),s=n(48112),a=n(20467);t.getInterpreterInfo=async function(e,t,n){const[c,l]=(0,i.interpreterInfo)(),u=(0,a.copyPythonExecInfo)(e,c),p=[u.command,...u.args],d=p.reduce(((e,t)=>e?`${e} "${t}"`:`"${(0,o.replaceAll)(t,"\\","\\\\")}"`),""),h=await t(d,{timeout:15e3});h.stderr&&n&&n.error(`Failed to parse interpreter information for ${p} stderr: ${h.stderr}`);const f=l(h.stdout);if(n&&n.verbose(`Found interpreter for ${p}`),f)return function(e,t){let n=`${t.versionInfo.slice(0,3).join(".")}`;if(void 0!==t.versionInfo[3]&&["alpha","beta","candidate"].includes(t.versionInfo[3])&&(n=`${n}-${t.versionInfo[3]}`,void 0!==t.versionInfo[4])){let e=-1;try{e=parseInt(`${t.versionInfo[4]}`,10)}catch(t){e=-1}n=e>=0?`${n}${e}`:n}return{architecture:t.is64Bit?s.Architecture.x64:s.Architecture.x86,path:e,version:new r.SemVer(n),sysVersion:t.sysVersion,sysPrefix:t.sysPrefix}}(e.pythonExecutable,f)}},37012:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.registerNewDiscoveryForIOC=void 0;const a=n(25891),c=n(2543),l=s(n(54980)),u=n(29104),p=n(29413),d=n(15721),h=n(80292),f=n(69396),v=n(25297),g=n(71067),m=n(7855),y=n(83597),b=n(95885),_=n(66830),E=n(58038),S=n(61905),w=new Map(Object.entries({[d.PythonEnvKind.OtherGlobal]:v.EnvironmentType.Global,[d.PythonEnvKind.System]:v.EnvironmentType.System,[d.PythonEnvKind.MicrosoftStore]:v.EnvironmentType.MicrosoftStore,[d.PythonEnvKind.Pyenv]:v.EnvironmentType.Pyenv,[d.PythonEnvKind.Conda]:v.EnvironmentType.Conda,[d.PythonEnvKind.VirtualEnv]:v.EnvironmentType.VirtualEnv,[d.PythonEnvKind.Pipenv]:v.EnvironmentType.Pipenv,[d.PythonEnvKind.Poetry]:v.EnvironmentType.Poetry,[d.PythonEnvKind.Hatch]:v.EnvironmentType.Hatch,[d.PythonEnvKind.Pixi]:v.EnvironmentType.Pixi,[d.PythonEnvKind.Venv]:v.EnvironmentType.Venv,[d.PythonEnvKind.VirtualEnvWrapper]:v.EnvironmentType.VirtualEnvWrapper,[d.PythonEnvKind.ActiveState]:v.EnvironmentType.ActiveState}));function P(e){const{name:t,location:n,executable:r,arch:i,kind:o,version:s,distro:a,id:c}=e,{filename:l,sysPrefix:u}=r,p={id:c,sysPrefix:u,envType:v.EnvironmentType.Unknown,envName:t,envPath:n,path:l,architecture:i},d=w.get(o);if(void 0!==d&&(p.envType=d),void 0!==s){const{release:e,sysVersion:t}=s;p.sysVersion=void 0===e?"":t;const n=(0,g.toSemverLikeVersion)(s);p.version=n}return void 0!==a&&""!==a.org&&(p.companyDisplayName=a.org),p.displayName=e.display,p.detailedDisplayName=e.detailedDisplayName,p.type=e.type,p}let T=class{constructor(e){this.api=e,this.changed=new l.EventEmitter,this.api.onChanged((e=>{this.changed.fire({type:e.type,new:e.new?P(e.new):void 0,old:e.old?P(e.old):void 0,resource:e.searchLocation})}))}triggerRefresh(e,t){return this.api.triggerRefresh(e,t)}getRefreshPromise(e){return this.api.getRefreshPromise(e)}get onProgress(){return this.api.onProgress}get onChanged(){return this.changed.event}onDidCreate(e,t){const n=e?l.workspace.getWorkspaceFolder(e):void 0;return this.api.onChanged((e=>{n&&e.searchLocation&&((0,S.traceVerbose)(`Received event ${JSON.stringify(e)} file change event`),e.type===u.FileChangeType.Created&&(0,f.isParentPath)(e.searchLocation.fsPath,n.uri.fsPath)&&t())}))}async getInterpreterInformation(e){const t=await this.api.resolveEnv(e);return t?P(t):void 0}async isMacDefaultPythonPath(e){return(0,h.isMacDefaultPythonPath)(e)}async getInterpreterDetails(e){const t=await this.api.resolveEnv(e);if(t)return P(t)}async isCondaEnvironment(e){return(0,b.isCondaEnvironment)(e)}async getCondaEnvironment(e){if(!await(0,b.isCondaEnvironment)(e))return;const t=await this.api.resolveEnv(e);return t?{name:t.name,path:t.location}:void 0}async isMicrosoftStoreInterpreter(e){return(0,_.isMicrosoftStoreEnvironment)(e)}async hasInterpreters(e=async()=>!0){const t=(0,m.createDeferred)();return this.api.onChanged((async n=>{n.new&&await e(P(n.new))&&t.resolve()})),(await(0,y.asyncFilter)(this.api.getEnvs(),(t=>e(P(t))))).length>0||(await Promise.race([t.promise,this.api.getRefreshPromise()]),(await(0,y.asyncFilter)(this.api.getEnvs(),(t=>e(P(t))))).length>0)}getInterpreters(e,t){const n={};let r,i=[];void 0!==e&&(r=l.workspace.getWorkspaceFolder(e),r&&(i=[r.uri])),!r&&l.workspace.workspaceFolders&&l.workspace.workspaceFolders.length>0&&(!e||"untitled"===e.scheme)&&(i=l.workspace.workspaceFolders.map((e=>e.uri))),n.searchLocations={roots:i};let o=this.api.getEnvs(n);return t&&(o=o.filter((e=>(0,c.intersection)(t,e.source).length>0))),o.map(P)}async getWorkspaceVirtualEnvInterpreters(e,t){const n=l.workspace.getWorkspaceFolder(e);if(!n)return[];const r={searchLocations:{roots:[n.uri],doNotIncludeNonRooted:!0}};return(null==t?void 0:t.ignoreCache)&&await this.api.triggerRefresh(r),await this.api.getRefreshPromise(),this.api.getEnvs(r).map(P)}};T=o([(0,a.injectable)()],T),t.registerNewDiscoveryForIOC=function(e,t){e.addSingleton(p.ICondaService,E.CondaService),e.addSingletonInstance(p.IComponentAdapter,new T(t))}},53933:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.createNativeEnvironmentsApi=void 0;const a=s(n(16928)),c=n(54980),l=n(15721),u=n(18162),p=n(14601),d=n(7855),h=n(48112),f=n(71067),v=n(68989),g=n(61905),m=n(51080),y=n(29104),b=n(23172),_=n(95885),E=n(60852),S=n(36500),w=n(8841);function P(e,t){var n;return e.kind===b.NativePythonEnvironmentKind.Conda?null!==(n=e.prefix)&&void 0!==n?n:a.dirname(t):e.executable?e.executable:e.prefix?e.prefix:t}function T(e){return void 0!==e.prefix||void 0!==e.executable||((0,g.traceError)(`Invalid environment [native]: ${JSON.stringify(e)}`),!1)}function C(e){switch(e){case l.PythonEnvKind.Poetry:case l.PythonEnvKind.Pyenv:case l.PythonEnvKind.VirtualEnv:case l.PythonEnvKind.Venv:case l.PythonEnvKind.VirtualEnvWrapper:case l.PythonEnvKind.OtherVirtual:case l.PythonEnvKind.Pipenv:case l.PythonEnvKind.ActiveState:case l.PythonEnvKind.Hatch:case l.PythonEnvKind.Pixi:return l.PythonEnvType.Virtual;case l.PythonEnvKind.Conda:return l.PythonEnvType.Conda;case l.PythonEnvKind.System:case l.PythonEnvKind.Unknown:case l.PythonEnvKind.OtherGlobal:case l.PythonEnvKind.Custom:case l.PythonEnvKind.MicrosoftStore:default:return}}function x(e,t){return t.some((t=>!!e&&a.normalize(e).startsWith(a.normalize(t))))}function I(e,t){var n,r,i,o;if(!T(e))return;const s=(0,b.categoryToKind)(e.kind),c=function(e){switch(e){case"x86":return h.Architecture.x86;case"x64":return h.Architecture.x64;default:return h.Architecture.Unknown}}(e.arch),u=(0,f.parseVersion)(null!==(n=e.version)&&void 0!==n?n:""),p=function(e,t,n){var r;if(e.name)return e.name;const i=C(t);if(e.prefix&&i===l.PythonEnvType.Virtual)return a.basename(e.prefix);if(e.prefix&&i===l.PythonEnvType.Conda){if("base"===e.name)return"base";const t=(null!==(r=(0,w.getWorkspaceFolders)())&&void 0!==r?r:[]).map((e=>e.uri.fsPath));if(x(e.prefix,t))return(0,g.traceInfo)(`Conda env is --prefix environment: ${e.prefix}`),"";if(n.length>0&&x(e.prefix,n))return(0,g.traceInfo)(`Conda env is --named environment: ${e.prefix}`),a.basename(e.prefix)}return""}(e,s,t),d=e.version?function(e,t,n,r){const i=function(e){return`${e.major}.${e.minor}.${e.micro}`.trim()}(e),o=function(e){switch(e){case l.PythonEnvKind.Poetry:return"poetry";case l.PythonEnvKind.Pyenv:return"pyenv";case l.PythonEnvKind.VirtualEnv:case l.PythonEnvKind.Venv:case l.PythonEnvKind.VirtualEnvWrapper:case l.PythonEnvKind.OtherVirtual:return"venv";case l.PythonEnvKind.Pipenv:return"pipenv";case l.PythonEnvKind.Conda:return"conda";case l.PythonEnvKind.ActiveState:return"active-state";case l.PythonEnvKind.MicrosoftStore:return"Microsoft Store";case l.PythonEnvKind.Hatch:return"hatch";case l.PythonEnvKind.Pixi:return"pixi";case l.PythonEnvKind.System:case l.PythonEnvKind.Unknown:case l.PythonEnvKind.OtherGlobal:case l.PythonEnvKind.Custom:default:return}}(t);return n===h.Architecture.x86?o?r?`Python ${i} 32-bit ('${r}')`:`Python ${i} 32-bit (${o})`:r?`Python ${i} 32-bit ('${r}')`:`Python ${i} 32-bit`:o?r?`Python ${i} ('${r}')`:`Python ${i} (${o})`:r?`Python ${i} ('${r}')`:`Python ${i}`}(u,s,c,p):null!==(r=e.displayName)&&void 0!==r?r:"Python",v=null!==(i=e.executable)&&void 0!==i?i:(m=e.prefix)?"win32"===process.platform?a.join(m,"python.exe"):a.join(m,"python"):"win32"===process.platform?"python.exe":"python";var m;return{name:p,location:P(e,v),kind:s,id:v,executable:{filename:v,sysPrefix:null!==(o=e.prefix)&&void 0!==o?o:"",ctime:-1,mtime:-1},version:{sysVersion:e.version,major:u.major,minor:u.minor,micro:u.micro},arch:c,distro:{org:""},source:[],detailedDisplayName:d,display:d,type:C(s)}}class O{constructor(e){this.finder=e,this._envs=[],this._disposables=[],this._condaEnvDirs=[],this._onProgress=new c.EventEmitter,this._onChanged=new c.EventEmitter,this.onProgress=this._onProgress.event,this.onChanged=this._onChanged.event,this.refreshState=u.ProgressReportStage.idle,this._disposables.push(this._onProgress,this._onChanged),this.initializeWatcher()}dispose(){this._disposables.forEach((e=>e.dispose()))}getRefreshPromise(e){var t;return null===(t=this._refreshPromise)||void 0===t?void 0:t.promise}triggerRefresh(e,t){var n,r,i;const o=new m.StopWatch;return(0,g.traceLog)("Native locator: Refresh started"),this.refreshState===u.ProgressReportStage.discoveryStarted&&(null===(n=this._refreshPromise)||void 0===n?void 0:n.promise)?null===(r=this._refreshPromise)||void 0===r?void 0:r.promise:(this.refreshState=u.ProgressReportStage.discoveryStarted,this._onProgress.fire({stage:this.refreshState}),this._refreshPromise=(0,d.createDeferred)(),setImmediate((async()=>{var e,t;try{const t=this._envs.map((e=>e.executable.filename)),n=[];for await(const e of this.finder.refresh()){const t=this.processNative(e);t&&n.push(t)}t.filter((e=>!n.includes(e))).forEach((e=>this.removeEnv(e))),null===(e=this._refreshPromise)||void 0===e||e.resolve()}catch(e){null===(t=this._refreshPromise)||void 0===t||t.reject(e)}finally{(0,g.traceLog)(`Native locator: Refresh finished in ${o.elapsedTime} ms`),this.refreshState=u.ProgressReportStage.discoveryFinished,this._refreshPromise=void 0,this._onProgress.fire({stage:this.refreshState})}})),null===(i=this._refreshPromise)||void 0===i?void 0:i.promise)}processNative(e){if((0,p.isNativeEnvInfo)(e))return this.processEnv(e);this.processEnvManager(e)}processEnv(e){var t,n;if(T(e))try{const r=e.version?(0,f.parseVersion)(e.version):void 0;if((0,b.categoryToKind)(e.kind)===l.PythonEnvKind.Conda&&!e.executable)return null===(t=this.addEnv(e))||void 0===t?void 0:t.executable.filename;if(e.executable&&(!r||r.major<0||r.minor<0||r.micro<0))return this.finder.resolve(e.executable).then((e=>{e&&this.addEnv(e)})).ignoreErrors(),e.executable;if(e.executable&&r&&r.major>=0&&r.minor>=0&&r.micro>=0)return null===(n=this.addEnv(e))||void 0===n?void 0:n.executable.filename;(0,g.traceError)(`Failed to process environment: ${JSON.stringify(e)}`)}catch(e){(0,g.traceError)(`Failed to process environment: ${e}`)}}processEnvManager(e){switch(e.tool.toLowerCase()){case"conda":{(0,g.traceLog)(`Conda environment manager found at: ${e.executable}`);const t=(0,_.getCondaPathSetting)();this.condaPathAlreadySet?(0,g.traceInfo)(`Conda set to: ${this.condaPathAlreadySet}`):""===t||void 0===t?function(e){const t=(0,h.getPathEnvVariable)().map((e=>a.normalize(e).toLowerCase())),n=a.normalize(e).toLowerCase();return t.some((e=>n.includes(e)))}(e.executable)?((0,_.setCondaBinary)(e.executable),this.condaPathAlreadySet=e.executable,(0,g.traceInfo)(`Using conda: ${e.executable}`)):((0,g.traceInfo)(`Conda not found on PATH, skipping: ${e.executable}`),(0,g.traceInfo)("You can set the path to conda using the setting: `python.condaPath` if you want to use a different conda binary")):((0,g.traceInfo)(`Using conda from setting: ${t}`),this.condaPathAlreadySet=t)}break;case"pyenv":(0,g.traceLog)(`Pyenv environment manager found at: ${e.executable}`),(0,E.setPyEnvBinary)(e.executable);break;case"poetry":(0,g.traceLog)(`Poetry environment manager found at: ${e.executable}`);break;default:(0,g.traceWarn)(`Unknown environment manager: ${e.tool}`)}}getEnvs(e){return this._envs}addEnv(e,t){const n=I(e,this._condaEnvDirs);if(n){const e=this._envs.find((e=>e.executable.filename===n.executable.filename));e?(this._envs=this._envs.filter((e=>e.executable.filename!==n.executable.filename)),this._envs.push(n),function(e,t){return e.name!==t.name||e.executable.filename!==t.executable.filename||e.version.major!==t.version.major||e.version.minor!==t.version.minor||e.version.micro!==t.version.micro||e.location!==t.location||e.kind!==t.kind||e.arch!==t.arch}(e,n)&&this._onChanged.fire({type:y.FileChangeType.Changed,old:e,new:n,searchLocation:t})):(this._envs.push(n),this._onChanged.fire({type:y.FileChangeType.Created,new:n,searchLocation:t}))}return n}removeEnv(e){if("string"==typeof e){const t=this._envs.find((t=>t.executable.filename===e));return this._envs=this._envs.filter((t=>t.executable.filename!==e)),void this._onChanged.fire({type:y.FileChangeType.Deleted,old:t})}this._envs=this._envs.filter((t=>t.executable.filename!==e.executable.filename)),this._onChanged.fire({type:y.FileChangeType.Deleted,old:e})}async resolveEnv(e){var t;if(void 0===e)return;const n=await this.finder.resolve(e);return n?(n.kind===b.NativePythonEnvironmentKind.Conda&&0===this._condaEnvDirs.length&&(this._condaEnvDirs=null!==(t=await(0,_.getCondaEnvDirs)())&&void 0!==t?t:[]),this.addEnv(n)):void 0}initializeWatcher(){var e;const t=(0,S.createPythonWatcher)();this._disposables.push(t.onDidGlobalEnvChanged((e=>this.pathEventHandler(e))),t.onDidWorkspaceEnvChanged((async e=>{await this.workspaceEventHandler(e)})),(0,w.onDidChangeWorkspaceFolders)((e=>{e.removed.forEach((e=>t.unwatchWorkspace(e))),e.added.forEach((e=>t.watchWorkspace(e)))})),t),null===(e=(0,w.getWorkspaceFolders)())||void 0===e||e.forEach((e=>t.watchWorkspace(e)));const n=(0,h.getUserHomeDir)();n&&t.watchPath(c.Uri.file(a.join(n,".conda","environments.txt")))}async pathEventHandler(e){if((e.type===y.FileChangeType.Created||e.type===y.FileChangeType.Changed)&&e.uri.fsPath.endsWith("environment.txt")){const e=this._envs.filter((e=>e.kind===l.PythonEnvKind.Conda)).map((e=>e.executable.filename));for await(const e of this.finder.refresh(b.NativePythonEnvironmentKind.Conda))this.processNative(e);const t=this._envs.filter((e=>e.kind===l.PythonEnvKind.Conda)).map((e=>e.executable.filename));e.filter((e=>!t.includes(e))).forEach((e=>this.removeEnv(e)))}}async workspaceEventHandler(e){if(e.type===y.FileChangeType.Created||e.type===y.FileChangeType.Changed){const t=await this.finder.resolve(e.executable);t&&this.addEnv(t,e.workspaceFolder.uri)}else this.removeEnv(e.executable)}}o([(0,v.cache)(3e4,!0)],O.prototype,"resolveEnv",null),t.createNativeEnvironmentsApi=function(e){const t=new O(e);return t.triggerRefresh().ignoreErrors(),t}},91059:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNativeRepl=t.NativeRepl=t.NATIVE_REPL_URI_MEMENTO=void 0;const r=n(54980),i=n(552),o=n(85784),s=n(8841),a=n(74264),c=n(85471),l=n(42836),u=n(53322),p=n(51535),d=n(15739),h=n(45573),f=n(56251),v=n(9923);let g;t.NATIVE_REPL_URI_MEMENTO="nativeReplUri";class m{constructor(){this.disposables=[],this.newReplSession=!0,this.watchNotebookClosed()}static async create(e){const t=new m;return t.interpreter=e,await t.setReplDirectory(),t.pythonServer=(0,a.createPythonServer)([e.path],t.cwd),t.setReplController(),t}dispose(){this.disposables.forEach((e=>e.dispose()))}watchNotebookClosed(){this.disposables.push((0,s.onDidCloseNotebookDocument)((async e=>{this.notebookDocument&&e.uri.toString()===this.notebookDocument.uri.toString()&&(this.notebookDocument=void 0,this.newReplSession=!0,await(0,v.updateWorkspaceStateValue)(t.NATIVE_REPL_URI_MEMENTO,void 0),this.pythonServer.dispose(),this.pythonServer=(0,a.createPythonServer)([this.interpreter.path],this.cwd),this.disposables.push(this.pythonServer),this.replController&&this.replController.dispose(),g=void 0)})))}async setReplDirectory(){const e=(0,s.getWorkspaceFolders)();if(e){const t=e.map((e=>({label:e.name,description:e.uri.fsPath})));if(0===t.length)this.cwd=process.cwd();else if(1===t.length)this.cwd=t[0].description;else{const e=await(0,o.showQuickPick)(t,{placeHolder:"Select current working directory for new REPL",matchOnDescription:!0,ignoreFocusOut:!0});this.cwd=null==e?void 0:e.description}}}setReplController(){return this.replController||(this.replController=(0,l.createReplController)(this.interpreter.path,this.disposables,this.cwd),this.replController.variableProvider=new d.VariablesProvider(new h.VariableRequester(this.pythonServer),(()=>this.notebookDocument),this.pythonServer.onCodeExecuted)),this.replController}async checkUserInputCompleteCode(e){let t,n=!1;if(e){const{document:n}=e;t=n.getText()}return t&&(n=await this.pythonServer.checkValidCommand(t)),n}async sendToNativeRepl(e,n=!0){var o;let s;if(!this.notebookDocument){const e=(0,v.getWorkspaceStateValue)(t.NATIVE_REPL_URI_MEMENTO);s=e?r.Uri.parse(e):void 0,s&&"Python REPL"===(0,f.getTabNameForUri)(s)||(await(0,v.updateWorkspaceStateValue)(t.NATIVE_REPL_URI_MEMENTO,void 0),s=void 0)}const a=await(0,c.openInteractiveREPL)(this.replController,null!==(o=this.notebookDocument)&&void 0!==o?o:s,n);a&&(this.notebookDocument=a.notebook,await(0,v.updateWorkspaceStateValue)(t.NATIVE_REPL_URI_MEMENTO,this.notebookDocument.uri.toString()),this.notebookDocument&&(this.replController.updateNotebookAffinity(this.notebookDocument,r.NotebookControllerAffinity.Default),await(0,c.selectNotebookKernel)(a,this.replController.id,i.PVSC_EXTENSION_ID),e&&await(0,c.executeNotebookCell)(a,e)))}}t.NativeRepl=m,t.getNativeRepl=async function(e,t){return g||(g=await m.create(e),t.push(g)),g&&g.newReplSession&&((0,p.sendTelemetryEvent)(u.EventName.REPL,void 0,{replType:"Native"}),g.newReplSession=!1),g}},74264:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.createPythonServer=void 0;const a=s(n(16928)),c=s(n(35317)),l=s(n(77123)),u=n(54980),p=n(84090),d=n(61905),h=n(51535),f=n(53322),v=a.join(p.EXTENSION_ROOT_DIR,"python_files","python_server.py");let g;class m{constructor(e,t){this.connection=e,this.pythonServer=t,this.disposables=[],this._onCodeExecuted=new u.EventEmitter,this.onCodeExecuted=this._onCodeExecuted.event,this.initialize(),this.input()}initialize(){this.disposables.push(this.connection.onNotification("log",(e=>{(0,d.traceLog)("Log:",e)}))),this.connection.listen()}input(){this.connection.onRequest("input",(async e=>{let t="Enter your input here: ";return e&&e.prompt&&(t=e.prompt),{userInput:await u.window.showInputBox({title:"Input Request",prompt:t,ignoreFocusOut:!0})}}))}async execute(e){const t=await this.executeCode(e);return(null==t?void 0:t.status)&&this._onCodeExecuted.fire(),t}executeSilently(e){return this.executeCode(e)}async executeCode(e){try{return await this.connection.sendRequest("execute",e)}catch(e){const t=e;(0,d.traceError)("Error getting response from REPL server:",t)}}interrupt(){this.pythonServer.kill("SIGINT")&&(0,d.traceLog)("Python REPL server interrupted")}async checkValidCommand(e){return"True"===(await this.connection.sendRequest("check_valid_command",e)).output?new Promise((e=>e(!0))):new Promise((e=>e(!1)))}dispose(){this.connection.sendNotification("exit"),this.disposables.forEach((e=>e.dispose())),this.connection.dispose(),g=void 0}}o([(0,h.captureTelemetry)(f.EventName.EXECUTION_CODE,{scope:"selection"},!1)],m.prototype,"execute",null),t.createPythonServer=function(e,t){if(g)return g;const n=c.spawn(e[0],[...e.slice(1),v],{cwd:t});n.stderr.on("data",(e=>{(0,d.traceError)(e.toString())})),n.on("exit",(e=>{(0,d.traceError)(`Python server exited with code ${e}`)})),n.on("error",(e=>{(0,d.traceError)(e)}));const r=l.createMessageConnection(new l.StreamMessageReader(n.stdout),new l.StreamMessageWriter(n.stdin));return g=new m(r,n),g}},85471:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.executeNotebookCell=t.selectNotebookKernel=t.openInteractiveREPL=void 0;const r=n(54980),i=n(56251),o=n(552),s=n(85784),a=n(8841),c=n(93029);t.openInteractiveREPL=async function(e,t,n=!0){let l=r.ViewColumn.Beside;if(t instanceof r.Uri)t=await(0,a.openNotebookDocument)(t);else if(t){const e=(0,i.getExistingReplViewColumn)(t);l=null!=e?e:l}else t||(t=await(0,a.openNotebookDocument)("jupyter-notebook"));const u=await(0,s.showNotebookDocument)(t,{viewColumn:l,asRepl:"Python REPL",preserveFocus:n});if(u&&u.notebook&&u.notebook.uri&&"Python REPL"===(0,i.getTabNameForUri)(u.notebook.uri))return await(0,c.executeCommand)("notebook.selectKernel",{editor:u,id:e.id,extension:o.PVSC_EXTENSION_ID}),u},t.selectNotebookKernel=async function(e,t,n){await(0,c.executeCommand)("notebook.selectKernel",{notebookEditor:e,id:t,extension:n})},t.executeNotebookCell=async function(e,t){var n;const{notebook:i,replOptions:o}=e,s=null!==(n=null==o?void 0:o.appendIndex)&&void 0!==n?n:i.cellCount;await async function(e,t,n){const i=new r.NotebookCellData(r.NotebookCellKind.Code,n,"python"),o=r.NotebookEdit.insertCells(t,[i]),s=new r.WorkspaceEdit;s.set(e.uri,[o]),await(0,a.applyEdit)(s)}(i,s,t),(0,c.executeCommand)("notebook.cell.execute",{ranges:[{start:s,end:s+1}],document:i.uri})}},57062:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerReplExecuteOnEnter=t.registerReplCommands=t.registerStartNativeReplCommand=void 0;const r=n(54980),i=n(552),o=n(98803),s=n(91059),a=n(56251),c=n(93029),l=n(51535),u=n(53322),p=n(6356);async function d(e,t,n,c){const l=await n.getActiveInterpreter(e);if(!l)return void r.commands.executeCommand(i.Commands.TriggerEnvironmentSelection,e).then(o.noop,o.noop);const u=await(0,s.getNativeRepl)(l,c),p=await(null==u?void 0:u.checkUserInputCompleteCode(r.window.activeTextEditor)),d=r.window.activeTextEditor;d&&(p&&!(0,a.isMultiLineText)(d)?await r.commands.executeCommand(t):((0,a.insertNewLineToREPLInput)(d),d&&""===d.document.lineAt(d.selection.active.line).text&&await r.commands.executeCommand(t)))}t.registerStartNativeReplCommand=async function(e,t){e.push((0,c.registerCommand)(i.Commands.Start_Native_REPL,(async n=>{(0,l.sendTelemetryEvent)(u.EventName.REPL,void 0,{replType:"Native"});const r=await(0,a.getActiveInterpreter)(n,t);if(r&&r){const t=await(0,s.getNativeRepl)(r,e);await t.sendToNativeRepl(void 0,!1)}})))},t.registerReplCommands=async function(e,t,n,o){e.push(o.registerCommand(i.Commands.Exec_In_REPL,(async i=>{if(!(0,a.getSendToNativeREPLSetting)())return void await(0,a.executeInTerminal)();const o=await(0,a.getActiveInterpreter)(i,t);if(o){const t=await(0,s.getNativeRepl)(o,e),i=r.window.activeTextEditor;if(i){const e=await(0,a.getSelectedTextToExecute)(i);if(e){let r="";i&&i.document&&(r=i.document.getText());const o=await n.normalizeLines(e,p.ReplType.native,r);await t.sendToNativeRepl(o)}}}})))},t.registerReplExecuteOnEnter=async function(e,t,n){e.push(n.registerCommand(i.Commands.Exec_In_REPL_Enter,(async n=>{await d(n,"repl.execute",t,e)}))),e.push(n.registerCommand(i.Commands.Exec_In_IW_Enter,(async n=>{await d(n,"interactive.execute",t,e)})))}},42836:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.createReplController=void 0;const s=o(n(54980)),a=n(74264);t.createReplController=function(e,t,n){const r=(0,a.createPythonServer)([e],n);t.push(r);const i=s.notebooks.createNotebookController("pythonREPL","jupyter-notebook","Python REPL");return i.supportedLanguages=["python"],i.description="Python REPL",i.interruptHandler=async()=>{r.interrupt()},i.executeHandler=async e=>{for(const t of e){const e=i.createNotebookCellExecution(t);e.start(Date.now());const n=await r.execute(t.document.getText());(null==n?void 0:n.output)&&e.replaceOutput([new s.NotebookCellOutput([s.NotebookCellOutputItem.text(n.output,"text/plain")])]),e.end(null==n?void 0:n.status)}},t.push(i),i}},56251:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPythonMinorVersion=t.getTabNameForUri=t.getExistingReplViewColumn=t.getActiveInterpreter=t.isMultiLineText=t.insertNewLineToREPLInput=t.getSendToNativeREPLSetting=t.getSelectedTextToExecute=t.executeInTerminal=void 0;const r=n(54980),i=n(552),o=n(98803),s=n(85784),a=n(8841),c=n(39031);async function l(e,t){const n=await t.getActiveInterpreter(e);if(n)return n;r.commands.executeCommand(i.Commands.TriggerEnvironmentSelection,e).then(o.noop,o.noop)}t.executeInTerminal=async function(){await r.commands.executeCommand(i.Commands.Exec_Selection_In_Terminal)},t.getSelectedTextToExecute=async function(e){const{selection:t}=e;let n;return n=t.isEmpty?e.document.lineAt(t.start.line).text:t.isSingleLine?(0,c.getSingleLineSelectionText)(e):(0,c.getMultiLineSelectionText)(e),n},t.getSendToNativeREPLSetting=function(){const e=(0,s.getActiveResource)();return(0,a.getConfiguration)("python",e).get("REPL.sendToNativeREPL",!1)},t.insertNewLineToREPLInput=function(e){if(e){const t=e.selection.active,n=t.with(t.line,e.document.lineAt(t.line).text.length);e.selection=new r.Selection(n,n),e.edit((e=>{e.insert(n,"\n")}))}},t.isMultiLineText=function(e){var t,n;return(null!==(n=null===(t=null==e?void 0:e.document)||void 0===t?void 0:t.lineCount)&&void 0!==n?n:0)>1},t.getActiveInterpreter=l,t.getExistingReplViewColumn=function(e){const t=e.uri.toString(),n=r.window.tabGroups;for(const e of n.all)for(const n of e.tabs)if("Python REPL"===n.label){const e=n.input.uri.toString();if(n.input&&e===t)return n.group.viewColumn}},t.getTabNameForUri=function(e){const t=r.window.tabGroups.all;for(const n of t)for(const t of n.tabs)if(t.input instanceof r.TabInputNotebook&&t.input.uri.toString()===e.toString())return t.label},t.getPythonMinorVersion=async function(e,t){var n;if(e){const r=await l(e,t);return null===(n=null==r?void 0:r.version)||void 0===n?void 0:n.minor}}},6356:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.ReplType=void 0,function(e){e.terminal="terminal",e.native="native"}(n||(t.ReplType=n={}))},45573:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.VariableRequester=void 0;const a=s(n(16928)),c=o(n(25943)),l=n(84090),u=a.default.join(l.EXTENSION_ROOT_DIR,"python_files","get_variable_info.py");class p{constructor(e){this.pythonServer=e}async getAllVariableDescriptions(e,t,n){const r=(await async function(){if(p.scriptContents)return p.scriptContents;const e=await c.readFile(u,"utf-8");return p.scriptContents=e,p.scriptContents}()).split(/(?:\r\n|\n)/);if(e){const n=`import json;return json.dumps(getAllChildrenDescriptions('${e.root}', ${JSON.stringify(e.propertyChain)}, ${t}))`;r.push(n)}else r.push("import json;return json.dumps(getVariableDescriptions())");if(n.isCancellationRequested)return[];const i=function(e){return`def __VSCODE_run_script():\n${e.map((e=>`    ${e}`)).join("\n")}\nprint(__VSCODE_run_script())\ndel __VSCODE_run_script`}(r),o=await this.pythonServer.executeSilently(i);return(null==o?void 0:o.output)&&!n.isCancellationRequested?JSON.parse(o.output):[]}}t.VariableRequester=p},44630:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VariableResultCache=void 0,t.VariableResultCache=class{constructor(){this.cache=new Map,this.executionCount=0}getResults(e,t){return this.executionCount!==e&&(this.cache.clear(),this.executionCount=e),this.cache.get(t)}setResults(e,t,n){if(this.executionCount<e)this.cache.clear(),this.executionCount=e;else if(this.executionCount>e)return;this.cache.set(t,n)}}},15739:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VariablesProvider=void 0;const r=n(54980),i=n(44630),o=n(8841);function s(e,t){let n=e;for(const e of t)n+="string"==typeof e?`.${e}`:`[${e}]`;return n}function a(e){return(0,o.getConfiguration)("python",e).get("REPL.provideVariables")}t.VariablesProvider=class{constructor(e,t,n){this.variableRequester=e,this.getNotebookDocument=t,this.variableResultCache=new i.VariableResultCache,this._onDidChangeVariables=new r.EventEmitter,this.onDidChangeVariables=this._onDidChangeVariables.event,this.executionCount=0,n((()=>this.onDidExecuteCode()))}onDidExecuteCode(){const e=this.getNotebookDocument();e&&(this.executionCount+=1,a(e.uri)&&this._onDidChangeVariables.fire(e))}async*provideVariables(e,t,n,r,i){const o=this.getNotebookDocument();if(!a(e.uri)||i.isCancellationRequested||!o||o!==e)return;const{executionCount:s}=this,c=function(e,t,n){let r="";const i=t;return i&&(r=`${i.name}.${i.propertyChain.join(".")}[[${n}`),`${e}:${r}`}(e.uri.toString(),t,r);let l=this.variableResultCache.getResults(s,c);if(t){const o=t;if(!l&&o.getChildren){const e=await o.getChildren(r,i);if(i.isCancellationRequested)return;l=e.map((e=>this.createVariableResult(e))),this.variableResultCache.setResults(s,c,l)}else if(!l)return;for(const e of l)yield e;if(2===n&&o.count&&l.length>0&&o.count>r+l.length)for await(const o of this.provideVariables(e,t,n,r+l.length,i))yield o}else{if(!l){const e=await this.variableRequester.getAllVariableDescriptions(void 0,r,i);if(i.isCancellationRequested)return;l=e.map((e=>this.createVariableResult(e))),this.variableResultCache.setResults(s,c,l)}for(const e of l)yield e}}createVariableResult(e){var t;const n=null!==(t=e.count)&&void 0!==t?t:0,r=!!e.hasNamedChildren,i={getChildren:(e,t)=>this.getChildren(i,e,t),expression:s(e.root,e.propertyChain),...e};return{variable:i,hasNamedChildren:r,indexedChildrenCount:n}}async getChildren(e,t,n){const r=e;return this.variableRequester.getAllVariableDescriptions(r,t,n)}}},95411:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.hasUserDefinedPythonPath=t.sendErrorTelemetry=t.sendStartupTelemetry=void 0;const s=o(n(54980)),a=n(54661),c=n(552),l=n(23935),u=n(86156),p=n(23167),d=n(29413),h=n(61905),f=n(25297),v=n(51535),g=n(53322);function m(e,t){let n=t.get(u.IInterpreterPathService).inspect(e);return!!(n.workspaceFolderValue&&"python"!==n.workspaceFolderValue||n.workspaceValue&&"python"!==n.workspaceValue||n.globalValue&&"python"!==n.globalValue)}async function y(e,t){var n,r;const i=s.env.appName,o=e.get(a.IWorkspaceService),c=(null===(n=o.workspaceFolders)||void 0===n?void 0:n.length)||0,u=e.get(l.ITerminalHelper).identifyTerminalShell();if(!o.isTrusted)return{workspaceFolderCount:c,terminal:u,isFirstSession:t};const v=e.get(d.IInterpreterService),g=(null===(r=o.workspaceFolders)||void 0===r?void 0:r.length)?o.workspaceFolders[0].uri:void 0,y=await v.hasInterpreters((async e=>{var t;return 3===(null===(t=e.version)||void 0===t?void 0:t.major)}));await v.refreshPromise;const b=await v.getActiveInterpreter().catch((()=>{})),_=b&&b.version?b.version.raw:void 0,E=b?b.envType:void 0;let S;if(E===f.EnvironmentType.Unknown&&(0,h.traceError)("Active interpreter type is detected as Unknown",JSON.stringify(b)),E===f.EnvironmentType.Conda){const t=e.get(d.ICondaService);S=await t.getCondaVersion().then((e=>e?e.raw:"")).catch((()=>""))}const w=m(g,e),P=!!b&&function(e,t){const n=t.get(p.IInterpreterAutoSelectionService).getAutoSelectedInterpreter(void 0);return!!n&&e===n.path}(b.path,e);return{condaVersion:S,terminal:u,pythonVersion:_,interpreterType:E,workspaceFolderCount:c,hasPythonThree:y,usingUserDefinedInterpreter:w,usingGlobalInterpreter:P,appName:i,isFirstSession:t}}t.sendStartupTelemetry=async function(e,t,n,r,i){if(!(0,c.isTestExecution)())try{await e,t.totalNonBlockingActivateTime=n.elapsedTime-t.startActivateTime;const o=await y(r,i);(0,v.sendTelemetryEvent)(g.EventName.EDITOR_LOAD,t,o)}catch(e){(0,h.traceError)("sendStartupTelemetry() failed.",e)}},t.sendErrorTelemetry=async function(e,t,n){try{let r={};if(n)try{r=await y(n)}catch(e){(0,h.traceError)("getActivationTelemetryProps() failed.",e)}(0,v.sendTelemetryEvent)(g.EventName.EDITOR_LOAD,t,r,e)}catch(e){(0,h.traceError)("sendErrorTelemetry() failed.",e)}},t.hasUserDefinedPythonPath=m},53322:(e,t)=>{"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.PlatformErrors=t.EventName=void 0,function(e){e.FORMAT_ON_TYPE="FORMAT.FORMAT_ON_TYPE",e.EDITOR_LOAD="EDITOR.LOAD",e.REPL="REPL",e.CREATE_NEW_FILE_COMMAND="CREATE_NEW_FILE_COMMAND",e.SELECT_INTERPRETER="SELECT_INTERPRETER",e.SELECT_INTERPRETER_ENTER_BUTTON="SELECT_INTERPRETER_ENTER_BUTTON",e.SELECT_INTERPRETER_ENTER_CHOICE="SELECT_INTERPRETER_ENTER_CHOICE",e.SELECT_INTERPRETER_SELECTED="SELECT_INTERPRETER_SELECTED",e.SELECT_INTERPRETER_ENTER_OR_FIND="SELECT_INTERPRETER_ENTER_OR_FIND",e.SELECT_INTERPRETER_ENTERED_EXISTS="SELECT_INTERPRETER_ENTERED_EXISTS",e.PYTHON_INTERPRETER="PYTHON_INTERPRETER",e.PYTHON_INSTALL_PACKAGE="PYTHON_INSTALL_PACKAGE",e.ENVIRONMENT_WITHOUT_PYTHON_SELECTED="ENVIRONMENT_WITHOUT_PYTHON_SELECTED",e.PYTHON_ENVIRONMENTS_API="PYTHON_ENVIRONMENTS_API",e.PYTHON_INTERPRETER_DISCOVERY="PYTHON_INTERPRETER_DISCOVERY",e.NATIVE_FINDER_MISSING_CONDA_ENVS="NATIVE_FINDER_MISSING_CONDA_ENVS",e.NATIVE_FINDER_MISSING_POETRY_ENVS="NATIVE_FINDER_MISSING_POETRY_ENVS",e.NATIVE_FINDER_PERF="NATIVE_FINDER_PERF",e.PYTHON_INTERPRETER_DISCOVERY_INVALID_NATIVE="PYTHON_INTERPRETER_DISCOVERY_INVALID_NATIVE",e.PYTHON_INTERPRETER_AUTO_SELECTION="PYTHON_INTERPRETER_AUTO_SELECTION",e.PYTHON_INTERPRETER_ACTIVATION_ENVIRONMENT_VARIABLES="PYTHON_INTERPRETER.ACTIVATION_ENVIRONMENT_VARIABLES",e.PYTHON_INTERPRETER_ACTIVATION_FOR_RUNNING_CODE="PYTHON_INTERPRETER_ACTIVATION_FOR_RUNNING_CODE",e.PYTHON_INTERPRETER_ACTIVATION_FOR_TERMINAL="PYTHON_INTERPRETER_ACTIVATION_FOR_TERMINAL",e.TERMINAL_SHELL_IDENTIFICATION="TERMINAL_SHELL_IDENTIFICATION",e.PYTHON_INTERPRETER_ACTIVATE_ENVIRONMENT_PROMPT="PYTHON_INTERPRETER_ACTIVATE_ENVIRONMENT_PROMPT",e.PYTHON_NOT_INSTALLED_PROMPT="PYTHON_NOT_INSTALLED_PROMPT",e.CONDA_INHERIT_ENV_PROMPT="CONDA_INHERIT_ENV_PROMPT",e.REQUIRE_JUPYTER_PROMPT="REQUIRE_JUPYTER_PROMPT",e.ACTIVATED_CONDA_ENV_LAUNCH="ACTIVATED_CONDA_ENV_LAUNCH",e.ENVFILE_VARIABLE_SUBSTITUTION="ENVFILE_VARIABLE_SUBSTITUTION",e.ENVFILE_WORKSPACE="ENVFILE_WORKSPACE",e.EXECUTION_CODE="EXECUTION_CODE",e.EXECUTION_DJANGO="EXECUTION_DJANGO",e.UNITTEST_CONFIGURING="UNITTEST.CONFIGURING",e.UNITTEST_CONFIGURE="UNITTEST.CONFIGURE",e.UNITTEST_DISCOVERY_TRIGGER="UNITTEST.DISCOVERY.TRIGGER",e.UNITTEST_DISCOVERING="UNITTEST.DISCOVERING",e.UNITTEST_DISCOVERING_STOP="UNITTEST.DISCOVERY.STOP",e.UNITTEST_DISCOVERY_DONE="UNITTEST.DISCOVERY.DONE",e.UNITTEST_RUN_STOP="UNITTEST.RUN.STOP",e.UNITTEST_RUN="UNITTEST.RUN",e.UNITTEST_RUN_ALL_FAILED="UNITTEST.RUN_ALL_FAILED",e.UNITTEST_DISABLED="UNITTEST.DISABLED",e.PYTHON_EXPERIMENTS_INIT_PERFORMANCE="PYTHON_EXPERIMENTS_INIT_PERFORMANCE",e.PYTHON_EXPERIMENTS_LSP_NOTEBOOKS="PYTHON_EXPERIMENTS_LSP_NOTEBOOKS",e.PYTHON_EXPERIMENTS_OPT_IN_OPT_OUT_SETTINGS="PYTHON_EXPERIMENTS_OPT_IN_OPT_OUT_SETTINGS",e.EXTENSION_SURVEY_PROMPT="EXTENSION_SURVEY_PROMPT",e.LANGUAGE_SERVER_ENABLED="LANGUAGE_SERVER.ENABLED",e.LANGUAGE_SERVER_TRIGGER_TIME="LANGUAGE_SERVER_TRIGGER_TIME",e.LANGUAGE_SERVER_STARTUP="LANGUAGE_SERVER.STARTUP",e.LANGUAGE_SERVER_READY="LANGUAGE_SERVER.READY",e.LANGUAGE_SERVER_TELEMETRY="LANGUAGE_SERVER.EVENT",e.LANGUAGE_SERVER_REQUEST="LANGUAGE_SERVER.REQUEST",e.LANGUAGE_SERVER_RESTART="LANGUAGE_SERVER.RESTART",e.TERMINAL_CREATE="TERMINAL.CREATE",e.ACTIVATE_ENV_IN_CURRENT_TERMINAL="ACTIVATE_ENV_IN_CURRENT_TERMINAL",e.ACTIVATE_ENV_TO_GET_ENV_VARS_FAILED="ACTIVATE_ENV_TO_GET_ENV_VARS_FAILED",e.DIAGNOSTICS_ACTION="DIAGNOSTICS.ACTION",e.DIAGNOSTICS_MESSAGE="DIAGNOSTICS.MESSAGE",e.USE_REPORT_ISSUE_COMMAND="USE_REPORT_ISSUE_COMMAND",e.HASHED_PACKAGE_NAME="HASHED_PACKAGE_NAME",e.JEDI_LANGUAGE_SERVER_ENABLED="JEDI_LANGUAGE_SERVER.ENABLED",e.JEDI_LANGUAGE_SERVER_STARTUP="JEDI_LANGUAGE_SERVER.STARTUP",e.JEDI_LANGUAGE_SERVER_READY="JEDI_LANGUAGE_SERVER.READY",e.JEDI_LANGUAGE_SERVER_REQUEST="JEDI_LANGUAGE_SERVER.REQUEST",e.TENSORBOARD_INSTALL_PROMPT_SHOWN="TENSORBOARD.INSTALL_PROMPT_SHOWN",e.TENSORBOARD_INSTALL_PROMPT_SELECTION="TENSORBOARD.INSTALL_PROMPT_SELECTION",e.TENSORBOARD_DETECTED_IN_INTEGRATED_TERMINAL="TENSORBOARD_DETECTED_IN_INTEGRATED_TERMINAL",e.TENSORBOARD_PACKAGE_INSTALL_RESULT="TENSORBOARD.PACKAGE_INSTALL_RESULT",e.TENSORBOARD_TORCH_PROFILER_IMPORT="TENSORBOARD.TORCH_PROFILER_IMPORT",e.ENVIRONMENT_CREATING="ENVIRONMENT.CREATING",e.ENVIRONMENT_CREATED="ENVIRONMENT.CREATED",e.ENVIRONMENT_FAILED="ENVIRONMENT.FAILED",e.ENVIRONMENT_INSTALLING_PACKAGES="ENVIRONMENT.INSTALLING_PACKAGES",e.ENVIRONMENT_INSTALLED_PACKAGES="ENVIRONMENT.INSTALLED_PACKAGES",e.ENVIRONMENT_INSTALLING_PACKAGES_FAILED="ENVIRONMENT.INSTALLING_PACKAGES_FAILED",e.ENVIRONMENT_BUTTON="ENVIRONMENT.BUTTON",e.ENVIRONMENT_DELETE="ENVIRONMENT.DELETE",e.ENVIRONMENT_REUSE="ENVIRONMENT.REUSE",e.ENVIRONMENT_CHECK_TRIGGER="ENVIRONMENT.CHECK.TRIGGER",e.ENVIRONMENT_CHECK_RESULT="ENVIRONMENT.CHECK.RESULT",e.ENVIRONMENT_TERMINAL_GLOBAL_PIP="ENVIRONMENT.TERMINAL.GLOBAL_PIP"}(n||(t.EventName=n={})),function(e){e.FailedToParseVersion="FailedToParseVersion",e.FailedToDetermineOS="FailedToDetermineOS"}(r||(t.PlatformErrors=r={}))},63999:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EnvFileTelemetryTests=t.sendActivationTelemetry=t.sendFileCreationTelemetry=t.sendSettingTelemetry=void 0;const r=n(79985),i=n(51535),o=n(53322);let s,a=!1;function c(e=!1){(0,i.sendTelemetryEvent)(o.EventName.ENVFILE_WORKSPACE,void 0,{hasCustomEnvPath:e}),a=!0}function l(){return!a}function u(e){var t;if(!s){const n=e.getConfiguration("python");s=(null===(t=n.inspect("envFile"))||void 0===t?void 0:t.defaultValue)||""}return s}t.sendSettingTelemetry=function(e,t){l()&&t!==u(e)&&c(!0)},t.sendFileCreationTelemetry=function(){l()&&c()},t.sendActivationTelemetry=async function(e,t,n){if(l()){const i=new r.SystemVariables(n,void 0,t).resolveAny(u(t));await e.fileExists(i)&&c()}},t.EnvFileTelemetryTests={setState:({telemetrySent:e,defaultSetting:t})=>{void 0!==e&&(a=e),void 0!==u&&(s=t)},resetState:()=>{s=void 0,a=!1}}},85120:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.setExtensionInstallTelemetryProperties=void 0;const s=o(n(16928)),a=n(51535),c=n(84090);t.setExtensionInstallTelemetryProperties=async function(e){const t=s.join(s.dirname(c.EXTENSION_ROOT_DIR),"PythonCodingPack");await e.fileExists(t)?(0,a.setSharedProperty)("installSource","pythonCodingPack"):(0,a.setSharedProperty)("installSource","marketPlace")}},95440:function(e,t,n){"use strict";var r,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},c=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.getDocumentLines=t.ImportTracker=void 0;const l=n(25891),u=a(n(16928)),p=n(53557),d=n(76982),h=n(51535),f=n(54661),v=n(552);n(87295);const g=n(86156),m=n(98803),y=n(4238),b=n(53322),_=/^\s*(from (?<fromImport>\w+)(?:\.\w+)* import \w+(?:, \w+)*(?: as \w+)?|import (?<importImport>\w+(?:, \w+)*)(?: as \w+)?)$/,E=(0,v.isTestExecution)();let S=r=class{constructor(e,t){this.documentManager=e,this.disposables=t,this.supportedWorkspaceTypes={untrustedWorkspace:!1,virtualWorkspace:!0},this.pendingChecks=new Map,this.documentManager.onDidOpenTextDocument((e=>this.onOpenedOrSavedDocument(e)),this,this.disposables),this.documentManager.onDidSaveTextDocument((e=>this.onOpenedOrSavedDocument(e)),this,this.disposables)}dispose(){this.pendingChecks.clear()}async activate(){this.documentManager.textDocuments.forEach((e=>this.onOpenedOrSavedDocument(e)))}static hasModuleImport(e){return this.sentMatches.has(e)}onOpenedOrSavedDocument(e){".py"===u.extname(e.fileName).toLowerCase()&&this.scheduleDocument(e)}scheduleDocument(e){this.scheduleCheck(e.fileName,this.checkDocument.bind(this,e))}scheduleCheck(e,t){const n=this.pendingChecks.get(e);n&&((0,p.clearTimeout)(n),this.pendingChecks.delete(e)),E?t():this.pendingChecks.set(e,(0,p.setTimeout)(t,5e3))}checkDocument(e){this.pendingChecks.delete(e.fileName);const t=w(e);this.lookForImports(t)}sendTelemetry(e){if(r.sentMatches.has(e))return;r.sentMatches.add(e);const t=(0,d.createHash)("sha256").update(e).digest("hex");(0,h.sendTelemetryEvent)(b.EventName.HASHED_PACKAGE_NAME,void 0,{hashedName:t})}lookForImports(e){try{for(const t of e){const e=t?_.exec(t):null;null!==e&&void 0!==e.groups&&(void 0!==e.groups.fromImport?this.sendTelemetry(e.groups.fromImport):void 0!==e.groups.importImport&&e.groups.importImport.split(",").map((e=>e.trim())).forEach((e=>this.sendTelemetry(e)))),t&&y.TorchProfilerImportRegEx.test(t)&&(0,h.sendTelemetryEvent)(b.EventName.TENSORBOARD_TORCH_PROFILER_IMPORT)}}catch(e){(0,m.noop)()}}};function w(e){return Array(Math.min(e.lineCount,1e3)).fill("").map(((t,n)=>{const r=e.lineAt(n);if(r&&!r.isEmptyOrWhitespace)return r.text})).filter((e=>e))}t.ImportTracker=S,S.sentMatches=new Set,t.ImportTracker=S=r=s([(0,l.injectable)(),c(0,(0,l.inject)(f.IDocumentManager)),c(1,(0,l.inject)(g.IDisposableRegistry))],S),t.getDocumentLines=w},51535:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendTelemetryWhenDone=t.captureTelemetry=t.sendTelemetryEvent=t.clearTelemetryReporter=t.getTelemetryReporter=t._resetSharedProperties=t.setSharedProperty=t.isTelemetryDisabled=void 0;const r=n(552),i=n(7855),o=n(51080);let s;function a(){if(!s){const e=n(54980).extensions.getExtension(r.PVSC_EXTENSION_ID);s=e.packageJSON}return!s.enableTelemetry}n(53322),t.isTelemetryDisabled=a;const c={};let l;function u(){if(!(0,r.isTestExecution)()&&l)return l;const e=n(81170).default;return l=new e(r.AppinsightsKey,[{lookup:/(errorName|errorMessage|errorStack)/g}]),l}function p(e,t,i,o){var s;if((0,r.isTestExecution)()||!function(){try{const e=n(54980),t=n(81170);return void 0!==e&&void 0!==t}catch(e){return!1}}()||a())return;const l=u(),p="number"==typeof t?{duration:t}:t||void 0,d={},h=e;if(i){const t=i;Object.getOwnPropertyNames(t).forEach((n=>{if(void 0!==t[n]&&null!==t[n])try{switch(typeof t[n]){case"string":d[n]=t[n];break;case"object":d[n]="object";break;default:d[n]=t[n].toString()}}catch(t){console.error(`Failed to serialize ${n} for ${String(e)}`,t)}}))}if(Object.assign(d,c),o){const e={errorName:o.name,errorStack:null!==(s=o.stack)&&void 0!==s?s:""};Object.assign(d,e),l.sendTelemetryErrorEvent(h,d,p)}else l.sendTelemetryEvent(h,d,p);process.env&&process.env.VSC_PYTHON_LOG_TELEMETRY&&console.info(`Telemetry Event : ${h} Measures: ${JSON.stringify(p)} Props: ${JSON.stringify(d)} `)}t.setSharedProperty=function(e,t){const n=e;(0,r.isUnitTestExecution)()&&n.startsWith("ds_")||(void 0===t?delete c[n]:c[n]=t)},t._resetSharedProperties=function(){for(const e of Object.keys(c))delete c[e]},t.getTelemetryReporter=u,t.clearTelemetryReporter=function(){l=void 0},t.sendTelemetryEvent=p,t.captureTelemetry=function(e,t,n=!0,r,s,a){return function(c,l,u){const d=u.value;return u.value=function(...c){if(!n&&!s&&!a)return p(e,void 0,t),d.apply(this,c);const l=e=>s?{...t,...s(this,e)}:t,u=n?new o.StopWatch:void 0,h=e=>{const t=u?{duration:u.elapsedTime}:void 0;return a?{...t,...a(this,e)}:t},f=d.apply(this,c);return f&&(0,i.isPromise)(f)?f.then((t=>(p(e,h(t),l(t)),t))).catch((t=>{const n={...l(),failed:!0};p(r||e,h(),n,t)})):p(e,h(f),l(f)),f},u}},t.sendTelemetryWhenDone=function(e,t,n,r){if(n=n||new o.StopWatch,"function"!=typeof t.then)throw new Error("Method is neither a Promise nor a Theneable");t.then((t=>(p(e,n.elapsedTime,r),t)),(t=>(p(e,n.elapsedTime,r,t),Promise.reject(t))))}},81274:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IImportTracker=void 0,t.IImportTracker=Symbol("IImportTracker")},38306:(e,t)=>{"use strict";var n,r,i,o;Object.defineProperty(t,"__esModule",{value:!0}),t.TensorBoardEntrypoint=t.TensorBoardSessionStartResult=t.TensorBoardEntrypointTrigger=t.TensorBoardPromptSelection=void 0,function(e){e.Yes="yes",e.No="no",e.DoNotAskAgain="doNotAskAgain",e.None="none"}(n||(t.TensorBoardPromptSelection=n={})),function(e){e.tfeventfiles="tfeventfiles",e.fileimport="fileimport",e.nbextension="nbextension",e.palette="palette"}(r||(t.TensorBoardEntrypointTrigger=r={})),function(e){e.cancel="canceled",e.success="success",e.error="error"}(i||(t.TensorBoardSessionStartResult=i={})),function(e){e.prompt="prompt",e.codelens="codelens",e.palette="palette"}(o||(t.TensorBoardEntrypoint=o={}))},4238:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TorchProfilerImportRegEx=void 0,t.TorchProfilerImportRegEx=/^\s*(?:import (?:(\w+, )*torch\.profiler(, \w+)*))|(?:from torch import (?:(\w+, )*profiler(, \w+)*))/},50315:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const r=n(17470),i=n(55238);t.registerTypes=function(e){e.addSingleton(r.TensorBoardPrompt,r.TensorBoardPrompt),e.addSingleton(i.TensorboardDependencyChecker,i.TensorboardDependencyChecker)}},17470:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.TensorBoardPrompt=void 0;const o=n(25891),s=n(86156);var a;!function(e){e.ShowNativeTensorBoardPrompt="showNativeTensorBoardPrompt"}(a||(a={}));let c=class{constructor(e){this.persistentStateFactory=e,this.state=this.persistentStateFactory.createWorkspacePersistentState(a.ShowNativeTensorBoardPrompt,!0)}isPromptEnabled(){return this.state.value}};t.TensorBoardPrompt=c,t.TensorBoardPrompt=c=r([(0,o.injectable)(),i(0,(0,o.inject)(s.IPersistentStateFactory))],c)},31250:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TensorBoardSession=void 0;const r=n(54980),i=n(7854),o=n(86156),s=n(14152),a=n(51535),c=n(53322),l=n(95440),u=n(38306),p=n(18399),d=n(61905),h=">= 2.4.1",f=">= 0.2.0";t.TensorBoardSession=class{constructor(e,t,n,r){this.installer=e,this.interpreterService=t,this.commandManager=n,this.applicationShell=r}async promptToInstall(e,t){(0,a.sendTelemetryEvent)(c.EventName.TENSORBOARD_INSTALL_PROMPT_SHOWN);const n=s.Common.bannerLabelYes,r=s.Common.bannerLabelNo,i=e===o.ProductInstallStatus.NeedsUpgrade;let l;l=e===o.ProductInstallStatus.Installed&&t!==o.ProductInstallStatus.Installed?s.TensorBoard.installProfilerPluginPrompt:t!==o.ProductInstallStatus.Installed?s.TensorBoard.installTensorBoardAndProfilerPluginPrompt:i?s.TensorBoard.upgradePrompt:s.TensorBoard.installPrompt;const p=await this.applicationShell.showErrorMessage(l,n,r);let d=u.TensorBoardPromptSelection.None;return p===n?d=u.TensorBoardPromptSelection.Yes:p===r&&(d=u.TensorBoardPromptSelection.No),(0,a.sendTelemetryEvent)(c.EventName.TENSORBOARD_INSTALL_PROMPT_SELECTION,void 0,{selection:d,operationType:i?"upgrade":"install"}),p}async ensurePrerequisitesAreInstalled(e){(0,d.traceVerbose)("Ensuring TensorBoard package is installed into active interpreter");const t=await this.interpreterService.getActiveInterpreter(e)||await this.commandManager.executeCommand("python.setInterpreter");if(!t)return!1;let[n,u]=await Promise.all([this.installer.isProductVersionCompatible(o.Product.tensorboard,h,t),this.installer.isProductVersionCompatible(o.Product.torchProfilerImportName,f,t)]);const v=l.ImportTracker.hasModuleImport("torch"),g=n!==o.ProductInstallStatus.Installed,m=u!==o.ProductInstallStatus.Installed;if(v&&!g&&!m||!v&&n===o.ProductInstallStatus.Installed)return!0;const y=await this.promptToInstall(n,v?u:o.ProductInstallStatus.Installed);if(y!==s.Common.bannerLabelYes&&!g)return!0;if(y!==s.Common.bannerLabelYes)return!1;const b=(new r.CancellationTokenSource).token,_=(0,i.createPromiseFromCancellation)({cancelAction:"resolve",defaultValue:o.InstallerResponse.Ignore,token:b}),E=[];return g&&E.push(this.installer.install(o.Product.tensorboard,t,b,n===o.ProductInstallStatus.NeedsUpgrade?p.ModuleInstallFlags.upgrade:void 0)),v&&m&&E.push(this.installer.install(o.Product.torchProfilerInstallName,t,b,u===o.ProductInstallStatus.NeedsUpgrade?p.ModuleInstallFlags.upgrade:void 0)),await Promise.race([...E,_]),[n,u]=await Promise.all([this.installer.isProductVersionCompatible(o.Product.tensorboard,h,t),this.installer.isProductVersionCompatible(o.Product.torchProfilerImportName,f,t)]),(0,a.sendTelemetryEvent)(c.EventName.TENSORBOARD_PACKAGE_INSTALL_RESULT,void 0,{wasTensorBoardAttempted:g,wasProfilerPluginAttempted:m,wasTensorBoardInstalled:n===o.ProductInstallStatus.Installed,wasProfilerPluginInstalled:u===o.ProductInstallStatus.Installed}),v&&u!==o.ProductInstallStatus.Installed&&(0,d.traceError)("Failed to install torch-tb-plugin. Profiler plugin will not appear in TensorBoard session."),n===o.ProductInstallStatus.Installed}}},55238:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.TensorboardDependencyChecker=void 0;const o=n(25891),s=n(54661),a=n(86156),c=n(29413),l=n(31250);let u=class{constructor(e,t,n,r){this.installer=e,this.interpreterService=t,this.applicationShell=n,this.commandManager=r}async ensureDependenciesAreInstalled(e){const t=new l.TensorBoardSession(this.installer,this.interpreterService,this.commandManager,this.applicationShell);return await t.ensurePrerequisitesAreInstalled(e)}};t.TensorboardDependencyChecker=u,t.TensorboardDependencyChecker=u=r([(0,o.injectable)(),i(0,(0,o.inject)(a.IInstaller)),i(1,(0,o.inject)(c.IInterpreterService)),i(2,(0,o.inject)(s.IApplicationShell)),i(3,(0,o.inject)(s.ICommandManager))],u)},5448:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.TensorboardExtensionIntegration=void 0;const o=n(25891),s=n(54661),a=n(552),c=n(86156),l=n(67714),u=n(17470),p=n(55238);let d=class{constructor(e,t,n,r,i){this.extensions=e,this.envActivation=t,this.workspaceService=n,this.dependencyChcker=r,this.tensorBoardPrompt=i}registerApi(e){this.workspaceService.isTrusted?e.registerPythonApi({getActivatedEnvironmentVariables:async e=>this.envActivation.getActivatedEnvironmentVariables(e,void 0,!0),ensureDependenciesAreInstalled:async e=>this.dependencyChcker.ensureDependenciesAreInstalled(e),isPromptEnabled:()=>this.tensorBoardPrompt.isPromptEnabled()}):this.workspaceService.onDidGrantWorkspaceTrust((()=>this.registerApi(e)))}async integrateWithTensorboardExtension(){const e=await this.getExtensionApi();e&&this.registerApi(e)}async getExtensionApi(){if(this.tensorboardExtension)return this.tensorboardExtension.exports;{const e=this.extensions.getExtension(a.TENSORBOARD_EXTENSION_ID);if(!e)return;if(await e.activate(),e.isActive)return this.tensorboardExtension=e,this.tensorboardExtension.exports}}};t.TensorboardExtensionIntegration=d,t.TensorboardExtensionIntegration=d=r([(0,o.injectable)(),i(0,(0,o.inject)(c.IExtensions)),i(1,(0,o.inject)(l.IEnvironmentActivationService)),i(2,(0,o.inject)(s.IWorkspaceService)),i(3,(0,o.inject)(p.TensorboardDependencyChecker)),i(4,(0,o.inject)(u.TensorBoardPrompt))],d)},43333:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalAutoActivation=void 0;const o=n(25891),s=n(54980),a=n(54661),c=n(23935),l=n(86156);let u=class{constructor(e,t,n,r){this.terminalManager=e,this.activator=n,this.activeResourceService=r,this.terminalsNotToAutoActivate=new WeakSet,t.push(this)}dispose(){this.handler&&(this.handler.dispose(),this.handler=void 0)}register(){this.handler||(this.handler=this.terminalManager.onDidOpenTerminal(this.activateTerminal,this))}disableAutoActivation(e){this.terminalsNotToAutoActivate.add(e)}async activateTerminal(e){if(this.terminalsNotToAutoActivate.has(e))return;if("hideFromUser"in e.creationOptions&&e.creationOptions.hideFromUser)return;const t="cwd"in e.creationOptions?e.creationOptions.cwd:this.activeResourceService.getActiveResource(),n="string"==typeof t?s.Uri.file(t):t;await this.activator.activateEnvironmentInTerminal(e,{resource:n})}};t.TerminalAutoActivation=u,t.TerminalAutoActivation=u=r([(0,o.injectable)(),i(0,(0,o.inject)(a.ITerminalManager)),i(1,(0,o.inject)(l.IDisposableRegistry)),i(2,(0,o.inject)(c.ITerminalActivator)),i(3,(0,o.inject)(a.IActiveResourceService))],u)},96943:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CodeExecutionManager=void 0;const o=n(25891),s=n(54980),a=n(54661),c=n(552);n(87295);const l=n(86156),u=n(98803),p=n(29413),d=n(9100),h=n(61905),f=n(51535),v=n(53322),g=n(52060),m=n(58137),y=n(6356),b=n(36380);let _=class{constructor(e,t,n,r,i){this.commandManager=e,this.documentManager=t,this.disposableRegistry=n,this.configSettings=r,this.serviceContainer=i,this.eventEmitter=new s.EventEmitter}registerCommands(){[c.Commands.Exec_In_Terminal,c.Commands.Exec_In_Terminal_Icon,c.Commands.Exec_In_Separate_Terminal].forEach((e=>{this.disposableRegistry.push(this.commandManager.registerCommand(e,(async t=>{if((0,h.traceVerbose)("Attempting to run Python file",null==t?void 0:t.fsPath),(0,b.useEnvExtension)()){try{await this.executeUsingExtension(t,e===c.Commands.Exec_In_Separate_Terminal)}catch(e){(0,h.traceError)("Failed to execute file in terminal",e)}return}const n=this.serviceContainer.get(p.IInterpreterService);if(!await n.getActiveInterpreter(t))return void this.commandManager.executeCommand(c.Commands.TriggerEnvironmentSelection,t).then(u.noop,u.noop);(0,f.sendTelemetryEvent)(v.EventName.ENVIRONMENT_CHECK_TRIGGER,void 0,{trigger:"run-in-terminal"}),(0,m.triggerCreateEnvironmentCheckNonBlocking)(m.CreateEnvironmentCheckKind.File,t);const r=e===c.Commands.Exec_In_Terminal?"command":"icon";await this.executeFileInTerminal(t,r,{newTerminalPerFile:e===c.Commands.Exec_In_Separate_Terminal}).then((()=>{this.shouldTerminalFocusOnStart(t)&&this.commandManager.executeCommand("workbench.action.terminal.focus")})).catch((e=>(0,h.traceError)("Failed to execute file in terminal",e)))})))})),this.disposableRegistry.push(this.commandManager.registerCommand(c.Commands.Exec_Selection_In_Terminal,(async e=>{const t=this.serviceContainer.get(p.IInterpreterService);await t.getActiveInterpreter(e)?((0,f.sendTelemetryEvent)(v.EventName.ENVIRONMENT_CHECK_TRIGGER,void 0,{trigger:"run-selection"}),(0,m.triggerCreateEnvironmentCheckNonBlocking)(m.CreateEnvironmentCheckKind.File,e),await this.executeSelectionInTerminal().then((()=>{this.shouldTerminalFocusOnStart(e)&&this.commandManager.executeCommand("workbench.action.terminal.focus")}))):this.commandManager.executeCommand(c.Commands.TriggerEnvironmentSelection,e).then(u.noop,u.noop)}))),this.disposableRegistry.push(this.commandManager.registerCommand(c.Commands.Exec_Selection_In_Django_Shell,(async e=>{const t=this.serviceContainer.get(p.IInterpreterService);await t.getActiveInterpreter(e)?((0,f.sendTelemetryEvent)(v.EventName.ENVIRONMENT_CHECK_TRIGGER,void 0,{trigger:"run-selection"}),(0,m.triggerCreateEnvironmentCheckNonBlocking)(m.CreateEnvironmentCheckKind.File,e),await this.executeSelectionInDjangoShell().then((()=>{this.shouldTerminalFocusOnStart(e)&&this.commandManager.executeCommand("workbench.action.terminal.focus")}))):this.commandManager.executeCommand(c.Commands.TriggerEnvironmentSelection,e).then(u.noop,u.noop)})))}async executeUsingExtension(e,t){const n=this.serviceContainer.get(g.ICodeExecutionHelper);let r=(e=e instanceof s.Uri?e:void 0)||await n.getFileToExecute();if(!r)return;const i=await n.saveFileIfDirty(r);i&&(r=i);const o=this.shouldTerminalFocusOnStart(r);let a;a=t?await(0,b.runInDedicatedTerminal)(r,[r.fsPath.fileToCommandArgumentForPythonExt()],void 0,o):await(0,b.runInTerminal)(r,[r.fsPath.fileToCommandArgumentForPythonExt()],void 0,o),a&&a.show()}async executeFileInTerminal(e,t,n){(0,f.sendTelemetryEvent)(v.EventName.EXECUTION_CODE,void 0,{scope:"file",trigger:t,newTerminalPerFile:null==n?void 0:n.newTerminalPerFile});const r=this.serviceContainer.get(g.ICodeExecutionHelper);let i=(e=e instanceof s.Uri?e:void 0)||await r.getFileToExecute();if(!i)return;const o=await r.saveFileIfDirty(i);o&&(i=o);const a=this.serviceContainer.get(g.ICodeExecutionService,"standard");await a.executeFile(i,n)}async executeSelectionInTerminal(){const e=this.serviceContainer.get(g.ICodeExecutionService,"standard");await this.executeSelection(e)}async executeSelectionInDjangoShell(){const e=this.serviceContainer.get(g.ICodeExecutionService,"djangoShell");await this.executeSelection(e)}async executeSelection(e){const t=this.documentManager.activeTextEditor;if(!t)return;const n=this.serviceContainer.get(g.ICodeExecutionHelper),r=await n.getSelectedTextToExecute(t);let i="";t&&t.document&&(i=t.document.getText());const o=await n.normalizeLines(r,y.ReplType.terminal,i);if(o&&0!==o.trim().length){try{this.eventEmitter.fire(o)}catch(e){(0,u.noop)()}await e.execute(o,t.document.uri)}}shouldTerminalFocusOnStart(e){var t;return null===(t=this.configSettings.getSettings(e))||void 0===t?void 0:t.terminal.focusAfterLaunch}};t.CodeExecutionManager=_,r([(0,f.captureTelemetry)(v.EventName.EXECUTION_CODE,{scope:"selection"},!1)],_.prototype,"executeSelectionInTerminal",null),r([(0,f.captureTelemetry)(v.EventName.EXECUTION_DJANGO,{scope:"selection"},!1)],_.prototype,"executeSelectionInDjangoShell",null),t.CodeExecutionManager=_=r([(0,o.injectable)(),i(0,(0,o.inject)(a.ICommandManager)),i(1,(0,o.inject)(a.IDocumentManager)),i(2,(0,o.inject)(l.IDisposableRegistry)),i(3,(0,o.inject)(l.IConfigurationService)),i(4,(0,o.inject)(d.IServiceContainer))],_)},36549:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.DjangoContextInitializer=void 0;const a=n(25891),c=s(n(16928)),l=n(99663),u=n(61905);let p=class{constructor(e,t,n,r){this.documentManager=e,this.workpaceService=t,this.fileSystem=n,this.monitoringActiveTextEditor=!1,this.workspaceContextKeyValues=new Map,this.lastCheckedWorkspace="",this.disposables=[],this.isDjangoProject=new l.ContextKey("python.isDjangoProject",r),this.ensureContextStateIsSet().catch((e=>(0,u.traceError)("Python Extension: ensureState",e))),this.disposables.push(this.workpaceService.onDidChangeWorkspaceFolders((()=>this.updateContextKeyBasedOnActiveWorkspace())))}dispose(){this.disposables.forEach((e=>e.dispose()))}updateContextKeyBasedOnActiveWorkspace(){this.monitoringActiveTextEditor||(this.monitoringActiveTextEditor=!0,this.disposables.push(this.documentManager.onDidChangeActiveTextEditor((()=>this.ensureContextStateIsSet()))))}getActiveWorkspace(){if(!Array.isArray(this.workpaceService.workspaceFolders)||0===this.workpaceService.workspaceFolders.length)return;if(1===this.workpaceService.workspaceFolders.length)return this.workpaceService.workspaceFolders[0].uri.fsPath;const e=this.documentManager.activeTextEditor;if(!e)return;const t=this.workpaceService.getWorkspaceFolder(e.document.uri);return t?t.uri.fsPath:void 0}async ensureContextStateIsSet(){const e=this.getActiveWorkspace();if(!e)return this.isDjangoProject.set(!1);if(this.lastCheckedWorkspace!==e)if(this.workspaceContextKeyValues.has(e))await this.isDjangoProject.set(this.workspaceContextKeyValues.get(e));else{const t=await this.fileSystem.fileExists(c.join(e,"manage.py"));await this.isDjangoProject.set(t),this.workspaceContextKeyValues.set(e,t),this.lastCheckedWorkspace=e}}};t.DjangoContextInitializer=p,t.DjangoContextInitializer=p=o([(0,a.injectable)()],p)},83887:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DjangoShellCodeExecutionProvider=void 0;const c=n(25891),l=s(n(16928)),u=n(54661);n(87295);const p=n(22408),d=n(23935),h=n(86156),f=n(29413),v=n(20467),g=n(36549),m=n(90286);let y=class extends m.TerminalCodeExecutionProvider{constructor(e,t,n,r,i,o,s,a,c,l){super(e,t,n,a,i,c,o,l),this.terminalTitle="Django Shell",a.push(new g.DjangoContextInitializer(r,n,s,o))}async getExecutableInfo(e,t=[]){const n=await super.getExecutableInfo(e,t),r=e?this.workspace.getWorkspaceFolder(e):void 0,i=Array.isArray(this.workspace.workspaceFolders)&&this.workspace.workspaceFolders.length>0?this.workspace.workspaceFolders[0].uri.fsPath:"",o=r?r.uri.fsPath:i,s=0===o.length?"manage.py":l.join(o,"manage.py");return(0,v.copyPythonExecInfo)(n,[s.fileToCommandArgumentForPythonExt(),"shell"])}async getExecuteFileArgs(e,t=[]){const n=await super.getExecutableInfo(e);return(0,v.copyPythonExecInfo)(n,t)}};t.DjangoShellCodeExecutionProvider=y,t.DjangoShellCodeExecutionProvider=y=o([(0,c.injectable)(),a(0,(0,c.inject)(d.ITerminalServiceFactory)),a(1,(0,c.inject)(h.IConfigurationService)),a(2,(0,c.inject)(u.IWorkspaceService)),a(3,(0,c.inject)(u.IDocumentManager)),a(4,(0,c.inject)(p.IPlatformService)),a(5,(0,c.inject)(u.ICommandManager)),a(6,(0,c.inject)(p.IFileSystem)),a(7,(0,c.inject)(h.IDisposableRegistry)),a(8,(0,c.inject)(f.IInterpreterService)),a(9,(0,c.inject)(u.IApplicationShell))],y)},39031:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.getMultiLineSelectionText=t.getSingleLineSelectionText=t.CodeExecutionHelper=void 0,n(87295);const c=n(25891),l=n(54980),u=n(54661),p=n(552),d=s(n(8370)),h=n(35026),f=n(7855),v=n(29413),g=n(9100),m=n(61905),y=n(86156),b=n(51535),_=n(53322),E=n(6356);let S=class{constructor(e){this.serviceContainer=e,this.documentManager=e.get(u.IDocumentManager),this.applicationShell=e.get(u.IApplicationShell),this.processServiceFactory=e.get(h.IProcessServiceFactory),this.interpreterService=e.get(v.IInterpreterService),this.configSettings=e.get(y.IConfigurationService),this.commandManager=e.get(u.ICommandManager),this.activeResourceService=this.serviceContainer.get(u.IActiveResourceService)}async normalizeLines(e,t,n,r){var i,o,s,a,c,l,u,p,h,v,g;try{if(0===e.trim().length)return"";e=e.replace(new RegExp("\\r","g"),"");const m=this.documentManager.activeTextEditor,S=await this.interpreterService.getActiveInterpreter(r),w=await this.processServiceFactory.create(r),[P,T]=d.normalizeSelection(),C=w.execObservable((null==S?void 0:S.path)||"python",P,{throwOnStdErr:!0}),x=(0,f.createDeferred)();let I="";C.out.subscribe({next:e=>{"stdout"===e.source&&(I+=e.out)},complete:()=>{x.resolve(I)}}),(null===(i=null==m?void 0:m.selection)||void 0===i?void 0:i.isEmpty)&&(0,b.sendTelemetryEvent)(_.EventName.EXECUTION_CODE,void 0,{scope:"line"});const O=null!==(s=null===(o=null==m?void 0:m.selection)||void 0===o?void 0:o.start.line)&&void 0!==s?s:0,R=null!==(c=null===(a=null==m?void 0:m.selection)||void 0===a?void 0:a.end.line)&&void 0!==c?c:0,D=null===(u=null===(l=null==m?void 0:m.selection)||void 0===l?void 0:l.isEmpty)||void 0===u||u;let k=!0;const A=this.serviceContainer.get(y.IConfigurationService);A&&(k=A.getSettings(this.activeResourceService.getActiveResource()).REPL.enableREPLSmartSend);const N=JSON.stringify({code:e,wholeFileContent:n,startLine:O,endLine:R,emptyHighlight:D,smartSendSettingsEnabled:k});null===(h=null===(p=C.proc)||void 0===p?void 0:p.stdin)||void 0===h||h.write(N),null===(g=null===(v=C.proc)||void 0===v?void 0:v.stdin)||void 0===g||g.end();const j=await x.promise,M=JSON.parse(j);if((null==m?void 0:m.selection)&&k&&"deprecated"!==M.normalized){const e=M.nextBlockLineno-m.selection.start.line-1;await this.moveToNextBlock(e,m)}if(M.attach_bracket_paste&&t===E.ReplType.terminal){let e=M.normalized.replace(/\n$/,"");return e.endsWith(":\n")&&(e=e.replace(/\n$/,"")),`[200~${e}[201~`}return T(M.normalized)}catch(t){return(0,m.traceError)(t,"Python: Failed to normalize code for execution in terminal"),e}}async moveToNextBlock(e,t){var n;return(null===(n=null==t?void 0:t.selection)||void 0===n?void 0:n.isEmpty)&&(await this.commandManager.executeCommand("cursorMove",{to:"down",by:"line",value:Number(e)}),await this.commandManager.executeCommand("cursorEnd")),Promise.resolve()}async getFileToExecute(){const e=this.documentManager.activeTextEditor;if(e)if(e.document.isUntitled)this.applicationShell.showErrorMessage(l.l10n.t("The active file needs to be saved before it can be run"));else{if(e.document.languageId===p.PYTHON_LANGUAGE)return e.document.isDirty&&await e.document.save(),e.document.uri;this.applicationShell.showErrorMessage(l.l10n.t("The active file is not a Python source file"))}else this.applicationShell.showErrorMessage(l.l10n.t("No open file to run in terminal"))}async getSelectedTextToExecute(e){if(!e)return;const{selection:t}=e;let n;return n=t.isEmpty?e.document.lineAt(t.start.line).text:t.isSingleLine?w(e):P(e),n}async saveFileIfDirty(e){const t=this.documentManager.textDocuments.filter((t=>t.uri.path===e.path));if(1===t.length&&(t[0].isDirty||t[0].isUntitled))return this.serviceContainer.get(u.IWorkspaceService).save(t[0].uri)}};function w(e){const{selection:t}=e,n=new l.Range(t.start,t.end),r=e.document.getText(n),i=e.document.lineAt(t.start.line).text;return r.trim()===i.trim()?i:r}function P(e){const{selection:t}=e,n=new l.Range(t.start,t.end),r=e.document.getText(n),i=new l.Range(new l.Position(t.start.line,0),new l.Position(t.end.line,e.document.lineAt(t.end.line).text.length)),o=e.document.getText(i);if(r.trim()===o.trim())return o;const s=e.document.lineAt(t.start.line).text,a=new l.Range(t.start,new l.Position(t.start.line,s.length)),c=e.document.getText(a);return c.trimLeft()===s.trimLeft()?s+r.substr(c.length):r}t.CodeExecutionHelper=S,t.CodeExecutionHelper=S=o([(0,c.injectable)(),a(0,(0,c.inject)(g.IServiceContainer))],S),t.getSingleLineSelectionText=w,t.getMultiLineSelectionText=P},50226:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ReplProvider=void 0;const o=n(25891),s=n(54661),a=n(22408),c=n(23935),l=n(86156),u=n(29413),p=n(90286);let d=class extends p.TerminalCodeExecutionProvider{constructor(e,t,n,r,i,o,s,a){super(e,t,n,r,i,o,s,a),this.terminalTitle="REPL"}};t.ReplProvider=d,t.ReplProvider=d=r([(0,o.injectable)(),i(0,(0,o.inject)(c.ITerminalServiceFactory)),i(1,(0,o.inject)(l.IConfigurationService)),i(2,(0,o.inject)(s.IWorkspaceService)),i(3,(0,o.inject)(l.IDisposableRegistry)),i(4,(0,o.inject)(a.IPlatformService)),i(5,(0,o.inject)(u.IInterpreterService)),i(6,(0,o.inject)(s.ICommandManager)),i(7,(0,o.inject)(s.IApplicationShell))],d)},90286:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalCodeExecutionProvider=void 0;const c=n(25891),l=s(n(16928)),u=n(54661);n(87295);const p=n(22408),d=n(23935),h=n(86156),f=n(14152),v=n(85784),g=n(29413),m=n(61905),y=n(20467),b=n(53322),_=n(51535);let E=class{constructor(e,t,n,r,i,o,s,a){this.terminalServiceFactory=e,this.configurationService=t,this.workspace=n,this.disposables=r,this.platformService=i,this.interpreterService=o,this.commandManager=s,this.applicationShell=a,this.hasRanOutsideCurrentDrive=!1}async executeFile(e,t){await this.setCwdForFileExecution(e,t);const{command:n,args:r}=await this.getExecuteFileArgs(e,[e.fsPath.fileToCommandArgumentForPythonExt()]);await this.getTerminalService(e,t).sendCommand(n,r)}async execute(e,t){if(e&&0!==e.trim().length)if(await this.initializeRepl(t),"deprecated"==e){const e=await(0,v.showWarningMessage)(f.Diagnostics.invalidSmartSendMessage,f.Repl.disableSmartSend);(0,m.traceInfo)("Selected file contains invalid Python or Deprecated Python 2 code"),e===f.Repl.disableSmartSend&&this.configurationService.updateSetting("REPL.enableREPLSmartSend",!1,t)}else await this.getTerminalService(t).executeCommand(e,!0)}async initializeRepl(e){const t=this.getTerminalService(e);this.replActive&&await this.replActive?await t.show():((0,_.sendTelemetryEvent)(b.EventName.REPL,void 0,{replType:"Terminal"}),this.replActive=new Promise((async n=>{const r=await this.getExecutableInfo(e);let i;Promise.race([new Promise((e=>setTimeout((()=>e(!0)),3e3))),new Promise((e=>{let t=0;const n=setTimeout((()=>{e(!0)}),3e3);i=this.applicationShell.onDidWriteTerminalData((r=>{for(let i=0;i<r.data.length;i++)">"===r.data[i]&&(t++,3===t&&(clearTimeout(n),e(!0)))}))}))]).then((()=>{i&&i.dispose(),n(!0)})),await t.sendCommand(r.command,r.args)})),this.disposables.push(t.onDidCloseTerminal((()=>{this.replActive=void 0}))),await this.replActive)}async getExecutableInfo(e,t=[]){var n;const r=this.configurationService.getSettings(e),i=await this.interpreterService.getActiveInterpreter(e),o=null!==(n=null==i?void 0:i.path)&&void 0!==n?n:r.pythonPath,s=this.platformService.isWindows?o.replace(/\\/g,"/"):o,a=r.terminal.launchArgs;return(0,y.buildPythonExecInfo)(s,[...a,...t])}async getExecuteFileArgs(e,t=[]){return this.getExecutableInfo(e,t)}getTerminalService(e,t){return this.terminalServiceFactory.getTerminalService({resource:e,title:this.terminalTitle,newTerminalPerFile:null==t?void 0:t.newTerminalPerFile})}async setCwdForFileExecution(e,t){if(!this.configurationService.getSettings(e).terminal.executeInFileDir)return;const n=l.dirname(e.fsPath);if(n.length>0){if(this.platformService.isWindows&&/[a-z]\:/i.test(n)){const t="string"==typeof this.workspace.rootPath?this.workspace.rootPath.replace(/\:.*/g,""):void 0,r=n.replace(/\:.*/g,"");(r!==t||this.hasRanOutsideCurrentDrive)&&(this.hasRanOutsideCurrentDrive=!0,await this.getTerminalService(e).sendText(`${r}:`))}await this.getTerminalService(e,t).sendText(`cd ${n.fileToCommandArgumentForPythonExt()}`)}}};t.TerminalCodeExecutionProvider=E,t.TerminalCodeExecutionProvider=E=o([(0,c.injectable)(),a(0,(0,c.inject)(d.ITerminalServiceFactory)),a(1,(0,c.inject)(h.IConfigurationService)),a(2,(0,c.inject)(u.IWorkspaceService)),a(3,(0,c.inject)(h.IDisposableRegistry)),a(4,(0,c.inject)(p.IPlatformService)),a(5,(0,c.inject)(g.IInterpreterService)),a(6,(0,c.inject)(u.ICommandManager)),a(7,(0,c.inject)(u.IApplicationShell))],E)},54380:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTriggerForTerminalREPL=void 0;const r=n(85784),i=n(51535),o=n(53322);t.registerTriggerForTerminalREPL=function(e){e.push((0,r.onDidStartTerminalShellExecution)((async e=>{const t=function(e){const t=e.toLowerCase().trimStart();if(t.startsWith("python")||t.startsWith("py "))return 1===t.split(" ").length?"manualTerminal":"runningScript"}(e.execution.commandLine.value);e.execution.commandLine.isTrusted&&t&&(0,i.sendTelemetryEvent)(o.EventName.REPL,void 0,{replType:t})})))}},83328:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalDeactivateService=void 0;const c=n(25891),l=s(n(16928)),u=n(54661),p=n(25943),d=n(3931),h=n(18065),f=n(23935),v=n(7855),g=n(68989),m=n(51080),y=n(29413),b=n(61905),_=n(15721),E=[f.TerminalShellType.powershell,f.TerminalShellType.powershellCore,f.TerminalShellType.bash,f.TerminalShellType.zsh,f.TerminalShellType.fish];let S=class{constructor(e,t,n){this.terminalManager=e,this.interpreterService=t,this.terminalHelper=n,this.envVarScript=l.join(d._SCRIPTS_DIR,"printEnvVariablesToFile.py")}async initializeScriptParams(e){const t=this.getLocation(e);if(!t)return;const n=(0,h.identifyShellFromShellPath)(e),r=this.terminalManager.createTerminal({name:`Python ${n} Deactivate`,shellPath:e,hideFromUser:!0,cwd:t}),i=this.interpreterService.getInterpreters().filter((e=>!e.type)),o=l.join(t,"envVars.txt"),s=i.length>0&&i[0]?i[0].path:"python",a=new m.StopWatch,c=this.terminalHelper.buildCommandForTerminal(n,s,[this.envVarScript,o]);r.sendText(c),await(0,v.waitForCondition)((()=>(0,p.pathExists)(o)),3e4,`"${o}" file not created`),(0,b.traceVerbose)(`Time taken to get env vars using terminal is ${a.elapsedTime}ms`)}async getScriptLocation(e,t){const n=await this.interpreterService.getActiveInterpreter(t);if((null==n?void 0:n.type)===_.PythonEnvType.Virtual)return this.getLocation(e)}getLocation(e){const t=(0,h.identifyShellFromShellPath)(e);if(E.includes(t))return l.join(d._SCRIPTS_DIR,"deactivate",this.getShellFolderName(t))}getShellFolderName(e){switch(e){case f.TerminalShellType.powershell:case f.TerminalShellType.powershellCore:return"powershell";case f.TerminalShellType.fish:return"fish";case f.TerminalShellType.zsh:return"zsh";case f.TerminalShellType.bash:return"bash";default:throw new Error(`Unsupported shell type ${e}`)}}};t.TerminalDeactivateService=S,o([(0,g.cache)(-1,!0)],S.prototype,"initializeScriptParams",null),t.TerminalDeactivateService=S=o([(0,c.injectable)(),a(0,(0,c.inject)(u.ITerminalManager)),a(1,(0,c.inject)(y.IInterpreterService)),a(2,(0,c.inject)(f.ITerminalHelper))],S)},97938:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalIndicatorPrompt=t.terminalEnvCollectionPromptKey=void 0;const c=n(25891),l=n(54980),u=s(n(16928)),p=n(54661),d=n(86156),h=n(14152),f=n(8103),v=n(29413),g=n(52060),m=n(7855),y=n(552),b=n(15721),_=n(36380);t.terminalEnvCollectionPromptKey="TERMINAL_ENV_COLLECTION_PROMPT_KEY";let E=class{constructor(e,t,n,r,i,o,s,a,c){this.appShell=e,this.persistentStateFactory=t,this.terminalManager=n,this.disposableRegistry=r,this.activeResourceService=i,this.terminalEnvVarCollectionService=o,this.configurationService=s,this.interpreterService=a,this.experimentService=c,this.supportedWorkspaceTypes={untrustedWorkspace:!1,virtualWorkspace:!1}}async activate(){(0,f.inTerminalEnvVarExperiment)(this.experimentService)&&!(0,_.useEnvExtension)()&&((0,y.isTestExecution)()||await(0,m.sleep)(6e3),this.disposableRegistry.push(this.terminalManager.onDidOpenTerminal((async e=>{const t="hideFromUser"in e.creationOptions&&e.creationOptions.hideFromUser,n="strictEnv"in e.creationOptions&&e.creationOptions.strictEnv;if(t||n||e.creationOptions.name)return;const r="cwd"in e.creationOptions&&e.creationOptions.cwd?e.creationOptions.cwd:this.activeResourceService.getActiveResource(),i="string"==typeof r?l.Uri.file(r):r;this.configurationService.getSettings(i).terminal.activateEnvironment&&(this.terminalEnvVarCollectionService.isTerminalPromptSetCorrectly(i)||await this.notifyUsers(i))}))))}async notifyUsers(e){const n=this.persistentStateFactory.createGlobalPersistentState(t.terminalEnvCollectionPromptKey,!0);if(!n.value)return;const r=[h.Common.doNotShowAgain],i=await this.interpreterService.getActiveInterpreter(e);if(!i||!i.type)return;const o=function(e){return e.envName?`"(${e.envName})"`:e.envPath?`"(${u.basename(e.envPath)})"`:"environment indicator"}(i),s=i.type===b.PythonEnvType.Conda?"Selected conda":"Python virtual",a=await this.appShell.showInformationMessage(h.Interpreters.terminalEnvVarCollectionPrompt.format(s,o),...r);a&&a===r[0]&&await n.updateValue(!1)}};t.TerminalIndicatorPrompt=E,t.TerminalIndicatorPrompt=E=o([(0,c.injectable)(),a(0,(0,c.inject)(p.IApplicationShell)),a(1,(0,c.inject)(d.IPersistentStateFactory)),a(2,(0,c.inject)(p.ITerminalManager)),a(3,(0,c.inject)(d.IDisposableRegistry)),a(4,(0,c.inject)(p.IActiveResourceService)),a(5,(0,c.inject)(g.ITerminalEnvVarCollectionService)),a(6,(0,c.inject)(d.IConfigurationService)),a(7,(0,c.inject)(v.IInterpreterService)),a(8,(0,c.inject)(d.IExperimentService))],E)},3062:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalEnvVarCollectionService=void 0;const c=s(n(16928)),l=n(25891),u=n(54980),p=n(25943),d=n(54661),h=n(8103),f=n(22408),v=n(18065),g=n(86156),m=n(14152),y=n(61905),b=n(29413),_=n(15656),E=n(67714),S=n(25297),w=n(62982),P=n(53694),T=n(23935),C=n(48112),x=n(15721),I=n(52060),O=n(69922),R=n(36380);let D=class{constructor(e,t,n,r,i,o,s,a,c,l,u,p,d,h){this.platform=e,this.interpreterService=t,this.context=n,this.shell=r,this.experimentService=i,this.applicationEnvironment=o,this.disposables=s,this.environmentActivationService=a,this.workspaceService=c,this.configurationService=l,this.terminalDeactivateService=u,this.pathUtils=p,this.shellIntegrationDetectionService=d,this.environmentVariablesProvider=h,this.supportedWorkspaceTypes={untrustedWorkspace:!1,virtualWorkspace:!1},this.noPromptVariableShells=[T.TerminalShellType.powershell,T.TerminalShellType.powershellCore,T.TerminalShellType.fish],this.registeredOnce=!1,this.isPromptSet=new Map,this.separator=e.osType===C.OSType.Windows?";":":",this.progressService=new O.ProgressService(this.shell)}async activate(e){try{if(!(0,h.inTerminalEnvVarExperiment)(this.experimentService))return this.context.environmentVariableCollection.clear(),await this.handleMicroVenv(e),void(this.registeredOnce||(this.interpreterService.onDidChangeInterpreter((async e=>{await this.handleMicroVenv(e)}),this,this.disposables),this.registeredOnce=!0));if(!this.registeredOnce){this.interpreterService.onDidChangeInterpreter((async e=>{await this._applyCollection(e).ignoreErrors()}),this,this.disposables),this.shellIntegrationDetectionService.onDidChangeStatus((async()=>{(0,y.traceInfo)("Shell integration status changed, can confirm it's working."),await this._applyCollection(void 0).ignoreErrors()}),this,this.disposables),this.environmentVariablesProvider.onDidEnvironmentVariablesChange((async e=>{await this._applyCollection(e).ignoreErrors()}),this,this.disposables),this.applicationEnvironment.onDidChangeShell((async e=>{this.processEnvVars=void 0,await this._applyCollection(void 0,e).ignoreErrors()}),this,this.disposables);const{shell:e}=this.applicationEnvironment,t=await this.shellIntegrationDetectionService.isWorking(),n=(0,v.identifyShellFromShellPath)(e);t||n===T.TerminalShellType.commandPrompt||(0,y.traceWarn)("Shell integration may not be active, environment activated may be overridden by the shell."),this.registeredOnce=!0}this._applyCollection(e).ignoreErrors()}catch(e){(0,y.traceError)("Activating terminal env collection failed",e)}}async _applyCollection(e,t){this.progressService.showProgress({location:u.ProgressLocation.Window,title:m.Interpreters.activatingTerminals}),await this._applyCollectionImpl(e,t).catch((e=>((0,y.traceError)("Failed to apply terminal env vars",t,e),Promise.reject(e)))),this.progressService.hideProgress()}async _applyCollectionImpl(e,t=this.applicationEnvironment.shell){const n=this.getWorkspaceFolder(e),r=this.configurationService.getSettings(e),i=this.getEnvironmentVariableCollection({workspaceFolder:n});if((0,R.useEnvExtension)())return i.clear(),void(0,y.traceVerbose)("Do not activate terminal env vars as env extension is being used");if(!r.terminal.activateEnvironment)return i.clear(),void(0,y.traceVerbose)("Activating environments in terminal is disabled for",null==e?void 0:e.fsPath);const o=await this.environmentActivationService.getActivatedEnvironmentVariables(e,void 0,void 0,t),s=o?A(o):void 0;if((0,y.traceVerbose)(`Activated environment variables for ${null==e?void 0:e.fsPath}`,s),!s){const n=(0,v.identifyShellFromShellPath)(t),r=_.defaultShells[this.platform.osType];return(null==r?void 0:r.shellType)!==n?void await this._applyCollectionImpl(e,null==r?void 0:r.shell):(await this.trackTerminalPrompt(t,e,s),i.clear(),void(this.processEnvVars=void 0))}this.processEnvVars||(this.processEnvVars=await this.environmentActivationService.getProcessEnvironmentVariables(e,t));const a=A(this.processEnvVars);s.PS1=await this.getPS1(t,e,s);const c=await this.getPrependOptions();i.clear();const l=await this.terminalDeactivateService.getScriptLocation(t,e);Object.keys(s).forEach((e=>{var t;if(function(e){return["_","SHLVL","PYTHONUTF8","_OLD_VIRTUAL_PATH","PWD"].includes(e)}(e))return;let n=s[e];if(a[e]!==n&&void 0!==n){if("PS1"===e)return(0,y.traceLog)(`Prepending environment variable ${e} in collection with ${n} ${JSON.stringify(c)}`),void i.prepend(e,n,c);if("PATH"===e){const r={applyAtShellIntegration:!0,applyAtProcessCreation:!0};return void(a.PATH&&(null===(t=s.PATH)||void 0===t?void 0:t.endsWith(a.PATH))?(n=s.PATH.slice(0,-a.PATH.length),l&&(n=`${l}${this.separator}${n}`),(0,y.traceLog)(`Prepending environment variable ${e} in collection with ${n} ${JSON.stringify(r)}`),i.prepend(e,n,r)):(n.endsWith(this.separator)||(n=n.concat(this.separator)),l&&(n=`${l}${this.separator}${n}`),(0,y.traceLog)(`Prepending environment variable ${e} in collection to ${n} ${JSON.stringify(r)}`),i.prepend(e,n,r)))}const r={applyAtShellIntegration:!0,applyAtProcessCreation:!0};(0,y.traceLog)(`Setting environment variable ${e} in collection to ${n} ${JSON.stringify(r)}`),i.replace(e,n,r)}}));const p=this.pathUtils.getDisplayName(r.pythonPath,null==n?void 0:n.uri.fsPath),d=new u.MarkdownString(`${m.Interpreters.activateTerminalDescription} \`${p}\``);i.description=d,await this.trackTerminalPrompt(t,e,s),await this.terminalDeactivateService.initializeScriptParams(t).catch((e=>{(0,y.traceError)("Failed to initialize deactivate script",t,e)}))}isTerminalPromptSetCorrectly(e){const t=this.getWorkspaceFolder(e);return!!this.isPromptSet.get(null==t?void 0:t.index)}terminalPromptIsCorrect(e){var t;const n=null===(t=this.getWorkspaceFolder(e))||void 0===t?void 0:t.index;this.isPromptSet.set(n,!0)}terminalPromptIsUnknown(e){var t;const n=null===(t=this.getWorkspaceFolder(e))||void 0===t?void 0:t.index;this.isPromptSet.delete(n)}async trackTerminalPrompt(e,t,n){if(this.terminalPromptIsUnknown(t),!n)return void this.terminalPromptIsCorrect(t);const r=(0,v.identifyShellFromShellPath)(e);if(!this.noPromptVariableShells.includes(r)){if(this.platform.osType!==C.OSType.Windows){const e=await this.interpreterService.getActiveInterpreter(t);if(k(null==e?void 0:e.type,n)&&!n.PS1)return;if(!await this.shellIntegrationDetectionService.isWorking())return void(0,y.traceVerbose)("PS1 is not set when shell integration is disabled.")}this.terminalPromptIsCorrect(t)}}async getPS1(e,t,n){const r=(0,v.identifyShellFromShellPath)(e);if(this.noPromptVariableShells.includes(r))return n.PS1;if(this.platform.osType!==C.OSType.Windows){const e=await this.interpreterService.getActiveInterpreter(t);if(k(null==e?void 0:e.type,n)){const t=function(e,t){if(e){if(e.envName){if("base"===e.envName)return;return e.type===x.PythonEnvType.Virtual&&t.VIRTUAL_ENV_PROMPT?`${t.VIRTUAL_ENV_PROMPT}`:`(${e.envName}) `}return e.envPath?`(${c.basename(e.envPath)}) `:void 0}}(e,n);if(t)return t}}return n.PS1?n.PS1:void 0}async handleMicroVenv(e){try{const t=this.configurationService.getSettings(e),n=this.getWorkspaceFolder(e);if((0,R.useEnvExtension)())return this.getEnvironmentVariableCollection({workspaceFolder:n}).clear(),void(0,y.traceVerbose)("Do not activate microvenv as env extension is being used");if(!t.terminal.activateEnvironment)return this.getEnvironmentVariableCollection({workspaceFolder:n}).clear(),void(0,y.traceVerbose)("Do not activate microvenv as activating environments in terminal is disabled for",null==e?void 0:e.fsPath);const r=await this.interpreterService.getActiveInterpreter(e);if((null==r?void 0:r.envType)===S.EnvironmentType.Venv){const e=c.join(c.dirname(r.path),"activate");if(!await(0,p.pathExists)(e)){const e=this.getEnvironmentVariableCollection({workspaceFolder:n}),t=(0,w.getSearchPathEnvVarNames)()[0];return void e.replace("PATH",`${c.dirname(r.path)}${c.delimiter}${process.env[t]}`,{applyAtShellIntegration:!0,applyAtProcessCreation:!0})}this.getEnvironmentVariableCollection({workspaceFolder:n}).clear()}}catch(e){(0,y.traceWarn)("Microvenv failed as it is using proposed API which is constantly changing",e)}}async getPrependOptions(){return await this.shellIntegrationDetectionService.isWorking()?{applyAtShellIntegration:!0,applyAtProcessCreation:!1}:{applyAtShellIntegration:!0,applyAtProcessCreation:!0}}getEnvironmentVariableCollection(e={}){return this.context.environmentVariableCollection.getScoped(e)}getWorkspaceFolder(e){let t=this.workspaceService.getWorkspaceFolder(e);return!t&&Array.isArray(this.workspaceService.workspaceFolders)&&this.workspaceService.workspaceFolders.length>0&&([t]=this.workspaceService.workspaceFolders),t}};function k(e,t){if(t.PS1)return!0;if(e===x.PythonEnvType.Virtual){const e=t.VIRTUAL_ENV_DISABLE_PROMPT;return!(e&&void 0!==e)}if(e===x.PythonEnvType.Conda){const e=t.CONDA_PROMPT_MODIFIER;return!(!e||""===e)}return!1}function A(e){const t={};return Object.keys(e).forEach((n=>{t[(0,p.normCase)(n)]=e[n]})),t}t.TerminalEnvVarCollectionService=D,t.TerminalEnvVarCollectionService=D=o([(0,l.injectable)(),a(0,(0,l.inject)(f.IPlatformService)),a(1,(0,l.inject)(b.IInterpreterService)),a(2,(0,l.inject)(g.IExtensionContext)),a(3,(0,l.inject)(d.IApplicationShell)),a(4,(0,l.inject)(g.IExperimentService)),a(5,(0,l.inject)(d.IApplicationEnvironment)),a(6,(0,l.inject)(g.IDisposableRegistry)),a(7,(0,l.inject)(E.IEnvironmentActivationService)),a(8,(0,l.inject)(d.IWorkspaceService)),a(9,(0,l.inject)(g.IConfigurationService)),a(10,(0,l.inject)(I.ITerminalDeactivateService)),a(11,(0,l.inject)(g.IPathUtils)),a(12,(0,l.inject)(I.IShellIntegrationDetectionService)),a(13,(0,l.inject)(P.IEnvironmentVariablesProvider))],D)},12330:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ShellIntegrationDetectionService=t.isShellIntegrationWorking=void 0;const o=n(25891),s=n(54980),a=n(54661),c=n(18065),l=n(23935),u=n(86156),p=n(7855),d=n(61905),h=n(8841),f=[l.TerminalShellType.powershell,l.TerminalShellType.powershellCore,l.TerminalShellType.bash,l.TerminalShellType.zsh,l.TerminalShellType.fish];var v;!function(e){e.key="SHELL_INTEGRATION_WORKING_KEY"}(v||(t.isShellIntegrationWorking=v={}));let g=class{constructor(e,t,n,r,i,o){this.terminalManager=e,this.appShell=t,this.workspaceService=n,this.persistentStateFactory=r,this.appEnvironment=i,this.disposables=o,this.isWorkingForShell=new Set,this.didChange=new s.EventEmitter,this.isDataWriteEventWorking=!0,this.onDidChangeStatus=this.didChange.event;try{const e=(0,c.identifyShellFromShellPath)(this.appEnvironment.shell),t=m(e);this.persistentStateFactory.createGlobalPersistentState(t).value&&this.isWorkingForShell.add(e),this.appShell.onDidWriteTerminalData((e=>{if(e.data.includes("]633;A")||e.data.includes("]133;A")){let{shell:t}=this.appEnvironment;"shellPath"in e.terminal.creationOptions&&e.terminal.creationOptions.shellPath&&(t=e.terminal.creationOptions.shellPath);const n=(0,c.identifyShellFromShellPath)(t);(0,d.traceVerbose)("Received shell integration sequence for",n);const r=this.isWorkingForShell.has(n);this.isWorkingForShell.add(n),r||this.didChange.fire()}}),this,this.disposables),this.appEnvironment.onDidChangeShell((async e=>{this.createDummyHiddenTerminal(e)}),this,this.disposables),this.createDummyHiddenTerminal(this.appEnvironment.shell)}catch(e){this.isDataWriteEventWorking=!1,(0,d.traceError)("Unable to check if shell integration is active",e)}this.workspaceService.getConfiguration("terminal").get("integrated.shellIntegration.enabled")||(0,d.traceVerbose)("Shell integration is disabled in user settings.")}async isWorking(){const{shell:e}=this.appEnvironment;return this._isWorking(e).catch((t=>((0,d.traceError)("Failed to determine if shell supports shell integration",e,t),!1)))}async _isWorking(e){const t=(0,c.identifyShellFromShellPath)(e);if(!f.includes(t))return!1;const n=m(t),r=this.persistentStateFactory.createGlobalPersistentState(n);if(void 0!==r.value)return r.value;const i=await this.useDataWriteApproach(t);return i&&await r.updateValue(i),i}async useDataWriteApproach(e){return!this.isDataWriteEventWorking||e===l.TerminalShellType.powershell||e===l.TerminalShellType.powershellCore||(this.isWorkingForShell.has(e)||await(0,p.sleep)(1e3),(0,d.traceVerbose)("Did we determine shell integration to be working for",e,"?",this.isWorkingForShell.has(e)),this.isWorkingForShell.has(e))}createDummyHiddenTerminal(e){(0,h.isTrusted)()&&this.terminalManager.createTerminal({shellPath:e,hideFromUser:!0})}};function m(e){return`${v.key}_${e}`}t.ShellIntegrationDetectionService=g,t.ShellIntegrationDetectionService=g=r([(0,o.injectable)(),i(0,(0,o.inject)(a.ITerminalManager)),i(1,(0,o.inject)(a.IApplicationShell)),i(2,(0,o.inject)(a.IWorkspaceService)),i(3,(0,o.inject)(u.IPersistentStateFactory)),i(4,(0,o.inject)(a.IApplicationEnvironment)),i(5,(0,o.inject)(u.IDisposableRegistry))],g)},5274:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.registerPythonStartup=void 0;const s=n(54980),a=o(n(16928)),c=n(8841),l=n(84090);async function u(e){if((0,c.getConfiguration)("python").get("terminal.shellIntegration.enabled")){const t=e.storageUri||e.globalStorageUri;try{await(0,c.createDirectory)(t)}catch(e){}const n=s.Uri.joinPath(t,"pythonrc.py"),r=a.join(l.EXTENSION_ROOT_DIR,"python_files","pythonrc.py");await(0,c.copy)(s.Uri.file(r),n,{overwrite:!0}),e.environmentVariableCollection.replace("PYTHONSTARTUP",n.fsPath)}else e.environmentVariableCollection.delete("PYTHONSTARTUP")}t.registerPythonStartup=async function(e){await u(e),e.subscriptions.push((0,c.onDidChangeConfiguration)((async t=>{t.affectsConfiguration("python.terminal.shellIntegration.enabled")&&await u(e)})))}},83295:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerCustomTerminalLinkProvider=t.CustomTerminalLinkProvider=void 0;const r=n(93029),i=n(85784),o=n(14152);class s{provideTerminalLinks(e,t){const n=[];let r;return r="darwin"===process.platform?"Cmd click to launch VS Code Native REPL":"Ctrl click to launch VS Code Native REPL",e.line.includes(r)&&n.push({startIndex:e.line.indexOf(r),length:r.length,tooltip:o.Repl.launchNativeRepl,command:"python.startNativeREPL"}),n}async handleTerminalLink(e){await(0,r.executeCommand)(e.command)}}t.CustomTerminalLinkProvider=s,t.registerCustomTerminalLinkProvider=function(e){e.push((0,i.registerTerminalLinkProvider)(new s))}},95609:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const r=n(43333),i=n(96943),o=n(83887),s=n(39031),a=n(50226),c=n(90286),l=n(52060),u=n(3062),p=n(11925),d=n(97938),h=n(83328),f=n(12330);t.registerTypes=function(e){e.addSingleton(l.ICodeExecutionHelper,s.CodeExecutionHelper),e.addSingleton(l.ICodeExecutionManager,i.CodeExecutionManager),e.addSingleton(l.ICodeExecutionService,o.DjangoShellCodeExecutionProvider,"djangoShell"),e.addSingleton(l.ICodeExecutionService,c.TerminalCodeExecutionProvider,"standard"),e.addSingleton(l.ICodeExecutionService,a.ReplProvider,"repl"),e.addSingleton(l.ITerminalAutoActivation,r.TerminalAutoActivation),e.addSingleton(l.ITerminalEnvVarCollectionService,u.TerminalEnvVarCollectionService),e.addSingleton(l.ITerminalDeactivateService,h.TerminalDeactivateService),e.addSingleton(p.IExtensionSingleActivationService,d.TerminalIndicatorPrompt),e.addSingleton(l.IShellIntegrationDetectionService,f.ShellIntegrationDetectionService),e.addBinding(l.ITerminalEnvVarCollectionService,p.IExtensionActivationService)}},52060:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IPythonStartupEnvVarService=t.ITerminalDeactivateService=t.IShellIntegrationDetectionService=t.ITerminalEnvVarCollectionService=t.ITerminalAutoActivation=t.ICodeExecutionManager=t.ICodeExecutionHelper=t.ICodeExecutionService=void 0,t.ICodeExecutionService=Symbol("ICodeExecutionService"),t.ICodeExecutionHelper=Symbol("ICodeExecutionHelper"),t.ICodeExecutionManager=Symbol("ICodeExecutionManager"),t.ITerminalAutoActivation=Symbol("ITerminalAutoActivation"),t.ITerminalEnvVarCollectionService=Symbol("ITerminalEnvVarCollectionService"),t.IShellIntegrationDetectionService=Symbol("IShellIntegrationDetectionService"),t.ITerminalDeactivateService=Symbol("ITerminalDeactivateService"),t.IPythonStartupEnvVarService=Symbol("IPythonStartupEnvVarService")},20504:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BufferedTestConfigSettingsService=void 0,t.BufferedTestConfigSettingsService=class{constructor(){this.ops=[]}async updateTestArgs(e,t,n){return this.ops.push(["updateTestArgs",e,t,n]),Promise.resolve()}async enable(e,t){return this.ops.push(["enable",e,t,[]]),Promise.resolve()}async disable(e,t){return this.ops.push(["disable",e,t,[]]),Promise.resolve()}async apply(e){const{ops:t}=this;this.ops=[];for(const[n,r,i,o]of t)switch(n){case"updateTestArgs":await e.updateTestArgs(r,i,o);break;case"enable":await e.enable(r,i);break;case"disable":await e.disable(r,i)}return Promise.resolve()}getTestEnablingSetting(e){throw new Error("Method not implemented.")}}},96279:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.TestConfigSettingsService=void 0;const o=n(25891),s=n(54980),a=n(54661),c=n(86156),l=n(9100);let u=class{constructor(e){this.workspaceService=e.get(a.IWorkspaceService)}async updateTestArgs(e,t,n){const r=this.getTestArgSetting(t);return this.updateSetting(e,r,n)}async enable(e,t){const n=this.getTestEnablingSetting(t);return this.updateSetting(e,n,!0)}async disable(e,t){const n=this.getTestEnablingSetting(t);return this.updateSetting(e,n,!1)}getTestEnablingSetting(e){switch(e){case c.Product.unittest:return"testing.unittestEnabled";case c.Product.pytest:return"testing.pytestEnabled";default:throw new Error("Invalid Test Product")}}getTestArgSetting(e){switch(e){case c.Product.unittest:return"testing.unittestArgs";case c.Product.pytest:return"testing.pytestArgs";default:throw new Error("Invalid Test Product")}}async updateSetting(e,t,n){var r;let i;const o="string"==typeof e?s.Uri.file(e):e;if(((null===(r=this.workspaceService.workspaceFolders)||void 0===r?void 0:r.length)||0)>0)if(1===this.workspaceService.workspaceFolders.length)i=this.workspaceService.getConfiguration("python",this.workspaceService.workspaceFolders[0].uri);else{const t=this.workspaceService.getWorkspaceFolder(o);if(!t)throw new Error(`Test directory does not belong to any workspace (${e})`);i=this.workspaceService.getConfiguration("python",t.uri)}else i=this.workspaceService.getConfiguration("python");return i.update(t,n)}};t.TestConfigSettingsService=u,t.TestConfigSettingsService=u=r([(0,o.injectable)(),i(0,(0,o.inject)(l.IServiceContainer))],u)},77329:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UNITTEST_PROVIDER=t.PYTEST_PROVIDER=t.UNIT_TEST_PRODUCTS=void 0;const r=n(86156);t.UNIT_TEST_PRODUCTS=[r.Product.pytest,r.Product.unittest],t.PYTEST_PROVIDER="pytest",t.UNITTEST_PROVIDER="unittest"},46099:function(e,t,n){"use strict";var r,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},c=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DebugLauncher=void 0;const l=n(25891),u=a(n(16928)),p=n(54980),d=n(54661),h=n(552),f=a(n(8370)),v=n(86156),g=n(54786),m=n(2769),y=n(59858),b=n(9100),_=n(61905),E=n(21114),S=n(8841),w=n(85784),P=n(7855),T=n(73873);let C=r=class{constructor(e,t){this.serviceContainer=e,this.launchResolver=t,this.configService=this.serviceContainer.get(v.IConfigurationService)}async launchDebugger(e,t,n){var i;const o=(0,P.createDeferred)();let s=!1;if(e.token&&e.token.isCancellationRequested)return void(s=!0);null===(i=e.token)||void 0===i||i.onCancellationRequested((()=>{o.resolve(),null==t||t(),s=!0}));const a=r.resolveWorkspaceFolder(e.cwd),c=await this.getLaunchArgs(e,a,this.configService.getSettings(a.uri)),l=this.serviceContainer.get(d.IDebugService);let u;return l.startDebugging(a,c,n).then((()=>{u=l.activeDebugSession})),l.onDidTerminateDebugSession((e=>{(0,_.traceVerbose)(`Debug session terminated. sessionId: ${e.id}`),s||void 0===u||e.id!==(null==u?void 0:u.id)||(o.resolve(),null==t||t())})),o.promise}static resolveWorkspaceFolder(e){var t;if(!(((null===(t=(0,S.getWorkspaceFolders)())||void 0===t?void 0:t.length)||0)>0))throw new Error("Please open a workspace");const n=e?p.Uri.file(e):void 0;let r=(0,S.getWorkspaceFolder)(n);if(!r){const[e]=(0,S.getWorkspaceFolders)();r=e}return r}async getLaunchArgs(e,t,n){let i=await r.readDebugConfig(t);return i||(i={name:"Debug Unit Test",type:"debugpy",request:"test",subProcess:!0}),i.rules||(i.rules=[]),i.rules.push({path:u.join(h.EXTENSION_ROOT_DIR,"python_files"),include:!1}),r.applyDefaults(i,t,n),this.convertConfigToArgs(i,t,e)}async readAllDebugConfigs(e){try{return await(0,E.getConfigurationsForWorkspace)(e)}catch(e){(0,_.traceError)("could not get debug config",e);const t=this.serviceContainer.get(d.IApplicationShell);return await t.showErrorMessage(p.l10n.t("Could not load unit test config from launch.json as it is missing a field")),[]}}static async readDebugConfig(e){var t;try{const n=await(0,E.getConfigurationsForWorkspace)(e);for(const e of n)if(e.name&&(e.type===g.DebuggerTypeName||e.type===g.PythonDebuggerTypeName)&&("test"===e.request||(null===(t=e.purpose)||void 0===t?void 0:t.includes(y.DebugPurpose.DebugTest))))return e;return}catch(e){return(0,_.traceError)("could not get debug config",e),void await(0,w.showErrorMessage)(p.l10n.t("Could not load unit test config from launch.json as it is missing a field"))}}static applyDefaults(e,t,n){e.console||(e.console="internalConsole"),e.cwd||(e.cwd=n.testing.cwd||t.uri.fsPath),e.env||(e.env={}),e.envFile||(e.envFile=n.envFile),void 0===e.stopOnEntry&&(e.stopOnEntry=!1),e.showReturnValue=!1!==e.showReturnValue,void 0===e.redirectOutput&&(e.redirectOutput=!0),void 0===e.debugStdLib&&(e.debugStdLib=!1),void 0===e.subProcess&&(e.subProcess=!0)}async convertConfigToArgs(e,t,n){const i=e,o="unittest"===n.testProvider?n.args.filter((e=>"--debug"!==e)):n.args,s=r.getTestLauncherScript(n.testProvider)(o),[a]=s;i.program=a,i.args=s.slice(1);let c=await this.launchResolver.resolveDebugConfiguration(t,i,n.token);if(!c)throw Error(`Invalid debug config "${e.name}"`);if(c=await this.launchResolver.resolveDebugConfigurationWithSubstitutedVariables(t,c,n.token),!c)throw Error(`Invalid debug config "${e.name}"`);if(c.request="launch",!n.pytestPort||!n.runTestIdsPort)throw Error(`Missing value for debug setup, both port and uuid need to be defined. port: "${n.pytestPort}" uuid: "${n.pytestUUID}"`);c.env={...c.env,TEST_RUN_PIPE:n.pytestPort,RUN_TEST_IDS_PIPE:n.runTestIdsPort};const l=u.join(h.EXTENSION_ROOT_DIR,"python_files");if(c.env){const e=[l];c.cwd?e.push(c.cwd):n.cwd&&e.push(n.cwd),(0,T.addPathToPythonpath)(e,c.env.PYTHONPATH)}return c.purpose=[],c}static getTestLauncherScript(e){switch(e){case"unittest":return f.execution_py_testlauncher;case"pytest":return f.pytestlauncher;default:throw new Error(`Unknown test provider '${e}'`)}}};t.DebugLauncher=C,t.DebugLauncher=C=r=s([(0,l.injectable)(),c(0,(0,l.inject)(b.IServiceContainer)),c(1,(0,l.inject)(m.IDebugConfigurationResolver)),c(1,(0,l.named)("launch"))],C)},73873:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.addPathToPythonpath=void 0;const s=o(n(16928));t.addPathToPythonpath=function(e,t){let n;return n=t?t.split(s.delimiter):[],n=n.map((e=>s.normalize(e))),e.forEach((e=>{const t=s.normalize(e);n.includes(t)||n.push(t)})),n.join(s.delimiter)}},72003:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.TestConfigurationManager=void 0;const s=o(n(16928)),a=n(54661),c=n(22408),l=n(86156),u=n(7855),p=n(61905),d=n(77329),h=n(23365);function f(){throw(0,p.traceVerbose)("testing configuration (in UI) cancelled"),Error("cancelled")}t.TestConfigurationManager=class{constructor(e,t,n,r){this.workspace=e,this.product=t,this.serviceContainer=n,this.handleCancelled=f,this.installer=n.get(l.IInstaller),this.testConfigSettingsService=r||n.get(h.ITestConfigSettingsService)}async enable(){await Promise.all(d.UNIT_TEST_PRODUCTS.filter((e=>e!==this.product)).map((e=>this.testConfigSettingsService.disable(this.workspace,e)))),await this.testConfigSettingsService.enable(this.workspace,this.product)}async disable(){return this.testConfigSettingsService.enable(this.workspace,this.product)}selectTestDir(e,t,n=[]){let r=t.map((t=>{const n=s.relative(e,t);if(0!==n.indexOf("."))return{label:n,description:""}})).filter((e=>void 0!==e)).map((e=>e));return r=[{label:".",description:"Root directory"},...r],r=n.concat(r),this.showQuickPick(r,{ignoreFocusOut:!0,matchOnDescription:!0,matchOnDetail:!0,placeHolder:"Select the directory containing the tests"})}selectTestFilePattern(){return this.showQuickPick([{label:"*test.py",description:"Python files ending with 'test'"},{label:"*_test.py",description:"Python files ending with '_test'"},{label:"test*.py",description:"Python files beginning with 'test'"},{label:"test_*.py",description:"Python files beginning with 'test_'"},{label:"*test*.py",description:"Python files containing the word 'test'"}],{ignoreFocusOut:!0,matchOnDescription:!0,matchOnDetail:!0,placeHolder:"Select the pattern to identify test files"})}getTestDirs(e){return this.serviceContainer.get(c.IFileSystem).getSubDirectories(e).then((e=>{e.sort();const t=e.filter((e=>e.match(/test/i))),n=e.filter((e=>-1===t.indexOf(e)));return t.push(...n),t}))}showQuickPick(e,t){const n=(0,u.createDeferred)();return this.serviceContainer.get(a.IApplicationShell).showQuickPick(e,t).then((e=>{e?n.resolve(e.label):this.handleCancelled()})),n.promise}}},84349:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.TestsHelper=t.selectTestWorkspace=void 0;const i=n(25891),o=n(54980),s=n(86156);t.selectTestWorkspace=async function(e){if(Array.isArray(o.workspace.workspaceFolders)&&0!==o.workspace.workspaceFolders.length){if(1===o.workspace.workspaceFolders.length)return o.workspace.workspaceFolders[0].uri;{const t=await e.showWorkspaceFolderPick({placeHolder:"Select a workspace"});return t?t.uri:void 0}}};let a=class{parseProviderName(e){switch(e){case s.Product.pytest:return"pytest";case s.Product.unittest:return"unittest";default:throw new Error(`Unknown Test Product ${e}`)}}parseProduct(e){switch(e){case"pytest":return s.Product.pytest;case"unittest":return s.Product.unittest;default:throw new Error(`Unknown Test Provider ${e}`)}}getSettingsPropertyNames(e){switch(this.parseProviderName(e)){case"pytest":return{argsName:"pytestArgs",pathName:"pytestPath",enabledName:"pytestEnabled"};case"unittest":return{argsName:"unittestArgs",enabledName:"unittestEnabled"};default:throw new Error(`Unknown Test Provider '${e}'`)}}};t.TestsHelper=a,t.TestsHelper=a=r([(0,i.injectable)()],a)},23365:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.ITestDebugLauncher=t.ITestConfigurationManagerFactory=t.ITestConfigSettingsService=t.ITestConfigurationService=t.ITestsHelper=t.TestFilter=void 0,function(e){e.removeTests="removeTests",e.discovery="discovery",e.runAll="runAll",e.runSpecific="runSpecific",e.debugAll="debugAll",e.debugSpecific="debugSpecific"}(n||(t.TestFilter=n={})),t.ITestsHelper=Symbol("ITestsHelper"),t.ITestConfigurationService=Symbol("ITestConfigurationService"),t.ITestConfigSettingsService=Symbol("ITestConfigSettingsService"),t.ITestConfigurationManagerFactory=Symbol("ITestConfigurationManagerFactory"),t.ITestDebugLauncher=Symbol("ITestDebugLauncher")},71001:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.UnitTestConfigurationService=t.NONE_SELECTED=void 0;const o=n(25891),s=n(54661),a=n(86156),c=n(9100),l=n(61905),u=n(51535),p=n(53322),d=n(20504),h=n(23365);t.NONE_SELECTED=Error("none selected");let f=class{constructor(e){this.serviceContainer=e,this.configurationService=e.get(a.IConfigurationService),this.appShell=e.get(s.IApplicationShell),this.workspaceService=e.get(s.IWorkspaceService)}hasConfiguredTests(e){const t=this.configurationService.getSettings(e);return t.testing.pytestEnabled||t.testing.unittestEnabled||!1}async displayTestFrameworkError(e){const n=this.configurationService.getSettings(e);let r=n.testing.pytestEnabled?1:0;if(r+=n.testing.unittestEnabled?1:0,r>1)return this._promptToEnableAndConfigureTestFramework(e,"Enable only one of the test frameworks (unittest or pytest).",!0);const i="Enable and configure a Test Framework";if(await this.appShell.showInformationMessage("No test framework configured (unittest, or pytest)",i)!==i)throw t.NONE_SELECTED;return this._promptToEnableAndConfigureTestFramework(e)}async selectTestRunner(e){const t=[{label:"unittest",product:a.Product.unittest,description:"Standard Python test framework",detail:"https://docs.python.org/3/library/unittest.html"},{label:"pytest",product:a.Product.pytest,description:"pytest framework",detail:"http://docs.pytest.org/"}],n={ignoreFocusOut:!0,matchOnDescription:!0,matchOnDetail:!0,placeHolder:e},r=await this.appShell.showQuickPick(t,n);return r?r.product:void 0}async enableTest(e,t){const n=this.serviceContainer.get(h.ITestConfigurationManagerFactory).create(e,t);return this._enableTest(e,n)}async promptToEnableAndConfigureTestFramework(e){await this._promptToEnableAndConfigureTestFramework(e,void 0,!1,"commandpalette")}_enableTest(e,t){const n=this.workspaceService.getConfiguration("python",e);return n.get("testing.promptToConfigure")?t.enable():n.update("testing.promptToConfigure",void 0).then((()=>t.enable()),(e=>t.enable().then((()=>Promise.reject(e)))))}async _promptToEnableAndConfigureTestFramework(e,n="Select a test framework/tool to enable",r=!1,i="ui"){const o={trigger:i,failed:!1};try{const i=await this.selectTestRunner(n);if("number"!=typeof i)throw t.NONE_SELECTED;const s=this.serviceContainer.get(h.ITestsHelper);o.tool=s.parseProviderName(i);const a=new d.BufferedTestConfigSettingsService,c=this.serviceContainer.get(h.ITestConfigurationManagerFactory).create(e,i,a);r?await c.enable():await c.configure(e).then((()=>this._enableTest(e,c))).catch((t=>this._enableTest(e,c).then((()=>Promise.reject(t)))));const u=this.serviceContainer.get(h.ITestConfigSettingsService);try{await a.apply(u)}catch(e){(0,l.traceError)("Python Extension: applying unit test config updates",e),o.failed=!0}}finally{(0,u.sendTelemetryEvent)(p.EventName.UNITTEST_CONFIGURING,void 0,o)}}};t.UnitTestConfigurationService=f,t.UnitTestConfigurationService=f=r([(0,o.injectable)(),i(0,(0,o.inject)(c.IServiceContainer))],f)},2592:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigurationManager=void 0;const s=o(n(16928)),a=n(22408),c=n(86156),l=n(72003);class u extends l.TestConfigurationManager{constructor(e,t,n){super(e,c.Product.pytest,t,n)}async requiresUserToConfigure(e){const t=await this.getConfigFiles(e.fsPath);return!(t.length>0&&1!==t.length&&"setup.cfg"!==t[0])}async configure(e){const t=[],n="Use existing config file",r=[],i=await this.getConfigFiles(e.fsPath);if(i.length>0&&1!==i.length&&"setup.cfg"!==i[0])return;1===i.length&&"setup.cfg"===i[0]&&r.push({label:n,description:"setup.cfg"});const o=await this.getTestDirs(e.fsPath),s=await this.selectTestDir(e.fsPath,o,r);"string"==typeof s&&s!==n&&t.push(s),await this.installer.isInstalled(c.Product.pytest)||await this.installer.install(c.Product.pytest),await this.testConfigSettingsService.updateTestArgs(e.fsPath,c.Product.pytest,t)}async getConfigFiles(e){const t=this.serviceContainer.get(a.IFileSystem),n=["pytest.ini","tox.ini","setup.cfg"].map((async n=>await t.fileExists(s.join(e,n))?n:""));return(await Promise.all(n)).filter((e=>e.length>0))}}t.ConfigurationManager=u},36451:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigurationManager=void 0;const r=n(86156),i=n(72003);class o extends i.TestConfigurationManager{constructor(e,t,n){super(e,r.Product.unittest,t,n)}async requiresUserToConfigure(e){return!0}async configure(e){const t=["-v"],n=await this.getTestDirs(e.fsPath),i=await this.selectTestDir(e.fsPath,n);t.push("-s"),"string"==typeof i&&"."!==i?t.push(`./${i}`):t.push(".");const o=await this.selectTestFilePattern();t.push("-p"),"string"==typeof o?t.push(o):t.push("test*.py"),await this.testConfigSettingsService.updateTestArgs(e.fsPath,r.Product.unittest,t)}}t.ConfigurationManager=o},90238:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.TestConfigurationManagerFactory=void 0;const c=n(25891),l=n(86156),u=n(9100),p=s(n(2592)),d=s(n(36451));let h=class{constructor(e){this.serviceContainer=e}create(e,t,n){switch(t){case l.Product.unittest:return new d.ConfigurationManager(e,this.serviceContainer,n);case l.Product.pytest:return new p.ConfigurationManager(e,this.serviceContainer,n);default:throw new Error("Invalid test configuration")}}};t.TestConfigurationManagerFactory=h,t.TestConfigurationManagerFactory=h=o([(0,c.injectable)(),a(0,(0,c.inject)(u.IServiceContainer))],h)},76971:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.UnitTestManagementService=t.TestingService=void 0;const c=n(25891),l=n(54980),u=n(54661),p=s(n(552));n(87295);const d=n(86156),h=n(29413),f=n(9100),v=n(53322),g=n(51535),m=n(84349),y=n(23365),b=n(86294),_=n(56218),E=n(19419),S=n(64230),w=n(14152),P=n(61905);let T=class{constructor(e){this.serviceContainer=e}getSettingsPropertyNames(e){return this.serviceContainer.get(y.ITestsHelper).getSettingsPropertyNames(e)}};t.TestingService=T,t.TestingService=T=o([(0,c.injectable)(),a(0,(0,c.inject)(f.IServiceContainer))],T);let C=class{constructor(e){this.serviceContainer=e,this.activatedOnce=!1,this.supportedWorkspaceTypes={untrustedWorkspace:!1,virtualWorkspace:!1},this.testStateMap=new Map,this.disposableRegistry=e.get(d.IDisposableRegistry),this.workspaceService=e.get(u.IWorkspaceService),this.context=this.serviceContainer.get(u.IContextKeyManager),l.tests&&l.tests.createTestController&&(this.testController=e.get(b.ITestController));const t=new _.DelayedTrigger(this.configurationChangeHandler.bind(this),500,"Test Configuration Change");this.configChangeTrigger=t,this.disposableRegistry.push(t)}async activate(){this.activatedOnce||(this.activatedOnce=!0,this.registerHandlers(),this.registerCommands(),l.tests.testResults&&(await this.updateTestUIButtons(),this.disposableRegistry.push(l.tests.onDidChangeTestResults((()=>{this.updateTestUIButtons()})))),this.testController&&(this.testController.onRefreshingStarted((async()=>{await this.context.setContext(E.ExtensionContextKey.RefreshingTests,!0)})),this.testController.onRefreshingCompleted((async()=>{await this.context.setContext(E.ExtensionContextKey.RefreshingTests,!1)})),this.testController.onRunWithoutConfiguration((async e=>{var t;const n=null!==(t=this.workspaceService.workspaceFolders)&&void 0!==t?t:[];if(e.length===n.length){const t=this.serviceContainer.get(u.ICommandManager);await t.executeCommand("workbench.view.testing.focus");const n=this.serviceContainer.get(u.IApplicationShell);await n.showInformationMessage(w.Testing.testNotConfigured,w.Testing.configureTests)===w.Testing.configureTests&&await t.executeCommand(p.Commands.Tests_Configure,void 0,p.CommandSource.ui,e[0].uri)}}))))}async updateTestUIButtons(){(0,S.updateTestResultMap)(this.testStateMap,l.tests.testResults);const e=(0,S.checkForFailedTests)(this.testStateMap);await this.context.setContext(E.ExtensionContextKey.HasFailedTests,e)}async configurationChangeHandler(e){var t;const n=(null!==(t=this.workspaceService.workspaceFolders)&&void 0!==t?t:[]).filter((t=>e.affectsConfiguration("python.testing",t.uri))).map((e=>e.uri));await Promise.all(n.map((e=>{var t;return null===(t=this.testController)||void 0===t?void 0:t.refreshTestData(e)})))}async configureTests(e){let t;if(e){const n=this.workspaceService.getWorkspaceFolder(e);t=n?n.uri:void 0}else{const e=this.serviceContainer.get(u.IApplicationShell);t=await(0,m.selectTestWorkspace)(e)}if(!t)return;const n=this.serviceContainer.get(h.IInterpreterService),r=this.serviceContainer.get(u.ICommandManager);if(!await n.getActiveInterpreter(t))return void r.executeCommand(p.Commands.TriggerEnvironmentSelection,t);const i=this.serviceContainer.get(y.ITestConfigurationService);await i.promptToEnableAndConfigureTestFramework(t)}registerCommands(){const e=this.serviceContainer.get(u.ICommandManager);this.disposableRegistry.push(e.registerCommand(p.Commands.Tests_Configure,((e,t=p.CommandSource.commandPalette,n)=>{var r;this.configureTests(n).ignoreErrors(),(0,P.traceVerbose)("Testing: Trigger refresh after config change"),null===(r=this.testController)||void 0===r||r.refreshTestData(n,{forceRefresh:!0})})),e.registerCommand(p.Commands.Tests_CopilotSetup,(e=>{var t;const n=this.workspaceService.getWorkspaceFolder(e)||(null===(t=this.workspaceService.workspaceFolders)||void 0===t?void 0:t.at(0));if(n)return this.serviceContainer.get(y.ITestConfigurationService).hasConfiguredTests(n.uri)?void 0:{message:w.Testing.copilotSetupMessage,command:{title:w.Testing.configureTests,command:p.Commands.Tests_Configure,arguments:[void 0,p.CommandSource.ui,e]}}})))}registerHandlers(){const e=this.serviceContainer.get(h.IInterpreterService);this.disposableRegistry.push(this.workspaceService.onDidChangeConfiguration((e=>{this.configChangeTrigger.trigger(e)})),e.onDidChangeInterpreter((async()=>{var e;(0,P.traceVerbose)("Testing: Triggered refresh due to interpreter change."),(0,g.sendTelemetryEvent)(v.EventName.UNITTEST_DISCOVERY_TRIGGER,void 0,{trigger:"interpreter"}),await(null===(e=this.testController)||void 0===e?void 0:e.refreshTestData(void 0,{forceRefresh:!0}))})))}};t.UnitTestManagementService=C,o([(0,g.captureTelemetry)(v.EventName.UNITTEST_CONFIGURE,void 0,!1)],C.prototype,"configureTests",null),t.UnitTestManagementService=C=o([(0,c.injectable)(),a(0,(0,c.inject)(f.IServiceContainer))],C)},61516:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const r=n(11925),i=n(46099),o=n(96279),s=n(84349),a=n(23365),c=n(71001),l=n(90238),u=n(76971),p=n(89113),d=n(88537);t.registerTypes=function(e){e.addSingleton(a.ITestDebugLauncher,i.DebugLauncher),e.add(a.ITestsHelper,s.TestsHelper),e.addSingleton(a.ITestConfigurationService,c.UnitTestConfigurationService),e.addSingleton(p.ITestingService,u.TestingService),e.addSingleton(a.ITestConfigSettingsService,o.TestConfigSettingsService),e.addSingleton(a.ITestConfigurationManagerFactory,l.TestConfigurationManagerFactory),e.addSingleton(r.IExtensionActivationService,u.UnitTestManagementService),(0,d.registerTestControllerTypes)(e)}},90859:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filterArguments=t.getPositionalArguments=t.getOptionValues=void 0;const r=n(61905);t.getOptionValues=function(e,t){const n=[];let r=!1;for(const i of e)r?(n.push(i),r=!1):i.startsWith(`${t}=`)?n.push(i.substring(`${t}=`.length)):i===t&&(r=!0);return n},t.getPositionalArguments=function(e,t=[],n=[]){const i=[];return e.forEach(((e,o)=>{-1!==n.indexOf(e)?i.push(o):-1!==t.indexOf(e)?(i.push(o),i.push(o+1)):-1!==t.findIndex((t=>e.startsWith(`${t}=`)))?i.push(o):(e.startsWith("-")||e.indexOf("=")>0)&&((0,r.traceWarn)(`Unknown command line option passed into args parser for tests '${e}'. Please report on https://github.com/Microsoft/vscode-python/issues/new`),i.push(o))})),e.filter(((e,t)=>-1===i.indexOf(t)))},t.filterArguments=function(e,t=[],n=[]){let r=-1;return e.filter(((e,i)=>!(r===i||n.indexOf(e)>=0||n.filter((t=>t.endsWith("*")&&e.startsWith(t.slice(0,-1)))).length>0||(t.indexOf(e)>=0?(r=i+1,1):t.filter((t=>e.startsWith(`${t}=`))).length>0||(-1===e.indexOf("=")&&n.filter((t=>t.endsWith("*")&&e.startsWith(t.slice(0,-1)))).length>0?(r=i+1,1):e.indexOf("=")>=0&&n.filter((t=>t.endsWith("*")&&e.startsWith(t.slice(0,-1)))).length>0)))))}},66232:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.PythonResultResolver=void 0;const s=n(54980),a=o(n(39023)),c=n(61905),l=n(14152),u=n(64230),p=n(51535),d=n(53322),h=n(74399),f=n(50442);t.PythonResultResolver=class{constructor(e,t,n){this.workspaceUri=n,this.subTestStats=new Map,this.detailedCoverageMap=new Map,this.testController=e,this.testProvider=t,this.runIdToTestItem=new Map,this.runIdToVSid=new Map,this.vsIdToRunId=new Map}resolveDiscovery(e,t){e&&this._resolveDiscovery(e,t)}_resolveDiscovery(e,t){var n,r;const i=this.workspaceUri.fsPath,o=e;if("error"===o.status){const e="pytest"===this.testProvider?l.Testing.errorPytestDiscovery:l.Testing.errorUnittestDiscovery,{error:t}=o;(0,c.traceError)(e,"for workspace: ",i,"\r\n",null!==(n=null==t?void 0:t.join("\r\n\r\n"))&&void 0!==n?n:"");let p=this.testController.items.get(`DiscoveryError:${i}`);const d=a.format(`${e} ${l.Testing.seePythonOutput}\r\n`,null!==(r=null==t?void 0:t.join("\r\n\r\n"))&&void 0!==r?r:"");if(void 0===p){const e=(0,f.buildErrorNodeOptions)(this.workspaceUri,d,this.testProvider);p=(0,u.createErrorTestItem)(this.testController,e),this.testController.items.add(p)}const h=new s.MarkdownString("[Show output](command:python.viewOutput) to view error logs");h.isTrusted=!0,p.error=h}else this.testController.items.delete(`DiscoveryError:${i}`);(o.tests||null===o.tests)&&(0,f.populateTestTree)(this.testController,o.tests,void 0,this,t),(0,p.sendTelemetryEvent)(d.EventName.UNITTEST_DISCOVERY_DONE,void 0,{tool:this.testProvider,failed:!1})}resolveExecution(e,t){"coverage"in e?((0,c.traceVerbose)("Coverage data received."),this._resolveCoverage(e,t)):this._resolveExecution(e,t)}_resolveCoverage(e,t){if(void 0!==e.result)for(const[n,r]of Object.entries(e.result)){const e=n,i=r,o=i.lines_covered?i.lines_covered:[],a=i.lines_missed?i.lines_missed:[],c=i.executed_branches,l=i.total_branches,u=new s.TestCoverageCount(o.length,o.length+a.length);let p;const d=s.Uri.file(e);if(-1===l)p=new s.FileCoverage(d,u);else{const e=new s.TestCoverageCount(c,l);p=new s.FileCoverage(d,u,e)}t.addCoverage(p);const h=[];for(const e of o){const t=new s.StatementCoverage(!0,new s.Range(e-1,0,e-1,Number.MAX_SAFE_INTEGER));h.push(t)}for(const e of a){const t=new s.StatementCoverage(!1,new s.Range(e-1,0,e-1,Number.MAX_SAFE_INTEGER));h.push(t)}this.detailedCoverageMap.set(d.fsPath,h)}}_resolveExecution(e,t){var n,r,i,o,a,c,l,p;const d=e;if(void 0!==d&&void 0!==d.result)for(const e of Object.keys(d.result)){const v=[];this.testController.items.forEach((e=>{const t=(0,u.getTestCaseNodes)(e);v.push(...t)}));const g=d.result[e];if("error"===g.outcome){const i=null!==(n=g.traceback)&&void 0!==n?n:"",o=(0,h.splitLines)(i,{trim:!1,removeEmptyEntries:!0}).join("\r\n"),a=`${g.test} failed with error: ${null!==(r=g.message)&&void 0!==r?r:g.outcome}\r\n${o}`,c=new s.TestMessage(a),l=this.runIdToVSid.get(e);v.forEach((e=>{e.id===l&&e.uri&&(e.range&&(c.location=new s.Location(e.uri,e.range)),t.errored(e,c))}))}else if("failure"===g.outcome||"passed-unexpected"===g.outcome){const n=null!==(i=g.traceback)&&void 0!==i?i:"",r=(0,h.splitLines)(n,{trim:!1,removeEmptyEntries:!0}).join("\r\n"),a=`${g.test} failed: ${null!==(o=g.message)&&void 0!==o?o:g.outcome}\r\n${r}`,c=new s.TestMessage(a),l=this.runIdToVSid.get(e);v.forEach((e=>{e.id===l&&e.uri&&(e.range&&(c.location=new s.Location(e.uri,e.range)),t.failed(e,c))}))}else if("success"===g.outcome||"expected-failure"===g.outcome){const n=this.runIdToTestItem.get(e),r=this.runIdToVSid.get(e);void 0!==n&&v.forEach((e=>{e.id===r&&e.uri&&t.passed(n)}))}else if("skipped"===g.outcome){const n=this.runIdToTestItem.get(e),r=this.runIdToVSid.get(e);void 0!==n&&v.forEach((e=>{e.id===r&&e.uri&&t.skipped(n)}))}else if("subtest-failure"===g.outcome){const[n,r]=(0,f.splitTestNameWithRegex)(e),i=this.runIdToTestItem.get(n),o=g;if(!i)throw new Error("Parent test item not found");{const e=this.subTestStats.get(n);e?e.failed+=1:(this.subTestStats.set(n,{failed:1,passed:0}),(0,u.clearAllChildren)(i));const p=null===(a=this.testController)||void 0===a?void 0:a.createTestItem(r,r,i.uri);if(!p)throw new Error("Unable to create new child node for subtest");{const e=null!==(c=o.traceback)&&void 0!==c?c:"",n=`${o.subtest} failed: ${null!==(l=g.message)&&void 0!==l?l:g.outcome}\r\n${e}`;i.children.add(p),t.started(p);const r=new s.TestMessage(n);i.uri&&i.range&&(r.location=new s.Location(i.uri,i.range)),t.failed(p,r)}}}else if("subtest-success"===g.outcome){const[n,r]=(0,f.splitTestNameWithRegex)(e),i=this.runIdToTestItem.get(n);if(!i)throw new Error("Parent test item not found");{const e=this.subTestStats.get(n);e?e.passed+=1:(this.subTestStats.set(n,{failed:0,passed:1}),(0,u.clearAllChildren)(i));const o=null===(p=this.testController)||void 0===p?void 0:p.createTestItem(r,r,i.uri);if(!o)throw new Error("Unable to create new child node for subtest");i.children.add(o),t.started(o),t.passed(o)}}}}}},64230:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.clearAllChildren=t.checkForFailedTests=t.updateTestResultMap=t.getNodeByUri=t.getWorkspaceNode=t.getTestCaseNodes=t.updateTestItemFromRawData=t.getRunIdFromRawData=t.createWorkspaceRootTestItem=t.createErrorTestItem=t.removeItemByIdFromChildren=t.DebugTestTag=t.RunTestTag=void 0;const s=o(n(16928)),a=n(54980),c=n(83597),l=n(61905),u=n(86294);function p(e){const t=[];return e.forEach((e=>{t.push(e)})),t}function d(e,t,n){n.forEach((n=>{t.children.delete(n),e.delete(n)}))}function h(e,t,n){const r=e.get(s.join(t,n.parentid));let i;return r&&(i="."===r.id?t:r.id),i}function f(e){try{const t=e.source.substr(e.source.indexOf(":")+1),n=Number.parseInt(t,10);return new a.Range(new a.Position(n-1,0),new a.Position(n,0))}catch(e){}}function v(e){const t=e.replace(/\.py[^\w\-]/g,"").replace(/[\\\:\/]/g,".").replace(/\:\:/g,".").replace(/\.\./g,".");return t.startsWith(".")?t.substr(1):t}function g(e,n,r,i){const o=s.join(r,i.relpath),c=a.Uri.file(o),l=h(n,r,i),p=s.basename(o),d=e.createTestItem(o,p,c);return d.canResolveChildren=!0,n.set(d.id,{id:d.id,rawId:i.id,runId:i.relpath,uri:c,kind:u.TestDataKinds.FolderOrFile,parentId:l}),d.tags=[t.RunTestTag,t.DebugTestTag],d}async function m(e,n,r,i,o,m){var b;if(null==m?void 0:m.isCancellationRequested)return;const _=null===(b=r.get(e.id))||void 0===b?void 0:b.rawId;if(!_)return void(0,l.traceError)(`Unknown node id: ${e.id}`);const E=o.filter((e=>e.root===_||e.rootid===_||e.parents.find((e=>e.id===_))||e.tests.find((e=>e.id===_))));if(0===E.length&&e.parent)return d(r,e.parent,[e.id]),void(0,l.traceVerbose)(`Following test item was removed Reason: No-Raw-Data ${e.id}`);if(E.length>1)return void(0,l.traceError)(`Multiple (${E.length}) raw data nodes had the same id: ${_}`);if(_===E[0].root||_===E[0].rootid){await(0,c.asyncForEach)(p(e.children),(async e=>{await y(e,n,r,i,E,m)}));const t=E[0].parents.filter((e=>"."===e.parentid||e.parentid===_)),o=[];return e.children.forEach((e=>{var t,n;return o.push(null!==(n=null===(t=r.get(e.id))||void 0===t?void 0:t.rawId)&&void 0!==n?n:"")})),void await(0,c.asyncForEach)(t.filter((e=>!o.includes(e.id))),(async t=>{const o=(t.kind,g(n,r,i,t));e.children.add(o),await y(o,n,r,i,E,m)}))}const S=E[0].parents.filter((e=>e.id===_));if(1===S.length){switch(S[0].kind){case"file":case"folder":!function(e,n,r,i){const o=s.join(r,i.relpath),c=a.Uri.file(o),l=h(n,r,i);e.label=s.basename(o),e.canResolveChildren=!0,n.set(e.id,{id:e.id,rawId:i.id,runId:i.relpath,uri:c,kind:u.TestDataKinds.FolderOrFile,parentId:l}),e.tags=[t.RunTestTag,t.DebugTestTag]}(e,r,i,S[0]);break;case"suite":case"function":!function(e,n,r,i){const o=s.join(r,i.id.substr(0,i.id.indexOf(":"))),c=a.Uri.file(o);e.label=i.name;const l=h(n,r,i),p=v(i.id);e.canResolveChildren=!0,n.set(e.id,{id:e.id,rawId:i.id,runId:p,uri:c,kind:u.TestDataKinds.Collection,parentId:l}),e.tags=[t.RunTestTag,t.DebugTestTag]}(e,r,i,S[0])}await(0,c.asyncForEach)(p(e.children),(async e=>{await y(e,n,r,i,E,m)}));const o=[];e.children.forEach((e=>{var t,n;return o.push(null!==(n=null===(t=r.get(e.id))||void 0===t?void 0:t.rawId)&&void 0!==n?n:"")}));const l=E[0].parents.filter((e=>e.parentid===_));return await(0,c.asyncForEach)(l.filter((e=>!o.includes(e.id))),(async o=>{let c;switch(o.kind){case"file":case"folder":c=g(n,r,i,o);break;case"suite":case"function":c=function(e,n,r,i){const o=s.join(r,i.id),c=s.join(r,i.id.substr(0,i.id.indexOf(":"))),l=a.Uri.file(c),p=i.name,d=h(n,r,i),f=v(i.id),g=e.createTestItem(o,p,l);return g.canResolveChildren=!0,n.set(g.id,{id:g.id,rawId:i.id,runId:f,uri:l,kind:u.TestDataKinds.Collection,parentId:d}),g.tags=[t.RunTestTag,t.DebugTestTag],g}(n,r,i,o)}c&&(e.children.add(c),await y(c,n,r,i,E,m))})),void E[0].tests.filter((e=>e.parentid===_)).filter((e=>!o.includes(e.id))).forEach((o=>{const c=function(e,n,r,i){const o=s.join(r,i.id),c=s.join(r,i.source.substr(0,i.source.indexOf(":"))),l=a.Uri.file(c),p=i.name,d=h(n,r,i),g=v(i.id),m=e.createTestItem(o,p,l);return m.canResolveChildren=!1,m.range=f(i),n.set(m.id,{id:m.id,rawId:i.id,runId:g,uri:l,kind:u.TestDataKinds.Case,parentId:d}),m.tags=[t.RunTestTag,t.DebugTestTag],m}(n,r,i,o);e.children.add(c)}))}if(S.length>1)return void(0,l.traceError)(`Multiple (${S.length}) raw data nodes had the same id: ${_}`);const w=E[0].tests.filter((e=>e.id===_));1!==w.length?w.length>1&&(0,l.traceError)(`Multiple (${w.length}) raw data nodes had the same id: ${_}`):function(e,n,r,i){const o=s.join(r,i.source.substr(0,i.source.indexOf(":"))),c=a.Uri.file(o);e.label=i.name;const l=h(n,r,i),p=v(i.id);e.canResolveChildren=!1,e.range=f(i),n.set(e.id,{id:e.id,rawId:i.id,runId:p,uri:c,kind:u.TestDataKinds.Case,parentId:l}),e.tags=[t.RunTestTag,t.DebugTestTag]}(e,r,i,w[0])}async function y(e,t,n,r,i,o){e.busy=!0,await m(e,t,n,r,i,o),e.busy=!1}function b(e,t){for(const n of t.taskStates)e.set(t.id,n.state);t.children.forEach((t=>b(e,t)))}t.RunTestTag={id:"python-run"},t.DebugTestTag={id:"python-debug"},t.removeItemByIdFromChildren=d,t.createErrorTestItem=function(e,n){const r=e.createTestItem(n.id,n.label);return r.canResolveChildren=!1,r.error=n.error,r.tags=[t.RunTestTag,t.DebugTestTag],r},t.createWorkspaceRootTestItem=function(e,n,r){var i;const o=e.createTestItem(r.id,r.label,r.uri);return o.canResolveChildren=!0,n.set(r.id,{...r,rawId:null!==(i=r.rawId)&&void 0!==i?i:r.id,kind:u.TestDataKinds.Workspace}),o.tags=[t.RunTestTag,t.DebugTestTag],o},t.getRunIdFromRawData=v,t.updateTestItemFromRawData=y,t.getTestCaseNodes=function e(t,n=[]){return!t.canResolveChildren&&t.tags.length>0&&n.push(t),t.children.forEach((r=>{t.canResolveChildren?e(r,n):n.push(t)})),n},t.getWorkspaceNode=function e(t,n){const r=n.get(t.id);if(r){if(r.kind===u.TestDataKinds.Workspace)return t;if(t.parent)return e(t.parent,n)}},t.getNodeByUri=function e(t,n){var r,i;if((null===(r=t.uri)||void 0===r?void 0:r.fsPath)===n.fsPath)return t;const o=[];t.children.forEach((e=>o.push(e)));for(const e of o)if((null===(i=e.uri)||void 0===i?void 0:i.fsPath)===n.fsPath)return e;for(const t of o){const r=e(t,n);if(r)return r}},t.updateTestResultMap=function(e,t){new Array(...t).sort(((e,t)=>e.completedAt-t.completedAt)).forEach((t=>{t.results.forEach((t=>b(e,t)))}))},t.checkForFailedTests=function(e){return void 0!==Array.from(e.values()).find((e=>e===a.TestResultState.Failed||e===a.TestResultState.Errored))},t.clearAllChildren=function(e){const t=[];e.children.forEach((e=>t.push(e.id))),t.forEach(e.children.delete)}},86294:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.ITestsRunner=t.ITestFrameworkController=t.ITestController=t.TestDataKinds=void 0,function(e){e[e.Workspace=0]="Workspace",e[e.FolderOrFile=1]="FolderOrFile",e[e.Collection=2]="Collection",e[e.Case=3]="Case"}(n||(t.TestDataKinds=n={})),t.ITestController=Symbol("ITestController"),t.ITestFrameworkController=Symbol("ITestFrameworkController"),t.ITestsRunner=Symbol("ITestsRunner")},50442:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.hasSymlinkParent=t.argKeyExists=t.addValueIfKeyNotExist=t.splitTestNameWithRegex=t.createDiscoveryErrorPayload=t.createExecutionErrorPayload=t.populateTestTree=t.buildErrorNodeOptions=t.startDiscoveryNamedPipe=t.startRunResultNamedPipe=t.writeTestIdsFile=t.createTestingDeferred=t.fixLogLinesNoTrailing=void 0;const s=o(n(16928)),a=o(n(79896)),c=o(n(70857)),l=o(n(76982)),u=n(54980),p=n(61905),d=n(64230),h=n(7855),f=n(73673),v=n(84090);t.fixLogLinesNoTrailing=function(e){return`${e.split(/\r?\n/g).join("\r\n")}`},t.createTestingDeferred=function(){return(0,h.createDeferred)()},t.writeTestIdsFile=async function(e){const t=`test-ids-${l.randomBytes(10).toString("hex")}.txt`;let n;const r="win32"===process.platform?c.tmpdir():process.env.XDG_RUNTIME_DIR||c.tmpdir();try{(0,p.traceLog)("Attempting to use temp directory for test ids file, file name:",t),n=s.join(r,t),await a.promises.access(r)}catch(e){(0,p.traceError)("Error accessing temp directory:",e," Attempt to use extension root dir instead");const r=s.join(v.EXTENSION_ROOT_DIR,".temp");await a.promises.mkdir(r,{recursive:!0}),n=s.join(v.EXTENSION_ROOT_DIR,".temp",t),(0,p.traceLog)("New temp file:",n)}return await a.promises.writeFile(n,e.join("\n")),n},t.startRunResultNamedPipe=async function(e,t,n){(0,p.traceVerbose)("Starting Test Result named pipe");const r=(0,f.generateRandomPipeName)("python-test-results"),i=await(0,f.createReaderPipe)(r,n);(0,p.traceVerbose)(`Test Results named pipe ${r} connected`);let o=[];const s=new u.Disposable((()=>{(0,p.traceVerbose)(`Test Results named pipe ${r} disposed`),o.forEach((e=>e.dispose())),o=[],t.resolve()}));return n&&o.push(null==n?void 0:n.onCancellationRequested((()=>{(0,p.traceLog)(`Test Result named pipe ${r}  cancelled`),s.dispose()}))),o.push(i,i.listen((t=>{(0,p.traceVerbose)(`Test Result named pipe ${r} received data`),e(t.params)})),i.onClose((()=>{(0,p.traceVerbose)(`Test Result named pipe ${r} closed. Disposing of listener/s.`),s.dispose()})),i.onError((e=>{(0,p.traceError)(`Test Results named pipe ${r} error:`,e)}))),r},t.startDiscoveryNamedPipe=async function(e,t){(0,p.traceVerbose)("Starting Test Discovery named pipe");const n=(0,f.generateRandomPipeName)("python-test-discovery"),r=await(0,f.createReaderPipe)(n,t);(0,p.traceVerbose)(`Test Discovery named pipe ${n} connected`);let i=[];const o=new u.Disposable((()=>{(0,p.traceVerbose)(`Test Discovery named pipe ${n} disposed`),i.forEach((e=>e.dispose())),i=[]}));return t&&i.push(t.onCancellationRequested((()=>{(0,p.traceVerbose)(`Test Discovery named pipe ${n}  cancelled`),o.dispose()}))),i.push(r,r.listen((t=>{(0,p.traceVerbose)(`Test Discovery named pipe ${n} received data`),e(t.params)})),r.onClose((()=>{(0,p.traceVerbose)(`Test Discovery named pipe ${n} closed`),o.dispose()})),r.onError((e=>{(0,p.traceError)(`Test Discovery named pipe ${n} error:`,e)}))),n},t.buildErrorNodeOptions=function(e,t,n){const r="pytest"===n?"pytest Discovery Error":"Unittest Discovery Error";return{id:`DiscoveryError:${e.fsPath}`,label:`${r} [${s.basename(e.fsPath)}]`,error:t}},t.populateTestTree=function e(t,n,r,i,o){r||((r=t.createTestItem(n.path,n.name,u.Uri.file(n.path))).canResolveChildren=!0,r.tags=[d.RunTestTag,d.DebugTestTag],t.items.add(r)),n.children.forEach((n=>{if(!(null==o?void 0:o.isCancellationRequested))if("test"===n.type_){const e=t.createTestItem(n.id_,n.name,u.Uri.file(n.path));let o;e.tags=[d.RunTestTag,d.DebugTestTag],n.lineno&&(o=new u.Range(new u.Position(Number(n.lineno)-1,0),new u.Position(Number(n.lineno),0))),e.canResolveChildren=!1,e.range=o,e.tags=[d.RunTestTag,d.DebugTestTag],r.children.add(e),i.runIdToTestItem.set(n.runID,e),i.runIdToVSid.set(n.runID,n.id_),i.vsIdToRunId.set(n.id_,n.runID)}else{let s=t.items.get(n.path);s||(s=t.createTestItem(n.id_,n.name,u.Uri.file(n.path)),s.canResolveChildren=!0,s.tags=[d.RunTestTag,d.DebugTestTag],r.children.add(s)),e(t,n,s,i,o)}}))},t.createExecutionErrorPayload=function(e,t,n,r){const i={cwd:r,status:"error",error:`Test run failed, the python test process was terminated before it could exit on its own for workspace ${r}`,result:{}};for(let r=0;r<n.length;r+=1){const o=n[r];i.result[o]={test:o,outcome:"error",message:` \n The python test process was terminated before it could exit on its own, the process errored with: Code: ${e}, Signal: ${t}`}}return i},t.createDiscoveryErrorPayload=function(e,t,n){return{cwd:n,status:"error",error:[` \n The python test process was terminated before it could exit on its own, the process errored with: Code: ${e}, Signal: ${t} for workspace ${n}`]}},t.splitTestNameWithRegex=function(e){const t=e.match(/^(.*?) ([\[(].*[\])])$/);return t?[t[1].trim(),t[2]||t[3]||e]:[e,e]},t.addValueIfKeyNotExist=function(e,t,n){for(const n of e)if(n.includes(t))return(0,p.traceInfo)(`arg: ${t} already exists in args, not adding.`),e;return n?e.push(`${t}=${n}`):e.push(`${t}`),e},t.argKeyExists=function(e,t){for(const n of e)if(n.includes(t))return!0;return!1},t.hasSymlinkParent=async function e(t){try{const n=s.resolve(t),r=s.dirname(n);return r!==n&&((await a.promises.lstat(r)).isSymbolicLink()?((0,p.traceLog)(`Symlink found at: ${r}`),!0):await e(r))}catch(e){return(0,p.traceError)("Error checking symlinks:",e),!1}}},97245:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PythonTestController=void 0;const c=n(25891),l=n(2543),u=s(n(94027)),p=n(54980),d=n(54661),h=s(n(552)),f=n(35026),v=n(86156),g=n(56218),m=n(98803),y=n(29413),b=n(61905),_=n(51535),E=n(53322),S=n(77329),w=n(64230),P=n(50442),T=n(86294),C=n(13979),x=n(20179),I=n(65043),O=n(64539),R=n(60369),D=n(23365),k=n(66232),A=n(8841),N=n(53694);let j=class{constructor(e,t,n,r,i,o,s,a,c,l){this.workspaceService=e,this.configSettings=t,this.pytest=n,this.unittest=r,this.disposables=i,this.interpreterService=o,this.commandManager=s,this.pythonExecFactory=a,this.debugLauncher=c,this.envVarsService=l,this.supportedWorkspaceTypes={untrustedWorkspace:!1,virtualWorkspace:!1},this.testAdapters=new Map,this.triggerTypes=[],this.refreshingCompletedEvent=new p.EventEmitter,this.refreshingStartedEvent=new p.EventEmitter,this.runWithoutConfigurationEvent=new p.EventEmitter,this.onRefreshingCompleted=this.refreshingCompletedEvent.event,this.onRefreshingStarted=this.refreshingStartedEvent.event,this.onRunWithoutConfiguration=this.runWithoutConfigurationEvent.event,this.sendTestDisabledTelemetry=!0,this.refreshCancellation=new p.CancellationTokenSource,this.testController=p.tests.createTestController("python-tests","Python Tests"),this.disposables.push(this.testController);const u=new g.DelayedTrigger(((e,t)=>{this.refreshTestDataInternal(e),t&&this.invalidateTests(e)}),250,"Refresh Test Data");this.disposables.push(u),this.refreshData=u,this.disposables.push(this.testController.createRunProfile("Run Tests",p.TestRunProfileKind.Run,this.runTests.bind(this),!0,w.RunTestTag),this.testController.createRunProfile("Debug Tests",p.TestRunProfileKind.Debug,this.runTests.bind(this),!0,w.DebugTestTag),this.testController.createRunProfile("Coverage Tests",p.TestRunProfileKind.Coverage,this.runTests.bind(this),!0,w.RunTestTag)),this.testController.resolveHandler=this.resolveChildren.bind(this),this.testController.refreshHandler=e=>(this.disposables.push(e.onCancellationRequested((()=>{(0,b.traceVerbose)("Testing: Stop refreshing triggered"),(0,_.sendTelemetryEvent)(E.EventName.UNITTEST_DISCOVERING_STOP),this.stopRefreshing()}))),(0,b.traceVerbose)("Testing: Manually triggered test refresh"),(0,_.sendTelemetryEvent)(E.EventName.UNITTEST_DISCOVERY_TRIGGER,void 0,{trigger:h.CommandSource.commandPalette}),this.refreshTestData(void 0,{forceRefresh:!0}))}async activate(){(this.workspaceService.workspaceFolders||[]).forEach((e=>{const t=this.configSettings.getSettings(e.uri);let n,r,i,o;t.testing.unittestEnabled?(i=S.UNITTEST_PROVIDER,o=new k.PythonResultResolver(this.testController,i,e.uri),n=new C.UnittestTestDiscoveryAdapter(this.configSettings,o,this.envVarsService),r=new x.UnittestTestExecutionAdapter(this.configSettings,o,this.envVarsService)):(i=S.PYTEST_PROVIDER,o=new k.PythonResultResolver(this.testController,i,e.uri),n=new I.PytestTestDiscoveryAdapter(this.configSettings,o,this.envVarsService),r=new O.PytestTestExecutionAdapter(this.configSettings,o,this.envVarsService));const s=new R.WorkspaceTestAdapter(i,n,r,e.uri,o);this.testAdapters.set(e.uri,s),t.testing.autoTestDiscoverOnSaveEnabled&&((0,b.traceVerbose)(`Testing: Setting up watcher for ${e.uri.fsPath}`),this.watchForSettingsChanges(e),this.watchForTestContentChangeOnSave())}))}refreshTestData(e,t){return(null==t?void 0:t.forceRefresh)?void 0===e?((0,b.traceVerbose)("Testing: Clearing all discovered tests"),this.testController.items.forEach((e=>{const t=[];e.children.forEach((e=>t.push(e.id))),t.forEach((t=>e.children.delete(t)))})),(0,b.traceVerbose)("Testing: Forcing test data refresh"),this.refreshTestDataInternal(void 0)):((0,b.traceVerbose)("Testing: Forcing test data refresh"),this.refreshTestDataInternal(e)):(this.refreshData.trigger(e,!1),Promise.resolve())}stopRefreshing(){this.refreshCancellation.cancel(),this.refreshCancellation.dispose(),this.refreshCancellation=new p.CancellationTokenSource}clearTestController(){const e=[];this.testController.items.forEach((t=>e.push(t.id))),e.forEach((e=>this.testController.items.delete(e)))}async refreshTestDataInternal(e){if(this.refreshingStartedEvent.fire(),e){const t=this.configSettings.getSettings(e),n=this.workspaceService.getWorkspaceFolder(e);if((0,b.traceInfo)(`Discover tests for workspace name: ${null==n?void 0:n.name} - uri: ${e.fsPath}`),this.sendTestDisabledTelemetry=!0,t.testing.pytestEnabled)if(n&&n.uri){const e=this.testAdapters.get(n.uri);if(e){if("pytest"!==e.getTestProvider())return(0,b.traceError)("Test provider in adapter is not pytest. Please reload window."),this.surfaceErrorNode(n.uri,"Test provider types are not aligned, please reload your VS Code window.","pytest"),Promise.resolve();await e.discoverTests(this.testController,this.refreshCancellation.token,this.pythonExecFactory,await this.interpreterService.getActiveInterpreter(n.uri))}else(0,b.traceError)("Unable to find test adapter for workspace.")}else(0,b.traceError)("Unable to find workspace for given file");else if(t.testing.unittestEnabled)if(n&&n.uri){const e=this.testAdapters.get(n.uri);if(e){if("unittest"!==e.getTestProvider())return(0,b.traceError)("Test provider in adapter is not unittest. Please reload window."),this.surfaceErrorNode(n.uri,"Test provider types are not aligned, please reload your VS Code window.","unittest"),Promise.resolve();await e.discoverTests(this.testController,this.refreshCancellation.token,this.pythonExecFactory,await this.interpreterService.getActiveInterpreter(n.uri))}else(0,b.traceError)("Unable to find test adapter for workspace.")}else(0,b.traceError)("Unable to find workspace for given file");else if(this.sendTestDisabledTelemetry&&(this.sendTestDisabledTelemetry=!1,(0,_.sendTelemetryEvent)(E.EventName.UNITTEST_DISABLED)),n){const e=[];this.testController.items.forEach((t=>{const r=this.workspaceService.getWorkspaceFolder(t.uri);(null==r?void 0:r.uri.fsPath)===n.uri.fsPath&&e.push(t.id)})),e.forEach((e=>this.testController.items.delete(e)))}}else{(0,b.traceVerbose)("Testing: Refreshing all test data");const e=this.workspaceService.workspaceFolders||[];await Promise.all(e.map((async e=>{await this.interpreterService.getActiveInterpreter(e.uri)?await this.refreshTestDataInternal(e.uri):this.commandManager.executeCommand(h.Commands.TriggerEnvironmentSelection,e.uri).then(m.noop,m.noop)})))}return this.refreshingCompletedEvent.fire(),Promise.resolve()}async resolveChildren(e){if(e){(0,b.traceVerbose)(`Testing: Resolving item ${e.id}`);const t=this.configSettings.getSettings(e.uri);if(t.testing.pytestEnabled)return this.pytest.resolveChildren(this.testController,e,this.refreshCancellation.token);if(t.testing.unittestEnabled)return this.unittest.resolveChildren(this.testController,e,this.refreshCancellation.token)}else{(0,b.traceVerbose)("Testing: Refreshing all test data"),this.sendTriggerTelemetry("auto");const e=this.workspaceService.workspaceFolders||[];await Promise.all(e.map((async e=>{await this.interpreterService.getActiveInterpreter(e.uri)?await this.refreshTestDataInternal(e.uri):(0,b.traceError)("Cannot trigger test discovery as a valid interpreter is not selected")})))}return Promise.resolve()}async runTests(e,t){const n=[];e.include?(0,l.uniq)(e.include.map((e=>this.workspaceService.getWorkspaceFolder(e.uri)))).forEach((e=>{e&&n.push(e)})):(this.workspaceService.workspaceFolders||[]).forEach((e=>n.push(e)));const r=this.testController.createTestRun(e,`Running Tests for Workspace(s): ${n.map((e=>e.uri.fsPath)).join(";")}`,!0),i=t.onCancellationRequested((()=>{r.appendOutput("\nRun instance cancelled.\r\n"),r.end()})),o=[];try{await Promise.all(n.map((async n=>{var i,s,a,c,l,u,d;if(!await this.interpreterService.getActiveInterpreter(n.uri))return void this.commandManager.executeCommand(h.Commands.TriggerEnvironmentSelection,n.uri).then(m.noop,m.noop);const f=[];(null!==(i=e.include)&&void 0!==i?i:this.testController.items).forEach((e=>{const t=this.workspaceService.getWorkspaceFolder(e.uri);(null==t?void 0:t.uri.fsPath)===n.uri.fsPath&&f.push(e)}));const v=this.configSettings.getSettings(n.uri);if(f.length>0){const i=this.testAdapters.get(n.uri)||this.testAdapters.values().next().value;if((null===(s=e.profile)||void 0===s?void 0:s.kind)&&(null===(a=e.profile)||void 0===a?void 0:a.kind)===p.TestRunProfileKind.Coverage&&(e.profile.loadDetailedCoverage=(e,t,n)=>{const r=i.resultResolver.detailedCoverageMap.get(t.uri.fsPath);return void 0===r?Promise.resolve([]):Promise.resolve(r)}),v.testing.pytestEnabled)return(0,_.sendTelemetryEvent)(E.EventName.UNITTEST_RUN,void 0,{tool:"pytest",debugging:(null===(c=e.profile)||void 0===c?void 0:c.kind)===p.TestRunProfileKind.Debug}),i.executeTests(this.testController,r,f,t,null===(l=e.profile)||void 0===l?void 0:l.kind,this.pythonExecFactory,this.debugLauncher,await this.interpreterService.getActiveInterpreter(n.uri));if(v.testing.unittestEnabled)return(0,_.sendTelemetryEvent)(E.EventName.UNITTEST_RUN,void 0,{tool:"unittest",debugging:(null===(u=e.profile)||void 0===u?void 0:u.kind)===p.TestRunProfileKind.Debug}),i.executeTests(this.testController,r,f,t,null===(d=e.profile)||void 0===d?void 0:d.kind,this.pythonExecFactory,this.debugLauncher,await this.interpreterService.getActiveInterpreter(n.uri))}return v.testing.pytestEnabled||v.testing.unittestEnabled||o.push(n),Promise.resolve()})))}finally{(0,b.traceVerbose)("Finished running tests, ending runInstance."),r.appendOutput("Finished running tests!\r\n"),r.end(),i.dispose(),o.length>0&&this.runWithoutConfigurationEvent.fire(o)}}invalidateTests(e){this.testController.items.forEach((t=>{const n=(0,w.getNodeByUri)(t,e);n&&n.invalidateResults&&n.invalidateResults()}))}watchForSettingsChanges(e){const t=new p.RelativePattern(e,"**/{settings.json,pytest.ini,pyproject.toml,setup.cfg}"),n=this.workspaceService.createFileSystemWatcher(t);this.disposables.push(n),this.disposables.push((0,A.onDidSaveTextDocument)((async e=>{const t=e.fileName;(t.includes("settings.json")||t.includes("pytest.ini")||t.includes("setup.cfg")||t.includes("pyproject.toml"))&&((0,b.traceVerbose)(`Testing: Trigger refresh after saving ${e.uri.fsPath}`),this.sendTriggerTelemetry("watching"),this.refreshData.trigger(e.uri,!1))}))),this.disposables.push(n.onDidCreate((e=>{(0,b.traceVerbose)(`Testing: Trigger refresh after creating ${e.fsPath}`),this.sendTriggerTelemetry("watching"),this.refreshData.trigger(e,!1)}))),this.disposables.push(n.onDidDelete((e=>{(0,b.traceVerbose)(`Testing: Trigger refresh after deleting in ${e.fsPath}`),this.sendTriggerTelemetry("watching"),this.refreshData.trigger(e,!1)})))}watchForTestContentChangeOnSave(){this.disposables.push((0,A.onDidSaveTextDocument)((async e=>{const t=this.configSettings.getSettings(e.uri);u.default(e.uri.fsPath,t.testing.autoTestDiscoverOnSavePattern)&&((0,b.traceVerbose)(`Testing: Trigger refresh after saving ${e.uri.fsPath}`),this.sendTriggerTelemetry("watching"),this.refreshData.trigger(e.uri,!1))})))}sendTriggerTelemetry(e){this.triggerTypes.includes(e)||((0,_.sendTelemetryEvent)(E.EventName.UNITTEST_DISCOVERY_TRIGGER,void 0,{trigger:e}),this.triggerTypes.push(e))}surfaceErrorNode(e,t,n){let r=this.testController.items.get(`DiscoveryError:${e.fsPath}`);if(void 0===r){const i=(0,P.buildErrorNodeOptions)(e,t,n);r=(0,w.createErrorTestItem)(this.testController,i),this.testController.items.add(r)}const i=new p.MarkdownString(t);i.isTrusted=!0,r.error=i}};t.PythonTestController=j,t.PythonTestController=j=o([(0,c.injectable)(),a(0,(0,c.inject)(d.IWorkspaceService)),a(1,(0,c.inject)(v.IConfigurationService)),a(2,(0,c.inject)(T.ITestFrameworkController)),a(2,(0,c.named)(S.PYTEST_PROVIDER)),a(3,(0,c.inject)(T.ITestFrameworkController)),a(3,(0,c.named)(S.UNITTEST_PROVIDER)),a(4,(0,c.inject)(v.IDisposableRegistry)),a(5,(0,c.inject)(y.IInterpreterService)),a(6,(0,c.inject)(d.ICommandManager)),a(7,(0,c.inject)(f.IPythonExecutionFactory)),a(8,(0,c.inject)(D.ITestDebugLauncher)),a(9,(0,c.inject)(N.IEnvironmentVariablesProvider))],j)},98817:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removePositionalFoldersAndFiles=void 0;const r=n(23365),i=n(90859),o=["-c","-k","-m","-o","-p","-r","-W","-n","--assert","--basetemp","--cache-show","--capture","--code-highlight","--color","--confcutdir","--cov","--cov-config","--cov-fail-under","--cov-report","--deselect","--dist","--doctest-glob","--doctest-report","--durations","--durations-min","--ignore","--ignore-glob","--import-mode","--junit-prefix","--junit-xml","--last-failed-no-failures","--lfnf","--log-auto-indent","--log-cli-date-format","--log-cli-format","--log-cli-level","--log-date-format","--log-file","--log-file-date-format","--log-file-format","--log-file-level","--log-format","--log-level","--maxfail","--override-ini","--pastebin","--pdbcls","--pythonwarnings","--result-log","--rootdir","--show-capture","--tb","--verbosity","--max-slave-restart","--numprocesses","--rsyncdir","--rsyncignore","--tx"],s=["--cache-clear","--collect-in-virtualenv","--collect-only","--co","--continue-on-collection-errors","--cov-append","--cov-branch","--debug","--disable-pytest-warnings","--disable-warnings","--doctest-continue-on-failure","--doctest-ignore-import-errors","--doctest-modules","--exitfirst","--failed-first","--ff","--fixtures","--fixtures-per-test","--force-sugar","--full-trace","--funcargs","--help","--keep-duplicates","--last-failed","--lf","--markers","--new-first","--nf","--no-cov","--no-cov-on-fail","--no-header","--no-print-logs","--no-summary","--noconftest","--old-summary","--pdb","--pyargs","-PyTest, Unittest-pyargs","--quiet","--runxfail","--setup-only","--setup-plan","--setup-show","--showlocals","--stepwise","--sw","--stepwise-skip","--strict","--strict-config","--strict-markers","--trace-config","--verbose","--version","-V","-h","-l","-q","-s","-v","-x","--boxed","--forked","--looponfail","--trace","--tx","-d"];t.removePositionalFoldersAndFiles=function(e){return function(e,t){const n=[],a=[];let c=!1;if(Array.isArray(t))t.forEach((e=>{o.indexOf(e)>=0&&a.push(e),s.indexOf(e)>=0&&n.push(e)}));else switch(t){case r.TestFilter.removeTests:n.push("--lf","--last-failed","--ff","--failed-first","--nf","--new-first"),a.push("-k","-m","--lfnf","--last-failed-no-failures"),c=!0;break;case r.TestFilter.discovery:n.push("-x","--exitfirst","--fixtures","--funcargs","--fixtures-per-test","--pdb","--lf","--last-failed","--ff","--failed-first","--nf","--new-first","--cache-show","-v","--verbose","-q","-quiet","-l","--showlocals","--no-print-logs","--debug","--setup-only","--setup-show","--setup-plan","--trace"),a.push("-m","--maxfail","--pdbcls","--capture","--lfnf","--last-failed-no-failures","--verbosity","-r","--tb","--show-capture","--durations","--junit-xml","--junit-prefix","--result-log","-W","--pythonwarnings","--log-*"),c=!0;break;case r.TestFilter.debugAll:case r.TestFilter.runAll:n.push("--collect-only","--trace");break;case r.TestFilter.debugSpecific:case r.TestFilter.runSpecific:n.push("--collect-only","--lf","--last-failed","--ff","--failed-first","--nf","--new-first","--trace"),a.push("-k","-m","--lfnf","--last-failed-no-failures"),c=!0;break;default:throw new Error(`Unsupported Filter '${t}'`)}let l=e.slice();if(c){const e=(0,i.getPositionalArguments)(l,o,s);l=l.filter((t=>-1===e.indexOf(t)))}return(0,i.filterArguments)(l,a,n)}(e,r.TestFilter.removeTests)}},91662:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PytestController=void 0;const c=n(25891),l=s(n(16928)),u=n(54980),p=n(54661),d=n(83597),h=n(64230);let f=class{constructor(e){this.workspaceService=e,this.testData=new Map,this.discovering=new Map,this.idToRawData=new Map}async resolveChildren(e,t,n){const r=this.workspaceService.getWorkspaceFolder(t.uri);if(r){const i=this.discovering.get(r.uri.fsPath);i&&await i.promise;const o=this.testData.get(r.uri.fsPath);if(o){if(0===o.length){const t=[];return e.items.forEach((e=>t.push(e))),t.forEach((t=>e.items.delete(t.id))),Promise.resolve()}const i=1===o.length?o[0].root:r.uri.fsPath;if(i===t.id)if(1===o.length){if(!(o[0].tests.length>0))return this.idToRawData.delete(t.id),e.items.delete(t.id),Promise.resolve();await(0,h.updateTestItemFromRawData)(t,e,this.idToRawData,t.id,o,n)}else{let r=[];t.children.forEach((e=>r.push(e.id))),await(0,d.asyncForEach)(o,(async o=>{let s,a=o.root;if(o.root===i){const e=o.parents.filter((e=>"."===e.parentid||e.parentid===i));a=l.join(o.root,e.length>0?e[0].id:""),s=e.length>0?e[0].id:void 0}if(o.tests.length>0){let c=t.children.get(a);c||(c=(0,h.createWorkspaceRootTestItem)(e,this.idToRawData,{id:a,label:l.basename(a),uri:u.Uri.file(a),runId:a,parentId:t.id,rawId:s}),t.children.add(c)),r=r.filter((e=>e!==a)),await(0,h.updateTestItemFromRawData)(c,e,this.idToRawData,i,[o],n)}else(0,h.removeItemByIdFromChildren)(this.idToRawData,t,[a])})),(0,h.removeItemByIdFromChildren)(this.idToRawData,t,r)}else{const r=(0,h.getWorkspaceNode)(t,this.idToRawData);r&&await(0,h.updateTestItemFromRawData)(t,e,this.idToRawData,r.id,o,n)}}else{const n=(0,h.getWorkspaceNode)(t,this.idToRawData);n&&e.items.delete(n.id)}}return Promise.resolve()}};t.PytestController=f,t.PytestController=f=o([(0,c.injectable)(),a(0,(0,c.inject)(p.IWorkspaceService))],f)},65043:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.PytestTestDiscoveryAdapter=void 0;const s=o(n(16928)),a=n(54980),c=o(n(79896)),l=n(7855),u=n(84090),p=n(61905),d=n(50442),h=n(36380);t.PytestTestDiscoveryAdapter=class{constructor(e,t,n){this.configSettings=e,this.resultResolver=t,this.envVarsService=n}async discoverTests(e,t,n,r){const i=new a.CancellationTokenSource,o=(0,l.createDeferred)();null==n||n.onCancellationRequested((()=>{(0,p.traceInfo)("Test discovery cancelled."),i.cancel(),o.resolve()}));const s=await(0,d.startDiscoveryNamedPipe)((e=>{var t;(null==n?void 0:n.isCancellationRequested)||null===(t=this.resultResolver)||void 0===t||t.resolveDiscovery(e)}),i.token);return this.runPytestDiscovery(e,s,i,t,r,n).then((()=>{o.resolve()})),o.promise}async runPytestDiscovery(e,t,n,r,i,o){var a,l,f,v,g,m,y,b,_;const E=s.join(u.EXTENSION_ROOT_DIR,"python_files"),S=this.configSettings.getSettings(e);let{pytestArgs:w}=S.testing;const P=S.testing.cwd&&S.testing.cwd.length>0?S.testing.cwd:e.fsPath,T=await c.promises.lstat(P),C=await c.promises.realpath(P);let x=!1;T.isSymbolicLink()?(x=!0,(0,p.traceWarn)("The cwd is a symbolic link.")):C!==P&&((0,p.traceWarn)("The cwd resolves to a different path, checking if it has a symbolic link somewhere in its path."),x=await(0,d.hasSymlinkParent)(P)),x&&((0,p.traceWarn)("Symlink found, adding '--rootdir' to pytestArgs only if it doesn't already exist. cwd: ",P),w=(0,d.addValueIfKeyNotExist)(w,"--rootdir",P)),(0,d.addValueIfKeyNotExist)(w,"--rootdir",P);const I={...await(null===(a=this.envVarsService)||void 0===a?void 0:a.getEnvironmentVariables(e))},O=[E,...null!==(f=null===(l=I.PYTHONPATH)||void 0===l?void 0:l.split(s.delimiter))&&void 0!==f?f:[]].join(s.delimiter);I.PYTHONPATH=O,I.TEST_RUN_PIPE=t,(0,p.traceInfo)(`Environment variables set for pytest discovery: PYTHONPATH=${I.PYTHONPATH}, TEST_RUN_PIPE=${I.TEST_RUN_PIPE}`);const R=["-m","pytest","-p","vscode_pytest","--collect-only"].concat(w);if((0,p.traceVerbose)(`Running pytest discovery with command: ${R.join(" ")} for workspace ${e.fsPath}.`),(0,h.useEnvExtension)()){const t=await(0,h.getEnvironment)(e);if(t){const r=(0,d.createTestingDeferred)(),i=await(0,h.runInBackground)(t,{cwd:P,args:R,env:I});null==o||o.onCancellationRequested((()=>{(0,p.traceInfo)(`Test discovery cancelled, killing pytest subprocess for workspace ${e.fsPath}`),i.kill(),r.resolve(),n.cancel()})),i.stdout.on("data",(e=>{const t=(0,d.fixLogLinesNoTrailing)(e.toString());(0,p.traceInfo)(t)})),i.stderr.on("data",(e=>{const t=(0,d.fixLogLinesNoTrailing)(e.toString());(0,p.traceError)(t)})),i.onExit(((t,n)=>{var i;0!==t&&((0,p.traceError)(`Subprocess exited unsuccessfully with exit code ${t} and signal ${n} on workspace ${e.fsPath}`),null===(i=this.resultResolver)||void 0===i||i.resolveDiscovery((0,d.createDiscoveryErrorPayload)(t,n,P))),r.resolve()})),await r.promise}else(0,p.traceError)(`Python Environment not found for: ${e.fsPath}`);return}const D={cwd:P,throwOnStdErr:!0,env:I,token:o},k={allowEnvironmentFetchExceptions:!1,resource:e,interpreter:i},A=await(null==r?void 0:r.createActivatedEnvironment(k)),N=await(null==A?void 0:A.getExecutablePath());(0,p.traceVerbose)(`Executable path for pytest discovery: ${N}.`);const j=(0,d.createTestingDeferred)();let M;null==o||o.onCancellationRequested((()=>{(0,p.traceInfo)(`Test discovery cancelled, killing pytest subprocess for workspace ${e.fsPath}`),M?null==M||M.kill():(j.resolve(),n.cancel())}));const L=null==A?void 0:A.execObservable(R,D);M=null==L?void 0:L.proc,null===(g=null===(v=null==L?void 0:L.proc)||void 0===v?void 0:v.stdout)||void 0===g||g.on("data",(e=>{const t=(0,d.fixLogLinesNoTrailing)(e.toString());(0,p.traceInfo)(t)})),null===(y=null===(m=null==L?void 0:L.proc)||void 0===m?void 0:m.stderr)||void 0===y||y.on("data",(e=>{const t=(0,d.fixLogLinesNoTrailing)(e.toString());(0,p.traceError)(t)})),null===(b=null==L?void 0:L.proc)||void 0===b||b.on("exit",((t,n)=>{0!==t&&(0,p.traceError)(`Subprocess exited unsuccessfully with exit code ${t} and signal ${n} on workspace ${e.fsPath}.`)})),null===(_=null==L?void 0:L.proc)||void 0===_||_.on("close",((t,n)=>{var r;0!==t&&5!==t&&((0,p.traceError)(`Subprocess exited unsuccessfully with exit code ${t} and signal ${n} on workspace ${e.fsPath}. Creating and sending error discovery payload`),null===(r=this.resultResolver)||void 0===r||r.resolveDiscovery((0,d.createDiscoveryErrorPayload)(t,n,P))),null==j||j.resolve()})),await j.promise}}},64539:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.PytestTestExecutionAdapter=void 0;const s=n(54980),a=o(n(16928)),c=n(61905),l=n(98817),u=n(77329),p=n(552),d=o(n(50442)),h=n(36380);t.PytestTestExecutionAdapter=class{constructor(e,t,n){this.configSettings=e,this.resultResolver=t,this.envVarsService=n}async runTests(e,t,n,r,i,o,a){const l=d.createTestingDeferred(),u=new s.CancellationTokenSource;null==r||r.token.onCancellationRequested((()=>u.cancel()));const p=await d.startRunResultNamedPipe((t=>{var n;r&&!r.token.isCancellationRequested?null===(n=this.resultResolver)||void 0===n||n.resolveExecution(t,r):(0,c.traceError)(`No run instance found, cannot resolve execution, for workspace ${e.fsPath}.`)}),l,u.token);null==r||r.token.onCancellationRequested((()=>{(0,c.traceInfo)(`Test run cancelled, resolving 'TillServerClose' deferred for ${e.fsPath}.`)}));try{await this.runTestsNew(e,t,p,u,r,n,i,o,a)}finally{await l.promise}}async runTestsNew(e,t,n,r,i,o,f,v,g){var m,y,b,_,E,S,w,P,T;const C=a.join(p.EXTENSION_ROOT_DIR,"python_files"),x=this.configSettings.getSettings(e),{pytestArgs:I}=x.testing,O=x.testing.cwd&&x.testing.cwd.length>0?x.testing.cwd:e.fsPath,R={...await(null===(m=this.envVarsService)||void 0===m?void 0:m.getEnvironmentVariables(e))},D=[C,...null!==(b=null===(y=R.PYTHONPATH)||void 0===y?void 0:y.split(a.delimiter))&&void 0!==b?b:[]].join(a.delimiter);R.PYTHONPATH=D,R.TEST_RUN_PIPE=n,o&&o===s.TestRunProfileKind.Coverage&&(R.COVERAGE_ENABLED="True");const k=o&&o===s.TestRunProfileKind.Debug,A={allowEnvironmentFetchExceptions:!1,resource:e,interpreter:g},N=await(null==f?void 0:f.createActivatedEnvironment(A)),j=await(null==N?void 0:N.getExecutablePath());(0,c.traceVerbose)(`Executable path for pytest execution: ${j}.`);try{let o=(0,l.removePositionalFoldersAndFiles)(I);d.addValueIfKeyNotExist(o,"--rootdir",O),k&&!d.argKeyExists(o,"-s")&&(o=d.addValueIfKeyNotExist(o,"--capture","no"));const s=await d.writeTestIdsFile(t);R.RUN_TEST_IDS_PIPE=s,(0,c.traceInfo)(`Environment variables set for pytest execution: PYTHONPATH=${R.PYTHONPATH}, TEST_RUN_PIPE=${R.TEST_RUN_PIPE}, RUN_TEST_IDS_PIPE=${R.RUN_TEST_IDS_PIPE}`);const p={cwd:O,throwOnStdErr:!0,env:R,token:null==i?void 0:i.token};if(k){const t={cwd:O,args:o,token:null==i?void 0:i.token,testProvider:u.PYTEST_PROVIDER,runTestIdsPort:s,pytestPort:n},a={testRun:i};(0,c.traceInfo)(`Running DEBUG pytest with arguments: ${o} for workspace ${e.fsPath} \r\n`),await v.launchDebugger(t,(()=>{r.cancel()}),a)}else if((0,h.useEnvExtension)()){const t=await(0,h.getEnvironment)(e);if(t){const n=d.createTestingDeferred(),s=[a.join(C,"vscode_pytest","run_pytest_script.py"),...o];(0,c.traceInfo)(`Running pytest with arguments: ${s.join(" ")} for workspace ${e.fsPath} \r\n`);const l=await(0,h.runInBackground)(t,{cwd:O,args:s,env:R});null==i||i.token.onCancellationRequested((()=>{(0,c.traceInfo)(`Test run cancelled, killing pytest subprocess for workspace ${e.fsPath}`),l.kill(),n.resolve(),r.cancel()})),l.stdout.on("data",(e=>{const t=d.fixLogLinesNoTrailing(e.toString());null==i||i.appendOutput(t)})),l.stderr.on("data",(e=>{const t=d.fixLogLinesNoTrailing(e.toString());null==i||i.appendOutput(t)})),l.onExit(((t,i)=>{0!==t&&(0,c.traceError)(`Subprocess exited unsuccessfully with exit code ${t} and signal ${i} on workspace ${e.fsPath}`),n.resolve(),r.cancel()})),await n.promise}else(0,c.traceError)(`Python Environment not found for: ${e.fsPath}`)}else{const n=d.createTestingDeferred(),s=[a.join(C,"vscode_pytest","run_pytest_script.py"),...o];let l;(0,c.traceInfo)(`Running pytest with arguments: ${s.join(" ")} for workspace ${e.fsPath} \r\n`),null==i||i.token.onCancellationRequested((()=>{(0,c.traceInfo)(`Test run cancelled, killing pytest subprocess for workspace ${e.fsPath}`),l?null==l||l.kill():(n.resolve(),r.cancel())}));const u=null==N?void 0:N.execObservable(s,p);null===(E=null===(_=null==u?void 0:u.proc)||void 0===_?void 0:_.stdout)||void 0===E||E.on("data",(e=>{const t=d.fixLogLinesNoTrailing(e.toString());null==i||i.appendOutput(t)})),null===(w=null===(S=null==u?void 0:u.proc)||void 0===S?void 0:S.stderr)||void 0===w||w.on("data",(e=>{const t=d.fixLogLinesNoTrailing(e.toString());null==i||i.appendOutput(t)})),null===(P=null==u?void 0:u.proc)||void 0===P||P.on("exit",((t,n)=>{0!==t&&(0,c.traceError)(`Subprocess exited unsuccessfully with exit code ${t} and signal ${n} on workspace ${e.fsPath}`)})),null===(T=null==u?void 0:u.proc)||void 0===T||T.on("close",((o,s)=>{var a;(0,c.traceVerbose)("Test run finished, subprocess closed."),0!==o&&((0,c.traceError)(`Subprocess closed unsuccessfully with exit code ${o} and signal ${s} for workspace ${e.fsPath}. Creating and sending error execution payload \n`),i&&(null===(a=this.resultResolver)||void 0===a||a.resolveExecution(d.createExecutionErrorPayload(o,s,t,O),i))),n.resolve(),r.cancel()})),await n.promise}}catch(n){return(0,c.traceError)(`Error while running tests for workspace ${e}: ${t}\r\n${n}\r\n\r\n`),Promise.reject(n)}return{cwd:O,status:"success",error:""}}}},60743:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PytestRunner=void 0,t.PytestRunner=class{constructor(){}}},88537:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTestControllerTypes=void 0;const r=n(11925),i=n(77329),o=n(86294),s=n(97245),a=n(91662),c=n(60743),l=n(54964),u=n(88376);t.registerTestControllerTypes=function(e){e.addSingleton(o.ITestFrameworkController,a.PytestController,i.PYTEST_PROVIDER),e.addSingleton(o.ITestsRunner,c.PytestRunner,i.PYTEST_PROVIDER),e.addSingleton(o.ITestFrameworkController,u.UnittestController,i.UNITTEST_PROVIDER),e.addSingleton(o.ITestsRunner,l.UnittestRunner,i.UNITTEST_PROVIDER),e.addSingleton(o.ITestController,s.PythonTestController),e.addBinding(o.ITestController,r.IExtensionSingleActivationService)}},54964:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnittestRunner=void 0,t.UnittestRunner=class{constructor(){}}},13979:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.UnittestTestDiscoveryAdapter=void 0;const s=o(n(16928)),a=n(54980),c=n(84090),l=n(7855),u=n(50442),p=n(61905),d=n(36380);t.UnittestTestDiscoveryAdapter=class{constructor(e,t,n){this.configSettings=e,this.resultResolver=t,this.envVarsService=n}async discoverTests(e,t,n){var r;const i=this.configSettings.getSettings(e),{unittestArgs:o}=i.testing,d=i.testing.cwd&&i.testing.cwd.length>0?i.testing.cwd:e.fsPath,h=new a.CancellationTokenSource,f=(0,l.createDeferred)();null==n||n.onCancellationRequested((()=>{(0,p.traceInfo)("Test discovery cancelled."),h.cancel(),f.resolve()}));const v=await(0,u.startDiscoveryNamedPipe)((e=>{var t;(null==n?void 0:n.isCancellationRequested)||null===(t=this.resultResolver)||void 0===t||t.resolveDiscovery(e)}),h.token);let g=await(null===(r=this.envVarsService)||void 0===r?void 0:r.getEnvironmentVariables(e));var m;void 0===g&&(g={}),g.TEST_RUN_PIPE=v;const y={workspaceFolder:e,command:(m=o,{script:s.join(c.EXTENSION_ROOT_DIR,"python_files","unittestadapter","discovery.py"),args:["--udiscovery",...m]}),cwd:d,token:n};return this.runDiscovery(e,y,v,d,h,t).then((()=>{f.resolve()})),f.promise}async runDiscovery(e,t,n,r,i,o){var s,a,c,h,f,v,g,m;const y={...await(null===(s=this.envVarsService)||void 0===s?void 0:s.getEnvironmentVariables(e))};y.TEST_RUN_PIPE=n;const b=[t.command.script].concat(t.command.args);if(t.outChannel&&t.outChannel.appendLine(`python ${b.join(" ")}`),(0,d.useEnvExtension)()){const n=await(0,d.getEnvironment)(e);if(n){const o=(0,l.createDeferred)(),s=await(0,d.runInBackground)(n,{cwd:r,args:b,env:y});null===(a=t.token)||void 0===a||a.onCancellationRequested((()=>{(0,p.traceInfo)(`Test discovery cancelled, killing unittest subprocess for workspace ${e.fsPath}`),s.kill(),o.resolve(),i.cancel()})),s.stdout.on("data",(e=>{const t=(0,u.fixLogLinesNoTrailing)(e.toString());(0,p.traceInfo)(t)})),s.stderr.on("data",(e=>{const t=(0,u.fixLogLinesNoTrailing)(e.toString());(0,p.traceError)(t)})),s.onExit(((t,n)=>{0!==t&&(0,p.traceError)(`Subprocess exited unsuccessfully with exit code ${t} and signal ${n} on workspace ${e.fsPath}`),o.resolve()})),await o.promise}else(0,p.traceError)(`Python Environment not found for: ${e.fsPath}`);return}const _={token:t.token,cwd:t.cwd,throwOnStdErr:!0,env:y};try{(0,p.traceLog)(`Discovering unittest tests for workspace ${t.cwd} with arguments: ${b}\r\n`);const n=(0,l.createDeferred)(),s={allowEnvironmentFetchExceptions:!1,resource:t.workspaceFolder},a=await(null==o?void 0:o.createActivatedEnvironment(s)),d=await(null==a?void 0:a.getExecutablePath());let y;(0,p.traceVerbose)(`Executable path for unittest discovery: ${d}.`),null===(c=t.token)||void 0===c||c.onCancellationRequested((()=>{(0,p.traceInfo)(`Test discovery cancelled, killing unittest subprocess for workspace ${e.fsPath}`),y?null==y||y.kill():(n.resolve(),i.cancel())}));const E=null==a?void 0:a.execObservable(b,_);y=null==E?void 0:E.proc,null===(f=null===(h=null==E?void 0:E.proc)||void 0===h?void 0:h.stdout)||void 0===f||f.on("data",(e=>{const t=(0,u.fixLogLinesNoTrailing)(e.toString());(0,p.traceInfo)(t)})),null===(g=null===(v=null==E?void 0:E.proc)||void 0===v?void 0:v.stderr)||void 0===g||g.on("data",(e=>{const t=(0,u.fixLogLinesNoTrailing)(e.toString());(0,p.traceError)(t)})),null===(m=null==E?void 0:E.proc)||void 0===m||m.on("exit",((i,o)=>{var s;0!==i&&((0,p.traceError)(`Subprocess exited unsuccessfully with exit code ${i} and signal ${o} on workspace ${t.cwd}. Creating and sending error discovery payload \n`),(0,p.traceError)(`Subprocess exited unsuccessfully with exit code ${i} and signal ${o} on workspace ${e.fsPath}. Creating and sending error discovery payload`),null===(s=this.resultResolver)||void 0===s||s.resolveDiscovery((0,u.createDiscoveryErrorPayload)(i,o,r))),n.resolve()})),await n.promise}catch(t){(0,p.traceError)(`Error while server attempting to run unittest command for workspace ${e.fsPath}: ${t}`)}}}},20179:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.UnittestTestExecutionAdapter=void 0;const s=o(n(16928)),a=n(54980),c=n(7855),l=n(84090),u=n(61905),p=n(50442),d=n(77329),h=o(n(50442)),f=n(36380);t.UnittestTestExecutionAdapter=class{constructor(e,t,n){this.configSettings=e,this.resultResolver=t,this.envVarsService=n}async runTests(e,t,n,r,i,o){const s=h.createTestingDeferred(),c=new a.CancellationTokenSource;null==r||r.token.onCancellationRequested((()=>c.cancel()));const l=await h.startRunResultNamedPipe((t=>{var n;r&&!r.token.isCancellationRequested?null===(n=this.resultResolver)||void 0===n||n.resolveExecution(t,r):(0,u.traceError)(`No run instance found, cannot resolve execution, for workspace ${e.fsPath}.`)}),s,c.token);null==r||r.token.onCancellationRequested((()=>{console.log(`Test run cancelled, resolving 'till TillAllServerClose' deferred for ${e.fsPath}.`),s.resolve()}));try{await this.runTestsNew(e,t,l,c,r,n,i,o)}catch(e){(0,u.traceError)(`Error in running unittest tests: ${e}`)}finally{await s.promise}}async runTestsNew(e,t,n,r,i,o,v,g){var m,y,b,_,E,S,w,P;const T=this.configSettings.getSettings(e),{unittestArgs:C}=T.testing,x=T.testing.cwd&&T.testing.cwd.length>0?T.testing.cwd:e.fsPath,I=function(e){return{script:s.join(l.EXTENSION_ROOT_DIR,"python_files","unittestadapter","execution.py"),args:["--udiscovery",...e]}}(C);let O=await(null===(m=this.envVarsService)||void 0===m?void 0:m.getEnvironmentVariables(e));void 0===O&&(O={});const R=null!==(b=null===(y=O.PYTHONPATH)||void 0===y?void 0:y.split(s.delimiter))&&void 0!==b?b:[],D=[x,...R].join(s.delimiter);O.PYTHONPATH=D,O.TEST_RUN_PIPE=n,o&&o===a.TestRunProfileKind.Coverage&&(O.COVERAGE_ENABLED=x);const k={workspaceFolder:e,command:I,cwd:x,profileKind:o,testIds:t,token:null==i?void 0:i.token};(0,u.traceLog)(`Running UNITTEST execution for the following test ids: ${t}`);const A=await h.writeTestIdsFile(t);O.RUN_TEST_IDS_PIPE=A,(0,u.traceInfo)(`All environment variables set for unittest execution, PYTHONPATH: ${JSON.stringify(O.PYTHONPATH)}`);const N={token:k.token,cwd:k.cwd,throwOnStdErr:!0,env:O},j={allowEnvironmentFetchExceptions:!1,resource:k.workspaceFolder},M=await(null==v?void 0:v.createActivatedEnvironment(j)),L=await(null==M?void 0:M.getExecutablePath());(0,u.traceVerbose)(`Executable path for unittest execution: ${L}.`);const F=[k.command.script].concat(k.command.args);k.outChannel&&k.outChannel.appendLine(`python ${F.join(" ")}`);try{if(k.profileKind&&k.profileKind===a.TestRunProfileKind.Debug){const e={cwd:k.cwd,args:F,token:k.token,testProvider:d.UNITTEST_PROVIDER,runTestIdsPort:A,pytestPort:n},t={testRun:i};if((0,u.traceInfo)(`Running DEBUG unittest for workspace ${k.cwd} with arguments: ${F}\r\n`),void 0===g)throw(0,u.traceError)("Debug launcher is not defined"),new Error("Debug launcher is not defined");await g.launchDebugger(e,(()=>{r.cancel()}),t)}else if((0,f.useEnvExtension)()){const t=await(0,f.getEnvironment)(e);if(t){(0,u.traceInfo)(`Running unittest with arguments: ${F.join(" ")} for workspace ${e.fsPath} \r\n`);const n=(0,c.createDeferred)(),o=await(0,f.runInBackground)(t,{cwd:x,args:F,env:O});null==i||i.token.onCancellationRequested((()=>{(0,u.traceInfo)(`Test run cancelled, killing unittest subprocess for workspace ${e.fsPath}`),o.kill(),n.resolve(),r.cancel()})),o.stdout.on("data",(e=>{const t=h.fixLogLinesNoTrailing(e.toString());null==i||i.appendOutput(t)})),o.stderr.on("data",(e=>{const t=h.fixLogLinesNoTrailing(e.toString());null==i||i.appendOutput(t)})),o.onExit(((t,i)=>{0!==t&&(0,u.traceError)(`Subprocess exited unsuccessfully with exit code ${t} and signal ${i} on workspace ${e.fsPath}`),n.resolve(),r.cancel()})),await n.promise}else(0,u.traceError)(`Python Environment not found for: ${e.fsPath}`)}else{(0,u.traceInfo)(`Running unittests for workspace ${x} with arguments: ${F}\r\n`);const e=(0,c.createDeferred)();let n;null==i||i.token.onCancellationRequested((()=>{(0,u.traceInfo)(`Test run cancelled, killing unittest subprocess for workspace ${x}.`),n?null==n||n.kill():(null==e||e.resolve(),r.cancel())}));const o=null==M?void 0:M.execObservable(F,N);n=null==o?void 0:o.proc,null===(E=null===(_=null==o?void 0:o.proc)||void 0===_?void 0:_.stdout)||void 0===E||E.on("data",(e=>{const t=(0,p.fixLogLinesNoTrailing)(e.toString());null==i||i.appendOutput(`${t}`)})),null===(w=null===(S=null==o?void 0:o.proc)||void 0===S?void 0:S.stderr)||void 0===w||w.on("data",(e=>{const t=(0,p.fixLogLinesNoTrailing)(e.toString());null==i||i.appendOutput(`${t}`)})),null===(P=null==o?void 0:o.proc)||void 0===P||P.on("exit",((n,o)=>{var s;0!==n&&t&&((0,u.traceError)(`Subprocess exited unsuccessfully with exit code ${n} and signal ${o} for workspace ${k.cwd}. Creating and sending error execution payload \n`),i&&(null===(s=this.resultResolver)||void 0===s||s.resolveExecution(h.createExecutionErrorPayload(n,o,t,x),i))),e.resolve(),r.cancel()})),await e.promise}}catch(n){return(0,u.traceError)(`Error while running tests for workspace ${e}: ${t}\r\n${n}\r\n\r\n`),Promise.reject(n)}return{cwd:x,status:"success",error:""}}}},88376:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.UnittestController=void 0;const o=n(25891),s=n(54661),a=n(64230);let c=class{constructor(e){this.workspaceService=e,this.testData=new Map,this.discovering=new Map,this.idToRawData=new Map}async resolveChildren(e,t,n){const r=this.workspaceService.getWorkspaceFolder(t.uri);if(r){const i=this.discovering.get(r.uri.fsPath);i&&await i.promise;const o=this.testData.get(r.uri.fsPath);if(o)if(o.root===t.id){if(0===o.tests.length)return e.items.delete(t.id),Promise.resolve();o.tests.length>0?await(0,a.updateTestItemFromRawData)(t,e,this.idToRawData,t.id,[o],n):(this.idToRawData.delete(t.id),e.items.delete(t.id))}else{const r=(0,a.getWorkspaceNode)(t,this.idToRawData);r&&await(0,a.updateTestItemFromRawData)(t,e,this.idToRawData,r.id,[o],n)}else{const n=(0,a.getWorkspaceNode)(t,this.idToRawData);n&&e.items.delete(n.id)}}return Promise.resolve()}};t.UnittestController=c,t.UnittestController=c=r([(0,o.injectable)(),i(0,(0,o.inject)(s.IWorkspaceService))],c)},60369:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceTestAdapter=void 0;const s=o(n(39023)),a=n(7855),c=n(14152),l=n(61905),u=n(51535),p=n(53322),d=n(64230),h=n(50442);t.WorkspaceTestAdapter=class{constructor(e,t,n,r,i){this.testProvider=e,this.discoveryAdapter=t,this.executionAdapter=n,this.workspaceUri=r,this.resultResolver=i}async executeTests(e,t,n,r,i,o,f,v){if(this.executing)return(0,l.traceError)("Test execution already in progress, not starting a new one."),this.executing.promise;const g=(0,a.createDeferred)();this.executing=g;const m=[],y=new Set;try{n.forEach((e=>{const t=(0,d.getTestCaseNodes)(e);m.push(...t)})),m.forEach((e=>{t.started(e);const n=this.resultResolver.vsIdToRunId.get(e.id);n&&y.add(n)}));const e=Array.from(y);void 0!==o?await this.executionAdapter.runTests(this.workspaceUri,e,i,t,o,f,v):await this.executionAdapter.runTests(this.workspaceUri,e,i),g.resolve()}catch(t){(0,u.sendTelemetryEvent)(p.EventName.UNITTEST_RUN_ALL_FAILED,void 0);let n=(null==r?void 0:r.isCancellationRequested)?c.Testing.cancelUnittestExecution:c.Testing.errorUnittestExecution;"pytest"===this.testProvider&&(n=(null==r?void 0:r.isCancellationRequested)?c.Testing.cancelPytestExecution:c.Testing.errorPytestExecution),(0,l.traceError)(`${n}\r\n`,t);const i=s.format(`${n} ${c.Testing.seePythonOutput}\r\n`,t),o=(0,h.buildErrorNodeOptions)(this.workspaceUri,i,this.testProvider),a=(0,d.createErrorTestItem)(e,o);e.items.add(a),g.reject(t)}finally{this.executing=void 0}return Promise.resolve()}async discoverTests(e,t,n,r){if((0,u.sendTelemetryEvent)(p.EventName.UNITTEST_DISCOVERING,void 0,{tool:this.testProvider}),this.discovering)return(0,l.traceError)("Test discovery already in progress, not starting a new one."),this.discovering.promise;const i=(0,a.createDeferred)();this.discovering=i;try{void 0!==n?await this.discoveryAdapter.discoverTests(this.workspaceUri,n,t,r):await this.discoveryAdapter.discoverTests(this.workspaceUri),i.resolve()}catch(n){(0,u.sendTelemetryEvent)(p.EventName.UNITTEST_DISCOVERY_DONE,void 0,{tool:this.testProvider,failed:!0});let r=(null==t?void 0:t.isCancellationRequested)?c.Testing.cancelUnittestDiscovery:c.Testing.errorUnittestDiscovery;"pytest"===this.testProvider&&(r=(null==t?void 0:t.isCancellationRequested)?c.Testing.cancelPytestDiscovery:c.Testing.errorPytestDiscovery),(0,l.traceError)(`${r} for workspace: ${this.workspaceUri} \r\n`,n);const o=s.format(`${r} ${c.Testing.seePythonOutput}\r\n`,n),a=(0,h.buildErrorNodeOptions)(this.workspaceUri,o,this.testProvider),f=(0,d.createErrorTestItem)(e,a);return e.items.add(f),i.reject(n)}finally{this.discovering=void 0}return(0,u.sendTelemetryEvent)(p.EventName.UNITTEST_DISCOVERY_DONE,void 0,{tool:this.testProvider,failed:!1}),Promise.resolve()}getTestProvider(){return this.testProvider}}},89113:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ITestingService=void 0,t.ITestingService=Symbol("ITestingService")},93710:(e,t,n)=>{"use strict";n.r(t),n.d(t,{RestError:()=>Qe,bearerTokenAuthenticationPolicy:()=>Ot,bearerTokenAuthenticationPolicyName:()=>xt,createDefaultHttpClient:()=>gt,createEmptyPipeline:()=>o,createHttpHeaders:()=>lt,createPipelineFromOptions:()=>nt,createPipelineRequest:()=>bt,decompressResponsePolicy:()=>J,decompressResponsePolicyName:()=>X,defaultRetryPolicy:()=>ye,exponentialRetryPolicy:()=>Et,exponentialRetryPolicyName:()=>_t,formDataPolicy:()=>Se,formDataPolicyName:()=>Ee,getDefaultProxySettings:()=>Me,isRestError:()=>Ze,logPolicy:()=>V,logPolicyName:()=>F,ndJsonPolicy:()=>Dt,ndJsonPolicyName:()=>Rt,proxyPolicy:()=>Fe,proxyPolicyName:()=>De,redirectPolicy:()=>W,redirectPolicyName:()=>U,retryPolicy:()=>ge,setClientRequestIdPolicy:()=>Ue,setClientRequestIdPolicyName:()=>Ve,systemErrorRetryPolicy:()=>wt,systemErrorRetryPolicyName:()=>St,throttlingRetryPolicy:()=>Tt,throttlingRetryPolicyName:()=>Pt,tlsPolicy:()=>We,tlsPolicyName:()=>He,tracingPolicy:()=>tt,tracingPolicyName:()=>et,userAgentPolicy:()=>Y,userAgentPolicyName:()=>z});const r=new Set(["Deserialize","Serialize","Retry","Sign"]);class i{constructor(e){var t;this._policies=[],this._policies=null!==(t=null==e?void 0:e.slice(0))&&void 0!==t?t:[],this._orderedPolicies=void 0}addPolicy(e,t={}){if(t.phase&&t.afterPhase)throw new Error("Policies inside a phase cannot specify afterPhase.");if(t.phase&&!r.has(t.phase))throw new Error(`Invalid phase name: ${t.phase}`);if(t.afterPhase&&!r.has(t.afterPhase))throw new Error(`Invalid afterPhase name: ${t.afterPhase}`);this._policies.push({policy:e,options:t}),this._orderedPolicies=void 0}removePolicy(e){const t=[];return this._policies=this._policies.filter((n=>!(e.name&&n.policy.name===e.name||e.phase&&n.options.phase===e.phase)||(t.push(n.policy),!1))),this._orderedPolicies=void 0,t}sendRequest(e,t){return this.getOrderedPolicies().reduceRight(((e,t)=>n=>t.sendRequest(n,e)),(t=>e.sendRequest(t)))(t)}getOrderedPolicies(){return this._orderedPolicies||(this._orderedPolicies=this.orderPolicies()),this._orderedPolicies}clone(){return new i(this._policies)}static create(){return new i}orderPolicies(){const e=[],t=new Map;function n(e){return{name:e,policies:new Set,hasRun:!1,hasAfterPolicies:!1}}const r=n("Serialize"),i=n("None"),o=n("Deserialize"),s=n("Retry"),a=n("Sign"),c=[r,i,o,s,a];function l(e){return"Retry"===e?s:"Serialize"===e?r:"Deserialize"===e?o:"Sign"===e?a:i}for(const e of this._policies){const n=e.policy,r=e.options,i=n.name;if(t.has(i))throw new Error("Duplicate policy names not allowed in pipeline");const o={policy:n,dependsOn:new Set,dependants:new Set};r.afterPhase&&(o.afterPhase=l(r.afterPhase),o.afterPhase.hasAfterPolicies=!0),t.set(i,o),l(r.phase).policies.add(o)}for(const e of this._policies){const{policy:n,options:r}=e,i=n.name,o=t.get(i);if(!o)throw new Error(`Missing node for policy ${i}`);if(r.afterPolicies)for(const e of r.afterPolicies){const n=t.get(e);n&&(o.dependsOn.add(n),n.dependants.add(o))}if(r.beforePolicies)for(const e of r.beforePolicies){const n=t.get(e);n&&(n.dependsOn.add(o),o.dependants.add(n))}}function u(n){n.hasRun=!0;for(const r of n.policies)if((!r.afterPhase||r.afterPhase.hasRun&&!r.afterPhase.policies.size)&&0===r.dependsOn.size){e.push(r.policy);for(const e of r.dependants)e.dependsOn.delete(r);t.delete(r.policy.name),n.policies.delete(r)}}function p(){for(const e of c){if(u(e),e.policies.size>0&&e!==i)return void(i.hasRun||u(i));e.hasAfterPolicies&&u(i)}}let d=0;for(;t.size>0;){d++;const t=e.length;if(p(),e.length<=t&&d>1)throw new Error("Cannot satisfy policy dependencies due to requirements cycle.")}return e}}function o(){return i.create()}var s=n(70857),a=n(39023),c=n.n(a);const l="undefined"!=typeof process&&process.env&&process.env.DEBUG||void 0;let u,p=[],d=[];const h=[];l&&v(l);const f=Object.assign((e=>m(e)),{enable:v,enabled:g,disable:function(){const e=u||"";return v(""),e},log:function(e,...t){process.stderr.write(`${c().format(e,...t)}${s.EOL}`)}});function v(e){u=e,p=[],d=[];const t=/\*/g,n=e.split(",").map((e=>e.trim().replace(t,".*?")));for(const e of n)e.startsWith("-")?d.push(new RegExp(`^${e.substr(1)}$`)):p.push(new RegExp(`^${e}$`));for(const e of h)e.enabled=g(e.namespace)}function g(e){if(e.endsWith("*"))return!0;for(const t of d)if(t.test(e))return!1;for(const t of p)if(t.test(e))return!0;return!1}function m(e){const t=Object.assign((function(...n){t.enabled&&(n.length>0&&(n[0]=`${e} ${n[0]}`),t.log(...n))}),{enabled:g(e),destroy:y,log:f.log,namespace:e,extend:b});return h.push(t),t}function y(){const e=h.indexOf(this);return e>=0&&(h.splice(e,1),!0)}function b(e){const t=m(`${this.namespace}:${e}`);return t.log=this.log,t}const _=f,E=new Set,S="undefined"!=typeof process&&process.env&&process.env.AZURE_LOG_LEVEL||void 0;let w;const P=_("azure");P.log=(...e)=>{_.log(...e)};const T=["verbose","info","warning","error"];S&&(D(S)?function(e){if(e&&!D(e))throw new Error(`Unknown log level '${e}'. Acceptable values: ${T.join(",")}`);w=e;const t=[];for(const e of E)R(e)&&t.push(e.namespace);_.enable(t.join(","))}(S):console.error(`AZURE_LOG_LEVEL set to unknown log level '${S}'; logging is not enabled. Acceptable values: ${T.join(", ")}.`));const C={verbose:400,info:300,warning:200,error:100};function x(e){const t=P.extend(e);return I(P,t),{error:O(t,"error"),warning:O(t,"warning"),info:O(t,"info"),verbose:O(t,"verbose")}}function I(e,t){t.log=(...t)=>{e.log(...t)}}function O(e,t){const n=Object.assign(e.extend(t),{level:t});if(I(e,n),R(n)){const e=_.disable();_.enable(e+","+n.namespace)}return E.add(n),n}function R(e){return Boolean(w&&C[e.level]<=C[w])}function D(e){return T.includes(e)}const k=x("core-rest-pipeline");function A(e){return!("object"!=typeof e||null===e||Array.isArray(e)||e instanceof RegExp||e instanceof Date)}const N="REDACTED",j=["x-ms-client-request-id","x-ms-return-client-request-id","x-ms-useragent","x-ms-correlation-request-id","x-ms-request-id","client-request-id","ms-cv","return-client-request-id","traceparent","Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers","Access-Control-Max-Age","Access-Control-Request-Headers","Access-Control-Request-Method","Origin","Accept","Accept-Encoding","Cache-Control","Connection","Content-Length","Content-Type","Date","ETag","Expires","If-Match","If-Modified-Since","If-None-Match","If-Unmodified-Since","Last-Modified","Pragma","Request-Id","Retry-After","Server","Transfer-Encoding","User-Agent","WWW-Authenticate"],M=["api-version"];class L{constructor({additionalAllowedHeaderNames:e=[],additionalAllowedQueryParameters:t=[]}={}){e=j.concat(e),t=M.concat(t),this.allowedHeaderNames=new Set(e.map((e=>e.toLowerCase()))),this.allowedQueryParameters=new Set(t.map((e=>e.toLowerCase())))}sanitize(e){const t=new Set;return JSON.stringify(e,((e,n)=>{if(n instanceof Error)return Object.assign(Object.assign({},n),{name:n.name,message:n.message});if("headers"===e)return this.sanitizeHeaders(n);if("url"===e)return this.sanitizeUrl(n);if("query"===e)return this.sanitizeQuery(n);if("body"!==e&&"response"!==e&&"operationSpec"!==e){if(Array.isArray(n)||A(n)){if(t.has(n))return"[Circular]";t.add(n)}return n}}),2)}sanitizeHeaders(e){const t={};for(const n of Object.keys(e))this.allowedHeaderNames.has(n.toLowerCase())?t[n]=e[n]:t[n]=N;return t}sanitizeQuery(e){if("object"!=typeof e||null===e)return e;const t={};for(const n of Object.keys(e))this.allowedQueryParameters.has(n.toLowerCase())?t[n]=e[n]:t[n]=N;return t}sanitizeUrl(e){if("string"!=typeof e||null===e)return e;const t=new URL(e);if(!t.search)return e;for(const[e]of t.searchParams)this.allowedQueryParameters.has(e.toLowerCase())||t.searchParams.set(e,N);return t.toString()}}const F="logPolicy";function V(e={}){var t;const n=null!==(t=e.logger)&&void 0!==t?t:k.info,r=new L({additionalAllowedHeaderNames:e.additionalAllowedHeaderNames,additionalAllowedQueryParameters:e.additionalAllowedQueryParameters});return{name:F,async sendRequest(e,t){if(!n.enabled)return t(e);n(`Request: ${r.sanitize(e)}`);const i=await t(e);return n(`Response status code: ${i.status}`),n(`Headers: ${r.sanitize(i.headers)}`),i}}}const U="redirectPolicy",H=["GET","HEAD"];function W(e={}){const{maxRetries:t=20}=e;return{name:U,async sendRequest(e,n){const r=await n(e);return q(n,r,t)}}}async function q(e,t,n,r=0){const{request:i,status:o,headers:s}=t,a=s.get("location");if(a&&(300===o||301===o&&H.includes(i.method)||302===o&&H.includes(i.method)||303===o&&"POST"===i.method||307===o)&&r<n){const t=new URL(a,i.url);i.url=t.toString(),303===o&&(i.method="GET",i.headers.delete("Content-Length"),delete i.body),i.headers.delete("Authorization");const s=await e(i);return q(e,s,n,r+1)}return t}const B="1.10.1",$=3;function K(e){const t=new Map;var n;t.set("core-rest-pipeline",B),(n=t).set("Node",process.version),n.set("OS",`(${s.arch()}-${s.type()}-${s.release()})`);const r=function(e){const t=[];for(const[n,r]of e){const e=r?`${n}/${r}`:n;t.push(e)}return t.join(" ")}(t);return e?`${e} ${r}`:r}const G="User-Agent",z="userAgentPolicy";function Y(e={}){const t=K(e.userAgentPrefix);return{name:z,sendRequest:async(e,n)=>(e.headers.has(G)||e.headers.set(G,t),n(e))}}const X="decompressResponsePolicy";function J(){return{name:X,sendRequest:async(e,t)=>("HEAD"!==e.method&&e.headers.set("Accept-Encoding","gzip,deflate"),t(e))}}const Q=new WeakMap,Z=new WeakMap;class ee{constructor(){this.onabort=null,Q.set(this,[]),Z.set(this,!1)}get aborted(){if(!Z.has(this))throw new TypeError("Expected `this` to be an instance of AbortSignal.");return Z.get(this)}static get none(){return new ee}addEventListener(e,t){if(!Q.has(this))throw new TypeError("Expected `this` to be an instance of AbortSignal.");Q.get(this).push(t)}removeEventListener(e,t){if(!Q.has(this))throw new TypeError("Expected `this` to be an instance of AbortSignal.");const n=Q.get(this),r=n.indexOf(t);r>-1&&n.splice(r,1)}dispatchEvent(e){throw new Error("This is a stub dispatchEvent implementation that should not be used.  It only exists for type-checking purposes.")}}function te(e){if(e.aborted)return;e.onabort&&e.onabort.call(e);const t=Q.get(e);t&&t.slice().forEach((t=>{t.call(e,{type:"abort"})})),Z.set(e,!0)}class ne extends Error{constructor(e){super(e),this.name="AbortError"}}class re{constructor(e){if(this._signal=new ee,e){Array.isArray(e)||(e=arguments);for(const t of e)t.aborted?this.abort():t.addEventListener("abort",(()=>{this.abort()}))}}get signal(){return this._signal}abort(){te(this._signal)}static timeout(e){const t=new ee,n=setTimeout(te,e,t);return"function"==typeof n.unref&&n.unref(),t}}const ie="The operation was aborted.";function oe(e,t,n){return new Promise(((r,i)=>{let o,s;const a=()=>i(new ne((null==n?void 0:n.abortErrorMsg)?null==n?void 0:n.abortErrorMsg:ie)),c=()=>{(null==n?void 0:n.abortSignal)&&s&&n.abortSignal.removeEventListener("abort",s)};if(s=()=>(o&&clearTimeout(o),c(),a()),(null==n?void 0:n.abortSignal)&&n.abortSignal.aborted)return a();o=setTimeout((()=>{c(),r(t)}),e),(null==n?void 0:n.abortSignal)&&n.abortSignal.addEventListener("abort",s)}))}function se(e,t){const n=e.headers.get(t);if(!n)return;const r=Number(n);return Number.isNaN(r)?void 0:r}const ae="Retry-After",ce=["retry-after-ms","x-ms-retry-after-ms",ae];function le(e){if(e&&[429,503].includes(e.status))try{for(const t of ce){const n=se(e,t);if(0===n||n)return n*(t===ae?1e3:1)}const t=e.headers.get(ae);if(!t)return;const n=Date.parse(t)-Date.now();return Number.isFinite(n)?Math.max(0,n):void 0}catch(e){return}}function ue(){return{name:"throttlingRetryStrategy",retry({response:e}){const t=le(e);return Number.isFinite(t)?{retryAfterInMs:t}:{skipStrategy:!0}}}}const pe=1e3,de=64e3;function he(e={}){var t,n;const r=null!==(t=e.retryDelayInMs)&&void 0!==t?t:pe,i=null!==(n=e.maxRetryDelayInMs)&&void 0!==n?n:de;let o=r;return{name:"exponentialRetryStrategy",retry({retryCount:t,response:n,responseError:r}){const s=!!(p=r)&&("ETIMEDOUT"===p.code||"ESOCKETTIMEDOUT"===p.code||"ECONNREFUSED"===p.code||"ECONNRESET"===p.code||"ENOENT"===p.code),a=s&&e.ignoreSystemErrors,c=function(e){return Boolean(e&&void 0!==e.status&&(e.status>=500||408===e.status)&&501!==e.status&&505!==e.status)}(n),l=c&&e.ignoreHttpStatusCodes,u=n&&(function(e){return Number.isFinite(le(e))}(n)||!c);var p;if(u||l||a)return{skipStrategy:!0};if(r&&!s&&!c)return{errorToThrow:r};const d=o*Math.pow(2,t),h=Math.min(i,d);var f,v;return o=h/2+(f=0,v=h/2,f=Math.ceil(f),v=Math.floor(v),Math.floor(Math.random()*(v-f+1))+f),{retryAfterInMs:o}}}}const fe=x("core-rest-pipeline retryPolicy"),ve="retryPolicy";function ge(e,t={maxRetries:$}){const n=t.logger||fe;return{name:ve,async sendRequest(r,i){var o,s;let a,c,l=-1;e:for(;;){l+=1,a=void 0,c=void 0;try{n.info(`Retry ${l}: Attempting to send request`,r.requestId),a=await i(r),n.info(`Retry ${l}: Received a response from request`,r.requestId)}catch(e){if(n.error(`Retry ${l}: Received an error from request`,r.requestId),c=e,!e||"RestError"!==c.name)throw e;a=c.response}if(null===(o=r.abortSignal)||void 0===o?void 0:o.aborted)throw n.error(`Retry ${l}: Request aborted.`),new ne;if(l>=(null!==(s=t.maxRetries)&&void 0!==s?s:$)){if(n.info(`Retry ${l}: Maximum retries reached. Returning the last received response, or throwing the last received error.`),c)throw c;if(a)return a;throw new Error("Maximum retries reached with no response or error to throw")}n.info(`Retry ${l}: Processing ${e.length} retry strategies.`);t:for(const t of e){const e=t.logger||fe;e.info(`Retry ${l}: Processing retry strategy ${t.name}.`);const n=t.retry({retryCount:l,response:a,responseError:c});if(n.skipStrategy){e.info(`Retry ${l}: Skipped.`);continue t}const{errorToThrow:i,retryAfterInMs:o,redirectTo:s}=n;if(i)throw e.error(`Retry ${l}: Retry strategy ${t.name} throws error:`,i),i;if(o||0===o){e.info(`Retry ${l}: Retry strategy ${t.name} retries after ${o}`),await oe(o,void 0,{abortSignal:r.abortSignal});continue e}if(s){e.info(`Retry ${l}: Retry strategy ${t.name} redirects to ${s}`),r.url=s;continue e}}if(c)throw n.info("None of the retry strategies could work with the received error. Throwing it."),c;if(a)return n.info("None of the retry strategies could work with the received response. Returning it."),a}}}}const me="defaultRetryPolicy";function ye(e={}){var t;return{name:me,sendRequest:ge([ue(),he(e)],{maxRetries:null!==(t=e.maxRetries)&&void 0!==t?t:$}).sendRequest}}var be=n(30737),_e=n.n(be);const Ee="formDataPolicy";function Se(){return{name:Ee,async sendRequest(e,t){if(e.formData){const t=e.headers.get("Content-Type");t&&-1!==t.indexOf("application/x-www-form-urlencoded")?(e.body=function(e){const t=new URLSearchParams;for(const[n,r]of Object.entries(e))if(Array.isArray(r))for(const e of r)t.append(n,e.toString());else t.append(n,r.toString());return t.toString()}(e.formData),e.formData=void 0):await async function(e,t){const n=new(_e());for(const t of Object.keys(e)){const r=e[t];if(Array.isArray(r))for(const e of r)n.append(t,e);else n.append(t,r)}t.body=n,t.formData=void 0;const r=t.headers.get("Content-Type");r&&-1!==r.indexOf("multipart/form-data")&&t.headers.set("Content-Type",`multipart/form-data; boundary=${n.getBoundary()}`);try{const e=await new Promise(((e,t)=>{n.getLength(((n,r)=>{n?t(n):e(r)}))}));t.headers.set("Content-Length",e)}catch(e){}}(e.formData,e)}return t(e)}}}var we;const Pe="undefined"!=typeof process&&Boolean(process.version)&&Boolean(null===(we=process.versions)||void 0===we?void 0:we.node);var Te=n(62288),Ce=n(11344);const xe="HTTPS_PROXY",Ie="HTTP_PROXY",Oe="ALL_PROXY",Re="NO_PROXY",De="proxyPolicy",ke=[];let Ae=!1;const Ne=new Map;function je(e){return process.env[e]?process.env[e]:process.env[e.toLowerCase()]?process.env[e.toLowerCase()]:void 0}function Me(e){if(!e&&!(e=function(){if(!process)return;const e=je(xe),t=je(Oe),n=je(Ie);return e||t||n}()))return;const t=new URL(e);return{host:(t.protocol?t.protocol+"//":"")+t.hostname,port:Number.parseInt(t.port||"80"),username:t.username,password:t.password}}function Le(e,{headers:t,tlsSettings:n}){let r;try{r=new URL(e.host)}catch(t){throw new Error(`Expecting a valid host string in proxy settings, but found "${e.host}".`)}n&&k.warning("TLS settings are not supported in combination with custom Proxy, certificates provided to the client will be ignored.");const i={hostname:r.hostname,port:e.port,protocol:r.protocol,headers:t.toJSON()};return e.username&&e.password?i.auth=`${e.username}:${e.password}`:e.username&&(i.auth=`${e.username}`),i}function Fe(e=Me(),t){Ae||ke.push(...function(){const e=je(Re);return Ae=!0,e?e.split(",").map((e=>e.trim())).filter((e=>e.length)):[]}());const n={};return{name:De,async sendRequest(r,i){var o;return r.proxySettings||function(e,t,n){if(0===t.length)return!1;const r=new URL(e).hostname;if(null==n?void 0:n.has(r))return n.get(r);let i=!1;for(const e of t)"."===e[0]?(r.endsWith(e)||r.length===e.length-1&&r===e.slice(1))&&(i=!0):r===e&&(i=!0);return null==n||n.set(r,i),i}(r.url,null!==(o=null==t?void 0:t.customNoProxyList)&&void 0!==o?o:ke,(null==t?void 0:t.customNoProxyList)?void 0:Ne)||(r.proxySettings=e),r.proxySettings&&function(e,t){if(e.agent)return;const n="https:"!==new URL(e.url).protocol,r=e.proxySettings;if(r)if(n){if(!t.httpProxyAgent){const n=Le(r,e);t.httpProxyAgent=new Ce.HttpProxyAgent(n)}e.agent=t.httpProxyAgent}else{if(!t.httpsProxyAgent){const n=Le(r,e);t.httpsProxyAgent=new Te.HttpsProxyAgent(n)}e.agent=t.httpsProxyAgent}}(r,n),i(r)}}}const Ve="setClientRequestIdPolicy";function Ue(e="x-ms-client-request-id"){return{name:Ve,sendRequest:async(t,n)=>(t.headers.has(e)||t.headers.set(e,t.requestId),n(t))}}const He="tlsPolicy";function We(e){return{name:He,sendRequest:async(t,n)=>(t.tlsSettings||(t.tlsSettings=e),n(t))}}const qe={span:Symbol.for("@azure/core-tracing span"),namespace:Symbol.for("@azure/core-tracing namespace")};function Be(e={}){let t=new $e(e.parentContext);return e.span&&(t=t.setValue(qe.span,e.span)),e.namespace&&(t=t.setValue(qe.namespace,e.namespace)),t}class $e{constructor(e){this._contextMap=e instanceof $e?new Map(e._contextMap):new Map}setValue(e,t){const n=new $e(this);return n._contextMap.set(e,t),n}getValue(e){return this._contextMap.get(e)}deleteValue(e){const t=new $e(this);return t._contextMap.delete(e),t}}let Ke;function Ge(){return Ke||(Ke={createRequestHeaders:()=>({}),parseTraceparentHeader:()=>{},startSpan:(e,t)=>({span:{end:()=>{},isRecording:()=>!1,recordException:()=>{},setAttribute:()=>{},setStatus:()=>{}},tracingContext:Be({parentContext:t.tracingContext})}),withContext:(e,t,...n)=>t(...n)}),Ke}function ze(e){if(A(e)){const t="string"==typeof e.name,n="string"==typeof e.message;return t&&n}return!1}function Ye(e){if(ze(e))return e.message;{let t;try{t="object"==typeof e&&e?JSON.stringify(e):String(e)}catch(e){t="[unable to stringify input]"}return`Unknown error ${t}`}}const Xe=a.inspect.custom,Je=new L;class Qe extends Error{constructor(e,t={}){super(e),this.name="RestError",this.code=t.code,this.statusCode=t.statusCode,this.request=t.request,this.response=t.response,Object.setPrototypeOf(this,Qe.prototype)}[Xe](){return`RestError: ${this.message} \n ${Je.sanitize(this)}`}}function Ze(e){return e instanceof Qe||ze(e)&&"RestError"===e.name}Qe.REQUEST_SEND_ERROR="REQUEST_SEND_ERROR",Qe.PARSE_ERROR="PARSE_ERROR";const et="tracingPolicy";function tt(e={}){const t=K(e.userAgentPrefix),n=function(){try{return function(e){const{namespace:t,packageName:n,packageVersion:r}=e;function i(e,i,o){var s;const a=Ge().startSpan(e,Object.assign(Object.assign({},o),{packageName:n,packageVersion:r,tracingContext:null===(s=null==i?void 0:i.tracingOptions)||void 0===s?void 0:s.tracingContext}));let c=a.tracingContext;const l=a.span;return c.getValue(qe.namespace)||(c=c.setValue(qe.namespace,t)),l.setAttribute("az.namespace",c.getValue(qe.namespace)),{span:l,updatedOptions:Object.assign({},i,{tracingOptions:Object.assign(Object.assign({},null==i?void 0:i.tracingOptions),{tracingContext:c})})}}function o(e,t,...n){return Ge().withContext(e,t,...n)}return{startSpan:i,withSpan:async function(e,t,n,r){const{span:s,updatedOptions:a}=i(e,t,r);try{const e=await o(a.tracingOptions.tracingContext,(()=>Promise.resolve(n(a,s))));return s.setStatus({status:"success"}),e}catch(e){throw s.setStatus({status:"error",error:e}),e}finally{s.end()}},withContext:o,parseTraceparentHeader:function(e){return Ge().parseTraceparentHeader(e)},createRequestHeaders:function(e){return Ge().createRequestHeaders(e)}}}({namespace:"",packageName:"@azure/core-rest-pipeline",packageVersion:B})}catch(e){return void k.warning(`Error when creating the TracingClient: ${Ye(e)}`)}}();return{name:et,async sendRequest(e,r){var i,o;if(!n||!(null===(i=e.tracingOptions)||void 0===i?void 0:i.tracingContext))return r(e);const{span:s,tracingContext:a}=null!==(o=function(e,t,n){try{const{span:r,updatedOptions:i}=e.startSpan(`HTTP ${t.method}`,{tracingOptions:t.tracingOptions},{spanKind:"client",spanAttributes:{"http.method":t.method,"http.url":t.url,requestId:t.requestId}});if(!r.isRecording())return void r.end();n&&r.setAttribute("http.user_agent",n);const o=e.createRequestHeaders(i.tracingOptions.tracingContext);for(const[e,n]of Object.entries(o))t.headers.set(e,n);return{span:r,tracingContext:i.tracingOptions.tracingContext}}catch(e){return void k.warning(`Skipping creating a tracing span due to an error: ${Ye(e)}`)}}(n,e,t))&&void 0!==o?o:{};if(!s||!a)return r(e);try{const t=await n.withContext(a,r,e);return function(e,t){try{e.setAttribute("http.status_code",t.status);const n=t.headers.get("x-ms-request-id");n&&e.setAttribute("serviceRequestId",n),e.setStatus({status:"success"}),e.end()}catch(e){k.warning(`Skipping tracing span processing due to an error: ${Ye(e)}`)}}(s,t),t}catch(e){throw function(e,t){try{e.setStatus({status:"error",error:ze(t)?t:void 0}),Ze(t)&&t.statusCode&&e.setAttribute("http.status_code",t.statusCode),e.end()}catch(e){k.warning(`Skipping tracing span processing due to an error: ${Ye(e)}`)}}(s,e),e}}}}function nt(e){const t=o();return Pe&&(e.tlsOptions&&t.addPolicy(We(e.tlsOptions)),t.addPolicy(Fe(e.proxyOptions)),t.addPolicy(J())),t.addPolicy(Se()),t.addPolicy(Y(e.userAgentOptions)),t.addPolicy(Ue()),t.addPolicy(ye(e.retryOptions),{phase:"Retry"}),t.addPolicy(tt(e.userAgentOptions),{afterPhase:"Retry"}),Pe&&t.addPolicy(W(e.redirectOptions),{afterPhase:"Retry"}),t.addPolicy(V(e.loggingOptions),{afterPhase:"Sign"}),t}var rt=n(58611),it=n(65692),ot=n(43106),st=n(2203);function at(e){return e.toLowerCase()}class ct{constructor(e){if(this._headersMap=new Map,e)for(const t of Object.keys(e))this.set(t,e[t])}set(e,t){this._headersMap.set(at(e),{name:e,value:String(t)})}get(e){var t;return null===(t=this._headersMap.get(at(e)))||void 0===t?void 0:t.value}has(e){return this._headersMap.has(at(e))}delete(e){this._headersMap.delete(at(e))}toJSON(e={}){const t={};if(e.preserveCase)for(const e of this._headersMap.values())t[e.name]=e.value;else for(const[e,n]of this._headersMap)t[e]=n.value;return t}toString(){return JSON.stringify(this.toJSON({preserveCase:!0}))}[Symbol.iterator](){return function*(e){for(const t of e.values())yield[t.name,t.value]}(this._headersMap)}}function lt(e){return new ct(e)}const ut={};function pt(e){return e&&"function"==typeof e.pipe}function dt(e){return new Promise((t=>{e.on("close",t),e.on("end",t),e.on("error",t)}))}function ht(e){return e&&"number"==typeof e.byteLength}class ft extends st.Transform{constructor(e){super(),this.loadedBytes=0,this.progressCallback=e}_transform(e,t,n){this.push(e),this.loadedBytes+=e.length;try{this.progressCallback({loadedBytes:this.loadedBytes}),n()}catch(e){n(e)}}}class vt{constructor(){this.cachedHttpsAgents=new WeakMap}async sendRequest(e){var t,n,r;const i=new re;let o;if(e.abortSignal){if(e.abortSignal.aborted)throw new ne("The operation was aborted.");o=e=>{"abort"===e.type&&i.abort()},e.abortSignal.addEventListener("abort",o)}e.timeout>0&&setTimeout((()=>{i.abort()}),e.timeout);const s=e.headers.get("Accept-Encoding"),a=(null==s?void 0:s.includes("gzip"))||(null==s?void 0:s.includes("deflate"));let c,l="function"==typeof e.body?e.body():e.body;if(l&&!e.headers.has("Content-Length")){const t=function(e){return e?Buffer.isBuffer(e)?e.length:pt(e)?null:ht(e)?e.byteLength:"string"==typeof e?Buffer.from(e).length:null:0}(l);null!==t&&e.headers.set("Content-Length",t)}try{if(l&&e.onUploadProgress){const t=e.onUploadProgress,n=new ft(t);n.on("error",(e=>{k.error("Error in upload progress",e)})),pt(l)?l.pipe(n):n.end(l),l=n}const o=await this.makeRequest(e,i,l),s=function(e){const t=lt();for(const n of Object.keys(e.headers)){const r=e.headers[n];Array.isArray(r)?r.length>0&&t.set(n,r[0]):r&&t.set(n,r)}return t}(o),p={status:null!==(t=o.statusCode)&&void 0!==t?t:0,headers:s,request:e};if("HEAD"===e.method)return o.resume(),p;c=a?function(e,t){const n=t.get("Content-Encoding");if("gzip"===n){const t=ot.createGunzip();return e.pipe(t),t}if("deflate"===n){const t=ot.createInflate();return e.pipe(t),t}return e}(o,s):o;const d=e.onDownloadProgress;if(d){const e=new ft(d);e.on("error",(e=>{k.error("Error in download progress",e)})),c.pipe(e),c=e}return(null===(n=e.streamResponseStatusCodes)||void 0===n?void 0:n.has(Number.POSITIVE_INFINITY))||(null===(r=e.streamResponseStatusCodes)||void 0===r?void 0:r.has(p.status))?p.readableStreamBody=c:p.bodyAsText=await(u=c,new Promise(((e,t)=>{const n=[];u.on("data",(e=>{Buffer.isBuffer(e)?n.push(e):n.push(Buffer.from(e))})),u.on("end",(()=>{e(Buffer.concat(n).toString("utf8"))})),u.on("error",(e=>{e&&"AbortError"===(null==e?void 0:e.name)?t(e):t(new Qe(`Error reading response as text: ${e.message}`,{code:Qe.PARSE_ERROR}))}))}))),p}finally{if(e.abortSignal&&o){let t=Promise.resolve();pt(l)&&(t=dt(l));let n=Promise.resolve();pt(c)&&(n=dt(c)),Promise.all([t,n]).then((()=>{var t;o&&(null===(t=e.abortSignal)||void 0===t||t.removeEventListener("abort",o))})).catch((e=>{k.warning("Error when cleaning up abortListener on httpRequest",e)}))}}var u}makeRequest(e,t,n){var r;const i=new URL(e.url),o="https:"!==i.protocol;if(o&&!e.allowInsecureConnection)throw new Error(`Cannot connect to ${e.url} while allowInsecureConnection is false.`);const s={agent:null!==(r=e.agent)&&void 0!==r?r:this.getOrCreateAgent(e,o),hostname:i.hostname,path:`${i.pathname}${i.search}`,port:i.port,method:e.method,headers:e.headers.toJSON({preserveCase:!0})};return new Promise(((r,i)=>{const a=o?rt.request(s,r):it.request(s,r);a.once("error",(t=>{var n;i(new Qe(t.message,{code:null!==(n=t.code)&&void 0!==n?n:Qe.REQUEST_SEND_ERROR,request:e}))})),t.signal.addEventListener("abort",(()=>{const e=new ne("The operation was aborted.");a.destroy(e),i(e)})),n&&pt(n)?n.pipe(a):n?"string"==typeof n||Buffer.isBuffer(n)?a.end(n):ht(n)?a.end(ArrayBuffer.isView(n)?Buffer.from(n.buffer):Buffer.from(n)):(k.error("Unrecognized body type",n),i(new Qe("Unrecognized body type"))):a.end()}))}getOrCreateAgent(e,t){var n;const r=e.disableKeepAlive;if(t)return r?rt.globalAgent:(this.cachedHttpAgent||(this.cachedHttpAgent=new rt.Agent({keepAlive:!0})),this.cachedHttpAgent);{if(r&&!e.tlsSettings)return it.globalAgent;const t=null!==(n=e.tlsSettings)&&void 0!==n?n:ut;let i=this.cachedHttpsAgents.get(t);return i&&i.options.keepAlive===!r||(k.info("No cached TLS Agent exist, creating a new Agent"),i=new it.Agent(Object.assign({keepAlive:!r},t)),this.cachedHttpsAgents.set(t,i)),i}}}function gt(){return new vt}var mt=n(52107);class yt{constructor(e){var t,n,r,i,o,s,a;this.url=e.url,this.body=e.body,this.headers=null!==(t=e.headers)&&void 0!==t?t:lt(),this.method=null!==(n=e.method)&&void 0!==n?n:"GET",this.timeout=null!==(r=e.timeout)&&void 0!==r?r:0,this.formData=e.formData,this.disableKeepAlive=null!==(i=e.disableKeepAlive)&&void 0!==i&&i,this.proxySettings=e.proxySettings,this.streamResponseStatusCodes=e.streamResponseStatusCodes,this.withCredentials=null!==(o=e.withCredentials)&&void 0!==o&&o,this.abortSignal=e.abortSignal,this.tracingOptions=e.tracingOptions,this.onUploadProgress=e.onUploadProgress,this.onDownloadProgress=e.onDownloadProgress,this.requestId=e.requestId||(0,mt.v4)(),this.allowInsecureConnection=null!==(s=e.allowInsecureConnection)&&void 0!==s&&s,this.enableBrowserStreams=null!==(a=e.enableBrowserStreams)&&void 0!==a&&a}}function bt(e){return new yt(e)}const _t="exponentialRetryPolicy";function Et(e={}){var t;return ge([he(Object.assign(Object.assign({},e),{ignoreSystemErrors:!0}))],{maxRetries:null!==(t=e.maxRetries)&&void 0!==t?t:$})}const St="systemErrorRetryPolicy";function wt(e={}){var t;return{name:St,sendRequest:ge([he(Object.assign(Object.assign({},e),{ignoreHttpStatusCodes:!0}))],{maxRetries:null!==(t=e.maxRetries)&&void 0!==t?t:$}).sendRequest}}const Pt="throttlingRetryPolicy";function Tt(e={}){var t;return{name:Pt,sendRequest:ge([ue()],{maxRetries:null!==(t=e.maxRetries)&&void 0!==t?t:$}).sendRequest}}const Ct={forcedRefreshWindowInMs:1e3,retryIntervalInMs:3e3,refreshWindowInMs:12e4};const xt="bearerTokenAuthenticationPolicy";async function It(e){const{scopes:t,getAccessToken:n,request:r}=e,i={abortSignal:r.abortSignal,tracingOptions:r.tracingOptions},o=await n(t,i);o&&e.request.headers.set("Authorization",`Bearer ${o.token}`)}function Ot(e){var t;const{credential:n,scopes:r,challengeCallbacks:i}=e,o=e.logger||k,s=Object.assign({authorizeRequest:null!==(t=null==i?void 0:i.authorizeRequest)&&void 0!==t?t:It,authorizeRequestOnChallenge:null==i?void 0:i.authorizeRequestOnChallenge},i),a=n?function(e,t){let n,r=null,i=null;const o=Object.assign(Object.assign({},Ct),t),s={get isRefreshing(){return null!==r},get shouldRefresh(){var e;return!s.isRefreshing&&(null!==(e=null==i?void 0:i.expiresOnTimestamp)&&void 0!==e?e:0)-o.refreshWindowInMs<Date.now()},get mustRefresh(){return null===i||i.expiresOnTimestamp-o.forcedRefreshWindowInMs<Date.now()}};function a(t,a){var c;return s.isRefreshing||(r=async function(e,t,n){async function r(){if(!(Date.now()<n)){const t=await e();if(null===t)throw new Error("Failed to refresh access token.");return t}try{return await e()}catch(e){return null}}let i=await r();for(;null===i;)await oe(t),i=await r();return i}((()=>e.getToken(t,a)),o.retryIntervalInMs,null!==(c=null==i?void 0:i.expiresOnTimestamp)&&void 0!==c?c:Date.now()).then((e=>(r=null,i=e,n=a.tenantId,i))).catch((e=>{throw r=null,i=null,n=void 0,e}))),r}return async(e,t)=>n!==t.tenantId||Boolean(t.claims)||s.mustRefresh?a(e,t):(s.shouldRefresh&&a(e,t),i)}(n):()=>Promise.resolve(null);return{name:xt,async sendRequest(e,t){if(!e.url.toLowerCase().startsWith("https://"))throw new Error("Bearer token authentication is not permitted for non-TLS protected (non-https) URLs.");let n,i;await s.authorizeRequest({scopes:Array.isArray(r)?r:[r],request:e,getAccessToken:a,logger:o});try{n=await t(e)}catch(e){i=e,n=e.response}if(s.authorizeRequestOnChallenge&&401===(null==n?void 0:n.status)&&function(e){const t=e.headers.get("WWW-Authenticate");if(401===e.status&&t)return t}(n)&&await s.authorizeRequestOnChallenge({scopes:Array.isArray(r)?r:[r],request:e,response:n,getAccessToken:a,logger:o}))return t(e);if(i)throw i;return n}}}const Rt="ndJsonPolicy";function Dt(){return{name:Rt,async sendRequest(e,t){if("string"==typeof e.body&&e.body.startsWith("[")){const t=JSON.parse(e.body);Array.isArray(t)&&(e.body=t.map((e=>JSON.stringify(e)+"\n")).join(""))}return t(e)}}}},47708:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,{signal:n}={}){return new Promise(((r,i)=>{function o(){null==n||n.removeEventListener("abort",o),e.removeListener(t,s),e.removeListener("error",a)}function s(...e){o(),r(e)}function a(e){o(),i(e)}null==n||n.addEventListener("abort",o),e.on(t,s),e.on("error",a)}))}},5864:(e,t,n)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(r++,"%c"===e&&(i=r))})),t.splice(i,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(37495)(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},37495:(e,t,n)=>{e.exports=function(e){function t(e){let n,i,o,s=null;function a(...e){if(!a.enabled)return;const r=a,i=Number(new Date),o=i-(n||i);r.diff=o,r.prev=n,r.curr=i,n=i,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((n,i)=>{if("%%"===n)return"%";s++;const o=t.formatters[i];if("function"==typeof o){const t=e[s];n=o.call(r,t),e.splice(s,1),s--}return n})),t.formatArgs.call(r,e),(r.log||t.log).apply(r,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=r,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(i!==t.namespaces&&(i=t.namespaces,o=t.enabled(e)),o),set:e=>{s=e}}),"function"==typeof t.init&&t.init(a),a}function r(e,n){const r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(i),...t.skips.map(i).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(6585),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((n=>{t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},78524:(e,t,n)=>{"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=n(5864):e.exports=n(48490)},48490:(e,t,n)=>{const r=n(52018),i=n(39023);t.init=function(e){e.inspectOpts={};const n=Object.keys(t.inspectOpts);for(let r=0;r<n.length;r++)e.inspectOpts[n[r]]=t.inspectOpts[n[r]]},t.log=function(...e){return process.stderr.write(i.format(...e)+"\n")},t.formatArgs=function(n){const{namespace:r,useColors:i}=this;if(i){const t=this.color,i="[3"+(t<8?t:"8;5;"+t),o=`  ${i};1m${r} [0m`;n[0]=o+n[0].split("\n").join("\n"+o),n.push(i+"m+"+e.exports.humanize(this.diff)+"[0m")}else n[0]=(t.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+r+" "+n[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):r.isatty(process.stderr.fd)},t.destroy=i.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const e=n(27687);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter((e=>/^debug_/i.test(e))).reduce(((e,t)=>{const n=t.substring(6).toLowerCase().replace(/_([a-z])/g,((e,t)=>t.toUpperCase()));let r=process.env[t];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),e[n]=r,e}),{}),e.exports=n(37495)(t);const{formatters:o}=e.exports;o.o=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts).split("\n").map((e=>e.trim())).join(" ")},o.O=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts)}},32985:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(69278)),s=i(n(64756)),a=i(n(87016)),c=i(n(78524)),l=i(n(47708)),u=n(9724),p=(0,c.default)("http-proxy-agent");class d extends u.Agent{constructor(e){let t;if(t="string"==typeof e?a.default.parse(e):e,!t)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");p("Creating new HttpProxyAgent instance: %o",t),super(t);const n=Object.assign({},t);var r;this.secureProxy=t.secureProxy||"string"==typeof(r=n.protocol)&&/^https:?$/i.test(r),n.host=n.hostname||n.host,"string"==typeof n.port&&(n.port=parseInt(n.port,10)),!n.port&&n.host&&(n.port=this.secureProxy?443:80),n.host&&n.path&&(delete n.path,delete n.pathname),this.proxy=n}callback(e,t){return r(this,void 0,void 0,(function*(){const{proxy:n,secureProxy:r}=this,i=a.default.parse(e.path);let c;if(i.protocol||(i.protocol="http:"),i.hostname||(i.hostname=t.hostname||t.host||null),null==i.port&&(t.port,1)&&(i.port=String(t.port)),"80"===i.port&&(i.port=""),e.path=a.default.format(i),n.auth&&e.setHeader("Proxy-Authorization",`Basic ${Buffer.from(n.auth).toString("base64")}`),r?(p("Creating `tls.Socket`: %o",n),c=s.default.connect(n)):(p("Creating `net.Socket`: %o",n),c=o.default.connect(n)),e._header){let t,n;p("Regenerating stored HTTP header string for request"),e._header=null,e._implicitHeader(),e.output&&e.output.length>0?(p("Patching connection write() output buffer with updated header"),t=e.output[0],n=t.indexOf("\r\n\r\n")+4,e.output[0]=e._header+t.substring(n),p("Output buffer: %o",e.output)):e.outputData&&e.outputData.length>0&&(p("Patching connection write() output buffer with updated header"),t=e.outputData[0].data,n=t.indexOf("\r\n\r\n")+4,e.outputData[0].data=e._header+t.substring(n),p("Output buffer: %o",e.outputData[0].data))}return yield(0,l.default)(c,"connect"),c}))}}t.default=d},11344:function(e,t,n){"use strict";const r=(this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(n(32985));function i(e){return new r.default(e)}!function(e){e.HttpProxyAgent=r.default,e.prototype=r.default.prototype}(i||(i={})),e.exports=i},88574:(e,t,n)=>{"use strict";const r=n(29611),i=global.Date;class o extends i{constructor(e){super(e),this.isDate=!0}toISOString(){return`${this.getUTCFullYear()}-${r(2,this.getUTCMonth()+1)}-${r(2,this.getUTCDate())}`}}e.exports=e=>{const t=new o(e);if(isNaN(t))throw new TypeError("Invalid Datetime");return t}},56804:(e,t,n)=>{"use strict";const r=n(29611);class i extends Date{constructor(e){super(e+"Z"),this.isFloating=!0}toISOString(){return`${this.getUTCFullYear()}-${r(2,this.getUTCMonth()+1)}-${r(2,this.getUTCDate())}T${r(2,this.getUTCHours())}:${r(2,this.getUTCMinutes())}:${r(2,this.getUTCSeconds())}.${r(3,this.getUTCMilliseconds())}`}}e.exports=e=>{const t=new i(e);if(isNaN(t))throw new TypeError("Invalid Datetime");return t}},11051:e=>{"use strict";e.exports=e=>{const t=new Date(e);if(isNaN(t))throw new TypeError("Invalid Datetime");return t}},45879:(e,t,n)=>{"use strict";const r=n(29611);class i extends Date{constructor(e){super(`0000-01-01T${e}Z`),this.isTime=!0}toISOString(){return`${r(2,this.getUTCHours())}:${r(2,this.getUTCMinutes())}:${r(2,this.getUTCSeconds())}.${r(3,this.getUTCMilliseconds())}`}}e.exports=e=>{const t=new i(e);if(isNaN(t))throw new TypeError("Invalid Datetime");return t}},29611:e=>{"use strict";e.exports=(e,t)=>{for(t=String(t);t.length<e;)t="0"+t;return t}},62526:e=>{"use strict";const t=1114112;class n extends Error{constructor(e,t,r){super("[ParserError] "+e,t,r),this.name="ParserError",this.code="ParserError",Error.captureStackTrace&&Error.captureStackTrace(this,n)}}class r{constructor(e){this.parser=e,this.buf="",this.returned=null,this.result=null,this.resultTable=null,this.resultArr=null}}class i{constructor(){this.pos=0,this.col=0,this.line=0,this.obj={},this.ctx=this.obj,this.stack=[],this._buf="",this.char=null,this.ii=0,this.state=new r(this.parseStart)}parse(e){if(0===e.length||null==e.length)return;let t;for(this._buf=String(e),this.ii=-1,this.char=-1;!1===t||this.nextChar();)t=this.runOne();this._buf=null}nextChar(){return 10===this.char&&(++this.line,this.col=-1),++this.ii,this.char=this._buf.codePointAt(this.ii),++this.pos,++this.col,this.haveBuffer()}haveBuffer(){return this.ii<this._buf.length}runOne(){return this.state.parser.call(this,this.state.returned)}finish(){let e;this.char=t;do{e=this.state.parser,this.runOne()}while(this.state.parser!==e);return this.ctx=null,this.state=null,this._buf=null,this.obj}next(e){if("function"!=typeof e)throw new n("Tried to set state to non-existent state: "+JSON.stringify(e));this.state.parser=e}goto(e){return this.next(e),this.runOne()}call(e,t){t&&this.next(t),this.stack.push(this.state),this.state=new r(e)}callNow(e,t){return this.call(e,t),this.runOne()}return(e){if(0===this.stack.length)throw this.error(new n("Stack underflow"));void 0===e&&(e=this.state.buf),this.state=this.stack.pop(),this.state.returned=e}returnNow(e){return this.return(e),this.runOne()}consume(){if(this.char===t)throw this.error(new n("Unexpected end-of-buffer"));this.state.buf+=this._buf[this.ii]}error(e){return e.line=this.line,e.col=this.col,e.pos=this.pos,e}parseStart(){throw new n("Must declare a parseStart method")}}i.END=t,i.Error=n,e.exports=i},25985:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=makeParserClass(__webpack_require__(62526)),module.exports.makeParserClass=makeParserClass;class TomlError extends Error{constructor(e){super(e),this.name="TomlError",Error.captureStackTrace&&Error.captureStackTrace(this,TomlError),this.fromTOML=!0,this.wrapped=null}}TomlError.wrap=e=>{const t=new TomlError(e.message);return t.code=e.code,t.wrapped=e,t},module.exports.TomlError=TomlError;const createDateTime=__webpack_require__(11051),createDateTimeFloat=__webpack_require__(56804),createDate=__webpack_require__(88574),createTime=__webpack_require__(45879),CTRL_I=9,CTRL_J=10,CTRL_M=13,CTRL_CHAR_BOUNDARY=31,CHAR_SP=32,CHAR_QUOT=34,CHAR_NUM=35,CHAR_APOS=39,CHAR_PLUS=43,CHAR_COMMA=44,CHAR_HYPHEN=45,CHAR_PERIOD=46,CHAR_0=48,CHAR_1=49,CHAR_7=55,CHAR_9=57,CHAR_COLON=58,CHAR_EQUALS=61,CHAR_A=65,CHAR_E=69,CHAR_F=70,CHAR_T=84,CHAR_U=85,CHAR_Z=90,CHAR_LOWBAR=95,CHAR_a=97,CHAR_b=98,CHAR_e=101,CHAR_f=102,CHAR_i=105,CHAR_l=108,CHAR_n=110,CHAR_o=111,CHAR_r=114,CHAR_s=115,CHAR_t=116,CHAR_u=117,CHAR_x=120,CHAR_z=122,CHAR_LCUB=123,CHAR_RCUB=125,CHAR_LSQB=91,CHAR_BSOL=92,CHAR_RSQB=93,CHAR_DEL=127,SURROGATE_FIRST=55296,SURROGATE_LAST=57343,escapes={[CHAR_b]:"\b",[CHAR_t]:"\t",[CHAR_n]:"\n",[CHAR_f]:"\f",[CHAR_r]:"\r",[CHAR_QUOT]:'"',[CHAR_BSOL]:"\\"};function isDigit(e){return e>=CHAR_0&&e<=CHAR_9}function isHexit(e){return e>=CHAR_A&&e<=CHAR_F||e>=CHAR_a&&e<=CHAR_f||e>=CHAR_0&&e<=CHAR_9}function isBit(e){return e===CHAR_1||e===CHAR_0}function isOctit(e){return e>=CHAR_0&&e<=CHAR_7}function isAlphaNumQuoteHyphen(e){return e>=CHAR_A&&e<=CHAR_Z||e>=CHAR_a&&e<=CHAR_z||e>=CHAR_0&&e<=CHAR_9||e===CHAR_APOS||e===CHAR_QUOT||e===CHAR_LOWBAR||e===CHAR_HYPHEN}function isAlphaNumHyphen(e){return e>=CHAR_A&&e<=CHAR_Z||e>=CHAR_a&&e<=CHAR_z||e>=CHAR_0&&e<=CHAR_9||e===CHAR_LOWBAR||e===CHAR_HYPHEN}const _type=Symbol("type"),_declared=Symbol("declared"),hasOwnProperty=Object.prototype.hasOwnProperty,defineProperty=Object.defineProperty,descriptor={configurable:!0,enumerable:!0,writable:!0,value:void 0};function hasKey(e,t){return!!hasOwnProperty.call(e,t)||("__proto__"===t&&defineProperty(e,"__proto__",descriptor),!1)}const INLINE_TABLE=Symbol("inline-table");function InlineTable(){return Object.defineProperties({},{[_type]:{value:INLINE_TABLE}})}function isInlineTable(e){return null!==e&&"object"==typeof e&&e[_type]===INLINE_TABLE}const TABLE=Symbol("table");function Table(){return Object.defineProperties({},{[_type]:{value:TABLE},[_declared]:{value:!1,writable:!0}})}function isTable(e){return null!==e&&"object"==typeof e&&e[_type]===TABLE}const _contentType=Symbol("content-type"),INLINE_LIST=Symbol("inline-list");function InlineList(e){return Object.defineProperties([],{[_type]:{value:INLINE_LIST},[_contentType]:{value:e}})}function isInlineList(e){return null!==e&&"object"==typeof e&&e[_type]===INLINE_LIST}const LIST=Symbol("list");function List(){return Object.defineProperties([],{[_type]:{value:LIST}})}function isList(e){return null!==e&&"object"==typeof e&&e[_type]===LIST}let _custom;try{const utilInspect=eval("require('util').inspect");_custom=utilInspect.custom}catch(e){}const _inspect=_custom||"inspect";class BoxedBigInt{constructor(e){try{this.value=global.BigInt.asIntN(64,e)}catch(e){this.value=null}Object.defineProperty(this,_type,{value:INTEGER})}isNaN(){return null===this.value}toString(){return String(this.value)}[_inspect](){return`[BigInt: ${this.toString()}]}`}valueOf(){return this.value}}const INTEGER=Symbol("integer");function Integer(e){let t=Number(e);return Object.is(t,-0)&&(t=0),global.BigInt&&!Number.isSafeInteger(t)?new BoxedBigInt(e):Object.defineProperties(new Number(t),{isNaN:{value:function(){return isNaN(this)}},[_type]:{value:INTEGER},[_inspect]:{value:()=>`[Integer: ${e}]`}})}function isInteger(e){return null!==e&&"object"==typeof e&&e[_type]===INTEGER}const FLOAT=Symbol("float");function Float(e){return Object.defineProperties(new Number(e),{[_type]:{value:FLOAT},[_inspect]:{value:()=>`[Float: ${e}]`}})}function isFloat(e){return null!==e&&"object"==typeof e&&e[_type]===FLOAT}function tomlType(e){const t=typeof e;if("object"===t){if(null===e)return"null";if(e instanceof Date)return"datetime";if(_type in e)switch(e[_type]){case INLINE_TABLE:return"inline-table";case INLINE_LIST:return"inline-list";case TABLE:return"table";case LIST:return"list";case FLOAT:return"float";case INTEGER:return"integer"}}return t}function makeParserClass(e){return class extends e{constructor(){super(),this.ctx=this.obj=Table()}atEndOfWord(){return this.char===CHAR_NUM||this.char===CTRL_I||this.char===CHAR_SP||this.atEndOfLine()}atEndOfLine(){return this.char===e.END||this.char===CTRL_J||this.char===CTRL_M}parseStart(){if(this.char===e.END)return null;if(this.char===CHAR_LSQB)return this.call(this.parseTableOrList);if(this.char===CHAR_NUM)return this.call(this.parseComment);if(this.char===CTRL_J||this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M)return null;if(isAlphaNumQuoteHyphen(this.char))return this.callNow(this.parseAssignStatement);throw this.error(new TomlError(`Unknown character "${this.char}"`))}parseWhitespaceToEOL(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M)return null;if(this.char===CHAR_NUM)return this.goto(this.parseComment);if(this.char===e.END||this.char===CTRL_J)return this.return();throw this.error(new TomlError("Unexpected character, expected only whitespace or comments till end of line"))}parseAssignStatement(){return this.callNow(this.parseAssign,this.recordAssignStatement)}recordAssignStatement(e){let t=this.ctx,n=e.key.pop();for(let n of e.key){if(hasKey(t,n)&&(!isTable(t[n])||t[n][_declared]))throw this.error(new TomlError("Can't redefine existing key"));t=t[n]=t[n]||Table()}if(hasKey(t,n))throw this.error(new TomlError("Can't redefine existing key"));return isInteger(e.value)||isFloat(e.value)?t[n]=e.value.valueOf():t[n]=e.value,this.goto(this.parseWhitespaceToEOL)}parseAssign(){return this.callNow(this.parseKeyword,this.recordAssignKeyword)}recordAssignKeyword(e){return this.state.resultTable?this.state.resultTable.push(e):this.state.resultTable=[e],this.goto(this.parseAssignKeywordPreDot)}parseAssignKeywordPreDot(){return this.char===CHAR_PERIOD?this.next(this.parseAssignKeywordPostDot):this.char!==CHAR_SP&&this.char!==CTRL_I?this.goto(this.parseAssignEqual):void 0}parseAssignKeywordPostDot(){if(this.char!==CHAR_SP&&this.char!==CTRL_I)return this.callNow(this.parseKeyword,this.recordAssignKeyword)}parseAssignEqual(){if(this.char===CHAR_EQUALS)return this.next(this.parseAssignPreValue);throw this.error(new TomlError('Invalid character, expected "="'))}parseAssignPreValue(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseValue,this.recordAssignValue)}recordAssignValue(e){return this.returnNow({key:this.state.resultTable,value:e})}parseComment(){do{if(this.char===e.END||this.char===CTRL_J)return this.return()}while(this.nextChar())}parseTableOrList(){if(this.char!==CHAR_LSQB)return this.goto(this.parseTable);this.next(this.parseList)}parseTable(){return this.ctx=this.obj,this.goto(this.parseTableNext)}parseTableNext(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseKeyword,this.parseTableMore)}parseTableMore(e){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CHAR_RSQB){if(hasKey(this.ctx,e)&&(!isTable(this.ctx[e])||this.ctx[e][_declared]))throw this.error(new TomlError("Can't redefine existing key"));return this.ctx=this.ctx[e]=this.ctx[e]||Table(),this.ctx[_declared]=!0,this.next(this.parseWhitespaceToEOL)}if(this.char===CHAR_PERIOD){if(hasKey(this.ctx,e))if(isTable(this.ctx[e]))this.ctx=this.ctx[e];else{if(!isList(this.ctx[e]))throw this.error(new TomlError("Can't redefine existing key"));this.ctx=this.ctx[e][this.ctx[e].length-1]}else this.ctx=this.ctx[e]=Table();return this.next(this.parseTableNext)}throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseList(){return this.ctx=this.obj,this.goto(this.parseListNext)}parseListNext(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseKeyword,this.parseListMore)}parseListMore(e){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CHAR_RSQB){if(hasKey(this.ctx,e)||(this.ctx[e]=List()),isInlineList(this.ctx[e]))throw this.error(new TomlError("Can't extend an inline array"));if(!isList(this.ctx[e]))throw this.error(new TomlError("Can't redefine an existing key"));{const t=Table();this.ctx[e].push(t),this.ctx=t}return this.next(this.parseListEnd)}if(this.char===CHAR_PERIOD){if(hasKey(this.ctx,e)){if(isInlineList(this.ctx[e]))throw this.error(new TomlError("Can't extend an inline array"));if(isInlineTable(this.ctx[e]))throw this.error(new TomlError("Can't extend an inline table"));if(isList(this.ctx[e]))this.ctx=this.ctx[e][this.ctx[e].length-1];else{if(!isTable(this.ctx[e]))throw this.error(new TomlError("Can't redefine an existing key"));this.ctx=this.ctx[e]}}else this.ctx=this.ctx[e]=Table();return this.next(this.parseListNext)}throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseListEnd(e){if(this.char===CHAR_RSQB)return this.next(this.parseWhitespaceToEOL);throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseValue(){if(this.char===e.END)throw this.error(new TomlError("Key without value"));if(this.char===CHAR_QUOT)return this.next(this.parseDoubleString);if(this.char===CHAR_APOS)return this.next(this.parseSingleString);if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)return this.goto(this.parseNumberSign);if(this.char===CHAR_i)return this.next(this.parseInf);if(this.char===CHAR_n)return this.next(this.parseNan);if(isDigit(this.char))return this.goto(this.parseNumberOrDateTime);if(this.char===CHAR_t||this.char===CHAR_f)return this.goto(this.parseBoolean);if(this.char===CHAR_LSQB)return this.call(this.parseInlineList,this.recordValue);if(this.char===CHAR_LCUB)return this.call(this.parseInlineTable,this.recordValue);throw this.error(new TomlError("Unexpected character, expecting string, number, datetime, boolean, inline array or inline table"))}recordValue(e){return this.returnNow(e)}parseInf(){if(this.char===CHAR_n)return this.next(this.parseInf2);throw this.error(new TomlError('Unexpected character, expected "inf", "+inf" or "-inf"'))}parseInf2(){if(this.char===CHAR_f)return"-"===this.state.buf?this.return(-1/0):this.return(1/0);throw this.error(new TomlError('Unexpected character, expected "inf", "+inf" or "-inf"'))}parseNan(){if(this.char===CHAR_a)return this.next(this.parseNan2);throw this.error(new TomlError('Unexpected character, expected "nan"'))}parseNan2(){if(this.char===CHAR_n)return this.return(NaN);throw this.error(new TomlError('Unexpected character, expected "nan"'))}parseKeyword(){return this.char===CHAR_QUOT?this.next(this.parseBasicString):this.char===CHAR_APOS?this.next(this.parseLiteralString):this.goto(this.parseBareKey)}parseBareKey(){do{if(this.char===e.END)throw this.error(new TomlError("Key ended without value"));if(!isAlphaNumHyphen(this.char)){if(0===this.state.buf.length)throw this.error(new TomlError("Empty bare keys are not allowed"));return this.returnNow()}this.consume()}while(this.nextChar())}parseSingleString(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiStringMaybe):this.goto(this.parseLiteralString)}parseLiteralString(){do{if(this.char===CHAR_APOS)return this.return();if(this.atEndOfLine())throw this.error(new TomlError("Unterminated string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}parseLiteralMultiStringMaybe(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiString):this.returnNow()}parseLiteralMultiString(){return this.char===CTRL_M?null:this.char===CTRL_J?this.next(this.parseLiteralMultiStringContent):this.goto(this.parseLiteralMultiStringContent)}parseLiteralMultiStringContent(){do{if(this.char===CHAR_APOS)return this.next(this.parseLiteralMultiEnd);if(this.char===e.END)throw this.error(new TomlError("Unterminated multi-line string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I&&this.char!==CTRL_J&&this.char!==CTRL_M)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}parseLiteralMultiEnd(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiEnd2):(this.state.buf+="'",this.goto(this.parseLiteralMultiStringContent))}parseLiteralMultiEnd2(){return this.char===CHAR_APOS?this.return():(this.state.buf+="''",this.goto(this.parseLiteralMultiStringContent))}parseDoubleString(){return this.char===CHAR_QUOT?this.next(this.parseMultiStringMaybe):this.goto(this.parseBasicString)}parseBasicString(){do{if(this.char===CHAR_BSOL)return this.call(this.parseEscape,this.recordEscapeReplacement);if(this.char===CHAR_QUOT)return this.return();if(this.atEndOfLine())throw this.error(new TomlError("Unterminated string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}recordEscapeReplacement(e){return this.state.buf+=e,this.goto(this.parseBasicString)}parseMultiStringMaybe(){return this.char===CHAR_QUOT?this.next(this.parseMultiString):this.returnNow()}parseMultiString(){return this.char===CTRL_M?null:this.char===CTRL_J?this.next(this.parseMultiStringContent):this.goto(this.parseMultiStringContent)}parseMultiStringContent(){do{if(this.char===CHAR_BSOL)return this.call(this.parseMultiEscape,this.recordMultiEscapeReplacement);if(this.char===CHAR_QUOT)return this.next(this.parseMultiEnd);if(this.char===e.END)throw this.error(new TomlError("Unterminated multi-line string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I&&this.char!==CTRL_J&&this.char!==CTRL_M)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}errorControlCharInString(){let e="\\u00";return this.char<16&&(e+="0"),e+=this.char.toString(16),this.error(new TomlError(`Control characters (codes < 0x1f and 0x7f) are not allowed in strings, use ${e} instead`))}recordMultiEscapeReplacement(e){return this.state.buf+=e,this.goto(this.parseMultiStringContent)}parseMultiEnd(){return this.char===CHAR_QUOT?this.next(this.parseMultiEnd2):(this.state.buf+='"',this.goto(this.parseMultiStringContent))}parseMultiEnd2(){return this.char===CHAR_QUOT?this.return():(this.state.buf+='""',this.goto(this.parseMultiStringContent))}parseMultiEscape(){return this.char===CTRL_M||this.char===CTRL_J?this.next(this.parseMultiTrim):this.char===CHAR_SP||this.char===CTRL_I?this.next(this.parsePreMultiTrim):this.goto(this.parseEscape)}parsePreMultiTrim(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CTRL_M||this.char===CTRL_J)return this.next(this.parseMultiTrim);throw this.error(new TomlError("Can't escape whitespace"))}parseMultiTrim(){return this.char===CTRL_J||this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M?null:this.returnNow()}parseEscape(){if(this.char in escapes)return this.return(escapes[this.char]);if(this.char===CHAR_u)return this.call(this.parseSmallUnicode,this.parseUnicodeReturn);if(this.char===CHAR_U)return this.call(this.parseLargeUnicode,this.parseUnicodeReturn);throw this.error(new TomlError("Unknown escape character: "+this.char))}parseUnicodeReturn(e){try{const t=parseInt(e,16);if(t>=SURROGATE_FIRST&&t<=SURROGATE_LAST)throw this.error(new TomlError("Invalid unicode, character in range 0xD800 - 0xDFFF is reserved"));return this.returnNow(String.fromCodePoint(t))}catch(e){throw this.error(TomlError.wrap(e))}}parseSmallUnicode(){if(!isHexit(this.char))throw this.error(new TomlError("Invalid character in unicode sequence, expected hex"));if(this.consume(),this.state.buf.length>=4)return this.return()}parseLargeUnicode(){if(!isHexit(this.char))throw this.error(new TomlError("Invalid character in unicode sequence, expected hex"));if(this.consume(),this.state.buf.length>=8)return this.return()}parseNumberSign(){return this.consume(),this.next(this.parseMaybeSignedInfOrNan)}parseMaybeSignedInfOrNan(){return this.char===CHAR_i?this.next(this.parseInf):this.char===CHAR_n?this.next(this.parseNan):this.callNow(this.parseNoUnder,this.parseNumberIntegerStart)}parseNumberIntegerStart(){return this.char===CHAR_0?(this.consume(),this.next(this.parseNumberIntegerExponentOrDecimal)):this.goto(this.parseNumberInteger)}parseNumberIntegerExponentOrDecimal(){return this.char===CHAR_PERIOD?(this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat)):this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.returnNow(Integer(this.state.buf))}parseNumberInteger(){if(!isDigit(this.char)){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder);if(this.char===CHAR_E||this.char===CHAR_e)return this.consume(),this.next(this.parseNumberExponentSign);if(this.char===CHAR_PERIOD)return this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat);{const e=Integer(this.state.buf);if(e.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(e)}}this.consume()}parseNoUnder(){if(this.char===CHAR_LOWBAR||this.char===CHAR_PERIOD||this.char===CHAR_E||this.char===CHAR_e)throw this.error(new TomlError("Unexpected character, expected digit"));if(this.atEndOfWord())throw this.error(new TomlError("Incomplete number"));return this.returnNow()}parseNoUnderHexOctBinLiteral(){if(this.char===CHAR_LOWBAR||this.char===CHAR_PERIOD)throw this.error(new TomlError("Unexpected character, expected digit"));if(this.atEndOfWord())throw this.error(new TomlError("Incomplete number"));return this.returnNow()}parseNumberFloat(){return this.char===CHAR_LOWBAR?this.call(this.parseNoUnder,this.parseNumberFloat):isDigit(this.char)?void this.consume():this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.returnNow(Float(this.state.buf))}parseNumberExponentSign(){if(isDigit(this.char))return this.goto(this.parseNumberExponent);if(this.char!==CHAR_HYPHEN&&this.char!==CHAR_PLUS)throw this.error(new TomlError("Unexpected character, expected -, + or digit"));this.consume(),this.call(this.parseNoUnder,this.parseNumberExponent)}parseNumberExponent(){if(!isDigit(this.char))return this.char===CHAR_LOWBAR?this.call(this.parseNoUnder):this.returnNow(Float(this.state.buf));this.consume()}parseNumberOrDateTime(){return this.char===CHAR_0?(this.consume(),this.next(this.parseNumberBaseOrDateTime)):this.goto(this.parseNumberOrDateTimeOnly)}parseNumberOrDateTimeOnly(){return this.char===CHAR_LOWBAR?this.call(this.parseNoUnder,this.parseNumberInteger):isDigit(this.char)?(this.consume(),void(this.state.buf.length>4&&this.next(this.parseNumberInteger))):this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.char===CHAR_PERIOD?(this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat)):this.char===CHAR_HYPHEN?this.goto(this.parseDateTime):this.char===CHAR_COLON?this.goto(this.parseOnlyTimeHour):this.returnNow(Integer(this.state.buf))}parseDateTimeOnly(){if(this.state.buf.length<4){if(isDigit(this.char))return this.consume();if(this.char===CHAR_COLON)return this.goto(this.parseOnlyTimeHour);throw this.error(new TomlError("Expected digit while parsing year part of a date"))}if(this.char===CHAR_HYPHEN)return this.goto(this.parseDateTime);throw this.error(new TomlError("Expected hyphen (-) while parsing year part of date"))}parseNumberBaseOrDateTime(){return this.char===CHAR_b?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerBin)):this.char===CHAR_o?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerOct)):this.char===CHAR_x?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerHex)):this.char===CHAR_PERIOD?this.goto(this.parseNumberInteger):isDigit(this.char)?this.goto(this.parseDateTimeOnly):this.returnNow(Integer(this.state.buf))}parseIntegerHex(){if(!isHexit(this.char)){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{const e=Integer(this.state.buf);if(e.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(e)}}this.consume()}parseIntegerOct(){if(!isOctit(this.char)){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{const e=Integer(this.state.buf);if(e.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(e)}}this.consume()}parseIntegerBin(){if(!isBit(this.char)){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{const e=Integer(this.state.buf);if(e.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(e)}}this.consume()}parseDateTime(){if(this.state.buf.length<4)throw this.error(new TomlError("Years less than 1000 must be zero padded to four characters"));return this.state.result=this.state.buf,this.state.buf="",this.next(this.parseDateMonth)}parseDateMonth(){if(this.char===CHAR_HYPHEN){if(this.state.buf.length<2)throw this.error(new TomlError("Months less than 10 must be zero padded to two characters"));return this.state.result+="-"+this.state.buf,this.state.buf="",this.next(this.parseDateDay)}if(!isDigit(this.char))throw this.error(new TomlError("Incomplete datetime"));this.consume()}parseDateDay(){if(this.char===CHAR_T||this.char===CHAR_SP){if(this.state.buf.length<2)throw this.error(new TomlError("Days less than 10 must be zero padded to two characters"));return this.state.result+="-"+this.state.buf,this.state.buf="",this.next(this.parseStartTimeHour)}if(this.atEndOfWord())return this.returnNow(createDate(this.state.result+"-"+this.state.buf));if(!isDigit(this.char))throw this.error(new TomlError("Incomplete datetime"));this.consume()}parseStartTimeHour(){return this.atEndOfWord()?this.returnNow(createDate(this.state.result)):this.goto(this.parseTimeHour)}parseTimeHour(){if(this.char===CHAR_COLON){if(this.state.buf.length<2)throw this.error(new TomlError("Hours less than 10 must be zero padded to two characters"));return this.state.result+="T"+this.state.buf,this.state.buf="",this.next(this.parseTimeMin)}if(!isDigit(this.char))throw this.error(new TomlError("Incomplete datetime"));this.consume()}parseTimeMin(){if(!(this.state.buf.length<2&&isDigit(this.char))){if(2===this.state.buf.length&&this.char===CHAR_COLON)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseTimeSec);throw this.error(new TomlError("Incomplete datetime"))}this.consume()}parseTimeSec(){if(!isDigit(this.char))throw this.error(new TomlError("Incomplete datetime"));if(this.consume(),2===this.state.buf.length)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseTimeZoneOrFraction)}parseOnlyTimeHour(){if(this.char===CHAR_COLON){if(this.state.buf.length<2)throw this.error(new TomlError("Hours less than 10 must be zero padded to two characters"));return this.state.result=this.state.buf,this.state.buf="",this.next(this.parseOnlyTimeMin)}throw this.error(new TomlError("Incomplete time"))}parseOnlyTimeMin(){if(!(this.state.buf.length<2&&isDigit(this.char))){if(2===this.state.buf.length&&this.char===CHAR_COLON)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseOnlyTimeSec);throw this.error(new TomlError("Incomplete time"))}this.consume()}parseOnlyTimeSec(){if(!isDigit(this.char))throw this.error(new TomlError("Incomplete time"));if(this.consume(),2===this.state.buf.length)return this.next(this.parseOnlyTimeFractionMaybe)}parseOnlyTimeFractionMaybe(){if(this.state.result+=":"+this.state.buf,this.char!==CHAR_PERIOD)return this.return(createTime(this.state.result));this.state.buf="",this.next(this.parseOnlyTimeFraction)}parseOnlyTimeFraction(){if(!isDigit(this.char)){if(this.atEndOfWord()){if(0===this.state.buf.length)throw this.error(new TomlError("Expected digit in milliseconds"));return this.returnNow(createTime(this.state.result+"."+this.state.buf))}throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}this.consume()}parseTimeZoneOrFraction(){if(this.char===CHAR_PERIOD)this.consume(),this.next(this.parseDateTimeFraction);else{if(this.char!==CHAR_HYPHEN&&this.char!==CHAR_PLUS){if(this.char===CHAR_Z)return this.consume(),this.return(createDateTime(this.state.result+this.state.buf));if(this.atEndOfWord())return this.returnNow(createDateTimeFloat(this.state.result+this.state.buf));throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}this.consume(),this.next(this.parseTimeZoneHour)}}parseDateTimeFraction(){if(isDigit(this.char))this.consume();else{if(1===this.state.buf.length)throw this.error(new TomlError("Expected digit in milliseconds"));if(this.char!==CHAR_HYPHEN&&this.char!==CHAR_PLUS){if(this.char===CHAR_Z)return this.consume(),this.return(createDateTime(this.state.result+this.state.buf));if(this.atEndOfWord())return this.returnNow(createDateTimeFloat(this.state.result+this.state.buf));throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}this.consume(),this.next(this.parseTimeZoneHour)}}parseTimeZoneHour(){if(!isDigit(this.char))throw this.error(new TomlError("Unexpected character in datetime, expected digit"));if(this.consume(),/\d\d$/.test(this.state.buf))return this.next(this.parseTimeZoneSep)}parseTimeZoneSep(){if(this.char!==CHAR_COLON)throw this.error(new TomlError("Unexpected character in datetime, expected colon"));this.consume(),this.next(this.parseTimeZoneMin)}parseTimeZoneMin(){if(!isDigit(this.char))throw this.error(new TomlError("Unexpected character in datetime, expected digit"));if(this.consume(),/\d\d$/.test(this.state.buf))return this.return(createDateTime(this.state.result+this.state.buf))}parseBoolean(){return this.char===CHAR_t?(this.consume(),this.next(this.parseTrue_r)):this.char===CHAR_f?(this.consume(),this.next(this.parseFalse_a)):void 0}parseTrue_r(){if(this.char===CHAR_r)return this.consume(),this.next(this.parseTrue_u);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseTrue_u(){if(this.char===CHAR_u)return this.consume(),this.next(this.parseTrue_e);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseTrue_e(){if(this.char===CHAR_e)return this.return(!0);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_a(){if(this.char===CHAR_a)return this.consume(),this.next(this.parseFalse_l);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_l(){if(this.char===CHAR_l)return this.consume(),this.next(this.parseFalse_s);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_s(){if(this.char===CHAR_s)return this.consume(),this.next(this.parseFalse_e);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_e(){if(this.char===CHAR_e)return this.return(!1);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseInlineList(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M||this.char===CTRL_J)return null;if(this.char===e.END)throw this.error(new TomlError("Unterminated inline array"));return this.char===CHAR_NUM?this.call(this.parseComment):this.char===CHAR_RSQB?this.return(this.state.resultArr||InlineList()):this.callNow(this.parseValue,this.recordInlineListValue)}recordInlineListValue(e){if(this.state.resultArr){const t=this.state.resultArr[_contentType],n=tomlType(e);if(t!==n)throw this.error(new TomlError(`Inline lists must be a single type, not a mix of ${t} and ${n}`))}else this.state.resultArr=InlineList(tomlType(e));return isFloat(e)||isInteger(e)?this.state.resultArr.push(e.valueOf()):this.state.resultArr.push(e),this.goto(this.parseInlineListNext)}parseInlineListNext(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M||this.char===CTRL_J)return null;if(this.char===CHAR_NUM)return this.call(this.parseComment);if(this.char===CHAR_COMMA)return this.next(this.parseInlineList);if(this.char===CHAR_RSQB)return this.goto(this.parseInlineList);throw this.error(new TomlError("Invalid character, expected whitespace, comma (,) or close bracket (])"))}parseInlineTable(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===e.END||this.char===CHAR_NUM||this.char===CTRL_J||this.char===CTRL_M)throw this.error(new TomlError("Unterminated inline array"));return this.char===CHAR_RCUB?this.return(this.state.resultTable||InlineTable()):(this.state.resultTable||(this.state.resultTable=InlineTable()),this.callNow(this.parseAssign,this.recordInlineTableValue))}recordInlineTableValue(e){let t=this.state.resultTable,n=e.key.pop();for(let n of e.key){if(hasKey(t,n)&&(!isTable(t[n])||t[n][_declared]))throw this.error(new TomlError("Can't redefine existing key"));t=t[n]=t[n]||Table()}if(hasKey(t,n))throw this.error(new TomlError("Can't redefine existing key"));return isInteger(e.value)||isFloat(e.value)?t[n]=e.value.valueOf():t[n]=e.value,this.goto(this.parseInlineTableNext)}parseInlineTableNext(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===e.END||this.char===CHAR_NUM||this.char===CTRL_J||this.char===CTRL_M)throw this.error(new TomlError("Unterminated inline array"));if(this.char===CHAR_COMMA)return this.next(this.parseInlineTable);if(this.char===CHAR_RCUB)return this.goto(this.parseInlineTable);throw this.error(new TomlError("Invalid character, expected whitespace, comma (,) or close bracket (])"))}}}},3643:(e,t,n)=>{"use strict";e.exports=function(e,t){t||(t={});const n=t.blocksize||40960,o=new r;return new Promise(((e,t)=>{setImmediate(s,0,n,e,t)}));function s(t,n,r,a){if(t>=e.length)try{return r(o.finish())}catch(t){return a(i(t,e))}try{o.parse(e.slice(t,t+n)),setImmediate(s,t+n,n,r,a)}catch(t){a(i(t,e))}}};const r=n(25985),i=n(43956)},43956:e=>{"use strict";e.exports=function(e,t){if(null==e.pos||null==e.line)return e;let n=e.message;if(n+=` at row ${e.line+1}, col ${e.col+1}, pos ${e.pos}:\n`,t&&t.split){const r=t.split(/\n/),i=String(Math.min(r.length,e.line+3)).length;let o=" ";for(;o.length<i;)o+=" ";for(let t=Math.max(0,e.line-1);t<Math.min(r.length,e.line+2);++t){let s=String(t+1);if(s.length<i&&(s=" "+s),e.line===t){n+=s+"> "+r[t]+"\n",n+=o+"  ";for(let t=0;t<e.col;++t)n+=" ";n+="^\n"}else n+=s+": "+r[t]+"\n"}}return e.message=n+"\n",e}},18551:(e,t,n)=>{"use strict";e.exports=function(e){return e?function(e){const t=new i;return e.setEncoding("utf8"),new Promise(((n,r)=>{let i,o=!1,s=!1;function a(){if(o=!0,!i)try{n(t.finish())}catch(e){r(e)}}function c(e){s=!0,r(e)}e.once("end",a),e.once("error",c),function n(){let r;for(i=!0;null!==(r=e.read());)try{t.parse(r)}catch(e){return c(e)}if(i=!1,o)return a();s||e.once("readable",n)}()}))}(e):function(){const e=new i;return new r.Transform({objectMode:!0,transform(t,n,r){try{e.parse(t.toString(n))}catch(e){this.emit("error",e)}r()},flush(t){try{this.push(e.finish())}catch(e){this.emit("error",e)}t()}})}()};const r=n(2203),i=n(25985)},96970:(e,t,n)=>{"use strict";e.exports=function(e){global.Buffer&&global.Buffer.isBuffer(e)&&(e=e.toString("utf8"));const t=new r;try{return t.parse(e),t.finish()}catch(t){throw i(t,e)}};const r=n(25985),i=n(43956)},37950:(e,t,n)=>{"use strict";e.exports=n(96970),e.exports.async=n(3643),e.exports.stream=n(18551),e.exports.prettyError=n(43956)},76608:e=>{"use strict";function t(e){return new Error("Can only stringify objects, not "+e)}function n(e){return Object.keys(e).filter((t=>o(e[t])))}function r(e){let t=Array.isArray(e)?[]:Object.prototype.hasOwnProperty.call(e,"__proto__")?{["__proto__"]:void 0}:{};for(let n of Object.keys(e))e[n]&&"function"==typeof e[n].toJSON&&!("toISOString"in e[n])?t[n]=e[n].toJSON():t[n]=e[n];return t}function i(e,c,l){var p,d;p=n(l=r(l)),d=function(e){return Object.keys(e).filter((t=>!o(e[t])))}(l);var f=[],v=c||"";p.forEach((e=>{var t=s(l[e]);"undefined"!==t&&"null"!==t&&f.push(v+a(e)+" = "+u(l[e],!0))})),f.length>0&&f.push("");var g=e&&p.length>0?c+"  ":"";return d.forEach((o=>{f.push(function(e,o,c,l){var u=s(l);if("array"===u)return function(e,n,o,c){h(c=r(c));var l=s(c[0]);if("table"!==l)throw t(l);var u=e+a(o),p="";return c.forEach((e=>{p.length>0&&(p+="\n"),p+=n+"[["+u+"]]\n",p+=i(u+".",n,e)})),p}(e,o,c,l);if("table"===u)return function(e,t,r,o){var s=e+a(r),c="";return n(o).length>0&&(c+=t+"["+s+"]\n"),c+i(s+".",t,o)}(e,o,c,l);throw t(u)}(e,g,o,l[o]))})),f.join("\n")}function o(e){switch(s(e)){case"undefined":case"null":case"integer":case"nan":case"float":case"boolean":case"string":case"datetime":return!0;case"array":return 0===e.length||"table"!==s(e[0]);case"table":return 0===Object.keys(e).length;default:return!1}}function s(e){return void 0===e?"undefined":null===e?"null":"bigint"==typeof e||Number.isInteger(e)&&!Object.is(e,-0)?"integer":"number"==typeof e?"float":"boolean"==typeof e?"boolean":"string"==typeof e?"string":"toISOString"in e?isNaN(e)?"undefined":"datetime":Array.isArray(e)?"array":"table"}function a(e){var t=String(e);return/^[-A-Za-z0-9_]+$/.test(t)?t:c(t)}function c(e){return'"'+l(e).replace(/"/g,'\\"')+'"'}function l(e){return e.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/([\u0000-\u001f\u007f])/,(e=>"\\u"+function(e,t){for(;t.length<4;)t="0"+t;return t}(0,e.codePointAt(0).toString(16))))}function u(e,t){let n=s(e);return"string"===n&&(t&&/\n/.test(e)?n="string-multiline":!/[\b\t\n\f\r']/.test(e)&&/"/.test(e)&&(n="string-literal")),p(e,n)}function p(e,n){switch(n||(n=s(e)),n){case"string-multiline":return function(e){let t=e.split(/\n/).map((e=>l(e).replace(/"(?="")/g,'\\"'))).join("\n");return'"'===t.slice(-1)&&(t+="\\\n"),'"""\n'+t+'"""'}(e);case"string":return c(e);case"string-literal":return"'"+e+"'";case"integer":return d(e);case"float":return function(e){if(e===1/0)return"inf";if(e===-1/0)return"-inf";if(Object.is(e,NaN))return"nan";if(Object.is(e,-0))return"-0.0";var t=String(e).split("."),n=t[0],r=t[1]||0;return d(n)+"."+r}(e);case"boolean":return function(e){return String(e)}(e);case"datetime":return function(e){return e.toISOString()}(e);case"array":return function(e){const t=h(e=r(e));var n="[",i=e.map((e=>p(e,t)));return i.join(", ").length>60||/\n/.test(i)?n+="\n  "+i.join(",\n  ")+"\n":n+=" "+i.join(", ")+(i.length>0?" ":""),n+"]"}(e.filter((e=>"null"!==s(e)&&"undefined"!==s(e)&&"nan"!==s(e))));case"table":return function(e){e=r(e);var t=[];return Object.keys(e).forEach((n=>{t.push(a(n)+" = "+u(e[n],!1))})),"{ "+t.join(", ")+(t.length>0?" ":"")+"}"}(e);default:throw t(n)}}function d(e){return String(e).replace(/\B(?=(\d{3})+(?!\d))/g,"_")}function h(e){const t=function(e){var t=s(e[0]);return e.every((e=>s(e)===t))?t:e.every((e=>{return"float"===(t=s(e))||"integer"===t;var t}))?"float":"mixed"}(e);if("mixed"===t)throw new Error("Array values can't have mixed types");return t}e.exports=function(e){if(null===e)throw t("null");if(void 0===e)throw t("undefined");if("object"!=typeof e)throw t(typeof e);if("function"==typeof e.toJSON&&(e=e.toJSON()),null==e)return null;const n=s(e);if("table"!==n)throw t(n);return i("","",e)},e.exports.value=p},10009:(e,t,n)=>{"use strict";t.parse=n(37950),t.stringify=n(76608)},51801:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AppInsightsCore:()=>se,BaseCore:()=>ce,BaseTelemetryPlugin:()=>B.s,CoreUtils:()=>ie.jS,DiagnosticLogger:()=>D.wq,ESPromise:()=>pe,ESPromiseScheduler:()=>me,EventHelper:()=>Ee.fs,EventLatency:()=>T,EventPersistence:()=>x,EventPropertyType:()=>C,EventsDiscardedReason:()=>_e.x,FullVersionString:()=>ie.xE,InternalAppInsightsCore:()=>ne,InternalBaseCore:()=>Z,LoggingSeverity:()=>S,MinChannelPriorty:()=>be,NotificationManager:()=>te,PerfEvent:()=>k.Q6,PerfManager:()=>k.NS,ProcessTelemetryContext:()=>L.W0,TraceLevel:()=>I,Undefined:()=>Pe.bA,Utils:()=>ie.Aq,ValueKind:()=>P,ValueSanitizer:()=>ye,Version:()=>ie.Rx,_ExtendedInternalMessageId:()=>O,_InternalLogMessage:()=>D.WD,_InternalMessageId:()=>w,__getRegisteredEvents:()=>Se.El,_logInternalMessage:()=>D.Oc,_throwInternal:()=>D.ZP,_warnToConsole:()=>D.OG,addEventHandler:()=>Se.So,addEventListeners:()=>Se.lQ,addPageHideEventListener:()=>Se.Fc,addPageShowEventListener:()=>Se.oS,addPageUnloadEventListener:()=>Se.ee,areCookiesSupported:()=>H.gi,arrForEach:()=>s.Iu,arrIndexOf:()=>s.rD,arrMap:()=>s.W$,arrReduce:()=>s.KT,attachEvent:()=>Se.Q3,cookieAvailable:()=>H.gi,createCookieMgr:()=>H.xN,createEnumStyle:()=>o.Hj,createGuid:()=>ie.gj,createProcessTelemetryContext:()=>L.i8,createTraceParent:()=>Te.wk,createUniqueNamespace:()=>W.Z,createUnloadHandlerContainer:()=>K.P,dateNow:()=>s.x3,deleteCookie:()=>ie.Yj,detachEvent:()=>Se.Ym,disableCookies:()=>ie.WD,disallowsSameSiteNone:()=>H.It,doPerf:()=>k.r2,dumpObj:()=>A.mm,eventOff:()=>Se.ML,eventOn:()=>Se.mB,extend:()=>ie.X$,findW3cTraceParent:()=>Te.ef,formatTraceParent:()=>Te.L0,generateW3CId:()=>Ee.cL,getCommonSchemaMetaData:()=>ie.Go,getConsole:()=>A.U5,getCookie:()=>ie.Ri,getCookieValue:()=>ie.UM,getCrypto:()=>A.MY,getDocument:()=>A.YE,getExceptionName:()=>s.lL,getFieldValueType:()=>ie.cq,getGlobal:()=>j.mS,getGlobalInst:()=>A.EH,getHistory:()=>A.JK,getIEVersion:()=>A.L0,getISOString:()=>s._u,getJSON:()=>A.hm,getLocation:()=>A.g$,getMsCrypto:()=>A.iN,getNavigator:()=>A.w3,getPerformance:()=>A.FJ,getSetValue:()=>s.c2,getTenantId:()=>ie.EO,getTime:()=>ie.WB,getWindow:()=>A.zk,hasDocument:()=>A.Wt,hasHistory:()=>A.tw,hasJSON:()=>A.Z,hasNavigator:()=>A.w9,hasOwnProperty:()=>s.mQ,hasWindow:()=>A.Vd,isArray:()=>s.cy,isArrayValid:()=>ie.wJ,isBeaconsSupported:()=>A.Uf,isBoolean:()=>s.Lm,isChromium:()=>ie.F2,isDate:()=>s.$P,isDocumentObjectAvailable:()=>ie.g8,isError:()=>s.bJ,isFetchSupported:()=>A.R7,isFunction:()=>s.Tn,isIE:()=>A.lT,isLatency:()=>ie.Hh,isNotTruthy:()=>s.wo,isNullOrUndefined:()=>s.hX,isNumber:()=>s.Et,isObject:()=>s.Gv,isReactNative:()=>A.lV,isSampledFlag:()=>Te.N7,isString:()=>s.Kg,isTruthy:()=>s.zz,isTypeof:()=>s.Ed,isUint8ArrayAvailable:()=>ie.h3,isUndefined:()=>s.b0,isValidSpanId:()=>Te.wN,isValidTraceId:()=>Te.hX,isValidTraceParent:()=>Te.mJ,isValueAssigned:()=>ie.yD,isValueKind:()=>ie.m0,isWindowObjectAvailable:()=>ie.P$,isXhrSupported:()=>A.xk,mergeEvtNamespace:()=>Se.Hm,newGuid:()=>Ee.aq,newId:()=>we.Si,normalizeJsName:()=>s.cH,objCreate:()=>j.AQ,objDefineAccessors:()=>s.r,objForEachKey:()=>s.z,objFreeze:()=>s.N6,objKeys:()=>s.cG,objSeal:()=>s.js,openXhr:()=>ie.H$,optimizeObject:()=>s.hW,parseTraceParent:()=>Te.ZI,perfNow:()=>Ee.UU,proxyAssign:()=>s.qz,proxyFunctionAs:()=>s.RF,proxyFunctions:()=>s.o$,random32:()=>we.VN,randomValue:()=>we.Z1,removeEventHandler:()=>Se.zh,removeEventListeners:()=>Se.Wg,removePageHideEventListener:()=>Se.sq,removePageShowEventListener:()=>Se.vF,removePageUnloadEventListener:()=>Se.Ds,safeGetCookieMgr:()=>H.um,safeGetLogger:()=>D.y0,sanitizeProperty:()=>ie.TC,setCookie:()=>ie.TV,setEnableEnvMocks:()=>A.cU,setProcessTelemetryTimings:()=>ie.u9,setValue:()=>s.KY,strContains:()=>s.Ju,strEndsWith:()=>s.Cv,strFunction:()=>Pe.hW,strObject:()=>Pe._1,strPrototype:()=>Pe.vR,strStartsWith:()=>s.tG,strTrim:()=>s.EH,strUndefined:()=>Pe.bA,throwError:()=>s.$8,toISOString:()=>s._u,useXDomainRequest:()=>A.PV});var r,i=n(8747),o=n(96434),s=n(12497),a="Failed",c=a+"MonitorAjax",l="Track",u="Start",p="Stop",d="Event",h="AuthContext",f="Exception",v="Local",g="Session",m="Storage",y="Browser",b="Cannot",_="Buffer",E="InstrumentationKey",S=(0,o.Hj)({CRITICAL:1,WARNING:2}),w=(0,o.Hj)(((r={})[y+"DoesNotSupport"+v+m]=0,r[y+b+"Read"+v+m]=1,r[y+b+"Read"+g+m]=2,r[y+b+"Write"+v+m]=3,r[y+b+"Write"+g+m]=4,r[y+a+"RemovalFrom"+v+m]=5,r[y+a+"RemovalFrom"+g+m]=6,r[b+"SendEmptyTelemetry"]=7,r.ClientPerformanceMathError=8,r["ErrorParsingAI"+g+"Cookie"]=9,r.ErrorPVCalc=10,r[f+"WhileLoggingError"]=11,r[a+"AddingTelemetryTo"+_]=12,r[c+"Abort"]=13,r[c+"Dur"]=14,r[c+"Open"]=15,r[c+"RSC"]=16,r[c+"Send"]=17,r[c+"GetCorrelationHeader"]=18,r[a+"ToAddHandlerForOnBeforeUnload"]=19,r[a+"ToSendQueuedTelemetry"]=20,r[a+"ToReportDataLoss"]=21,r["Flush"+a]=22,r.MessageLimitPerPVExceeded=23,r.MissingRequiredFieldSpecification=24,r.NavigationTimingNotSupported=25,r.OnError=26,r[g+"RenewalDateIsZero"]=27,r.SenderNotInitialized=28,r[u+l+d+a]=29,r[p+l+d+a]=30,r[u+l+a]=31,r[p+l+a]=32,r.TelemetrySampledAndNotSent=33,r[l+d+a]=34,r[l+f+a]=35,r[l+"Metric"+a]=36,r[l+"PV"+a]=37,r[l+"PV"+a+"Calc"]=38,r[l+"Trace"+a]=39,r["Transmission"+a]=40,r[a+"ToSet"+m+_]=41,r[a+"ToRestore"+m+_]=42,r.InvalidBackendResponse=43,r[a+"ToFixDepricatedValues"]=44,r.InvalidDurationValue=45,r.TelemetryEnvelopeInvalid=46,r.CreateEnvelopeError=47,r[b+"SerializeObject"]=48,r[b+"SerializeObjectNonSerializable"]=49,r.CircularReferenceDetected=50,r["Clear"+h+a]=51,r[f+"Truncated"]=52,r.IllegalCharsInName=53,r.ItemNotInArray=54,r.MaxAjaxPerPVExceeded=55,r.MessageTruncated=56,r.NameTooLong=57,r.SampleRateOutOfRange=58,r["Set"+h+a]=59,r["Set"+h+a+"AccountName"]=60,r.StringValueTooLong=61,r.StartCalledMoreThanOnce=62,r.StopCalledWithoutStart=63,r["TelemetryInitializer"+a]=64,r.TrackArgumentsNotSpecified=65,r.UrlTooLong=66,r[g+m+_+"Full"]=67,r[b+"AccessCookie"]=68,r.IdTooLong=69,r.InvalidEvent=70,r[c+"SetRequestHeader"]=71,r["Send"+y+"InfoOnUserInit"]=72,r["Plugin"+f]=73,r["Notification"+f]=74,r.SnippetScriptLoadFailure=99,r["Invalid"+E]=100,r[b+"ParseAiBlobValue"]=101,r.InvalidContentBlob=102,r[l+"PageAction"+d+a]=103,r[a+"AddingCustomDefinedRequestContext"]=104,r["InMemory"+m+_+"Full"]=105,r[E+"Deprecation"]=106,r)),P=(0,o.Hj)({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32}),T=(0,o.Hj)({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),C=(0,o.Hj)({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),x=(0,o.Hj)({Normal:1,Critical:2}),I=(0,o.Hj)({NONE:0,ERROR:1,WARNING:2,INFORMATION:3}),O=(0,s.N6)((0,i.Im)((0,i.Im)({},w),(0,o.Hj)({AuthHandShakeError:501,AuthRedirectFail:502,BrowserCannotReadLocalStorage:503,BrowserCannotWriteLocalStorage:504,BrowserDoesNotSupportLocalStorage:505,CannotParseBiBlobValue:506,CannotParseDataAttribute:507,CVPluginNotAvailable:508,DroppedEvent:509,ErrorParsingAISessionCookie:510,ErrorProvidedChannels:511,FailedToGetCookies:512,FailedToInitializeCorrelationVector:513,FailedToInitializeSDK:514,InvalidContentBlob:515,InvalidCorrelationValue:516,SessionRenewalDateIsZero:517,SendPostOnCompleteFailure:518,PostResponseHandler:519,SDKNotInitialized:520}))),R=n(92457),D=n(99015),k=n(5204),A=n(44180),N=n(60830),j=n(75148),M=n(1972),L=n(8997),F=n(33540),V=500;function U(e,t,n){t&&(0,s.cy)(t)&&t[N.oI]>0&&(t=t.sort((function(e,t){return e[M.Vo]-t[M.Vo]})),(0,s.Iu)(t,(function(e){e[M.Vo]<V&&(0,s.$8)("Channel has invalid priority - "+e[N.Ju])})),e[N.y5]({queue:(0,s.N6)(t),chain:(0,L.PV)(t,n[N.GA],n)}))}var H=n(91698),W=n(64252),q=n(95331),B=n(56489),$=function(e){function t(){var n,r,i=e.call(this)||this;function o(){n=0,r=[]}return i.identifier="TelemetryInitializerPlugin",i.priority=199,o(),(0,R.A)(t,i,(function(e,t){e.addTelemetryInitializer=function(e){var t={id:n++,fn:e};return r[N.y5](t),{remove:function(){(0,s.Iu)(r,(function(e,n){if(e.id===t.id)return r[N.Ic](n,1),-1}))}}},e[M.qT]=function(t,n){for(var i=!1,o=r[N.oI],a=0;a<o;++a){var c=r[a];if(c)try{if(!1===c.fn[N.y9](null,[t])){i=!0;break}}catch(e){(0,D.ZP)(n[N.e4](),1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+(0,s.lL)(e),{exception:(0,A.mm)(e)},!0)}}i||e[N.$5](t,n)},e[N.tn]=function(){o()}})),i}return(0,i.qU)(t,e),t.__ieDyn=1,t}(B.s),K=n(49388),G="Plugins must provide initialize method",z="_notificationManager",Y="SDK is still unloading...",X={loggingLevelConsole:1};function J(e,t){return new k.NS(t)}function Q(e,t){var n=!1;return(0,s.Iu)(t,(function(t){if(t===e)return n=!0,-1})),n}var Z=function(){function e(){var t,n,r,o,a,c,l,u,p,d,h,f,v,g,m,y,b,_,E,S,w=0,P=!1;(0,R.A)(e,this,(function(e){function T(n){if(!w&&!P&&(n||e[N.Uw]&&e[N.Uw].queue[N.oI]>0)){var r=(0,s.SA)(t.diagnosticLogInterval);r&&r>0||(r=1e4),w=setInterval((function(){clearInterval(w),w=0,B()}),r)}return w}function C(){n=!1,t=(0,s.CP)(!0,{},X),e[N.GA]=t,e[N.Uw]=new D.wq(t),e[N.H7]=[],m=new $,r=[],o=null,a=null,c=null,l=null,u=null,d=null,p=[],h=null,f=null,v=null,g=!1,y=null,b=(0,W.Z)("AIBaseCore",!0),_=(0,K.P)(),S=null}function x(){var n=(0,L.i8)(R(),t,e);return n[N.by](T),n}function I(n){var r=function(e,t,n){var r,i=[],o={};return(0,s.Iu)(n,(function(t){((0,s.hX)(t)||(0,s.hX)(t[N.mE]))&&(0,s.$8)(G);var n=t[M.Vo],r=t[N.Ju];t&&n&&((0,s.hX)(o[n])?o[n]=r:(0,D.OG)(e,"Two extensions have same priority #"+n+" - "+o[n]+", "+r)),(!n||n<500)&&i[N.y5](t)})),(r={all:n})[M.eT]=i,r}(e[N.Uw],0,p);d=r[M.eT],u=null;var i=r.all;if(v=(0,s.N6)(function(e,t,n){var r=[];if(e&&(0,s.Iu)(e,(function(e){return U(r,e,n)})),t){var i=[];(0,s.Iu)(t,(function(e){e[M.Vo]>V&&i[N.y5](e)})),U(r,i,n)}return r}(f,i,e)),h){var o=(0,s.rD)(i,h);-1!==o&&i[N.Ic](o,1),-1!==(o=(0,s.rD)(d,h))&&d[N.Ic](o,1),h._setQueue(v)}else h=function(e,t){function n(){return(0,L.i8)(null,t[N.GA],t,null)}function r(e,t,n,r){var i=e?e[N.oI]+1:1;function o(){0==--i&&(r&&r(),r=null)}i>0&&(0,s.Iu)(e,(function(e){if(e&&e.queue[N.oI]>0){var r=e.chain,s=t[N.$o](r);s[N.by](o),n(s)}else i--})),o()}var i=!1,o={identifier:"ChannelControllerPlugin",priority:V,initialize:function(t,n,r,o){i=!0,(0,s.Iu)(e,(function(e){e&&e.queue[N.oI]>0&&(0,F.pI)((0,L.i8)(e.chain,t,n),r)}))},isInitialized:function(){return i},processTelemetry:function(t,i){r(e,i||n(),(function(e){e[N.$5](t)}),(function(){i[N.$5](t)}))},update:function(t,n){var i=n||{reason:0};return r(e,t,(function(e){e[N.$5](i)}),(function(){t[N.$5](i)})),!0},pause:function(){r(e,n(),(function(e){e.iterate((function(e){e.pause&&e.pause()}))}),null)},resume:function(){r(e,n(),(function(e){e.iterate((function(e){e.resume&&e.resume()}))}),null)},teardown:function(t,n){var o=n||{reason:0,isAsync:!1};return r(e,t,(function(e){e[N.$5](o)}),(function(){t[N.$5](o),i=!1})),!0},getChannel:function(t){var n=null;return e&&e[N.oI]>0&&(0,s.Iu)(e,(function(e){if(e&&e.queue[N.oI]>0&&((0,s.Iu)(e.queue,(function(e){if(e[N.Ju]===t)return n=e,-1})),n))return-1})),n},flush:function(t,i,o,s){var a=1,c=!1,l=null;function u(){a--,c&&0===a&&(l&&(clearTimeout(l),l=null),i&&i(c),i=null)}return s=s||5e3,r(e,n(),(function(e){e.iterate((function(e){if(e[N.EX]){a++;var n=!1;e[N.EX](t,(function(){n=!0,u()}),o)||n||(t&&null==l?l=setTimeout((function(){l=null,u()}),s):u())}}))}),(function(){c=!0,u()})),!0},_setQueue:function(t){e=t}};return o}(v,e);i[N.y5](h),d[N.y5](h),e[N.H7]=(0,F.Xc)(i),h[N.mE](t,e,i);var a=x();(0,F.pI)(a,i),e[N.H7]=(0,s.N6)((0,F.Xc)(d||[])).slice(),n&&function(t){var n=(0,L.nU)(R(),e);n[N.by](T),e._updateHook&&!0===e._updateHook(n,t)||n[N.$5](t)}(n)}function O(t){var n,r=null,i=null;return(0,s.Iu)(e[N.H7],(function(e){if(e[N.Ju]===t&&e!==h&&e!==m)return i=e,-1})),!i&&h&&(i=h.getChannel(t)),i&&((n={plugin:i})[N.kt]=function(e){(0,F.Cr)(i)[M.Hr]=!e},n.isEnabled=function(){var e=(0,F.Cr)(i);return!e[N.Ik]&&!e[M.Hr]},n.remove=function(e,t){var n;void 0===e&&(e=!0);var r=[i],o=((n={reason:1})[N.tI]=e,n);A(r,o,(function(e){e&&I({reason:32,removed:r}),t&&t(e)}))},r=n),r}function R(){if(!u){var n=(d||[]).slice();-1===(0,s.rD)(n,m)&&n[N.y5](m),u=(0,L.PV)((0,F.Xc)(n),t,e)}return u}function A(n,r,i){if(n&&n[N.oI]>0){var o=(0,L.PV)(n,t,e),a=(0,L.tS)(o,e);a[N.by]((function(){var e=!1,t=[];(0,s.Iu)(p,(function(r,i){Q(r,n)?e=!0:t[N.y5](r)})),p=t;var r=[];f&&((0,s.Iu)(f,(function(t,i){var o=[];(0,s.Iu)(t,(function(t){Q(t,n)?e=!0:o[N.y5](t)})),r[N.y5](o)})),f=r),i&&i(e),T()})),a[N.$5](r)}else i(!1)}function B(){if(e[N.Uw]&&e[N.Uw].queue){var n=e[N.Uw].queue.slice(0);e[N.Uw].queue[N.oI]=0,(0,s.Iu)(n,(function(n){var r,i=((r={})[N.RS]=y||"InternalMessageId: "+n[N.JR],r.iKey=(0,s.SA)(t[N.sl]),r.time=(0,s._u)(new Date),r.baseType=D.WD.dataType,r.baseData={message:n[N.pM]},r);e.track(i)}))}}function Z(e,t,n,r){return h?h[N.EX](e,t,n||6,r):(t&&t(!1),!0)}function ee(t){var n=e[N.Uw];n?((0,D.ZP)(n,2,73,t),T()):(0,s.$8)(t)}C(),e[N.tZ]=function(){return n},e[N.mE]=function(r,a,l,u){var d,h;g&&(0,s.$8)(Y),e[N.tZ]()&&(0,s.$8)("Core should not be initialized more than once"),t=r||{},e[N.GA]=t,(0,s.hX)(r[N.sl])&&(0,s.$8)("Please provide instrumentation key"),o=u,e[z]=u,!0===(h=(0,s.SA)(t.disableDbgExt))&&E&&(o[N.TP](E),E=null),o&&!E&&!0!==h&&(E=(0,q.M)(t),o[N.vR](E)),!(d=(0,s.SA)(t.enablePerfMgr))&&c&&(c=null),d&&(0,s.c2)(t,M.Yd,J),(0,s.c2)(t,M.Bw,{}).NotificationManager=o,l&&(e[N.Uw]=l);var m=(0,s.c2)(t,M.jy,[]);(p=[])[N.y5].apply(p,(0,i.vz)((0,i.vz)([],a,!1),m,!1)),f=(0,s.c2)(t,M.LZ,[]),I(null),v&&0!==v[N.oI]||(0,s.$8)("No "+M.LZ+" available"),n=!0,e.releaseQueue()},e.getTransmissionControls=function(){var e=[];return v&&(0,s.Iu)(v,(function(t){e[N.y5](t.queue)})),(0,s.N6)(e)},e.track=function(n){n.iKey=n.iKey||t[N.sl],n[N.fA]=n[N.fA]||(0,s._u)(new Date),n.ver=n.ver||"4.0",!g&&e[N.tZ]()?x()[N.$5](n):r[N.y5](n)},e[N.ps]=x,e[N.RF]=function(){return o||(o=function(){var e;return(0,j.AQ)(((e={})[N.vR]=function(e){},e[N.TP]=function(e){},e[M.fc]=function(e){},e[M.Yp]=function(e,t){},e[M.dI]=function(e,t){},e))}(),e[z]=o),o},e[N.vR]=function(e){o&&o[N.vR](e)},e[N.TP]=function(e){o&&o[N.TP](e)},e.getCookieMgr=function(){return l||(l=(0,H.xN)(t,e[N.Uw])),l},e.setCookieMgr=function(e){l=e},e[M.kI]=function(){if(!a&&!c&&(0,s.SA)(t.enablePerfMgr)){var n=(0,s.SA)(t[M.Yd]);(0,s.Tn)(n)&&(c=n(e,e[N.RF]()))}return a||c||(0,k.Z4)()},e.setPerfMgr=function(e){a=e},e.eventCnt=function(){return r[N.oI]},e.releaseQueue=function(){if(n&&r[N.oI]>0){var e=r;r=[],(0,s.Iu)(e,(function(e){x()[N.$5](e)}))}},e.pollInternalLogs=function(e){return y=e||null,P=!1,w&&(clearInterval(w),w=null),T(!0)},e[N.Di]=function(){P=!0,w&&(clearInterval(w),w=0,B())},(0,s.o$)(e,(function(){return m}),["addTelemetryInitializer"]),e.unload=function(t,r,i){var o;void 0===t&&(t=!0),n||(0,s.$8)("SDK is not initialized"),g&&(0,s.$8)(Y);var a=((o={reason:50})[N.tI]=t,o.flushComplete=!1,o),c=(0,L.tS)(R(),e);function l(t){a.flushComplete=t,g=!0,_.run(c,a),e[N.Di](),c[N.$5](a)}c[N.by]((function(){C(),r&&r(a)}),e),B(),Z(t,l,6,i)||l(!1)},e[N.AP]=O,e.addPlugin=function(e,t,n,r){if(!e)return r&&r(!1),void ee(G);var i=O(e[N.Ju]);if(i&&!t)return r&&r(!1),void ee("Plugin ["+e[N.Ju]+"] is already loaded!");var o={reason:16};function s(t){p[N.y5](e),o.added=[e],I(o),r&&r(!0)}if(i){var a=[i.plugin];A(a,{reason:2,isAsync:!!n},(function(e){e?(o.removed=a,o.reason|=32,s()):r&&r(!1)}))}else s()},e.evtNamespace=function(){return b},e[N.EX]=Z,e.getTraceCtx=function(e){return S||(S=(0,F.u7)()),S},e.setTraceCtx=function(e){S=e||null},(0,s.RF)(e,"addUnloadCb",(function(){return _}),"add")}))}return e.__ieDyn=1,e}();function ee(e,t,n,r){(0,s.Iu)(e,(function(e){if(e&&e[t])if(n)setTimeout((function(){return r(e)}),0);else try{r(e)}catch(e){}}))}var te=function(){function e(t){this.listeners=[];var n=!!(t||{}).perfEvtsSendAll;(0,R.A)(e,this,(function(e){e[N.vR]=function(t){e.listeners[N.y5](t)},e[N.TP]=function(t){for(var n=(0,s.rD)(e[N.lJ],t);n>-1;)e.listeners[N.Ic](n,1),n=(0,s.rD)(e[N.lJ],t)},e[M.fc]=function(t){ee(e[N.lJ],M.fc,!0,(function(e){e[M.fc](t)}))},e[M.Yp]=function(t,n){ee(e[N.lJ],M.Yp,!0,(function(e){e[M.Yp](t,n)}))},e[M.dI]=function(t,n){ee(e[N.lJ],M.dI,n,(function(e){e[M.dI](t,n)}))},e[M.l0]=function(t){t&&(!n&&t[N.Zu]()||ee(e[N.lJ],M.l0,!1,(function(e){t[N.tI]?setTimeout((function(){return e[M.l0](t)}),0):e[M.l0](t)})))}}))}return e.__ieDyn=1,e}(),ne=function(e){function t(){var n=e.call(this)||this;return(0,R.A)(t,n,(function(e,t){function n(t){var n=e[N.RF]();n&&n[M.Yp]([t],2)}e[N.mE]=function(e,n,r,i){t[N.mE](e,n,r||new D.wq(e),i||new te(e))},e.track=function(r){(0,k.r2)(e[M.kI](),(function(){return"AppInsightsCore:track"}),(function(){null===r&&(n(r),(0,s.$8)("Invalid telemetry item")),function(e){(0,s.hX)(e[N.RS])&&(n(e),(0,s.$8)("telemetry name required"))}(r),t.track(r)}),(function(){return{item:r}}),!r.sync)}})),n}return(0,i.qU)(t,e),t.__ieDyn=1,t}(Z),re=n(52976),ie=n(59091),oe=function(e){function t(){var n=e.call(this)||this;return n.pluginVersionStringArr=[],(0,R.A)(t,n,(function(e,t){e.logger&&e.logger.queue||(e.logger=new D.wq({loggingLevelConsole:1})),e.initialize=function(n,r,i,o){(0,k.r2)(e,(function(){return"AppInsightsCore.initialize"}),(function(){var a=e.pluginVersionStringArr;if(n){n.endpointUrl||(n.endpointUrl=re.S);var c=n.propertyStorageOverride;!c||c.getProperty&&c.setProperty||(0,s.$8)("Invalid property storage override passed."),n.channels&&(0,s.Iu)(n.channels,(function(e){e&&(0,s.Iu)(e,(function(e){if(e.identifier&&e.version){var t=e.identifier+"="+e.version;a.push(t)}}))}))}e.getWParam=function(){return"undefined"!=typeof document||n.enableWParam?0:-1},r&&(0,s.Iu)(r,(function(e){if(e&&e.identifier&&e.version){var t=e.identifier+"="+e.version;a.push(t)}})),e.pluginVersionString=a.join(";"),e.pluginVersionStringArr=a;try{t.initialize(n,r,i,o),e.pollInternalLogs("InternalLog")}catch(t){var l=e.logger,u=(0,A.mm)(t);-1!==u.indexOf("channels")&&(u+="\n - Channels must be provided through config.channels only!"),(0,D.ZP)(l,1,514,"SDK Initialization Failed - no telemetry will be sent: "+u)}}),(function(){return{config:n,extensions:r,logger:i,notificationManager:o}}))},e.track=function(n){(0,k.r2)(e,(function(){return"AppInsightsCore.track"}),(function(){var r=n;if(r){r.timings=r.timings||{},r.timings.trackStart=(0,ie.WB)(),(0,ie.Hh)(r.latency)||(r.latency=1);var i=r.ext=r.ext||{};i.sdk=i.sdk||{},i.sdk.ver=ie.xE;var o=r.baseData=r.baseData||{};o[re._0]=o[re._0]||{};var s=o[re._0];s[re.hj]=s[re.hj]||e.pluginVersionString||re.m5}t.track(r)}),(function(){return{item:n}}),!n.sync)}})),n}return(0,i.qU)(t,e),t.__ieDyn=1,t}(ne);const se=oe;var ae=function(e){function t(){var n=e.call(this)||this;return(0,R.A)(t,n,(function(e,t){e.initialize=function(n,r,i,o){n&&!n.endpointUrl&&(n.endpointUrl=re.S),e.getWParam=function(){return ie.g8||n.enableWParam?0:-1};try{t.initialize(n,r,i,o)}catch(t){(0,D.ZP)(e.logger,1,514,"Initialization Failed: "+(0,A.mm)(t)+"\n - Note: Channels must be provided through config.channels only")}},e.track=function(e){var n=e;if(n){var r=n.ext=n.ext||{};r.sdk=r.sdk||{},r.sdk.ver=ie.xE}t.track(n)}})),n}return(0,i.qU)(t,e),t.__ieDyn=1,t}(Z);const ce=ae;var le=s.Tn;function ue(e,t,n){return function(r){e[t]=r,n()}}const pe=function(){function e(t){var n=0,r=null,i=[];function o(){if(i.length>0){var e=i.slice();i=[],setTimeout((function(){for(var t=0,n=e.length;t<n;++t)try{e[t]()}catch(e){}}),0)}}function s(e){0===n&&(r=e,n=1,o())}function a(e){0===n&&(r=e,n=2,o())}(0,R.A)(e,this,(function(t){t.then=function(t,s){return new e((function(a,c){!function(t,s,a,c){i.push((function(){var i;try{(i=1===n?le(t)?t(r):r:le(s)?s(r):r)instanceof e?i.then(a,c):2!==n||le(s)?a(i):c(i)}catch(e){return void c(e)}})),0!==n&&o()}(t,s,a,c)}))},t.catch=function(e){return t.then(null,e)}})),function(){if(!le(t))throw new TypeError("ESPromise: resolvedFunc argument is not a Function");try{t(s,a)}catch(e){a(e)}}()}return e.resolve=function(t){return t instanceof e?t:t&&le(t.then)?new e((function(e,n){try{t.then(e,n)}catch(e){n(e)}})):new e((function(e){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.all=function(t){if(t&&t.length)return new e((function(e,n){try{for(var r=[],i=0,o=0;o<t.length;o++){var s=t[o];s&&le(s.then)?(i++,s.then(ue(r,o,(function(){0==--i&&e(r)})),n)):r[o]=s}0===i&&setTimeout((function(){e(r)}),0)}catch(e){n(e)}}))},e.race=function(t){return new e((function(e,n){if(t&&t.length)try{for(var r=function(r){var i=t[r];i&&le(i.then)?i.then(e,n):setTimeout((function(){e(i)}),0)},i=0;i<t.length;i++)r(i)}catch(e){n(e)}}))},e}();var de=0,he=[],fe=[],ve=[];function ge(){return(new Date).getTime()}const me=function(){function e(t,n){var r=0,i=(t||"<unnamed>")+"."+de;function o(e){var t=(0,j.mS)();t&&t.QUnit&&console&&console.log("ESPromiseScheduler["+i+"] "+e)}function s(e){(0,D.OG)(n,"ESPromiseScheduler["+i+"] "+e)}de++,(0,R.A)(e,this,(function(e){var t=null,n=0;function a(e,t){for(var n=0;n<e.length;n++)if(e[n].id===t)return e.splice(n,1)[0];return null}e.scheduleEvent=function(e,c,l){var u=i+"."+n;n++,c&&(u+="-("+c+")");var p=u+"{"+r+"}";r++;var d,h,f,v={evt:null,tm:ge(),id:p,isRunning:!1,isAborted:!1};return v.evt=t?(d=v,h=t,f=new pe((function(e,t){var n=ge()-h.tm,r=h.id;o("["+u+"] is waiting for ["+r+":"+n+" ms] to complete before starting -- ["+fe.length+"] waiting and ["+he.length+"] running"),d.abort=function(e){d.abort=null,a(fe,u),d.isAborted=!0,t(new Error(e))},h.evt.then((function(n){a(fe,u),E(d).then(e,t)}),(function(n){a(fe,u),E(d).then(e,t)}))})),fe.push(d),f):E(v),(t=v).evt._schId=p,v.evt;function g(e){for(var t=ge(),n=t-6e5,r=e.length,i=0;i<r;){var o=e[i];if(o&&o.tm<n){var a=null;o.abort?(a="Aborting ["+o.id+"] due to Excessive runtime ("+(t-o.tm)+" ms)",o.abort(a)):a="Removing ["+o.id+"] due to Excessive runtime ("+(t-o.tm)+" ms)",s(a),e.splice(i,1),r--}else i++}}function m(e,n){var r=!1,i=a(he,e);if(i||(i=a(ve,e),r=!0),i){i.to&&(clearTimeout(i.to),i.to=null);var c=ge()-i.tm;n?r?s("Timed out event ["+e+"] finally complete -- "+c+" ms"):o("Promise ["+e+"] Complete -- "+c+" ms"):(ve.push(i),s("Event ["+e+"] Timed out and removed -- "+c+" ms"))}else o("Failed to remove ["+e+"] from running queue");t&&t.id===e&&(t=null),g(he),g(fe),g(ve)}function y(e,t){return function(n){return m(e,!0),t&&t(n),n}}function b(e,t,n,r){t.then((function(t){return t instanceof pe?(o("Event ["+e+"] returned a promise -- waiting"),b(e,t,n,r),t):y(e,n)(t)}),y(e,r))}function _(e,t){var n=e.id;return new pe((function(r,i){o("Event ["+n+"] Starting -- waited for "+(e.wTm||"--")+" ms"),e.isRunning=!0,e.abort=function(t){e.abort=null,e.isAborted=!0,m(n,!1),i(new Error(t))};var s=t(n);s instanceof pe?(l&&(e.to=setTimeout((function(){m(n,!1),i(new Error("Timed out after ["+l+"] ms"))}),l)),b(n,s,(function(t){o("Event ["+n+"] Resolving after "+(ge()-e.tm)+" ms"),r(t)}),i)):(o("Promise ["+n+"] Auto completed as the start action did not return a promise"),r())}))}function E(t){var n=ge();return t.wTm=n-t.tm,t.tm=n,t.isAborted?pe.reject(new Error("["+u+"] was aborted")):(he.push(t),_(t,e))}}}))}return e.incomplete=function(){return he},e.waitingToStart=function(){return fe},e}();var ye=function(){function e(e){var t=this,n={},r=[],i=[];function o(e,t){var o,a=n[e];if(a&&(o=a[t]),!o&&null!==o){if((0,s.Kg)(e)&&(0,s.Kg)(t))if(i.length>0){for(var c=0;c<i.length;c++)if(i[c].handleField(e,t)){o={canHandle:!0,fieldHandler:i[c]};break}}else 0===r.length&&(o={canHandle:!0});if(!o&&null!==o)for(o=null,c=0;c<r.length;c++)if(r[c].handleField(e,t)){o={canHandle:!0,handler:r[c],fieldHandler:null};break}a||(a=n[e]={}),a[t]=o}return o}function a(e,t,n,r,i,o){if(e.handler)return e.handler.property(t,n,i,o);if(!(0,s.hX)(i.kind)){if(!(4096&~r&&(0,ie.m0)(i.kind)))return null;i.value=i.value.toString()}return l(e.fieldHandler,t,n,r,i)}function c(e,t,n){return(0,ie.yD)(n)?{value:n}:null}function l(e,n,r,i,o){if(o&&e){var a=e.getSanitizer(n,r,i,o.kind,o.propertyType);if(a)if(4===i){var u={},p=o.value;(0,s.z)(p,(function(t,i){var o=n+"."+r;if((0,ie.yD)(i)){var s=c(0,0,i);(s=l(e,o,t,(0,ie.cq)(i),s))&&(u[t]=s.value)}})),o.value=u}else{var d={path:n,name:r,type:i,prop:o,sanitizer:t};o=a.call(t,d)}}return o}e&&i.push(e),t.addSanitizer=function(e){e&&(r.push(e),n={})},t.addFieldSanitizer=function(e){e&&(i.push(e),n={})},t.handleField=function(e,t){var n=o(e,t);return!!n&&n.canHandle},t.value=function(e,t,n,r){var i=o(e,t);if(i&&i.canHandle){if(!i||!i.canHandle)return null;if(i.handler)return i.handler.value(e,t,n,r);if(!(0,s.Kg)(t)||(0,s.hX)(n)||n===re.m5)return null;var l=null,u=(0,ie.cq)(n);if(8192&~u)1!==u&&2!==u&&3!==u&&4096&~u?4===u&&(l=c(0,0,r?JSON.stringify(n):n)):l=c(0,0,n);else{var p=-8193&u;if(l=n,!(0,ie.yD)(l.value)||1!==p&&2!==p&&3!==p&&4096&~p)return null}if(l)return a(i,e,t,u,l,r)}return null},t.property=function(e,t,n,r){var i=o(e,t);if(!i||!i.canHandle)return null;if(!(0,s.Kg)(t)||(0,s.hX)(n)||!(0,ie.yD)(n.value))return null;var c=(0,ie.cq)(n.value);return 0===c?null:a(i,e,t,c,n,r)}}return e.getFieldType=ie.cq,e}(),be=100,_e=n(31590),Ee=n(32578),Se=n(18413),we=n(57679),Pe=n(47672),Te=n(68560)},52976:(e,t,n)=>{"use strict";n.d(t,{S:()=>i,_0:()=>s,hj:()=>o,m5:()=>r});var r="",i="https://browser.events.data.microsoft.com/OneCollector/1.0/",o="version",s="properties"},59091:(e,t,n)=>{"use strict";n.d(t,{Aq:()=>U,EO:()=>w,F2:()=>W,Go:()=>x,H$:()=>q,Hh:()=>T,P$:()=>E,Ri:()=>D,Rx:()=>h,TC:()=>C,TV:()=>O,UM:()=>k,WB:()=>j,WD:()=>I,X$:()=>N,Yj:()=>R,cq:()=>V,g8:()=>_,gj:()=>A,h3:()=>P,jS:()=>H,m0:()=>M,u9:()=>F,wJ:()=>L,xE:()=>f,yD:()=>S});var r,i=n(44180),o=n(12497),s=n(91698),a=n(32578),c=n(47672),l=n(18413),u=n(57679),p=n(75148),d=n(52976),h="3.2.13",f="1DS-Web-JS-"+h,v="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",g="withCredentials",m="timeout",y=((r={})[0]=0,r[2]=6,r[1]=1,r[3]=7,r[4098]=6,r[4097]=1,r[4099]=7,r),b=null,_=Boolean((0,i.YE)()),E=Boolean((0,i.zk)());function S(e){return!(e===d.m5||(0,o.hX)(e))}function w(e){if(e){var t=e.indexOf("-");if(t>-1)return e.substring(0,t)}return d.m5}function P(){return null===b&&(b=!(0,o.b0)(Uint8Array)&&!function(){var e=(0,i.w3)();if(!(0,o.b0)(e)&&e.userAgent){var t=e.userAgent.toLowerCase();if((t.indexOf("safari")>=0||t.indexOf("firefox")>=0)&&t.indexOf("chrome")<0)return!0}return!1}()&&!(0,i.lV)()),b}function T(e){return!!(e&&(0,o.Et)(e)&&e>=1&&e<=4)}function C(e,t,n){if(!t&&!S(t)||"string"!=typeof e)return null;var r=typeof t;if("string"===r||"number"===r||"boolean"===r||(0,o.cy)(t))t={value:t};else if("object"!==r||c.J$.call(t,"value")){if((0,o.hX)(t.value)||t.value===d.m5||!(0,o.Kg)(t.value)&&!(0,o.Et)(t.value)&&!(0,o.Lm)(t.value)&&!(0,o.cy)(t.value))return null}else t={value:n?JSON.stringify(t):t};if((0,o.cy)(t.value)&&!L(t.value))return null;if(!(0,o.hX)(t.kind)){if((0,o.cy)(t.value)||!M(t.kind))return null;t.value=t.value.toString()}return t}function x(e,t,n){var r=-1;if(!(0,o.b0)(e))if(t>0&&(32===t?r=8192:t<=13&&(r=t<<5)),function(e){return e>=0&&e<=9}(n))-1===r&&(r=0),r|=n;else{var i=y[V(e)]||-1;-1!==r&&-1!==i?r|=i:6===i&&(r=i)}return r}function I(){(0,s.um)(null).setEnabled(!1)}function O(e,t,n){(0,s.gi)(null)&&(0,s.um)(null).set(e,t,86400*n,null,"/")}function R(e){(0,s.gi)(null)&&(0,s.um)(null).del(e)}function D(e){return(0,s.gi)(null)?k((0,s.um)(null),e):d.m5}function k(e,t,n){var r;return void 0===n&&(n=!0),e&&(r=e.get(t),n&&r&&decodeURIComponent&&(r=decodeURIComponent(r))),r||d.m5}function A(e){void 0===e&&(e="D");var t=(0,a.aq)();return"B"===e?t="{"+t+"}":"P"===e?t="("+t+")":"N"===e&&(t=t.replace(/-/g,d.m5)),t}function N(e,t,n,r,i){var s={},a=!1,l=0,u=arguments.length,p=arguments;for("[object Boolean]"===Object[c.vR].toString.call(p[0])&&(a=p[0],l++);l<u;l++)e=p[l],(0,o.z)(e,(function(e,t){a&&t&&(0,o.Gv)(t)?(0,o.cy)(t)?(s[e]=s[e]||[],(0,o.Iu)(t,(function(t,n){t&&(0,o.Gv)(t)?s[e][n]=N(!0,s[e][n],t):s[e][n]=t}))):s[e]=N(!0,s[e],t):s[e]=t}));return s}var j=a.UU;function M(e){return 0===e||e>0&&e<=13||32===e}function L(e){return e.length>0}function F(e,t){var n=e;n.timings=n.timings||{},n.timings.processTelemetryStart=n.timings.processTelemetryStart||{},n.timings.processTelemetryStart[t]=j()}function V(e){var t=0;if(null!=e){var n=typeof e;"string"===n?t=1:"number"===n?t=2:"boolean"===n?t=3:n===c._1&&(t=4,(0,o.cy)(e)?(t=4096,e.length>0&&(t|=V(e[0]))):c.J$.call(e,"value")&&(t=8192|V(e.value)))}return t}var U={Version:h,FullVersionString:f,strUndefined:c.bA,strObject:c._1,Undefined:c.bA,arrForEach:o.Iu,arrIndexOf:o.rD,arrMap:o.W$,arrReduce:o.KT,objKeys:o.cG,toISOString:o._u,isReactNative:i.lV,isString:o.Kg,isNumber:o.Et,isBoolean:o.Lm,isFunction:o.Tn,isArray:o.cy,isObject:o.Gv,strTrim:o.EH,isDocumentObjectAvailable:_,isWindowObjectAvailable:E,isValueAssigned:S,getTenantId:w,isBeaconsSupported:i.Uf,isUint8ArrayAvailable:P,isLatency:T,sanitizeProperty:C,getISOString:o._u,useXDomainRequest:i.PV,getCommonSchemaMetaData:x,cookieAvailable:s.gi,disallowsSameSiteNone:s.It,setCookie:O,deleteCookie:R,getCookie:D,createGuid:A,extend:N,getTime:j,isValueKind:M,isArrayValid:L,objDefineAccessors:o.r,addPageUnloadEventListener:l.ee,setProcessTelemetryTimings:F,addEventHandler:l.So,getFieldValueType:V,strEndsWith:o.Cv,objForEachKey:o.z},H={_canUseCookies:void 0,isTypeof:o.Ed,isUndefined:o.b0,isNullOrUndefined:o.hX,hasOwnProperty:o.mQ,isFunction:o.Tn,isObject:o.Gv,isDate:o.$P,isArray:o.cy,isError:o.bJ,isString:o.Kg,isNumber:o.Et,isBoolean:o.Lm,toISOString:o._u,arrForEach:o.Iu,arrIndexOf:o.rD,arrMap:o.W$,arrReduce:o.KT,strTrim:o.EH,objCreate:p.AQ,objKeys:o.cG,objDefineAccessors:o.r,addEventHandler:l.So,dateNow:o.x3,isIE:i.lT,disableCookies:I,newGuid:a.aq,perfNow:a.UU,newId:u.Si,randomValue:u.Z1,random32:u.VN,mwcRandomSeed:u.yc,mwcRandom32:u.k5,generateW3CId:a.cL};function W(){return!!(0,i.EH)("chrome")}function q(e,t,n,r,i,o){function s(e,t,n){try{e[t]=n}catch(e){}}void 0===r&&(r=!1),void 0===i&&(i=!1);var a=new XMLHttpRequest;return r&&s(a,v,r),n&&s(a,g,n),a.open(e,t,!i),n&&s(a,g,n),!i&&o&&s(a,m,o),a}},28643:(e,t,n)=>{"use strict";n.r(t),n.d(t,{BE_PROFILE:()=>g,NRT_PROFILE:()=>v,PostChannel:()=>ve,RT_PROFILE:()=>f});var r=n(8747),i=n(92457),o=n(5204),s=n(18413),a=n(64252),c=n(59091),l=n(12497),u=n(44180),p=n(31590),d=n(99015),h=n(56489),f="REAL_TIME",v="NEAR_REAL_TIME",g="BEST_EFFORT",m="",y="POST",b="drop",_="requeue",E="application/x-json-stream",S="cache-control",w="content-type",P="kill-duration",T="time-delta-millis",C="client-version",x="client-id",I="time-delta-to-apply-millis",O="upload-time",R="apikey",D="AuthMsaDeviceTicket",k="AuthXToken",A="msfpc",N="trace",j="user";function M(e){var t=(e.ext||{}).intweb;return t&&(0,c.yD)(t[A])?t[A]:null}function L(e){for(var t=null,n=0;null===t&&n<e.length;n++)t=M(e[n]);return t}var F=function(){function e(t,n){var r=n?[].concat(n):[],i=this,o=L(r);i.iKey=function(){return t},i.Msfpc=function(){return o||m},i.count=function(){return r.length},i.events=function(){return r},i.addEvent=function(e){return!!e&&(r.push(e),o||(o=M(e)),!0)},i.split=function(n,i){var s;if(n<r.length){var a=r.length-n;(0,l.hX)(i)||(a=i<a?i:a),s=r.splice(n,a),o=L(r)}return new e(t,s)}}return e.create=function(t,n){return new e(t,n)},e}();const V=function(){function e(){var t=!0,n=!0,r=!0,o="use-collector-delta",s=!1;(0,i.A)(e,this,(function(e){e.allowRequestSending=function(){return t},e.firstRequestSent=function(){r&&(r=!1,s||(t=!1))},e.shouldAddClockSkewHeaders=function(){return n},e.getClockSkewHeaderValue=function(){return o},e.setClockSkew=function(e){s||(e?(o=e,n=!0,s=!0):n=!1,t=!0)}}))}return e.__ieDyn=1,e}(),U=function(){function e(){var t={};(0,i.A)(e,this,(function(e){e.setKillSwitchTenants=function(e,n){if(e&&n)try{var r=(s=e.split(","),a=[],s&&(0,l.Iu)(s,(function(e){a.push((0,l.EH)(e))})),a);if("this-request-only"===n)return r;for(var i=1e3*parseInt(n,10),o=0;o<r.length;++o)t[r[o]]=(0,l.x3)()+i}catch(e){return[]}var s,a;return[]},e.isTenantKilled=function(e){var n=t,r=(0,l.EH)(e);return void 0!==n[r]&&n[r]>(0,l.x3)()||(delete n[r],!1)}}))}return e.__ieDyn=1,e}();var H=n(47672);function W(e){var t,n=Math.floor(1200*Math.random())+2400;return t=Math.pow(2,e)*n,Math.min(t,6e5)}var q,B=2e6,$=Math.min(B,65e3),K="metadata",G="f",z=/\./,Y=function(){function e(t,n,r,s){var a="data",u="baseData",p=!!s,d=!0,h=n,f={};(0,i.A)(e,this,(function(e){function n(e,t,i,o,s,a,u){(0,l.z)(e,(function(e,d){var v=null;if(d||(0,c.yD)(d)){var g=i,m=e,y=s,b=t;if(p&&!o&&z.test(e)){var _=e.split("."),E=_.length;if(E>1){y&&(y=y.slice());for(var S=0;S<E-1;S++){var w=_[S];b=b[w]=b[w]||{},g+="."+w,y&&y.push(w)}m=_[E-1]}}var P=o&&function(e){var t=f[e];return void 0===t&&(e.length>=7&&(t=(0,l.tG)(e,"ext.metadata")||(0,l.tG)(e,"ext.web")),f[e]=t),t}(g);if(v=!P&&h&&h.handleField(g,m)?h.value(g,m,d,r):(0,c.TC)(m,d,r)){var T=v.value;if(b[m]=T,a&&a(y,m,v),u&&"object"==typeof T&&!(0,l.cy)(T)){var C=y;C&&(C=C.slice()).push(m),n(d,T,g+"."+m,o,C,a,u)}}}}))}e.createPayload=function(e,t,n,r,i,o){return{apiKeys:[],payloadBlob:m,overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:e,isTeardown:t,isSync:n,isBeacon:r,sendType:o,sendReason:i}},e.appendPayload=function(n,r,i){var s=n&&r&&!n.overflow;return s&&(0,o.r2)(t,(function(){return"Serializer:appendPayload"}),(function(){for(var t=r.events(),o=n.payloadBlob,s=n.numEvents,a=!1,c=[],u=[],p=n.isBeacon,d=p?65e3:3984588,h=p?$:B,f=0,v=0;f<t.length;){var g=t[f];if(g){if(s>=i){n.overflow=r.split(f);break}var m=e.getEventBlob(g);if(m&&m.length<=h){var y=m.length;if(o.length+y>d){n.overflow=r.split(f);break}o&&(o+="\n"),o+=m,++v>20&&(o.substr(0,1),v=0),a=!0,s++}else m?c.push(g):u.push(g),t.splice(f,1),f--}f++}if(c&&c.length>0&&n.sizeExceed.push(F.create(r.iKey(),c)),u&&u.length>0&&n.failedEvts.push(F.create(r.iKey(),u)),a){n.batches.push(r),n.payloadBlob=o,n.numEvents=s;var b=r.iKey();-1===(0,l.rD)(n.apiKeys,b)&&n.apiKeys.push(b)}}),(function(){return{payload:n,theBatch:{iKey:r.iKey(),evts:r.events()},max:i}})),s},e.getEventBlob=function(e){try{return(0,o.r2)(t,(function(){return"Serializer.getEventBlob"}),(function(){var t={};t.name=e.name,t.time=e.time,t.ver=e.ver,t.iKey="o:"+(0,c.EO)(e.iKey);var r={},i=e.ext;i&&(t.ext=r,(0,l.z)(i,(function(e,t){n(t,r[e]={},"ext."+e,!0,null,null,!0)})));var o=t[a]={};o.baseType=e.baseType;var s=o[u]={};return n(e.baseData,s,u,!1,[u],(function(e,t,n){X(r,e,t,n)}),d),n(e.data,o,a,!1,[],(function(e,t,n){X(r,e,t,n)}),d),JSON.stringify(t)}),(function(){return{item:e}}))}catch(e){return null}}}))}return e.__ieDyn=1,e}();function X(e,t,n,r){if(r&&e){var i=(0,c.Go)(r.value,r.kind,r.propertyType);if(i>-1){var o=e[K];o||(o=e[K]={f:{}});var s=o[G];if(s||(s=o[G]={}),t)for(var a=0;a<t.length;a++){var u=t[a];s[u]||(s[u]={f:{}});var p=s[u][G];p||(p=s[u][G]={}),s=p}s=s[n]={},(0,l.cy)(r.value)?s.a={t:i}:s.t=i}}}var J="sendAttempt",Q="&NoResponseBody=true",Z=((q={})[1]=_,q[100]=_,q[200]="sent",q[8004]=b,q[8003]=b,q),ee={},te={};function ne(e,t,n){ee[e]=t,!1!==n&&(te[t]=e)}function re(e){try{return e.responseText}catch(e){}return m}function ie(e,t){var n=!1;if(e&&t){var r=(0,l.cG)(e);if(r&&r.length>0)for(var i=t.toLowerCase(),o=0;o<r.length;o++){var s=r[o];if(s&&(0,l.mQ)(t,s)&&s.toLowerCase()===i){n=!0;break}}}return n}function oe(e,t,n,r){t&&n&&n.length>0&&(r&&ee[t]?(e.hdrs[ee[t]]=n,e.useHdrs=!0):e.url+="&"+t+"="+n)}function se(e,t){return t&&((0,l.Et)(t)?e=[t].concat(e):(0,l.cy)(t)&&(e=t.concat(e))),e}ne(D,D,!1),ne(C,C),ne(x,"Client-Id"),ne(R,R),ne(I,I),ne(O,O),ne(k,k);var ae=function(){function e(t,n,r,s,a){this._responseHandlers=[];var p,h,f,v,g,_,D,k,N,j,M="?cors=true&"+w.toLowerCase()+"="+E,L=new U,F=!1,q=new V,B=!1,$=0,K=!0,G=[],z={},X=[],ee=null,ne=!1,ae=!1,ce=!1;(0,i.A)(e,this,(function(e){var i=!0;function V(e,t){for(var n=0,r=null,i=0;null==r&&i<e.length;)1===(n=e[i])?(0,u.PV)()?r=U:(0,u.xk)()&&(r=ue):2===n&&(0,u.R7)(t)&&(!t||t&&!k)?r=le:B&&3===n&&(0,u.Uf)()&&(r=de),i++;return r?{_transport:n,_isSync:t,sendPOST:r}:null}function U(e,t,n){var r=new XDomainRequest;r.open(y,e.urlString),e.timeout&&(r.timeout=e.timeout),r.onload=function(){var e=re(r);pe(t,200,{},e),we(e)},r.onerror=function(){pe(t,400,{})},r.ontimeout=function(){pe(t,500,{})},r.onprogress=function(){},n?r.send(e.data):a.set((function(){r.send(e.data)}),0)}function le(e,t,n){var r,o=e.urlString,s=!1,c=!1,u=((r={body:e.data,method:y}).Microsoft_ApplicationInsights_BypassAjaxInstrumentation=!0,r);n&&(u.keepalive=!0,2===e._sendReason&&(s=!0,j&&(o+=Q))),i&&(u.credentials="include"),e.headers&&(0,l.cG)(e.headers).length>0&&(u.headers=e.headers),fetch(o,u).then((function(e){var n={},r=m,i=e.headers;i&&i.forEach((function(e,t){n[t]=e})),e.body&&e.text().then((function(e){r=e})),c||(c=!0,pe(t,e.status,n,r),we(r))})).catch((function(e){c||(c=!0,pe(t,0,{}))})),s&&!c&&(c=!0,pe(t,200,{})),!c&&e.timeout>0&&a.set((function(){c||(c=!0,pe(t,500,{}))}),e.timeout)}function ue(e,t,n){var r=e.urlString;function o(e,t,n){if(!e[n]&&t&&t.getResponseHeader){var r=t.getResponseHeader(n);r&&(e[n]=(0,l.EH)(r))}return e}function s(e,n){pe(t,e.status,function(e){var t={};return e.getAllResponseHeaders?t=function(e){var t={};if((0,l.Kg)(e)){var n=(0,l.EH)(e).split(/[\r\n]+/);(0,l.Iu)(n,(function(e){if(e){var n=e.indexOf(": ");if(-1!==n){var r=(0,l.EH)(e.substring(0,n)).toLowerCase(),i=(0,l.EH)(e.substring(n+1));t[r]=i}else t[(0,l.EH)(e)]=1}}))}return t}(e.getAllResponseHeaders()):(t=o(t,e,T),t=o(t,e,P),t=o(t,e,"kill-duration-seconds")),t}(e),n)}n&&e.disableXhrSync&&(n=!1);var a=(0,c.H$)(y,r,i,!0,n,e.timeout);(0,l.z)(e.headers,(function(e,t){a.setRequestHeader(e,t)})),a.onload=function(){var e=re(a);s(a,e),we(e)},a.onerror=function(){s(a)},a.ontimeout=function(){s(a)},a.send(e.data)}function pe(e,t,n,r){try{e(t,n,r)}catch(e){(0,d.ZP)(h,2,518,(0,u.mm)(e))}}function de(e,t,n){var r=200,i=e._thePayload,o=e.urlString+(j?Q:m);try{var s=(0,u.w3)();if(!s.sendBeacon(o,e.data))if(i){var a=[];(0,l.Iu)(i.batches,(function(e){if(a&&e&&e.count()>0){for(var t=e.events(),n=0;n<t.length;n++)if(!s.sendBeacon(o,ee.getEventBlob(t[n]))){a.push(e.split(n));break}}else a.push(e.split(0))})),Pe(a,8003,i.sendType,!0)}else r=0}catch(e){(0,d.OG)(h,"Failed to send telemetry using sendBeacon API. Ex:"+(0,u.mm)(e)),r=0}finally{pe(t,r,{},m)}}function he(e){return 2===e||3===e}function fe(e){return ae&&he(e)&&(e=2),e}function ve(){return!F&&$<n}function ge(){var e=X;return X=[],e}function me(e,t,n){var r=!1;return e&&e.length>0&&!F&&f[t]&&ee&&(r=0!==t||ve()&&(n>0||q.allowRequestSending())),r}function ye(e){var t={};return e&&(0,l.Iu)(e,(function(e,n){t[n]={iKey:e.iKey(),evts:e.events()}})),t}function be(e,n,r,i,s){if(e&&0!==e.length)if(F)Pe(e,1,i);else{i=fe(i);try{var a=e,l=0!==i;(0,o.r2)(v,(function(){return"HttpManager:_sendBatches"}),(function(o){o&&(e=e.slice(0));for(var a=[],u=null,p=(0,c.WB)(),d=f[i]||(l?f[1]:f[0]),h=d&&d._transport,v=N&&(ae||he(i)||3===h||d._isSync&&2===h);me(e,i,n);){var g=e.shift();g&&g.count()>0&&(L.isTenantKilled(g.iKey())?a.push(g):(u=u||ee.createPayload(n,r,l,v,s,i),ee.appendPayload(u,g,t)?null!==u.overflow&&(e=[u.overflow].concat(e),u.overflow=null,Ee(u,p,(0,c.WB)(),s),p=(0,c.WB)(),u=null):(Ee(u,p,(0,c.WB)(),s),p=(0,c.WB)(),e=[g].concat(e),u=null)))}u&&Ee(u,p,(0,c.WB)(),s),e.length>0&&(X=e.concat(X)),Pe(a,8004,i)}),(function(){return{batches:ye(a),retryCount:n,isTeardown:r,isSynchronous:l,sendReason:s,useSendBeacon:he(i),sendType:i}}),!l)}catch(e){(0,d.ZP)(h,2,48,"Unexpected Exception sending batch: "+(0,u.mm)(e))}}}function _e(e,t,n){e[t]=e[t]||{},e[t][p.identifier]=n}function Ee(t,n,i,s){if(t&&t.payloadBlob&&t.payloadBlob.length>0){var a=!!e.sendHook,g=f[t.sendType];!he(t.sendType)&&t.isBeacon&&2===t.sendReason&&(g=f[2]||f[3]||g);var y=ce;(t.isBeacon||3===g._transport)&&(y=!1);var b=function(e,t){var n={url:M,hdrs:{},useHdrs:!1};t?(n.hdrs=(0,c.X$)(n.hdrs,z),n.useHdrs=(0,l.cG)(n.hdrs).length>0):(0,l.z)(z,(function(e,t){te[e]?oe(n,te[e],t,!1):(n.hdrs[e]=t,n.useHdrs=!0)})),oe(n,x,"NO_AUTH",t),oe(n,C,c.xE,t);var r=m;(0,l.Iu)(e.apiKeys,(function(e){r.length>0&&(r+=","),r+=e})),oe(n,R,r,t),oe(n,O,(0,l.x3)().toString(),t);var i=function(e){for(var t=0;t<e.batches.length;t++){var n=e.batches[t].Msfpc();if(n)return encodeURIComponent(n)}return m}(e);if((0,c.yD)(i)&&(n.url+="&ext.intweb.msfpc="+i),q.shouldAddClockSkewHeaders()&&oe(n,I,q.getClockSkewHeaderValue(),t),v.getWParam){var o=v.getWParam();o>=0&&(n.url+="&w="+o)}for(var s=0;s<G.length;s++)n.url+="&"+G[s].name+"="+G[s].value;return n}(t,y);y=y||b.useHdrs;var A=(0,c.WB)();(0,o.r2)(v,(function(){return"HttpManager:_doPayloadSend"}),(function(){for(var f=0;f<t.batches.length;f++)for(var m=t.batches[f].events(),C=0;C<m.length;C++){var x=m[C];if(ne){var I=x.timings=x.timings||{};_e(I,"sendEventStart",A),_e(I,"serializationStart",n),_e(I,"serializationCompleted",i)}x[J]>0?x[J]++:x[J]=1}Pe(t.batches,1e3+(s||0),t.sendType,!0);var O={data:t.payloadBlob,urlString:b.url,headers:b.hdrs,_thePayload:t,_sendReason:s,timeout:_,disableXhrSync:D,disableFetchKeepAlive:k};y&&(ie(O.headers,S)||(O.headers[S]="no-cache, no-store"),ie(O.headers,w)||(O.headers[w]=E));var R=null;g&&(R=function(n){q.firstRequestSent();var i=function(n,i){!function(t,n,i,o){var s,a=9e3,u=null,d=!1,h=!1;try{var f=!0;if(typeof t!==H.bA){if(n){q.setClockSkew(n[T]);var v=n[P]||n["kill-duration-seconds"];(0,l.Iu)(L.setKillSwitchTenants(n["kill-tokens"],v),(function(e){(0,l.Iu)(i.batches,(function(t){if(t.iKey()===e){u=u||[];var n=t.split(0);i.numEvents-=n.count(),u.push(n)}}))}))}if(200==t||204==t)return void(a=200);((s=t)>=300&&s<500&&408!=s&&429!=s||501==s||505==s||i.numEvents<=0)&&(f=!1),a=9e3+t%1e3}if(f){a=100;var g=i.retryCnt;0===i.sendType&&(g<r?(d=!0,Se((function(){0===i.sendType&&$--,be(i.batches,g+1,i.isTeardown,ae?2:i.sendType,5)}),ae,W(g))):(h=!0,ae&&(a=8001)))}}finally{d||(q.setClockSkew(),function(t,n,r,i){try{i&&p._backOffTransmission(),200===n&&(i||t.isSync||p._clearBackOff(),function(e){if(ne){var t=(0,c.WB)();(0,l.Iu)(e,(function(e){e&&e.count()>0&&function(e,t){ne&&(0,l.Iu)(e,(function(e){_e(e.timings=e.timings||{},"sendEventCompleted",t)}))}(e.events(),t)}))}}(t.batches)),Pe(t.batches,n,t.sendType,!0)}finally{0===t.sendType&&($--,5!==r&&e.sendQueuedRequests(t.sendType,r))}}(i,a,o,h)),Pe(u,8004,i.sendType)}}(n,i,t,s)},o=t.isTeardown||t.isSync;try{g.sendPOST(n,i,o),e.sendListener&&e.sendListener(O,n,o,t.isBeacon)}catch(e){(0,d.OG)(h,"Unexpected exception sending payload. Ex:"+(0,u.mm)(e)),pe(i,0,{})}}),(0,o.r2)(v,(function(){return"HttpManager:_doPayloadSend.sender"}),(function(){if(R)if(0===t.sendType&&$++,a&&!t.isBeacon&&3!==g._transport){var n={data:O.data,urlString:O.urlString,headers:(0,c.X$)({},O.headers),timeout:O.timeout,disableXhrSync:O.disableXhrSync,disableFetchKeepAlive:O.disableFetchKeepAlive},r=!1;(0,o.r2)(v,(function(){return"HttpManager:_doPayloadSend.sendHook"}),(function(){try{e.sendHook(n,(function(e){r=!0,K||e._thePayload||(e._thePayload=e._thePayload||O._thePayload,e._sendReason=e._sendReason||O._sendReason),R(e)}),t.isSync||t.isTeardown)}catch(e){r||R(O)}}))}else R(O)}))}),(function(){return{thePayload:t,serializationStart:n,serializationCompleted:i,sendReason:s}}),t.isSync)}t.sizeExceed&&t.sizeExceed.length>0&&Pe(t.sizeExceed,8003,t.sendType),t.failedEvts&&t.failedEvts.length>0&&Pe(t.failedEvts,8002,t.sendType)}function Se(e,t,n){t?e():a.set(e,n)}function we(t){var n=e._responseHandlers;try{for(var r=0;r<n.length;r++)try{n[r](t)}catch(e){(0,d.ZP)(h,1,519,"Response handler failed: "+e)}if(t){var i=JSON.parse(t);(0,c.yD)(i.webResult)&&(0,c.yD)(i.webResult[A])&&g.set("MSFPC",i.webResult[A],31536e3)}}catch(e){}}function Pe(e,t,n,r){if(e&&e.length>0&&s){var i=s[(l=t,u=Z[l],(0,c.yD)(u)||(u="oth",l>=9e3&&l<=9999?u="rspFail":l>=8e3&&l<=8999?u=b:l>=1e3&&l<=1999&&(u="send")),u)];if(i){var a=0!==n;(0,o.r2)(v,(function(){return"HttpManager:_sendBatchesNotification"}),(function(){Se((function(){try{i.call(s,e,t,a,n)}catch(e){(0,d.ZP)(h,1,74,"send request notification failed: "+e)}}),r||a,0)}),(function(){return{batches:ye(e),reason:t,isSync:a,sendSync:r,sendType:n}}),!a)}}var l,u}e.initialize=function(e,t,n,r,o){var s;o||(o={}),M=e+M,ce=!!(0,l.b0)(o.avoidOptions)||!o.avoidOptions,v=t,g=t.getCookieMgr(),ne=!v.config.disableEventTimings;var a=!!v.config.enableCompoundKey;h=(p=n).diagLog();var c=o.valueSanitizer,m=o.stringifyObjects;(0,l.b0)(o.enableCompoundKey)||(a=!!o.enableCompoundKey),_=o.xhrTimeout,D=!!o.disableXhrSync,k=!!o.disableFetchKeepAlive,j=!1!==o.addNoResponse,B=!(0,u.lV)(),ee=new Y(v,c,m,a),(0,l.hX)(o.useSendBeacon)||(B=!!o.useSendBeacon);var y=r,b=o.alwaysUseXhrOverride?r:null,E=o.alwaysUseXhrOverride?r:null,S=[3,2];if(!r){K=!1;var w=(0,u.g$)();w&&w.protocol&&"file:"===w.protocol.toLowerCase()&&(i=!1);var P=[];(0,u.lV)()?(P=[2,1],S=[2,1,3]):P=[1,2,3],(r=V(P=se(P,o.transports),!1))||(0,d.OG)(h,"No available transport to send events"),y=V(P,!0)}b||(b=V(S=se(S,o.unloadTransports),!0)),N=!K&&(B&&(0,u.Uf)()||!k&&(0,u.R7)(!0)),(s={})[0]=r,s[1]=y||V([1,2,3],!0),s[2]=b||y||V([1],!0),s[3]=E||V([2,3],!0)||y||V([1],!0),f=s},e._getDbgPlgTargets=function(){return[f[0],L,ee,f]},e.addQueryStringParameter=function(e,t){for(var n=0;n<G.length;n++)if(G[n].name===e)return void(G[n].value=t);G.push({name:e,value:t})},e.addHeader=function(e,t){z[e]=t},e.canSendRequest=function(){return ve()&&q.allowRequestSending()},e.sendQueuedRequests=function(e,t){(0,l.b0)(e)&&(e=0),ae&&(e=fe(e),t=2),me(X,e,0)&&be(ge(),0,!1,e,t||0)},e.isCompletelyIdle=function(){return!F&&0===$&&0===X.length},e.setUnloading=function(e){ae=e},e.addBatch=function(e){if(e&&e.count()>0){if(L.isTenantKilled(e.iKey()))return!1;X.push(e)}return!0},e.teardown=function(){X.length>0&&be(ge(),0,!0,2,2)},e.pause=function(){F=!0},e.resume=function(){F=!1,e.sendQueuedRequests(0,4)},e.sendSynchronousBatch=function(e,t,n){e&&e.count()>0&&((0,l.hX)(t)&&(t=1),ae&&(t=fe(t),n=2),be([e],0,!1,t,n||0))}}))}return e.__ieDyn=1,e}();function ce(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout(e,t,n)}function le(e){clearTimeout(e)}function ue(e,t){return{set:e||ce,clear:t||le}}var pe="eventsDiscarded",de="overrideInstrumentationKey",he="maxEventRetryAttempts",fe="maxUnloadEventRetryAttempts";const ve=function(e){function t(){var n,r=e.call(this)||this;r.identifier="PostChannel",r.priority=1011,r.version="3.2.13";var h,m,y,b,_,E,S,w=!1,P=[],T=null,C=!1,x=0,I=500,O=0,R=1e4,k={},A=f,M=null,L=null,V=0,U=0,H={},q=-1,B=!0,$=!1,K=6,G=2;return(0,i.A)(t,r,(function(e,t){function r(e){"beforeunload"!==(e||(0,u.zk)().event).type&&($=!0,m.setUnloading($)),te(2,2)}function i(e){$=!1,m.setUnloading($)}function z(e,t){if(e.sendAttempt||(e.sendAttempt=0),e.latency||(e.latency=1),e.ext&&e.ext[N]&&delete e.ext[N],e.ext&&e.ext[j]&&e.ext[j].id&&delete e.ext[j].id,B&&(c.u9,e.ext=(0,l.hW)(e.ext),e.baseData&&(e.baseData=(0,l.hW)(e.baseData)),e.data&&(e.data=(0,l.hW)(e.data))),e.sync)if(V||C)e.latency=3,e.sync=!1;else if(m)return B&&(e=(0,l.hW)(e)),void m.sendSynchronousBatch(F.create(e.iKey,[e]),!0===e.sync?1:e.sync,3);var n=e.latency,r=O,i=R;4===n&&(r=x,i=I);var o=!1;if(r<i)o=!ie(e,t);else{var s=1,a=20;4===n&&(s=4,a=1),o=!0,function(e,t,n,r){for(;n<=t;){var i=ne(e,t,!0);if(i&&i.count()>0){var o=i.split(0,r),s=o.count();if(s>0)return 4===n?x-=s:O-=s,be(pe,[o],p.x.QueueFull),!0}n++}return oe(),!1}(e.iKey,e.latency,s,a)&&(o=!ie(e,t))}o&&ye(pe,[e],p.x.QueueFull)}function Y(e,t,n){var r=se(e,t,n);return m.sendQueuedRequests(t,n),r}function X(){return O>0}function J(){if(q>=0&&se(q,0,_)&&m.sendQueuedRequests(0,_),x>0&&!L&&!C){var e=k[A][2];e>=0&&(L=Z((function(){L=null,Y(4,0,1),J()}),e))}var t=k[A][1];!M&&!T&&t>=0&&!C&&(X()?M=Z((function(){M=null,Y(0===U?3:1,0,1),U++,U%=2,J()}),t):U=0)}function Q(){n=null,w=!1,P=[],T=null,C=!1,x=0,I=500,O=0,R=1e4,k={},A=f,M=null,L=null,V=0,U=0,h=null,H={},y=void 0,b=0,q=-1,_=null,B=!0,$=!1,K=6,G=2,E=null,S=ue(),m=new ae(500,2,1,{requeue:ge,send:_e,sent:Ee,drop:Se,rspFail:we,oth:Pe},S),ve(),H[4]={batches:[],iKeyMap:{}},H[3]={batches:[],iKeyMap:{}},H[2]={batches:[],iKeyMap:{}},H[1]={batches:[],iKeyMap:{}},Te()}function Z(e,t){0===t&&V&&(t=1);var n=1e3;return V&&(n=W(V-1)),S.set(e,t*n)}function ee(){return null!==M&&(S.clear(M),M=null,U=0,!0)}function te(e,t){ee(),T&&(S.clear(T),T=null),C||Y(1,e,t)}function ne(e,t,n){var r=H[t];r||(r=H[t=1]);var i=r.iKeyMap[e];return!i&&n&&(i=F.create(e),r.batches.push(i),r.iKeyMap[e]=i),i}function re(t,n){m.canSendRequest()&&!V&&(y>0&&O>y&&(n=!0),n&&null==T&&e.flush(t,null,20))}function ie(e,t){B&&(e=(0,l.hW)(e));var n=e.latency,r=ne(e.iKey,n,!0);return!!r.addEvent(e)&&(4!==n?(O++,t&&0===e.sendAttempt&&re(!e.sync,b>0&&r.count()>=b)):x++,!0)}function oe(){for(var e=0,t=0,n=function(n){var r=H[n];r&&r.batches&&(0,l.Iu)(r.batches,(function(r){4===n?e+=r.count():t+=r.count()}))},r=1;r<=4;r++)n(r);O=t,x=e}function se(t,n,r){var i=!1,s=0===n;return!s||m.canSendRequest()?(0,o.r2)(e.core,(function(){return"PostChannel._queueBatches"}),(function(){for(var e=[],n=4;n>=t;){var r=H[n];r&&r.batches&&r.batches.length>0&&((0,l.Iu)(r.batches,(function(t){m.addBatch(t)?i=i||t&&t.count()>0:e=e.concat(t.events()),4===n?x-=t.count():O-=t.count()})),r.batches=[],r.iKeyMap={}),n--}e.length>0&&ye(pe,e,p.x.KillSwitch),i&&q>=t&&(q=-1,_=0)}),(function(){return{latency:t,sendType:n,sendReason:r}}),!s):(q=q>=0?Math.min(q,t):t,_=Math.max(_,r)),i}function ce(e,t){Y(1,0,t),oe(),le((function(){e&&e(),P.length>0?T=Z((function(){T=null,ce(P.shift(),t)}),0):(T=null,J())}))}function le(e){m.isCompletelyIdle()?e():T=Z((function(){T=null,le(e)}),.25)}function ve(){(k={})[f]=[2,1,0],k[v]=[6,3,0],k[g]=[18,9,0]}function ge(t,n){var r=[],i=K;$&&(i=G),(0,l.Iu)(t,(function(t){t&&t.count()>0&&(0,l.Iu)(t.events(),(function(t){t&&(t.sync&&(t.latency=4,t.sync=!1),t.sendAttempt<i?((0,c.u9)(t,e.identifier),z(t,!1)):r.push(t))}))})),r.length>0&&ye(pe,r,p.x.NonRetryableStatus),$&&te(2,2)}function me(t,n){var r=e._notificationManager||{},i=r[t];if(i)try{i.apply(r,n)}catch(n){(0,d.ZP)(e.diagLog(),1,74,t+" notification failed: "+n)}}function ye(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];t&&t.length>0&&me(e,[t].concat(n))}function be(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];t&&t.length>0&&(0,l.Iu)(t,(function(t){t&&t.count()>0&&me(e,[t.events()].concat(n))}))}function _e(e,t,n){e&&e.length>0&&me("eventsSendRequest",[t>=1e3&&t<=1999?t-1e3:0,!0!==n])}function Ee(e,t){be("eventsSent",e,t),J()}function Se(e,t){be(pe,e,t>=8e3&&t<=8999?t-8e3:p.x.Unknown)}function we(e){be(pe,e,p.x.NonRetryableStatus),J()}function Pe(e,t){be(pe,e,p.x.Unknown),J()}function Te(){b=n&&n.disableAutoBatchFlushLimit?0:Math.max(1500,R/6)}Q(),e._getDbgPlgTargets=function(){return[m]},e.initialize=function(u,p,d){(0,o.r2)(p,(function(){return"PostChannel:initialize"}),(function(){var o=p;t.initialize(u,p,d);try{p.addUnloadCb,E=(0,s.Hm)((0,a.Z)(e.identifier),p.evtNamespace&&p.evtNamespace());var f=e._getTelCtx();u.extensionConfig[e.identifier]=u.extensionConfig[e.identifier]||{},n=f.getExtCfg(e.identifier),S=ue(n.setTimeoutOverride,n.clearTimeoutOverride),B=!n.disableOptimizeObj&&(0,c.F2)(),function(e){var t=e.getWParam;e.getWParam=function(){var e=0;return n.ignoreMc1Ms0CookieProcessing&&(e|=2),e|t()}}(o),n.eventsLimitInMem>0&&(R=n.eventsLimitInMem),n.immediateEventLimit>0&&(I=n.immediateEventLimit),n.autoFlushEventsLimit>0&&(y=n.autoFlushEventsLimit),(0,l.Et)(n[he])&&(K=n[he]),(0,l.Et)(n[fe])&&(G=n[fe]),Te(),n.httpXHROverride&&n.httpXHROverride.sendPOST&&(h=n.httpXHROverride),(0,c.yD)(u.anonCookieName)&&m.addQueryStringParameter("anoncknm",u.anonCookieName),m.sendHook=n.payloadPreprocessor,m.sendListener=n.payloadListener;var v=n.overrideEndpointUrl?n.overrideEndpointUrl:u.endpointUrl;e._notificationManager=p.getNotifyMgr(),m.initialize(v,e.core,e,h,n);var g=u.disablePageUnloadEvents||[];(0,s.ee)(r,g,E),(0,s.Fc)(r,g,E),(0,s.oS)(i,u.disablePageShowEvents,E)}catch(t){throw e.setInitialized(!1),t}}),(function(){return{coreConfig:u,core:p,extensions:d}}))},e.processTelemetry=function(t,r){(0,c.u9)(t,e.identifier);var i=(r=e._getTelCtx(r)).getExtCfg(e.identifier),o=!!n.disableTelemetry;i&&(o=o||!!i.disableTelemetry);var s=t;o||w||(n[de]&&(s.iKey=n[de]),i&&i[de]&&(s.iKey=i[de]),z(s,!0),$?te(2,2):J()),e.processNext(s,r)},e._doTeardown=function(e,t){te(2,2),w=!0,m.teardown(),(0,s.Ds)(null,E),(0,s.sq)(null,E),(0,s.vF)(null,E),Q()},e.setEventQueueLimits=function(e,t){R=e>0?e:1e4,y=t>0?t:0,Te();var n=O>e;if(!n&&b>0)for(var r=1;!n&&r<=3;r++){var i=H[r];i&&i.batches&&(0,l.Iu)(i.batches,(function(e){e&&e.count()>=b&&(n=!0)}))}re(!0,n)},e.pause=function(){ee(),C=!0,m.pause()},e.resume=function(){C=!1,m.resume(),J()},e.addResponseHandler=function(e){m._responseHandlers.push(e)},e._loadTransmitProfiles=function(e){ee(),ve(),A=f,J(),(0,l.z)(e,(function(e,t){var n=t.length;if(n>=2){var r=n>2?t[2]:0;if(t.splice(0,n-2),t[1]<0&&(t[0]=-1),t[1]>0&&t[0]>0){var i=t[0]/t[1];t[0]=Math.ceil(i)*t[1]}r>=0&&t[1]>=0&&r>t[1]&&(r=t[1]),t.push(r),k[e]=t}}))},e.flush=function(e,t,n){if(void 0===e&&(e=!0),!C)if(n=n||1,e)null==T?(ee(),se(1,0,n),T=Z((function(){T=null,ce(t,n)}),0)):P.push(t);else{var r=ee();Y(1,1,n),null!=t&&t(),r&&J()}},e.setMsaAuthTicket=function(e){m.addHeader(D,e)},e.hasEvents=X,e._setTransmitProfile=function(e){A!==e&&void 0!==k[e]&&(ee(),A=e,J())},e._backOffTransmission=function(){V<4&&(V++,ee(),J())},e._clearBackOff=function(){V&&(V=0,ee(),J())},(0,l.r)(e,"_setTimeoutOverride",(function(){return S.set}),(function(e){S=ue(e,S.clear)})),(0,l.r)(e,"_clearTimeoutOverride",(function(){return S.clear}),(function(e){S=ue(S.set,e)}))})),r}return(0,r.qU)(t,e),t.__ieDyn=1,t}(h.s)},96434:(e,t,n)=>{"use strict";n.d(t,{Hj:()=>i});var r=n(12497);function i(e){var t={};return(0,r.z)(e,(function(e,n){t[e]=n,t[n]=e})),(0,r.ol)(t)}},31590:(e,t,n)=>{"use strict";n.d(t,{x:()=>r});var r=(0,n(96434).Hj)({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5})},56489:(e,t,n)=>{"use strict";n.d(t,{s:()=>u});var r=n(92457),i=n(60830),o=n(12497),s=n(1972),a=n(8997),c=n(49388),l="getPlugin",u=function(){function e(){var t,n,u,p,d,h=this;function f(e){void 0===e&&(e=null);var t=e;if(!t){var r=n||(0,a.i8)(null,{},h[s.eT]);t=u&&u[l]?r[i.$o](null,u[l]):r[i.$o](null,u)}return t}function v(e,t,r){e&&(0,o.KY)(e,s.Bw,[],null,o.hX),!r&&t&&(r=t[i.ps]()[i.uR]());var c=u;u&&u[l]&&(c=u[l]()),h[s.eT]=t,n=(0,a.i8)(r,e,t,c)}function g(){t=!1,h[s.eT]=null,n=null,u=null,d=[],p=(0,c.P)()}g(),(0,r.A)(e,h,(function(e){e[i.mE]=function(e,n,r,i){v(e,n,i),t=!0},e[i.Ik]=function(t,n){var r,c=e[s.eT];if(c&&(!t||c===t[s.eT]())){var h,f=!1,v=t||(0,a.tS)(null,c,u&&u[l]?u[l]():u),m=n||((r={reason:0})[i.tI]=!1,r);return e[i.tn]&&!0===e[i.tn](v,m,y)?h=!0:y(),h}function y(){if(!f){f=!0,p.run(v,n);var e=d;d=[],(0,o.Iu)(e,(function(e){e.rm()})),!0===h&&v[i.$5](m),g()}}},e[i.HC]=function(t,n){var r=e[s.eT];if(r&&(!t||r===t[s.eT]())){var o,c=!1,p=t||(0,a.nU)(null,r,u&&u[l]?u[l]():u),d=n||{reason:0};return e._doUpdate&&!0===e._doUpdate(p,d,h)?o=!0:h(),o}function h(){c||(c=!0,v(p.getCfg(),p.core(),p[i.uR]()))}},e._addHook=function(e){e&&((0,o.cy)(e)?d=d.concat(e):d[i.y5](e))},(0,o.RF)(e,"_addUnloadCb",(function(){return p}),"add")})),h[i.e4]=function(e){return f(e)[i.e4]()},h[i.tZ]=function(){return t},h.setInitialized=function(e){t=e},h[i.YH]=function(e){u=e},h[i.$5]=function(e,t){t?t[i.$5](e):u&&(0,o.Tn)(u[s.qT])&&u[s.qT](e,null)},h._getTelCtx=f}return e.__ieDyn=1,e}()},91698:(e,t,n)=>{"use strict";n.d(t,{It:()=>A,d5:()=>S,gi:()=>x,um:()=>T,xN:()=>C});var r=n(60830),i=n(99015),o=n(44180),s=n(12497),a=n(1972),c="toGMTString",l="toUTCString",u="cookie",p="expires",d="enabled",h="isCookieUseDisabled",f="disableCookiesUsage",v="_ckMgr",g=null,m=null,y=null,b=(0,o.YE)(),_={},E={};function S(e,t){var n=C[v]||E[v];return n||(n=C[v]=C(e,t),E[v]=n),n}function w(e){return!e||e.isEnabled()}function P(e,t){return!!(t&&e&&(0,s.cy)(e.ignoreCookies))&&-1!==e.ignoreCookies[r.Sj](t)}function T(e,t){var n;if(e)n=e.getCookieMgr();else if(t){var i=t[r.lK];n=i[v]?i[v]:C(t)}return n||(n=S(t,(e||{})[r.Uw])),n}function C(e,t){var n,i=function(e){var t=e[r.lK]=e[r.lK]||{};if((0,s.KY)(t,"domain",e.cookieDomain,s.Gh,s.hX),(0,s.KY)(t,"path",e.cookiePath||"/",null,s.hX),(0,s.hX)(t[d])){var n=void 0;(0,s.b0)(e[h])||(n=!e[h]),(0,s.b0)(e[f])||(n=!e[f]),t[d]=n}return t}(e||E),u=i.path||"/",g=i.domain,y=!1!==i[d],b=((n={isEnabled:function(){var e=y&&x(t),n=E[v];return e&&n&&b!==n&&(e=w(n)),e}})[r.kt]=function(e){y=!1!==e},n.set=function(e,t,n,d,h){var f=!1;if(w(b)&&!function(e,t){return!!(t&&e&&(0,s.cy)(e.blockedCookies)&&-1!==e.blockedCookies[r.Sj](t))||P(e,t)}(i,e)){var v={},y=(0,s.EH)(t||a.m5),_=y[r.Sj](";");if(-1!==_&&(y=(0,s.EH)(t[r.Re](0,_)),v=I(t[r.Re](_+1))),(0,s.KY)(v,"domain",d||g,s.zz,s.b0),!(0,s.hX)(n)){var E=(0,o.lT)();if((0,s.b0)(v[p])){var S=(0,s.x3)()+1e3*n;if(S>0){var T=new Date;T.setTime(S),(0,s.KY)(v,p,O(T,E?c:l)||O(T,E?c:l)||a.m5,s.zz)}}E||(0,s.KY)(v,"max-age",a.m5+n,null,s.b0)}var C=(0,o.g$)();C&&"https:"===C.protocol&&((0,s.KY)(v,"secure",null,null,s.b0),null===m&&(m=!A(((0,o.w3)()||{})[r.tX])),m&&(0,s.KY)(v,"SameSite","None",null,s.b0)),(0,s.KY)(v,"path",h||u,null,s.b0),(i.setCookie||k)(e,R(y,v)),f=!0}return f},n.get=function(e){var t=a.m5;return w(b)&&!P(i,e)&&(t=(i.getCookie||D)(e)),t},n.del=function(e,t){var n=!1;return w(b)&&(n=b.purge(e,t)),n},n.purge=function(e,n){var r,s=!1;if(x(t)){var c=((r={}).path=n||"/",r[p]="Thu, 01 Jan 1970 00:00:01 GMT",r);(0,o.lT)()||(c["max-age"]="0"),(i.delCookie||k)(e,R(a.m5,c)),s=!0}return s},n);return b[v]=b,b}function x(e){if(null===g){g=!1;try{g=void 0!==(b||{})[u]}catch(t){(0,i.ZP)(e,2,68,"Cannot access document.cookie - "+(0,s.lL)(t),{exception:(0,o.mm)(t)})}}return g}function I(e){var t={};if(e&&e[r.oI]){var n=(0,s.EH)(e)[r.sY](";");(0,s.Iu)(n,(function(e){if(e=(0,s.EH)(e||a.m5)){var n=e[r.Sj]("=");-1===n?t[e]=null:t[(0,s.EH)(e[r.Re](0,n))]=(0,s.EH)(e[r.Re](n+1))}}))}return t}function O(e,t){return(0,s.Tn)(e[t])?e[t]():null}function R(e,t){var n=e||a.m5;return(0,s.z)(t,(function(e,t){n+="; "+e+((0,s.hX)(t)?a.m5:"="+t)})),n}function D(e){var t=a.m5;if(b){var n=b[u]||a.m5;y!==n&&(_=I(n),y=n),t=(0,s.EH)(_[e]||a.m5)}return t}function k(e,t){b&&(b[u]=e+"="+t)}function A(e){return!(!(0,s.Kg)(e)||!(0,s.Ju)(e,"CPU iPhone OS 12")&&!(0,s.Ju)(e,"iPad; CPU OS 12")&&!((0,s.Ju)(e,"Macintosh; Intel Mac OS X 10_14")&&(0,s.Ju)(e,"Version/")&&(0,s.Ju)(e,"Safari"))&&(!(0,s.Ju)(e,"Macintosh; Intel Mac OS X 10_14")||!(0,s.Cv)(e,"AppleWebKit/605.1.15 (KHTML, like Gecko)"))&&!(0,s.Ju)(e,"Chrome/5")&&!(0,s.Ju)(e,"Chrome/6")&&(!(0,s.Ju)(e,"UnrealEngine")||(0,s.Ju)(e,"Chrome"))&&!(0,s.Ju)(e,"UCBrowser/12")&&!(0,s.Ju)(e,"UCBrowser/11"))}},32578:(e,t,n)=>{"use strict";n.d(t,{UU:()=>f,aq:()=>h,cL:()=>v,fs:()=>m});var r,i=n(75148),o=n(60830),s=n(91698),a=n(44180),c=n(18413),l=n(12497),u=n(1972),p=n(57679),d=null;function h(){var e=v();return e[o.Re](0,8)+"-"+e[o.Re](8,12)+"-"+e[o.Re](12,16)+"-"+e[o.Re](16,20)+"-"+e[o.Re](20)}function f(){var e=(0,a.FJ)();return e&&e.now?e.now():(0,l.x3)()}function v(){for(var e,t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n=u.m5,r=0;r<4;r++)n+=t[15&(e=(0,p.VN)())]+t[e>>4&15]+t[e>>8&15]+t[e>>12&15]+t[e>>16&15]+t[e>>20&15]+t[e>>24&15]+t[e>>28&15];var i=t[8+(3&(0,p.VN)())|0];return n[o.$4](0,8)+n[o.$4](9,4)+"4"+n[o.$4](13,3)+i+n[o.$4](16,3)+n[o.$4](19,12)}var g={_canUseCookies:void 0,isTypeof:l.Ed,isUndefined:l.b0,isNullOrUndefined:l.hX,hasOwnProperty:l.mQ,isFunction:l.Tn,isObject:l.Gv,isDate:l.$P,isArray:l.cy,isError:l.bJ,isString:l.Kg,isNumber:l.Et,isBoolean:l.Lm,toISOString:l._u,arrForEach:l.Iu,arrIndexOf:l.rD,arrMap:l.W$,arrReduce:l.KT,strTrim:l.EH,objCreate:i.AQ,objKeys:l.cG,objDefineAccessors:l.r,addEventHandler:c.So,dateNow:l.x3,isIE:a.lT,disableCookies:function(){var e,t,n,i;(n=(0,s.d5)(e,t),i=g._canUseCookies,null===d&&(d=[],r=i,(0,l.r)(g,"_canUseCookies",(function(){return r}),(function(e){r=e,(0,l.Iu)(d,(function(t){t[o.kt](e)}))}))),-1===(0,l.rD)(d,n)&&d[o.y5](n),(0,l.Lm)(i)&&n[o.kt](i),(0,l.Lm)(r)&&n[o.kt](r),n)[o.kt](!1)},newGuid:h,perfNow:f,newId:p.Si,randomValue:p.Z1,random32:p.VN,mwcRandomSeed:p.yc,mwcRandom32:p.k5,generateW3CId:v},m={Attach:c.Q3,AttachEvent:c.Q3,Detach:c.Ym,DetachEvent:c.Ym}},64252:(e,t,n)=>{"use strict";n.d(t,{T:()=>f,Z:()=>h});var r=n(47672),i=n(60830),o=n(12497),s=n(1972),a=n(57679),c=r.KU,l="2.8.15",u="."+(0,a.Si)(6),p=0;function d(e){return 1===e[i.re]||9===e[i.re]||!+e[i.re]}function h(e,t){return void 0===t&&(t=!1),(0,o.cH)(e+p+++(t?"."+l:s.m5)+u)}function f(e){var t={id:h("_aiData-"+(e||s.m5)+"."+l),accept:function(e){return d(e)},get:function(e,n,r,i){var s=e[t.id];return s?s[(0,o.cH)(n)]:(i&&((s=function(e,t){var n=t[e.id];if(!n){n={};try{d(t)&&(function(e,t,n){if(c)try{return c(e,t,{value:n,enumerable:!1,configurable:!0}),!0}catch(e){}return!1}(t,e.id,n)||(t[e.id]=n))}catch(e){}}return n}(t,e))[(0,o.cH)(n)]=r),r)},kill:function(e,t){if(e&&e[t])try{delete e[t]}catch(e){}}};return t}},95331:(e,t,n)=>{"use strict";n.d(t,{$:()=>l,M:()=>u});var r,i=n(60830),o=n(44180),s=["eventsSent","eventsDiscarded","eventsSendRequest","perfEvent"],a=null;function c(e,t){return function(){var n=arguments,r=l(t);if(r){var o=r.listener;o&&o[e]&&o[e][i.y9](o,n)}}}function l(e){var t,n=a;return n||!0===e.disableDbgExt||(n=a||((t=(0,o.EH)("Microsoft"))&&(a=t.ApplicationInsights),a)),n?n.ChromeDbgExt:null}function u(e){if(!r){r={};for(var t=0;t<s[i.oI];t++)r[s[t]]=c(s[t],e)}return r}},99015:(e,t,n)=>{"use strict";n.d(t,{OG:()=>g,Oc:()=>m,WD:()=>p,ZP:()=>v,wq:()=>h,y0:()=>d});var r=n(92457),i=n(60830),o=n(95331),s=n(44180),a=n(12497),c=n(1972);function l(e){return e?'"'+e[i.W7](/\"/g,c.m5)+'"':c.m5}function u(e,t){var n=(0,s.U5)();if(n){var r="log";n[e]&&(r=e),(0,a.Tn)(n[r])&&n[r](t)}}var p=function(){function e(e,t,n,r){void 0===n&&(n=!1);var o=this;o[i.JR]=e,o[i.pM]=(n?"AI: ":"AI (Internal): ")+e;var a=c.m5;(0,s.Z)()&&(a=(0,s.hm)().stringify(r));var u=(t?" message:"+l(t):c.m5)+(r?" props:"+l(a):c.m5);o[i.pM]+=u}return e.dataType="MessageData",e}();function d(e,t){return(e||{})[i.Uw]||new h(t)}var h=function(){function e(t){this.identifier="DiagnosticLogger",this.queue=[];var n,l,d,h,f=0,v={};(0,r.A)(e,this,(function(e){function r(t,n){if(!(f>=d)){var r=!0,o="AITR_"+n[i.JR];if(v[o]?r=!1:v[o]=!0,r&&(t<=l&&(e.queue[i.y5](n),f++,g(1===t?"error":"warn",n)),f===d)){var s="Internal events throttle limit per PageView reached for this app.",a=new p(23,s,!1);e.queue[i.y5](a),1===t?e[c.Zi](s):e[c.Tj](s)}}}function g(e,n){var r=(0,o.$)(t||{});r&&r[i.e4]&&r[i.e4](e,n)}!function(e){n=(0,a.SA)(e.loggingLevelConsole,0),l=(0,a.SA)(e.loggingLevelTelemetry,1),d=(0,a.SA)(e.maxMessageLimit,25),h=(0,a.SA)(e.enableDebug,(0,a.SA)(e[i.a$],!1))}(t||{}),e.consoleLoggingLevel=function(){return n},e.telemetryLoggingLevel=function(){return l},e.maxInternalMessageLimit=function(){return d},e[i.a$]=function(){return h},e.throwInternal=function(t,o,l,u,d){void 0===d&&(d=!1);var f=new p(o,l,d,u);if(h)throw(0,s.mm)(f);var m=1===t?c.Zi:c.Tj;if((0,a.b0)(f[i.pM]))g("throw"+(1===t?"Critical":"Warning"),f);else{if(d){var y=+f[i.JR];!v[y]&&n>=t&&(e[m](f[i.pM]),v[y]=!0)}else n>=t&&e[m](f[i.pM]);r(t,f)}},e[c.Tj]=function(e){u("warn",e),g("warning",e)},e[c.Zi]=function(e){u("error",e),g("error",e)},e.resetInternalMessageCount=function(){f=0,v={}},e[i.sx]=r}))}return e.__ieDyn=1,e}();function f(e){return e||new h}function v(e,t,n,r,i,o){void 0===o&&(o=!1),f(e).throwInternal(t,n,r,i,o)}function g(e,t){f(e)[c.Tj](t)}function m(e,t,n){f(e)[i.sx](t,n)}},44180:(e,t,n)=>{"use strict";n.d(t,{$Z:()=>te,EH:()=>R,FJ:()=>H,Iu:()=>ne,JK:()=>F,L0:()=>z,MY:()=>B,PV:()=>Q,R7:()=>J,U5:()=>U,Uf:()=>X,Vd:()=>D,Wt:()=>A,YE:()=>N,Z:()=>W,cU:()=>O,g$:()=>V,hm:()=>q,iN:()=>$,lT:()=>G,lV:()=>K,mm:()=>Y,tw:()=>L,w3:()=>M,w9:()=>j,xk:()=>Z,zk:()=>k});var r=n(47672),i=n(75148),o=n(60830),s=n(12497),a=n(1972),c="window",l="document",u="documentMode",p="navigator",d="history",h="location",f="console",v="performance",g="JSON",m="crypto",y="msCrypto",b="ReactNative",_="msie",E="trident/",S="XMLHttpRequest",w=null,P=null,T=!1,C=null,x=null;function I(e,t){var n=!1;if(e){try{if(!(n=t in e)){var i=e[r.vR];i&&(n=t in i)}}catch(e){}if(!n)try{var o=new e;n=!(0,s.b0)(o[t])}catch(e){}}return n}function O(e){T=e}function R(e){var t=(0,i.mS)();return t&&t[e]?t[e]:e===c&&D()?window:null}function D(){return Boolean(typeof window===r._1&&window)}function k(){return D()?window:R(c)}function A(){return Boolean(typeof document===r._1&&document)}function N(){return A()?document:R(l)}function j(){return Boolean(typeof navigator===r._1&&navigator)}function M(){return j()?navigator:R(p)}function L(){return Boolean(typeof history===r._1&&history)}function F(){return L()?history:R(d)}function V(e){if(e&&T){var t=R("__mockLocation");if(t)return t}return typeof location===r._1&&location?location:R(h)}function U(){return typeof console!==r.bA?console:R(f)}function H(){return R(v)}function W(){return Boolean(typeof JSON===r._1&&JSON||null!==R(g))}function q(){return W()?JSON||R(g):null}function B(){return R(m)}function $(){return R(y)}function K(){var e=M();return!(!e||!e.product)&&e.product===b}function G(){var e=M();if(e&&(e[o.tX]!==P||null===w)){var t=((P=e[o.tX])||a.m5)[o.OL]();w=(0,s.Ju)(t,_)||(0,s.Ju)(t,E)}return w}function z(e){if(void 0===e&&(e=null),!e){var t=M()||{};e=t?(t[o.tX]||a.m5)[o.OL]():a.m5}var n=(e||a.m5)[o.OL]();if((0,s.Ju)(n,_)){var r=N()||{};return Math.max(parseInt(n[o.sY](_)[1]),r[u]||0)}if((0,s.Ju)(n,E)){var i=parseInt(n[o.sY](E)[1]);if(i)return i+4}return null}function Y(e){var t=Object[r.vR].toString[o.Ek](e),n=a.m5;return"[object Error]"===t?n="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e[o.RS]+"'":W()&&(n=q().stringify(e)),t+n}function X(){return null===x&&(x=j()&&Boolean(M().sendBeacon)),x}function J(e){var t=!1;try{t=!!R("fetch");var n=R("Request");t&&e&&n&&(t=I(n,"keepalive"))}catch(e){}return t}function Q(){return null===C&&(C=typeof XDomainRequest!==r.bA)&&Z()&&(C=C&&!I(R(S),"withCredentials")),C}function Z(){var e=!1;try{e=!!R(S)}catch(e){}return e}function ee(e,t){if(e)for(var n=0;n<e[o.oI];n++){var r=e[n];if(r[o.RS]&&r[o.RS]===t)return r}return{}}function te(e){var t=N();return t&&e?ee(t.querySelectorAll("meta"),e).content:null}function ne(e){var t,n=H();if(n){var r=n.getEntriesByType("navigation")||[];t=ee((r[o.oI]>0?r[0]:{}).serverTiming,e).description}return t}},18413:(e,t,n)=>{"use strict";n.d(t,{Ds:()=>q,El:()=>I,Fc:()=>B,Hm:()=>k,ML:()=>N,Q3:()=>j,So:()=>L,Wg:()=>H,Ym:()=>M,ee:()=>W,lQ:()=>U,mB:()=>A,oS:()=>K,sq:()=>$,vF:()=>G,zh:()=>F});var r=n(60830),i=n(64252),o=n(44180),s=n(12497),a=n(1972),c="on",l="attachEvent",u="addEventListener",p="detachEvent",d="removeEventListener",h="events",f="visibilitychange",v="pagehide",g="pageshow",m="unload",y="beforeunload",b=(0,i.Z)("aiEvtPageHide"),_=(0,i.Z)("aiEvtPageShow"),E=/\.[\.]+/g,S=/[\.]+$/,w=1,P=(0,i.T)("events"),T=/^([^.]*)(?:\.(.+)|)/;function C(e){return e&&e[r.W7]?e[r.W7](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,a.m5):e}function x(e,t){var n;if(t){var i=a.m5;(0,s.cy)(t)?(i=a.m5,(0,s.Iu)(t,(function(e){(e=C(e))&&("."!==e[0]&&(e="."+e),i+=e)}))):i=C(t),i&&("."!==i[0]&&(i="."+i),e=(e||a.m5)+i)}var o=T.exec(e||a.m5)||[];return(n={})[r.QM]=o[1],n.ns=(o[2]||a.m5).replace(E,".").replace(S,a.m5)[r.sY](".").sort().join("."),n}function I(e,t,n){var i=[],o=P.get(e,h,{},!1),c=x(t,n);return(0,s.z)(o,(function(e,t){(0,s.Iu)(t,(function(e){var t;c[r.QM]&&c[r.QM]!==e.evtName[r.QM]||c.ns&&c.ns!=c.ns||i[r.y5](((t={})[r.RS]=e.evtName[r.QM]+(e.evtName.ns?"."+e.evtName.ns:a.m5),t.handler=e[r.Yo],t))}))})),i}function O(e,t,n){void 0===n&&(n=!0);var r=P.get(e,h,{},n),i=r[t];return i||(i=r[t]=[]),i}function R(e,t,n,i){e&&t&&t[r.QM]&&(e[d]?e[d](t[r.QM],n,i):e[p]&&e[p](c+t[r.QM],n))}function D(e,t,n,i){for(var o=t[r.oI];o--;){var s=t[o];s&&(n.ns&&n.ns!==s.evtName.ns||i&&!i(s)||(R(e,s.evtName,s[r.Yo],s.capture),t[r.Ic](o,1)))}}function k(e,t){return t?x("xx",(0,s.cy)(t)?[e].concat(t):[e,t]).ns[r.sY]("."):e}function A(e,t,n,i,o){var s;void 0===o&&(o=!1);var a=!1;if(e)try{var p=x(t,i);if(a=function(e,t,n,i){var o=!1;return e&&t&&t[r.QM]&&n&&(e[u]?(e[u](t[r.QM],n,i),o=!0):e[l]&&(e[l](c+t[r.QM],n),o=!0)),o}(e,p,n,o),a&&P.accept(e)){var d=((s={guid:w++,evtName:p})[r.Yo]=n,s.capture=o,s);O(e,p.type)[r.y5](d)}}catch(e){}return a}function N(e,t,n,i,o){if(void 0===o&&(o=!1),e)try{var a=x(t,i),c=!1;!function(e,t,n){if(t[r.QM])D(e,O(e,t[r.QM]),t,n);else{var i=P.get(e,h,{});(0,s.z)(i,(function(r,i){D(e,i,t,n)})),0===(0,s.cG)(i)[r.oI]&&P.kill(e,h)}}(e,a,(function(e){return!((!a.ns||n)&&e[r.Yo]!==n||(c=!0,0))})),c||R(e,a,n,o)}catch(e){}}function j(e,t,n,r){return void 0===r&&(r=!1),A(e,t,n,null,r)}function M(e,t,n,r){void 0===r&&(r=!1),N(e,t,n,null,r)}function L(e,t,n){var r=!1,i=(0,o.zk)();i&&(r=A(i,e,t,n),r=A(i.body,e,t,n)||r);var s=(0,o.YE)();return s&&(r=A(s,e,t,n)||r),r}function F(e,t,n){var r=(0,o.zk)();r&&(N(r,e,t,n),N(r.body,e,t,n));var i=(0,o.YE)();i&&N(i,e,t,n)}function V(e,t,n,i){var o=!1;return t&&e&&e[r.oI]>0&&(0,s.Iu)(e,(function(e){e&&(n&&-1!==(0,s.rD)(n,e)||(o=L(e,t,i)||o))})),o}function U(e,t,n,i){var o=!1;return t&&e&&(0,s.cy)(e)&&!(o=V(e,t,n,i))&&n&&n[r.oI]>0&&(o=V(e,t,null,i)),o}function H(e,t,n){e&&(0,s.cy)(e)&&(0,s.Iu)(e,(function(e){e&&F(e,t,n)}))}function W(e,t,n){return U([y,m,v],e,t,n)}function q(e,t){H([y,m,v],e,t)}function B(e,t,n){var r=k(b,n),i=V([v],e,t,r);return t&&-1!==(0,s.rD)(t,f)||(i=V([f],(function(t){var n=(0,o.YE)();e&&n&&"hidden"===n.visibilityState&&e(t)}),t,r)||i),!i&&t&&(i=B(e,null,n)),i}function $(e,t){var n=k(b,t);H([v],e,n),H([f],null,n)}function K(e,t,n){var r=k(_,n),i=V([g],e,t,r);return!(i=V([f],(function(t){var n=(0,o.YE)();e&&n&&"visible"===n.visibilityState&&e(t)}),t,r)||i)&&t&&(i=K(e,null,n)),i}function G(e,t){var n=k(_,t);H([g],e,n),H([f],null,n)}},12497:(e,t,n)=>{"use strict";n.d(t,{$8:()=>_e,$P:()=>K,CP:()=>Ce,Cv:()=>q,EH:()=>ie,Ed:()=>N,Et:()=>X,Gh:()=>L,Gv:()=>V,Iu:()=>ee,Ju:()=>$,KT:()=>re,KY:()=>ve,Kg:()=>Y,Lm:()=>J,N6:()=>pe,RF:()=>we,SA:()=>me,Tn:()=>U,W$:()=>ne,_u:()=>Z,b0:()=>j,bJ:()=>z,c2:()=>ge,cG:()=>ae,cH:()=>H,cy:()=>G,hW:()=>Te,hX:()=>M,js:()=>de,lL:()=>fe,mQ:()=>F,o$:()=>Pe,ol:()=>ue,qz:()=>Se,r:()=>ce,rD:()=>te,tG:()=>B,wo:()=>ye,x3:()=>he,z:()=>W,zz:()=>be});var r=n(47672),i=n(75148),o=n(60830),s=n(1972),a="toISOString",c="endsWith",l="startsWith",u="indexOf",p="map",d="reduce",h="trim",f="toString",v="__proto__",g="constructor",m=r.KU,y=r.s6.freeze,b=r.s6.seal,_=r.s6.keys,E=String[r.vR],S=E[h],w=E[c],P=E[l],T=Date[r.vR][a],C=Array.isArray,x=r.Wy[f],I=r.J$[f],O=I[o.Ek](r.s6),R=/-([a-z])/g,D=/([^\w\d_$])/g,k=/^(\d+[\w\d_$])/,A=Object.getPrototypeOf;function N(e,t){return typeof e===t}function j(e){return void 0===e||typeof e===r.bA}function M(e){return null===e||j(e)}function L(e){return!M(e)}function F(e,t){return!(!e||!r.J$[o.Ek](e,t))}function V(e){return!(!e||typeof e!==r._1)}function U(e){return!(!e||typeof e!==r.hW)}function H(e){var t=e;return t&&Y(t)&&(t=(t=(t=t[o.W7](R,(function(e,t){return t.toUpperCase()})))[o.W7](D,"_"))[o.W7](k,(function(e,t){return"_"+t}))),t}function W(e,t){if(e)for(var n in e)r.J$[o.Ek](e,n)&&t[o.Ek](e,n,e[n])}function q(e,t){var n=!1;return e&&t&&!(n=e===t)&&(n=w?e[c](t):function(e,t){var n=!1,r=t?t[o.oI]:0,i=e?e[o.oI]:0;if(r&&i&&i>=r&&!(n=e===t)){for(var s=i-1,a=r-1;a>=0;a--){if(e[s]!=t[a])return!1;s--}n=!0}return n}(e,t)),n}function B(e,t){var n=!1;return e&&t&&!(n=e===t)&&(n=P?e[l](t):function(e,t){var n=!1,r=t?t[o.oI]:0;if(e&&r&&e[o.oI]>=r&&!(n=e===t)){for(var i=0;i<r;i++)if(e[i]!==t[i])return!1;n=!0}return n}(e,t)),n}function $(e,t){return!(!e||!t)&&-1!==e[o.Sj](t)}function K(e){return!(!e||"[object Date]"!==x[o.Ek](e))}var G=C||function(e){return!(!e||"[object Array]"!==x[o.Ek](e))};function z(e){return!(!e||"[object Error]"!==x[o.Ek](e))}function Y(e){return"string"==typeof e}function X(e){return"number"==typeof e}function J(e){return"boolean"==typeof e}function Q(e){var t=!1;if(e&&"object"==typeof e){var n=A?A(e):function(e){if(e){if(A)return A(e);var t=e[v]||e[r.vR]||e[g];if(t)return t}return null}(e);n?(n[g]&&r.J$[o.Ek](n,g)&&(n=n[g]),t=typeof n===r.hW&&I[o.Ek](n)===O):t=!0}return t}function Z(e){if(e)return T?e[a]():function(e){if(e&&e.getUTCFullYear){var t=function(e){var t=String(e);return 1===t[o.oI]&&(t="0"+t),t};return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}(e)}function ee(e,t,n){var r=e[o.oI];try{for(var i=0;i<r&&(!(i in e)||-1!==t[o.Ek](n||e,e[i],i,e));i++);}catch(e){}}function te(e,t,n){if(e){if(e[u])return e[u](t,n);var r=e[o.oI],i=n||0;try{for(var s=Math.max(i>=0?i:r-Math.abs(i),0);s<r;s++)if(s in e&&e[s]===t)return s}catch(e){}}return-1}function ne(e,t,n){var r;if(e){if(e[p])return e[p](t,n);var i=e[o.oI],s=n||e;r=new Array(i);try{for(var a=0;a<i;a++)a in e&&(r[a]=t[o.Ek](s,e[a],e))}catch(e){}}return r}function re(e,t,n){var r;if(e){if(e[d])return e[d](t,n);var i=e[o.oI],s=0;if(arguments[o.oI]>=3)r=arguments[2];else{for(;s<i&&!(s in e);)s++;r=e[s++]}for(;s<i;)s in e&&(r=t(r,e[s],s,e)),s++}return r}function ie(e){return e&&(e=S&&e[h]?e[h]():e[o.W7]?e[o.W7](/^\s+|(?=\s)\s+$/g,s.m5):e),e}var oe=!{toString:null}.propertyIsEnumerable("toString"),se=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];function ae(e){var t=typeof e;if(t===r.hW||t===r._1&&null!==e||(0,i.zk)("objKeys called on non-object"),!oe&&_)return _(e);var n=[];for(var s in e)e&&r.J$[o.Ek](e,s)&&n[o.y5](s);if(oe)for(var a=se[o.oI],c=0;c<a;c++)e&&r.J$[o.Ek](e,se[c])&&n[o.y5](se[c]);return n}function ce(e,t,n,r){if(m)try{var i={enumerable:!0,configurable:!0};return n&&(i.get=n),r&&(i.set=r),m(e,t,i),!0}catch(e){}return!1}function le(e){return e}function ue(e){return y&&W(e,(function(e,t){(G(t)||V(t))&&y(t)})),pe(e)}var pe=y||le,de=b||le;function he(){var e=Date;return e.now?e.now():(new e).getTime()}function fe(e){return z(e)?e[o.RS]:s.m5}function ve(e,t,n,r,i){var o=n;return e&&((o=e[t])===n||i&&!i(o)||r&&!r(n)||(o=n,e[t]=o)),o}function ge(e,t,n){var r;return e?!(r=e[t])&&M(r)&&(r=j(n)?{}:n,e[t]=r):r=j(n)?{}:n,r}function me(e,t){return M(e)?t:e}function ye(e){return!e}function be(e){return!!e}function _e(e){throw new Error(e)}function Ee(e,t){var n=null,r=null;return U(e)?n=e:r=e,function(){var e=arguments;if(n&&(r=n()),r)return r[t][o.y9](r,e)}}function Se(e,t,n){if(e&&t&&V(e)&&V(t)){var r=function(r){if(Y(r)){var i=t[r];U(i)?n&&!n(r,!0,t,e)||(e[r]=Ee(t,r)):n&&!n(r,!1,t,e)||(F(e,r)&&delete e[r],ce(e,r,(function(){return t[r]}),(function(e){t[r]=e}))||(e[r]=i))}};for(var i in t)r(i)}return e}function we(e,t,n,r,i){e&&t&&n&&(!1!==i||j(e[t]))&&(e[t]=Ee(n,r))}function Pe(e,t,n,r){return e&&t&&V(e)&&G(n)&&ee(n,(function(n){Y(n)&&we(e,n,t,n,r)})),e}function Te(e){return e&&r.zi&&(e=(0,r.s6)((0,r.zi)({},e))),e}function Ce(e,t,n,i,s,a){var c=arguments,l=c[0]||{},u=c[o.oI],p=!1,d=1;for(u>0&&J(l)&&(p=l,l=c[d]||{},d++),V(l)||(l={});d<u;d++){var h=c[d],f=G(h),v=V(h);for(var g in h)if(f&&g in h||v&&r.J$[o.Ek](h,g)){var m=h[g],y=void 0;if(p&&m&&((y=G(m))||Q(m))){var b=l[g];y?G(b)||(b=[]):Q(b)||(b={}),m=Ce(p,b,m)}void 0!==m&&(l[g]=m)}}return l}},1972:(e,t,n)=>{"use strict";n.d(t,{Bw:()=>c,Hr:()=>a,LZ:()=>i,Tj:()=>m,Vo:()=>p,Yd:()=>s,Yp:()=>h,Zi:()=>g,dI:()=>f,eT:()=>o,fc:()=>d,jy:()=>l,kI:()=>y,l0:()=>v,m5:()=>r,qT:()=>u});var r="",i="channels",o="core",s="createPerfMgr",a="disabled",c="extensionConfig",l="extensions",u="processTelemetry",p="priority",d="eventsSent",h="eventsDiscarded",f="eventsSendRequest",v="perfEvent",g="errorToConsole",m="warnToConsole",y="getPerfMgr"},5204:(e,t,n)=>{"use strict";n.d(t,{NS:()=>d,Q6:()=>p,Z4:()=>v,r2:()=>f});var r=n(92457),i=n(60830),o=n(12497),s=n(1972),a="ctx",c="ParentContextKey",l="ChildrenContextKey",u=null,p=function(){function e(t,n,r){var s,u=this,p=!1;u.start=(0,o.x3)(),u[i.RS]=t,u[i.tI]=r,u[i.Zu]=function(){return!1},(0,o.Tn)(n)&&(p=(0,o.r)(u,"payload",(function(){return!s&&(0,o.Tn)(n)&&(s=n(),n=null),s}))),u[i.O_]=function(t){return t?t===e[c]||t===e[l]?u[t]:(u[a]||{})[t]:null},u[i.e_]=function(t,n){t&&(t===e[c]?(u[t]||(u[i.Zu]=function(){return!0}),u[t]=n):t===e[l]?u[t]=n:(u[a]=u[a]||{})[t]=n)},u[i.Ru]=function(){var t=0,r=u[i.O_](e[l]);if((0,o.cy)(r))for(var s=0;s<r[i.oI];s++){var a=r[s];a&&(t+=a[i.fA])}u[i.fA]=(0,o.x3)()-u.start,u.exTime=u[i.fA]-t,u[i.Ru]=function(){},!p&&(0,o.Tn)(n)&&(u.payload=n())}}return e.ParentContextKey="parent",e.ChildrenContextKey="childEvts",e}(),d=function(){function e(t){this.ctx={},(0,r.A)(e,this,(function(e){e.create=function(e,t,n){return new p(e,t,n)},e.fire=function(e){e&&(e[i.Ru](),t&&(0,o.Tn)(t[s.l0])&&t[s.l0](e))},e[i.e_]=function(t,n){t&&((e[a]=e[a]||{})[t]=n)},e[i.O_]=function(t){return(e[a]||{})[t]}}))}return e.__ieDyn=1,e}(),h="CoreUtils.doPerf";function f(e,t,n,r,o){if(e){var a=e;if(a[s.kI]&&(a=a[s.kI]()),a){var u=void 0,d=a[i.O_](h);try{if(u=a.create(t(),r,o)){if(d&&u[i.e_]&&(u[i.e_](p[c],d),d[i.O_]&&d[i.e_])){var f=d[i.O_](p[l]);f||(f=[],d[i.e_](p[l],f)),f[i.y5](u)}return a[i.e_](h,u),n(u)}}catch(e){u&&u[i.e_]&&u[i.e_]("exception",e)}finally{u&&a.fire(u),a[i.e_](h,d)}}}return n()}function v(){return u}},8997:(e,t,n)=>{"use strict";n.d(t,{PV:()=>y,W0:()=>b,i8:()=>v,nU:()=>m,tS:()=>g});var r=n(60830),i=n(99015),o=n(44180),s=n(12497),a=n(1972),c=n(5204),l=n(33540),u="TelemetryPluginChain",p="_hasRun",d="_getTelCtx",h=0;function f(e,t,n,c){var l=null,u=[];null!==c&&(l=c?function(e,t,n){for(;e;){if(e[r.AP]()===n)return e;e=e[r.uR]()}return y([n],t[r.GA]||{},t)}(e,n,c):e);var p={_next:function(){var e=l;if(l=e?e[r.uR]():null,!e){var t=u;t&&t[r.oI]>0&&((0,s.Iu)(t,(function(e){try{e.func[r.Ek](e.self,e.args)}catch(e){(0,i.ZP)(n[r.Uw],2,73,"Unexpected Exception during onComplete - "+(0,o.mm)(e))}})),u=[])}return e},ctx:{core:function(){return n},diagLog:function(){return(0,i.y0)(n,t)},getCfg:function(){return t},getExtCfg:d,getConfig:function(e,n,r){void 0===r&&(r=!1);var i,o=d(e,null);return o&&!(0,s.hX)(o[n])?i=o[n]:t&&!(0,s.hX)(t[n])&&(i=t[n]),(0,s.hX)(i)?r:i},hasNext:function(){return!!l},getNext:function(){return l},setNext:function(e){l=e},iterate:function(e){for(var t;t=p._next();){var n=t[r.AP]();n&&e(n)}},onComplete:function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];e&&u[r.y5]({func:e,self:(0,s.b0)(t)?p.ctx:t,args:n})}}};function d(e,n,r){var i;if(void 0===n&&(n={}),void 0===r&&(r=0),t){var o=t[a.Bw];o&&e&&(i=o[e])}if(i){if((0,s.Gv)(n)&&0!==r){var c=(0,s.CP)(!0,n,i);t&&2===r&&(0,s.z)(n,(function(e){if((0,s.hX)(c[e])){var n=t[e];(0,s.hX)(n)||(c[e]=n)}})),i=c}}else i=n;return i}return p}function v(e,t,n,i){var o=f(e,t,n,i),c=o.ctx;return c[r.$5]=function(e){var t=o._next();return t&&t[a.qT](e,c),!t},c[r.$o]=function(e,i){return void 0===e&&(e=null),(0,s.cy)(e)&&(e=y(e,t,n,i)),v(e||c[r.uR](),t,n,i)},c}function g(e,t,n){var i=t[r.GA]||{},o=f(e,i,t,n),a=o.ctx;return a[r.$5]=function(e){var t=o._next();return t&&t.unload(a,e),!t},a[r.$o]=function(e,n){return void 0===e&&(e=null),(0,s.cy)(e)&&(e=y(e,i,t,n)),g(e||a[r.uR](),t,n)},a}function m(e,t,n){var i=t[r.GA]||{},o=f(e,i,t,n).ctx;return o[r.$5]=function(e){return o.iterate((function(t){(0,s.Tn)(t[r.HC])&&t[r.HC](o,e)}))},o[r.$o]=function(e,n){return void 0===e&&(e=null),(0,s.cy)(e)&&(e=y(e,i,t,n)),m(e||o[r.uR](),t,n)},o}function y(e,t,n,f){var g=null,m=!f;if((0,s.cy)(e)&&e[r.oI]>0){var b=null;(0,s.Iu)(e,(function(e){if(m||f!==e||(m=!0),m&&e&&(0,s.Tn)(e[a.qT])){var y=function(e,t,n){var f,g=null,m=(0,s.Tn)(e[a.qT]),y=(0,s.Tn)(e[r.YH]),b={getPlugin:function(){return e},getNext:function(){return g},processTelemetry:function(i,o){_(o=o||function(){var r;return e&&(0,s.Tn)(e[d])&&(r=e[d]()),r||(r=v(b,t,n)),r}(),(function(t){if(!e||!m)return!1;var n=(0,l.Cr)(e);return!n[r.Ik]&&!n[a.Hr]&&(y&&e[r.YH](g),e[a.qT](i,t),!0)}),"processTelemetry",(function(){return{item:i}}),!i.sync)||o[r.$5](i)},unload:function(t,n){_(t,(function(){var i=!1;if(e){var o=(0,l.Cr)(e),s=e[a.eT]||o[a.eT];!e||s&&s!==t.core()||o[r.Ik]||(o[a.eT]=null,o[r.Ik]=!0,o[r.tZ]=!1,e[r.Ik]&&!0===e[r.Ik](t,n)&&(i=!0))}return i}),"unload",(function(){}),n[r.tI])||t[r.$5](n)},update:function(t,n){_(t,(function(){var i=!1;if(e){var o=(0,l.Cr)(e),s=e[a.eT]||o[a.eT];!e||s&&s!==t.core()||o[r.Ik]||e[r.HC]&&!0===e[r.HC](t,n)&&(i=!0)}return i}),"update",(function(){}),!1)||t[r.$5](n)},_id:f=e?e[r.Ju]+"-"+e[a.Vo]+"-"+h++:"Unknown-0-"+h++,_setNext:function(e){g=e}};function _(t,n,s,l,d){var h=!1,v=e?e[r.Ju]:u,m=t[p];return m||(m=t[p]={}),t.setNext(g),e&&(0,c.r2)(t[a.eT](),(function(){return v+":"+s}),(function(){m[f]=!0;try{var e=g?g._id:a.m5;e&&(m[e]=!1),h=n(t)}catch(e){var c=!g||m[g._id];c&&(h=!0),g&&c||(0,i.ZP)(t[r.e4](),1,73,"Plugin ["+v+"] failed during "+s+" - "+(0,o.mm)(e)+", run flags: "+(0,o.mm)(m))}}),l,d),h}return(0,s.N6)(b)}(e,t,n);g||(g=y),b&&b._setNext(y),b=y}}))}return f&&!g?y([f],t,n):g}var b=function(e,t,n,r){var i=v(e,t,n,r);(0,s.o$)(this,i,(0,s.cG)(i))}},57679:(e,t,n)=>{"use strict";n.d(t,{Si:()=>y,VN:()=>v,Z1:()=>f,k5:()=>m,yc:()=>g});var r=n(60830),i=n(44180),o=n(12497),s=n(1972),a=4294967296,c=4294967295,l=!1,u=123456789,p=987654321;function d(e){e<0&&(e>>>=0),u=123456789+e&c,p=987654321-e&c,l=!0}function h(){try{var e=2147483647&(0,o.x3)();d((Math.random()*a^e)+e)}catch(e){}}function f(e){return e>0?Math.floor(v()/c*(e+1))>>>0:0}function v(e){var t=0,n=(0,i.MY)()||(0,i.iN)();return n&&n.getRandomValues&&(t=n.getRandomValues(new Uint32Array(1))[0]&c),0===t&&(0,i.lT)()&&(l||h(),t=m()&c),0===t&&(t=Math.floor(a*Math.random()|0)),e||(t>>>=0),t}function g(e){e?d(e):h()}function m(e){var t=((p=36969*(65535&p)+(p>>16)&c)<<16)+(65535&(u=18e3*(65535&u)+(u>>16)&c))>>>0&c;return e||(t>>>=0),t}function y(e){void 0===e&&(e=22);for(var t=v()>>>0,n=0,i=s.m5;i[r.oI]<e;)n++,i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&t),t>>>=6,5===n&&(t=(v()<<2&4294967295|3&t)>>>0,n=0);return i}},33540:(e,t,n)=>{"use strict";n.d(t,{Cr:()=>l,Xc:()=>p,pI:()=>u,u7:()=>d});var r=n(60830),i=n(64252),o=n(12497),s=n(1972),a=n(68560),c=(0,i.T)("plugin");function l(e){return c.get(e,"state",{},!0)}function u(e,t){for(var n,i=[],a=null,c=e[r.uR]();c;){var u=c[r.AP]();u&&(a&&(0,o.Tn)(a[r.YH])&&(0,o.Tn)(u[s.qT])&&a[r.YH](u),((0,o.Tn)(u[r.tZ])?u[r.tZ]():(n=l(u))[r.tZ])||i[r.y5](u),a=u,c=c[r.uR]())}(0,o.Iu)(i,(function(i){var o=e[s.eT]();i[r.mE](e.getCfg(),o,t,e[r.uR]()),n=l(i),i[s.eT]||n[s.eT]||(n[s.eT]=o),n[r.tZ]=!0,delete n[r.Ik]}))}function p(e){return e.sort((function(e,t){var n=0;if(t){var r=(0,o.Tn)(t[s.qT]);(0,o.Tn)(e[s.qT])?n=r?e[s.Vo]-t[s.Vo]:1:r&&(n=-1)}else n=e?1:-1;return n}))}function d(e){var t={};return{getName:function(){return t[r.RS]},setName:function(n){e&&e.setName(n),t[r.RS]=n},getTraceId:function(){return t[r.P5]},setTraceId:function(n){e&&e.setTraceId(n),(0,a.hX)(n)&&(t[r.P5]=n)},getSpanId:function(){return t[r.wi]},setSpanId:function(n){e&&e.setSpanId(n),(0,a.wN)(n)&&(t[r.wi]=n)},getTraceFlags:function(){return t[r.Rr]},setTraceFlags:function(n){e&&e.setTraceFlags(n),t[r.Rr]=n}}}},49388:(e,t,n)=>{"use strict";n.d(t,{P:()=>a});var r=n(60830),i=n(99015),o=n(44180),s=n(12497);function a(){var e=[];return{add:function(t){t&&e[r.y5](t)},run:function(t,n){(0,s.Iu)(e,(function(e){try{e(t,n)}catch(e){(0,i.ZP)(t[r.e4](),2,73,"Unexpected error calling unload handler - "+(0,o.mm)(e))}})),e=[]}}}},68560:(e,t,n)=>{"use strict";n.d(t,{L0:()=>S,N7:()=>E,ZI:()=>m,ef:()=>w,hX:()=>y,mJ:()=>_,wN:()=>b,wk:()=>g});var r=n(60830),i=n(32578),o=n(44180),s=n(12497),a=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]*)?$/,c="00",l="ff",u="00000000000000000000000000000000",p="0000000000000000",d=1;function h(e,t,n){return!(!e||e[r.oI]!==t||e===n||!e.match(/^[\da-f]*$/))}function f(e,t,n){return h(e,t)?e:n}function v(e){(isNaN(e)||e<0||e>255)&&(e=1);for(var t=e.toString(16);t[r.oI]<2;)t="0"+t;return t}function g(e,t,n,o){var s;return(s={})[r.s]=h(o,2,l)?o:c,s[r.P5]=y(e)?e:(0,i.cL)(),s.spanId=b(t)?t:(0,i.cL)()[r.$4](0,16),s.traceFlags=n>=0&&n<=255?n:1,s}function m(e){var t;if(!e)return null;if((0,s.cy)(e)&&(e=e[0]||""),!e||!(0,s.Kg)(e)||e[r.oI]>8192)return null;var n=a.exec((0,s.EH)(e));return n&&n[1]!==l&&n[2]!==u&&n[3]!==p?((t={})[r.s]=n[1],t[r.P5]=n[2],t[r.wi]=n[3],t[r.Rr]=parseInt(n[4],16),t):null}function y(e){return h(e,32,u)}function b(e){return h(e,16,p)}function _(e){return!!(e&&h(e[r.s],2,l)&&h(e[r.P5],32,u)&&h(e[r.wi],16,p)&&h(v(e[r.Rr]),2))}function E(e){return!!_(e)&&(e[r.Rr]&d)===d}function S(e){if(e){var t=v(e[r.Rr]);h(t,2)||(t="01");var n=e[r.s]||c;return"00"!==n&&"ff"!==n&&(n=c),"".concat(n,"-").concat(f(e.traceId,32,u),"-").concat(f(e.spanId,16,p),"-").concat(t)}return""}function w(){var e="traceparent",t=m((0,o.$Z)(e));return t||(t=m((0,o.Iu)(e))),t}},60830:(e,t,n)=>{"use strict";n.d(t,{$4:()=>U,$5:()=>f,$o:()=>A,AP:()=>_,Di:()=>y,EX:()=>E,Ek:()=>G,GA:()=>l,H7:()=>S,HC:()=>O,Ic:()=>w,Ik:()=>P,JR:()=>T,Ju:()=>s,OL:()=>K,O_:()=>Q,P5:()=>te,QM:()=>z,RF:()=>o,RS:()=>i,Re:()=>M,Rr:()=>re,Ru:()=>ee,Sj:()=>j,TP:()=>m,Uw:()=>p,W7:()=>q,YH:()=>k,Yo:()=>Y,Zu:()=>J,a$:()=>B,by:()=>b,e4:()=>D,e_:()=>Z,fA:()=>h,kt:()=>V,lJ:()=>X,lK:()=>N,mE:()=>r,oI:()=>d,pM:()=>C,ps:()=>v,re:()=>H,s:()=>ie,sY:()=>F,sl:()=>u,sx:()=>$,tI:()=>x,tX:()=>L,tZ:()=>c,tn:()=>I,uR:()=>R,vR:()=>g,wi:()=>ne,y5:()=>a,y9:()=>W});var r="initialize",i="name",o="getNotifyMgr",s="identifier",a="push",c="isInitialized",l="config",u="instrumentationKey",p="logger",d="length",h="time",f="processNext",v="getProcessTelContext",g="addNotificationListener",m="removeNotificationListener",y="stopPollingInternalLogs",b="onComplete",_="getPlugin",E="flush",S="_extensions",w="splice",P="teardown",T="messageId",C="message",x="isAsync",I="_doTeardown",O="update",R="getNext",D="diagLog",k="setNextPlugin",A="createNew",N="cookieCfg",j="indexOf",M="substring",L="userAgent",F="split",V="setEnabled",U="substr",H="nodeType",W="apply",q="replace",B="enableDebugExceptions",$="logInternalMessage",K="toLowerCase",G="call",z="type",Y="handler",X="listeners",J="isChildEvt",Q="getCtx",Z="setCtx",ee="complete",te="traceId",ne="spanId",re="traceFlags",ie="version"},47672:(e,t,n)=>{"use strict";n.d(t,{J$:()=>h,KU:()=>d,OR:()=>p,QV:()=>a,Wy:()=>l,_1:()=>i,bA:()=>o,hW:()=>r,s6:()=>c,vR:()=>s,zi:()=>u});var r="function",i="object",o="undefined",s="prototype",a="hasOwnProperty",c=Object,l=c[s],u=c.assign,p=c.create,d=c.defineProperty,h=l[a]},75148:(e,t,n)=>{"use strict";n.d(t,{AQ:()=>a,mS:()=>o,zk:()=>s});var r=n(47672),i=null;function o(e){void 0===e&&(e=!0);var t=!1===e?null:i;return t||(typeof globalThis!==r.bA&&(t=globalThis),t||typeof self===r.bA||(t=self),t||typeof window===r.bA||(t=window),t||typeof global===r.bA||(t=global),i=t),t}function s(e){throw new TypeError(e)}function a(e){var t=r.OR;if(t)return t(e);if(null==e)return{};var n=typeof e;function i(){}return n!==r._1&&n!==r.hW&&s("Object prototype may only be an Object:"+e),i[r.vR]=e,new i}},8747:(e,t,n)=>{"use strict";n.d(t,{Im:()=>o,qU:()=>a,vz:()=>c});var r=n(47672),i=n(75148),o=(((0,i.mS)()||{}).Symbol,((0,i.mS)()||{}).Reflect,r.zi||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])r.Wy[r.QV].call(t,o)&&(e[o]=t[o]);return e}),s=function(e,t){return s=r.s6.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t[r.QV](n)&&(e[n]=t[n])},s(e,t)};function a(e,t){function n(){this.constructor=e}typeof t!==r.hW&&null!==t&&(0,i.zk)("Class extends value "+String(t)+" is not a constructor or null"),s(e,t),e[r.vR]=null===t?(0,i.AQ)(t):(n[r.vR]=t[r.vR],new n)}function c(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}},5135:(e,t,n)=>{"use strict";n.r(t),n.d(t,{webSnippet:()=>r});var r='!function(T,l,y){var S=T.location,k="script",D="instrumentationKey",C="ingestionendpoint",I="disableExceptionTracking",E="ai.device.",b="toLowerCase",w="crossOrigin",N="POST",e="appInsightsSDK",t=y.name||"appInsights";(y.name||T[e])&&(T[e]=t);var n=T[t]||function(d){var g=!1,f=!1,m={initialize:!0,queue:[],sv:"5",version:2,config:d};function v(e,t){var n={},a="Browser";return n[E+"id"]=a[b](),n[E+"type"]=a,n["ai.operation.name"]=S&&S.pathname||"_unknown_",n["ai.internal.sdkVersion"]="javascript:snippet_"+(m.sv||m.version),{time:function(){var e=new Date;function t(e){var t=""+e;return 1===t.length&&(t="0"+t),t}return e.getUTCFullYear()+"-"+t(1+e.getUTCMonth())+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+((e.getUTCMilliseconds()/1e3).toFixed(3)+"").slice(2,5)+"Z"}(),iKey:e,name:"Microsoft.ApplicationInsights."+e.replace(/-/g,"")+"."+t,sampleRate:100,tags:n,data:{baseData:{ver:2}}}}var h=d.url||y.src;if(h){function a(e){var t,n,a,i,r,o,s,c,u,p,l;g=!0,m.queue=[],f||(f=!0,t=h,s=function(){var e={},t=d.connectionString;if(t)for(var n=t.split(";"),a=0;a<n.length;a++){var i=n[a].split("=");2===i.length&&(e[i[0][b]()]=i[1])}if(!e[C]){var r=e.endpointsuffix,o=r?e.location:null;e[C]="https://"+(o?o+".":"")+"dc."+(r||"services.visualstudio.com")}return e}(),c=s[D]||d[D]||"",u=s[C],p=u?u+"/v2/track":d.endpointUrl,(l=[]).push((n="SDK LOAD Failure: Failed to load Application Insights SDK script (See stack for details)",a=t,i=p,(o=(r=v(c,"Exception")).data).baseType="ExceptionData",o.baseData.exceptions=[{typeName:"SDKLoadFailed",message:n.replace(/\\./g,"-"),hasFullStack:!1,stack:n+"\\nSnippet failed to load ["+a+"] -- Telemetry is disabled\\nHelp Link: https://go.microsoft.com/fwlink/?linkid=2128109\\nHost: "+(S&&S.pathname||"_unknown_")+"\\nEndpoint: "+i,parsedStack:[]}],r)),l.push(function(e,t,n,a){var i=v(c,"Message"),r=i.data;r.baseType="MessageData";var o=r.baseData;return o.message=\'AI (Internal): 99 message:"\'+("SDK LOAD Failure: Failed to load Application Insights SDK script (See stack for details) ("+n+")").replace(/\\"/g,"")+\'"\',o.properties={endpoint:a},i}(0,0,t,p)),function(e,t){if(JSON){var n=T.fetch;if(n&&!y.useXhr)n(t,{method:N,body:JSON.stringify(e),mode:"cors"});else if(XMLHttpRequest){var a=new XMLHttpRequest;a.open(N,t),a.setRequestHeader("Content-type","application/json"),a.send(JSON.stringify(e))}}}(l,p))}function i(e,t){f||setTimeout(function(){!t&&m.core||a()},500)}var e=function(){var n=l.createElement(k);n.src=h;var e=y[w];return!e&&""!==e||"undefined"==n[w]||(n[w]=e),n.onload=i,n.onerror=a,n.onreadystatechange=function(e,t){"loaded"!==n.readyState&&"complete"!==n.readyState||i(0,t)},n}();y.ld<0?l.getElementsByTagName("head")[0].appendChild(e):setTimeout(function(){l.getElementsByTagName(k)[0].parentNode.appendChild(e)},y.ld||0)}try{m.cookie=l.cookie}catch(p){}function t(e){for(;e.length;)!function(t){m[t]=function(){var e=arguments;g||m.queue.push(function(){m[t].apply(m,e)})}}(e.pop())}var n="track",r="TrackPage",o="TrackEvent";t([n+"Event",n+"PageView",n+"Exception",n+"Trace",n+"DependencyData",n+"Metric",n+"PageViewPerformance","start"+r,"stop"+r,"start"+o,"stop"+o,"addTelemetryInitializer","setAuthenticatedUserContext","clearAuthenticatedUserContext","flush"]),m.SeverityLevel={Verbose:0,Information:1,Warning:2,Error:3,Critical:4};var s=(d.extensionConfig||{}).ApplicationInsightsAnalytics||{};if(!0!==d[I]&&!0!==s[I]){var c="onerror";t(["_"+c]);var u=T[c];T[c]=function(e,t,n,a,i){var r=u&&u(e,t,n,a,i);return!0!==r&&m["_"+c]({message:e,url:t,lineNumber:n,columnNumber:a,error:i}),r},d.autoExceptionInstrumented=!0}return m}(y.cfg);function a(){y.onInit&&y.onInit(n)}(T[t]=n).queue&&0===n.queue.length?(n.queue.push(a),n.trackPageView({})):a()}(window,document,{\r\nsrc: "https://js.monitor.azure.com/scripts/b/ai.2.min.js", // The SDK URL Source\r\n// name: "appInsights", // Global SDK Instance name defaults to "appInsights" when not supplied\r\n// ld: 0, // Defines the load delay (in ms) before attempting to load the sdk. -1 = block page load and add to head. (default) = 0ms load after timeout,\r\n// useXhr: 1, // Use XHR instead of fetch to report failures (if available),\r\n// crossOrigin: "anonymous", // When supplied this will add the provided value as the cross origin attribute on the script tag\r\n// onInit: null, // Once the application insights instance has loaded and initialized this callback function will be called with 1 argument -- the sdk instance (DO NOT ADD anything to the sdk.queue -- As they won\'t get called)\r\ncfg: { // Application Insights Configuration\r\n    instrumentationKey: "INSTRUMENTATION_KEY"\r\n}});'},92457:(e,t,n)=>{"use strict";var r;n.d(t,{A:()=>F});var i,o="undefined",s="constructor",a="prototype",c="function",l="_dynInstFuncs",u="_isDynProxy",p="_dynClass",d="_dynCls$",h="_dynInstChk",f=h,v="_dfOpts",g="_unknown_",m="__proto__",y="_dyn"+m,b="__dynProto$Gbl",_="_dynInstProto",E="useBaseInst",S="setInstFuncs",w=Object,P=w.getPrototypeOf,T=w.getOwnPropertyNames,C=(typeof globalThis!==o&&(i=globalThis),i||typeof self===o||(i=self),i||typeof window===o||(i=window),i||typeof global===o||(i=global),i||{}),x=C[b]||(C[b]={o:(r={},r[S]=!0,r[E]=!0,r),n:1e3});function I(e,t){return e&&w[a].hasOwnProperty.call(e,t)}function O(e){return e&&(e===w[a]||e===Array[a])}function R(e){return O(e)||e===Function[a]}function D(e){var t;if(e){if(P)return P(e);var n=e[m]||e[a]||(e[s]?e[s][a]:null);t=e[y]||n,I(e,y)||(delete e[_],t=e[y]=e[_]||e[y],e[_]=n)}return t}function k(e,t){var n=[];if(T)n=T(e);else for(var r in e)"string"==typeof r&&I(e,r)&&n.push(r);if(n&&n.length>0)for(var i=0;i<n.length;i++)t(n[i])}function A(e,t,n){return t!==s&&typeof e[t]===c&&(n||I(e,t))}function N(e){throw new TypeError("DynamicProto: "+e)}function j(e,t){for(var n=e.length-1;n>=0;n--)if(e[n]===t)return!0;return!1}function M(e,t,n,r,i){if(!O(e)){var o=n[l]=n[l]||{},s=o[t]=o[t]||{};!1!==o[f]&&(o[f]=!!i),k(n,(function(t){A(n,t,!1)&&n[t]!==r[t]&&(s[t]=n[t],delete n[t],(!I(e,t)||e[t]&&!e[t][u])&&(e[t]=function(e,t){var n=function(){var r=function(e,t,n,r){var i=null;if(e&&I(n,p)){var o=e[l]||{};if((i=(o[n[p]]||{})[t])||N("Missing ["+t+"] "+c),!i[h]&&!1!==o[f]){for(var s=!I(e,t),a=D(e),u=[];s&&a&&!R(a)&&!j(u,a);){var d=a[t];if(d){s=d===r;break}u.push(a),a=D(a)}try{s&&(e[t]=i),i[h]=1}catch(e){o[f]=!1}}}return i}(this,t,e,n)||function(e,t,n){var r=t[e];return r===n&&(r=D(t)[e]),typeof r!==c&&N("["+e+"] is not a "+c),r}(t,e,n);return r.apply(this,arguments)};return n[u]=1,n}(e,t)))}))}}function L(e,t){return I(e,a)?e.name||t||g:((e||{})[s]||{}).name||t||g}function F(e,t,n,r){I(e,a)||N("theClass is an invalid class definition.");var i=e[a];(function(e,t){if(P){for(var n=[],r=D(t);r&&!R(r)&&!j(n,r);){if(r===e)return!0;n.push(r),r=D(r)}return!1}return!0})(i,t)||N("["+L(e)+"] not in hierarchy of ["+L(t)+"]");var o=null;I(i,p)?o=i[p]:(o=d+L(e,"_")+"$"+x.n,x.n++,i[p]=o);var s=F[v],c=!!s[E];c&&r&&void 0!==r[E]&&(c=!!r[E]);var h=function(e){var t={};return k(e,(function(n){!t[n]&&A(e,n,!1)&&(t[n]=e[n])})),t}(t),g=function(e,t,n,r){function i(e,t,n){var i=t[n];if(i[u]&&r){var o=e[l]||{};!1!==o[f]&&(i=(o[t[p]]||{})[n]||i)}return function(){return i.apply(e,arguments)}}var o={};k(n,(function(e){o[e]=i(t,n,e)}));for(var s=D(e),a=[];s&&!R(s)&&!j(a,s);)k(s,(function(e){!o[e]&&A(s,e,!P)&&(o[e]=i(t,s,e))})),a.push(s),s=D(s);return o}(i,t,h,c);n(t,g);var m=!!P&&!!s[S];m&&r&&(m=!!r[S]),M(i,o,t,h,!1!==m)}F[v]=x.o},79100:(e,t,n)=>{"use strict";n.d(t,{_:()=>l});var r=n(38729),i=function(){function e(){}return e.prototype.active=function(){return r.l},e.prototype.with=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];return t.call.apply(t,function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([n],function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}(r),!1))},e.prototype.bind=function(e,t){return t},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),o=n(69627),s=n(44892),a="context",c=new i,l=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(e){return(0,o.$G)(a,e,s.K.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];return(r=this._getContextManager()).with.apply(r,function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([e,t,n],function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}(i),!1))},e.prototype.bind=function(e,t){return this._getContextManager().bind(e,t)},e.prototype._getContextManager=function(){return(0,o.mS)(a)||c},e.prototype.disable=function(){this._getContextManager().disable(),(0,o.kv)(a,s.K.instance())},e}()},44892:(e,t,n)=>{"use strict";n.d(t,{K:()=>a});var r=n(69627),i=function(){function e(e){this._namespace=e.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o("debug",this._namespace,e)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o("error",this._namespace,e)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o("info",this._namespace,e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o("warn",this._namespace,e)},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o("verbose",this._namespace,e)},e}();function o(e,t,n){var i=(0,r.mS)("diag");if(i)return n.unshift(t),i[e].apply(i,function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([],function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}(n),!1))}var s=n(76733),a=function(){function e(){function e(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=(0,r.mS)("diag");if(i)return i[e].apply(i,function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([],function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}(t),!1))}}var t=this;t.setLogger=function(e,n){var i,o,a;if(void 0===n&&(n={logLevel:s.u.INFO}),e===t){var c=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!==(i=c.stack)&&void 0!==i?i:c.message),!1}"number"==typeof n&&(n={logLevel:n});var l=(0,r.mS)("diag"),u=function(e,t){function n(n,r){var i=t[n];return"function"==typeof i&&e>=r?i.bind(t):function(){}}return e<s.u.NONE?e=s.u.NONE:e>s.u.ALL&&(e=s.u.ALL),t=t||{},{error:n("error",s.u.ERROR),warn:n("warn",s.u.WARN),info:n("info",s.u.INFO),debug:n("debug",s.u.DEBUG),verbose:n("verbose",s.u.VERBOSE)}}(null!==(o=n.logLevel)&&void 0!==o?o:s.u.INFO,e);if(l&&!n.suppressOverrideMessage){var p=null!==(a=(new Error).stack)&&void 0!==a?a:"<failed to generate stacktrace>";l.warn("Current logger will be overwritten from "+p),u.warn("Current logger will overwrite one already registered from "+p)}return(0,r.$G)("diag",u,t,!0)},t.disable=function(){(0,r.kv)("diag",t)},t.createComponentLogger=function(e){return new i(e)},t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}()},11616:(e,t,n)=>{"use strict";n.d(t,{B:()=>c,L:()=>a});var r=n(44892),i=function(){function e(e){this._entries=e?new Map(e):new Map}return e.prototype.getEntry=function(e){var t=this._entries.get(e);if(t)return Object.assign({},t)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map((function(e){var t=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}(e,2);return[t[0],t[1]]}))},e.prototype.setEntry=function(t,n){var r=new e(this._entries);return r._entries.set(t,n),r},e.prototype.removeEntry=function(t){var n=new e(this._entries);return n._entries.delete(t),n},e.prototype.removeEntries=function(){for(var t,n,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=new e(this._entries);try{for(var s=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(r),a=s.next();!a.done;a=s.next()){var c=a.value;o._entries.delete(c)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return o},e.prototype.clear=function(){return new e},e}(),o=Symbol("BaggageEntryMetadata"),s=r.K.instance();function a(e){return void 0===e&&(e={}),new i(new Map(Object.entries(e)))}function c(e){return"string"!=typeof e&&(s.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{__TYPE__:o,toString:function(){return e}}}},41844:(e,t,n)=>{"use strict";n.d(t,{_:()=>r});var r=n(79100)._.getInstance()},38729:(e,t,n)=>{"use strict";function r(e){return Symbol.for(e)}n.d(t,{l:()=>i,n:()=>r});var i=new function e(t){var n=this;n._currentContext=t?new Map(t):new Map,n.getValue=function(e){return n._currentContext.get(e)},n.setValue=function(t,r){var i=new e(n._currentContext);return i._currentContext.set(t,r),i},n.deleteValue=function(t){var r=new e(n._currentContext);return r._currentContext.delete(t),r}}},78758:(e,t,n)=>{"use strict";n.d(t,{s:()=>r});var r=n(44892).K.instance()},76733:(e,t,n)=>{"use strict";var r;n.d(t,{u:()=>r}),function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"}(r||(r={}))},39104:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DiagConsoleLogger:()=>c,DiagLogLevel:()=>l.u,INVALID_SPANID:()=>W.w9,INVALID_SPAN_CONTEXT:()=>W.dM,INVALID_TRACEID:()=>W.RH,ProxyTracer:()=>O.y,ProxyTracerProvider:()=>R.n,ROOT_CONTEXT:()=>s.l,SamplingDecision:()=>D.i,SpanKind:()=>k.v,SpanStatusCode:()=>A.s,TraceFlags:()=>N.X,ValueType:()=>i,baggageEntryMetadataFromString:()=>o.B,context:()=>q._,createContextKey:()=>s.n,createNoopMeter:()=>x,createTraceState:()=>U,default:()=>Q,defaultTextMapGetter:()=>I.q,defaultTextMapSetter:()=>I.U,diag:()=>B.s,isSpanContextValid:()=>H.YA,isValidSpanId:()=>H.wN,isValidTraceId:()=>H.hX,metrics:()=>Y,propagation:()=>X.$,trace:()=>J.u});var r,i,o=n(11616),s=n(38729),a=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],c=function(){function e(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(console){var r=console[e];if("function"!=typeof r&&(r=console.log),"function"==typeof r)return r.apply(console,t)}}}for(var t=0;t<a.length;t++)this[a[t].n]=e(a[t].c)},l=n(76733),u=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),p=function(){function e(){}return e.prototype.createHistogram=function(e,t){return S},e.prototype.createCounter=function(e,t){return E},e.prototype.createUpDownCounter=function(e,t){return w},e.prototype.createObservableGauge=function(e,t){return T},e.prototype.createObservableCounter=function(e,t){return P},e.prototype.createObservableUpDownCounter=function(e,t){return C},e.prototype.addBatchObservableCallback=function(e,t){},e.prototype.removeBatchObservableCallback=function(e){},e}(),d=function(){},h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u(t,e),t.prototype.add=function(e,t){},t}(d),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u(t,e),t.prototype.add=function(e,t){},t}(d),v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u(t,e),t.prototype.record=function(e,t){},t}(d),g=function(){function e(){}return e.prototype.addCallback=function(e){},e.prototype.removeCallback=function(e){},e}(),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u(t,e),t}(g),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u(t,e),t}(g),b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u(t,e),t}(g),_=new p,E=new h,S=new v,w=new f,P=new m,T=new y,C=new b;function x(){return _}!function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"}(i||(i={}));var I=n(22009),O=n(19505),R=n(74975),D=n(72674),k=n(58651),A=n(11908),N=n(47397),j="[_0-9a-z-*/]",M=new RegExp("^(?:[a-z]"+j+"{0,255}|[a-z0-9]"+j+"{0,240}@[a-z]"+j+"{0,13})$"),L=/^[ -~]{0,255}[!-~]$/,F=/,|=/,V=function(){function e(e){this._internalState=new Map,e&&this._parse(e)}return e.prototype.set=function(e,t){var n=this._clone();return n._internalState.has(e)&&n._internalState.delete(e),n._internalState.set(e,t),n},e.prototype.unset=function(e){var t=this._clone();return t._internalState.delete(e),t},e.prototype.get=function(e){return this._internalState.get(e)},e.prototype.serialize=function(){var e=this;return this._keys().reduce((function(t,n){return t.push(n+"="+e.get(n)),t}),[]).join(",")},e.prototype._parse=function(e){e.length>512||(this._internalState=e.split(",").reverse().reduce((function(e,t){var n=t.trim(),r=n.indexOf("=");if(-1!==r){var i=n.slice(0,r),o=n.slice(r+1,t.length);(function(e){return M.test(e)})(i)&&function(e){return L.test(e)&&!F.test(e)}(o)&&e.set(i,o)}return e}),new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))},e.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},e.prototype._clone=function(){var t=new e;return t._internalState=new Map(this._internalState),t},e}();function U(e){return new V(e)}var H=n(67823),W=n(97872),q=n(41844),B=n(78758),$=new(function(){function e(){}return e.prototype.getMeter=function(e,t,n){return _},e}()),K=n(69627),G=n(44892),z="metrics",Y=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalMeterProvider=function(e){return(0,K.$G)(z,e,G.K.instance())},e.prototype.getMeterProvider=function(){return(0,K.mS)(z)||$},e.prototype.getMeter=function(e,t,n){return this.getMeterProvider().getMeter(e,t,n)},e.prototype.disable=function(){(0,K.kv)(z,G.K.instance())},e}().getInstance(),X=n(49348),J=n(6664);const Q={context:q._,diag:B.s,metrics:Y,propagation:X.$,trace:J.u}},69627:(e,t,n)=>{"use strict";n.d(t,{mS:()=>p,$G:()=>u,kv:()=>d});var r="object"==typeof globalThis?globalThis:global,i="1.4.1",o=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/,s=function(e){var t=new Set([e]),n=new Set,r=e.match(o);if(!r)return function(){return!1};var i=+r[1],s=+r[2],a=+r[3];if(null!=r[4])return function(t){return t===e};function c(e){return n.add(e),!1}function l(e){return t.add(e),!0}return function(e){if(t.has(e))return!0;if(n.has(e))return!1;var r=e.match(o);if(!r)return c(e);var u=+r[1],p=+r[2],d=+r[3];return null!=r[4]||i!==u?c(e):0===i?s===p&&a<=d?l(e):c(e):s<=p?l(e):c(e)}}(i),a=i.split(".")[0],c=Symbol.for("opentelemetry.js.api."+a),l=r;function u(e,t,n,r){var o;void 0===r&&(r=!1);var s=l[c]=null!==(o=l[c])&&void 0!==o?o:{version:i};if(!r&&s[e]){var a=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return n.error(a.stack||a.message),!1}return s.version!==i?(a=new Error("@opentelemetry/api: Registration of version v"+s.version+" for "+e+" does not match previously registered API v"+i),n.error(a.stack||a.message),!1):(s[e]=t,n.debug("@opentelemetry/api: Registered a global for "+e+" v"+i+"."),!0)}function p(e){var t,n,r=null===(t=l[c])||void 0===t?void 0:t.version;if(r&&s(r))return null===(n=l[c])||void 0===n?void 0:n[e]}function d(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+i+".");var n=l[c];n&&delete n[e]}},49348:(e,t,n)=>{"use strict";n.d(t,{$:()=>m});var r=n(69627),i=function(){function e(){}return e.prototype.inject=function(e,t){},e.prototype.extract=function(e,t){return e},e.prototype.fields=function(){return[]},e}(),o=n(22009),s=n(79100),a=(0,n(38729).n)("OpenTelemetry Baggage Key");function c(e){return e.getValue(a)||void 0}function l(){return c(s._.getInstance().active())}function u(e,t){return e.setValue(a,t)}function p(e){return e.deleteValue(a)}var d=n(11616),h=n(44892),f="propagation",v=new i,g=function(){function e(){this.createBaggage=d.L,this.getBaggage=c,this.getActiveBaggage=l,this.setBaggage=u,this.deleteBaggage=p}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(e){return(0,r.$G)(f,e,h.K.instance())},e.prototype.inject=function(e,t,n){return void 0===n&&(n=o.U),this._getGlobalPropagator().inject(e,t,n)},e.prototype.extract=function(e,t,n){return void 0===n&&(n=o.q),this._getGlobalPropagator().extract(e,t,n)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){(0,r.kv)(f,h.K.instance())},e.prototype._getGlobalPropagator=function(){return(0,r.mS)(f)||v},e}(),m=g.getInstance()},22009:(e,t,n)=>{"use strict";n.d(t,{U:()=>i,q:()=>r});var r={get:function(e,t){if(null!=e)return e[t]},keys:function(e){return null==e?[]:Object.keys(e)}},i={set:function(e,t,n){null!=e&&(e[t]=n)}}},6664:(e,t,n)=>{"use strict";n.d(t,{u:()=>l});var r=n(69627),i=n(74975),o=n(67823),s=n(13299),a=n(44892),c="trace",l=function(){function e(){this._proxyTracerProvider=new i.n,this.wrapSpanContext=o.IP,this.isSpanContextValid=o.YA,this.deleteSpan=s.EW,this.getSpan=s.fU,this.getActiveSpan=s.Bk,this.getSpanContext=s.w8,this.setSpan=s.Bx,this.setSpanContext=s.g_}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(e){var t=(0,r.$G)(c,this._proxyTracerProvider,a.K.instance());return t&&this._proxyTracerProvider.setDelegate(e),t},e.prototype.getTracerProvider=function(){return(0,r.mS)(c)||this._proxyTracerProvider},e.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},e.prototype.disable=function(){(0,r.kv)(c,a.K.instance()),this._proxyTracerProvider=new i.n},e}().getInstance()},31440:(e,t,n)=>{"use strict";n.d(t,{d:()=>i});var r=n(97872),i=function(){function e(e){void 0===e&&(e=r.dM),this._spanContext=e}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return this},e.prototype.setAttributes=function(e){return this},e.prototype.addEvent=function(e,t){return this},e.prototype.setStatus=function(e){return this},e.prototype.updateName=function(e){return this},e.prototype.end=function(e){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(e,t){},e}()},79755:(e,t,n)=>{"use strict";n.d(t,{o:()=>c});var r=n(79100),i=n(13299),o=n(31440),s=n(67823),a=r._.getInstance(),c=function(){function e(){}return e.prototype.startSpan=function(e,t,n){if(void 0===n&&(n=a.active()),Boolean(null==t?void 0:t.root))return new o.d;var r,c=n&&(0,i.w8)(n);return"object"==typeof(r=c)&&"string"==typeof r.spanId&&"string"==typeof r.traceId&&"number"==typeof r.traceFlags&&(0,s.YA)(c)?new o.d(c):new o.d},e.prototype.startActiveSpan=function(e,t,n,r){var o,s,c;if(!(arguments.length<2)){2===arguments.length?c=t:3===arguments.length?(o=t,c=n):(o=t,s=n,c=r);var l=null!=s?s:a.active(),u=this.startSpan(e,o,l),p=(0,i.Bx)(l,u);return a.with(p,c,void 0,u)}},e}()},19505:(e,t,n)=>{"use strict";n.d(t,{y:()=>i});var r=new(n(79755).o),i=function(){function e(e,t,n,r){this._provider=e,this.name=t,this.version=n,this.options=r}return e.prototype.startSpan=function(e,t,n){return this._getTracer().startSpan(e,t,n)},e.prototype.startActiveSpan=function(e,t,n,r){var i=this._getTracer();return Reflect.apply(i.startActiveSpan,i,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):r},e}()},74975:(e,t,n)=>{"use strict";n.d(t,{n:()=>s});var r=n(19505),i=n(79755),o=new(function(){function e(){}return e.prototype.getTracer=function(e,t,n){return new i.o},e}()),s=function(){function e(){}return e.prototype.getTracer=function(e,t,n){var i;return null!==(i=this.getDelegateTracer(e,t,n))&&void 0!==i?i:new r.y(this,e,t,n)},e.prototype.getDelegate=function(){var e;return null!==(e=this._delegate)&&void 0!==e?e:o},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateTracer=function(e,t,n){var r;return null===(r=this._delegate)||void 0===r?void 0:r.getTracer(e,t,n)},e}()},72674:(e,t,n)=>{"use strict";var r;n.d(t,{i:()=>r}),function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(r||(r={}))},13299:(e,t,n)=>{"use strict";n.d(t,{Bk:()=>c,Bx:()=>l,EW:()=>u,fU:()=>a,g_:()=>p,w8:()=>d});var r=n(38729),i=n(31440),o=n(79100),s=(0,r.n)("OpenTelemetry Context Key SPAN");function a(e){return e.getValue(s)||void 0}function c(){return a(o._.getInstance().active())}function l(e,t){return e.setValue(s,t)}function u(e){return e.deleteValue(s)}function p(e,t){return l(e,new i.d(t))}function d(e){var t;return null===(t=a(e))||void 0===t?void 0:t.spanContext()}},97872:(e,t,n)=>{"use strict";n.d(t,{RH:()=>o,dM:()=>s,w9:()=>i});var r=n(47397),i="0000000000000000",o="00000000000000000000000000000000",s={traceId:o,spanId:i,traceFlags:r.X.NONE}},58651:(e,t,n)=>{"use strict";var r;n.d(t,{v:()=>r}),function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"}(r||(r={}))},67823:(e,t,n)=>{"use strict";n.d(t,{IP:()=>u,YA:()=>l,hX:()=>a,wN:()=>c});var r=n(97872),i=n(31440),o=/^([0-9a-f]{32})$/i,s=/^[0-9a-f]{16}$/i;function a(e){return o.test(e)&&e!==r.RH}function c(e){return s.test(e)&&e!==r.w9}function l(e){return a(e.traceId)&&c(e.spanId)}function u(e){return new i.d(e)}},11908:(e,t,n)=>{"use strict";var r;n.d(t,{s:()=>r}),function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"}(r||(r={}))},47397:(e,t,n)=>{"use strict";var r;n.d(t,{X:()=>r}),function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"}(r||(r={}))},92068:(e,t,n)=>{"use strict";var r;n.d(t,{V:()=>r}),function(e){e[e.SUCCESS=0]="SUCCESS",e[e.FAILED=1]="FAILED"}(r||(r={}))},82711:(e,t,n)=>{"use strict";n.d(t,{EC:()=>o,KV:()=>c,QC:()=>a,hN:()=>i,kI:()=>l,r_:()=>s,un:()=>r});var r="=",i=";",o=",",s="baggage",a=180,c=4096,l=8192},75477:(e,t,n)=>{"use strict";n.d(t,{t:()=>a});var r=n(49348),i=n(4445),o=n(82711),s=n(98151),a=function(){function e(){}return e.prototype.inject=function(e,t,n){var a=r.$.getBaggage(e);if(a&&!(0,i.Zf)(e)){var c=(0,s.getKeyPairs)(a).filter((function(e){return e.length<=o.KV})).slice(0,o.QC),l=(0,s.serializeKeyPairs)(c);l.length>0&&n.set(t,o.r_,l)}},e.prototype.extract=function(e,t,n){var i=n.get(t,o.r_),a=Array.isArray(i)?i.join(o.EC):i;if(!a)return e;var c={};return 0===a.length?e:(a.split(o.EC).forEach((function(e){var t=(0,s.parsePairKeyValue)(e);if(t){var n={value:t.value};t.metadata&&(n.metadata=t.metadata),c[t.key]=n}})),0===Object.entries(c).length?e:r.$.setBaggage(e,r.$.createBaggage(c)))},e.prototype.fields=function(){return[o.r_]},e}()},98151:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getKeyPairs:()=>a,parseKeyPairsIntoRecord:()=>l,parsePairKeyValue:()=>c,serializeKeyPairs:()=>s});var r=n(11616),i=n(82711),o=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s};function s(e){return e.reduce((function(e,t){var n=""+e+(""!==e?i.EC:"")+t;return n.length>i.kI?e:n}),"")}function a(e){return e.getAllEntries().map((function(e){var t=o(e,2),n=t[0],r=t[1],s=encodeURIComponent(n)+"="+encodeURIComponent(r.value);return void 0!==r.metadata&&(s+=i.hN+r.metadata.toString()),s}))}function c(e){var t=e.split(i.hN);if(!(t.length<=0)){var n=t.shift();if(n){var o=n.indexOf(i.un);if(!(o<=0)){var s,a=decodeURIComponent(n.substring(0,o).trim()),c=decodeURIComponent(n.substring(o+1).trim());return t.length>0&&(s=(0,r.B)(t.join(i.hN))),{key:a,value:c,metadata:s}}}}}function l(e){return"string"!=typeof e||0===e.length?{}:e.split(i.EC).map((function(e){return c(e)})).filter((function(e){return void 0!==e&&e.value.length>0})).reduce((function(e,t){return e[t.key]=t.value,e}),{})}},80788:(e,t,n)=>{"use strict";n.d(t,{L:()=>s,m:()=>c,oU:()=>a});var r=n(78758),i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s};function s(e){var t,n,s={};if("object"!=typeof e||null==e)return s;try{for(var l=i(Object.entries(e)),u=l.next();!u.done;u=l.next()){var p=o(u.value,2),d=p[0],h=p[1];a(d)?c(h)?Array.isArray(h)?s[d]=h.slice():s[d]=h:r.s.warn("Invalid attribute value set for key: "+d):r.s.warn("Invalid attribute key: "+d)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return s}function a(e){return"string"==typeof e&&e.length>0}function c(e){return null==e||(Array.isArray(e)?function(e){var t,n,r;try{for(var o=i(e),s=o.next();!s.done;s=o.next()){var a=s.value;if(null!=a){if(!r){if(l(a)){r=typeof a;continue}return!1}if(typeof a!==r)return!1}}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return!0}(e):l(e))}function l(e){switch(typeof e){case"number":case"boolean":case"string":return!0}return!1}},78044:(e,t,n)=>{"use strict";n.d(t,{s:()=>o,u:()=>i});var r=(0,n(11590).o)();function i(e){r=e}function o(e){try{r(e)}catch(e){}}},11590:(e,t,n)=>{"use strict";n.d(t,{o:()=>i});var r=n(78758);function i(){return function(e){r.s.error(function(e){return"string"==typeof e?e:JSON.stringify(function(e){for(var t={},n=e;null!==n;)Object.getOwnPropertyNames(n).forEach((function(e){if(!t[e]){var r=n[e];r&&(t[e]=String(r))}})),n=Object.getPrototypeOf(n);return t}(e))}(e))}}},65864:(e,t,n)=>{"use strict";n.d(t,{Ir:()=>m,JU:()=>f,KJ:()=>u,VL:()=>g,W5:()=>p,_5:()=>l,lg:()=>a,mw:()=>y,tq:()=>d,u5:()=>h,uc:()=>c,w_:()=>v});var r=n(53663),i=9,o=Math.pow(10,6),s=Math.pow(10,i);function a(e){var t=e/1e3;return[Math.trunc(t),Math.round(e%1e3*o)]}function c(){var e=r.u.timeOrigin;if("number"!=typeof e){var t=r.u;e=t.timing&&t.timing.fetchStart}return e}function l(e){return y(a(c()),a("number"==typeof e?e:r.u.now()))}function u(e){if(g(e))return e;if("number"==typeof e)return e<c()?l(e):a(e);if(e instanceof Date)return a(e.getTime());throw TypeError("Invalid input type")}function p(e,t){var n=t[0]-e[0],r=t[1]-e[1];return r<0&&(n-=1,r+=s),[n,r]}function d(e){var t=i,n=""+"0".repeat(t)+e[1]+"Z",r=n.substr(n.length-t-1);return new Date(1e3*e[0]).toISOString().replace("000Z",r)}function h(e){return e[0]*s+e[1]}function f(e){return 1e3*e[0]+e[1]/1e6}function v(e){return 1e6*e[0]+e[1]/1e3}function g(e){return Array.isArray(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}function m(e){return g(e)||"number"==typeof e||e instanceof Date}function y(e,t){var n=[e[0]+t[0],e[1]+t[1]];return n[1]>=s&&(n[1]-=s,n[0]+=1),n}},76492:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AlwaysOffSampler:()=>A,AlwaysOnSampler:()=>N,AnchoredClock:()=>i,BindOnceFuture:()=>Q.I,CompositePropagator:()=>T.n,DEFAULT_ATTRIBUTE_COUNT_LIMIT:()=>W.fv,DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT:()=>W.aE,DEFAULT_ENVIRONMENT:()=>W.Uz,DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:()=>W.h9,DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:()=>W.V,ExportResultCode:()=>l.V,ParentBasedSampler:()=>F,RPCType:()=>E,RandomIdGenerator:()=>y,SDK_INFO:()=>w.q,TRACE_PARENT_HEADER:()=>C.ZS,TRACE_STATE_HEADER:()=>C.UD,TimeoutError:()=>K,TraceIdRatioBasedSampler:()=>V,TraceState:()=>H.n,TracesSamplerValues:()=>B.R,VERSION:()=>u.x,W3CBaggagePropagator:()=>r.t,W3CTraceContextPropagator:()=>C.lm,_globalThis:()=>h,addHrTimes:()=>c.mw,baggageUtils:()=>p,callWithTimeout:()=>G,deleteRPCMetadata:()=>O,getEnv:()=>d._,getEnvWithoutDefaults:()=>W.wn,getRPCMetadata:()=>R,getTimeOrigin:()=>c.uc,globalErrorHandler:()=>s.s,hexToBase64:()=>m,hrTime:()=>c._5,hrTimeDuration:()=>c.W5,hrTimeToMicroseconds:()=>c.w_,hrTimeToMilliseconds:()=>c.JU,hrTimeToNanoseconds:()=>c.u5,hrTimeToTimeStamp:()=>c.tq,internal:()=>ee,isAttributeKey:()=>o.oU,isAttributeValue:()=>o.m,isTimeInput:()=>c.Ir,isTimeInputHrTime:()=>c.VL,isTracingSuppressed:()=>U.Zf,isUrlIgnored:()=>X,isWrapped:()=>J,loggingErrorHandler:()=>a.o,merge:()=>q.h,millisToHrTime:()=>c.lg,otperformance:()=>S.u,parseEnvironment:()=>W.Nq,parseTraceParent:()=>C.ZI,sanitizeAttributes:()=>o.L,setGlobalErrorHandler:()=>s.u,setRPCMetadata:()=>I,suppressTracing:()=>U.M1,timeInputToHrTime:()=>c.KJ,unrefTimer:()=>P.K,unsuppressTracing:()=>U.FU,urlMatches:()=>Y});var r=n(75477),i=function(){function e(e,t){this._monotonicClock=t,this._epochMillis=e.now(),this._performanceMillis=t.now()}return e.prototype.now=function(){var e=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+e},e}(),o=n(80788),s=n(78044),a=n(11590),c=n(65864),l=n(92068),u=n(42299),p=n(98151),d=n(37925),h="object"==typeof globalThis?globalThis:global;function f(e){return e>=48&&e<=57?e-48:e>=97&&e<=102?e-87:e-55}var v=Buffer.alloc(8),g=Buffer.alloc(16);function m(e){var t;t=16===e.length?v:32===e.length?g:Buffer.alloc(e.length/2);for(var n=0,r=0;r<e.length;r+=2){var i=f(e.charCodeAt(r)),o=f(e.charCodeAt(r+1));t.writeUInt8(i<<4|o,n++)}return t.toString("base64")}var y=function(){this.generateTraceId=_(16),this.generateSpanId=_(8)},b=Buffer.allocUnsafe(16);function _(e){return function(){for(var t=0;t<e/4;t++)b.writeUInt32BE(Math.random()*Math.pow(2,32)>>>0,4*t);for(t=0;t<e&&!(b[t]>0);t++)t===e-1&&(b[e-1]=1);return b.toString("hex",0,e)}}var E,S=n(53663),w=n(68797),P=n(22778),T=n(22721),C=n(79859),x=(0,n(38729).n)("OpenTelemetry SDK Context Key RPC_METADATA");function I(e,t){return e.setValue(x,t)}function O(e){return e.deleteValue(x)}function R(e){return e.getValue(x)}!function(e){e.HTTP="http"}(E||(E={}));var D,k=n(72674),A=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:k.i.NOT_RECORD}},e.prototype.toString=function(){return"AlwaysOffSampler"},e}(),N=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:k.i.RECORD_AND_SAMPLED}},e.prototype.toString=function(){return"AlwaysOnSampler"},e}(),j=n(6664),M=n(67823),L=n(47397),F=function(){function e(e){var t,n,r,i;this._root=e.root,this._root||((0,s.s)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new N),this._remoteParentSampled=null!==(t=e.remoteParentSampled)&&void 0!==t?t:new N,this._remoteParentNotSampled=null!==(n=e.remoteParentNotSampled)&&void 0!==n?n:new A,this._localParentSampled=null!==(r=e.localParentSampled)&&void 0!==r?r:new N,this._localParentNotSampled=null!==(i=e.localParentNotSampled)&&void 0!==i?i:new A}return e.prototype.shouldSample=function(e,t,n,r,i,o){var s=j.u.getSpanContext(e);return s&&(0,M.YA)(s)?s.isRemote?s.traceFlags&L.X.SAMPLED?this._remoteParentSampled.shouldSample(e,t,n,r,i,o):this._remoteParentNotSampled.shouldSample(e,t,n,r,i,o):s.traceFlags&L.X.SAMPLED?this._localParentSampled.shouldSample(e,t,n,r,i,o):this._localParentNotSampled.shouldSample(e,t,n,r,i,o):this._root.shouldSample(e,t,n,r,i,o)},e.prototype.toString=function(){return"ParentBased{root="+this._root.toString()+", remoteParentSampled="+this._remoteParentSampled.toString()+", remoteParentNotSampled="+this._remoteParentNotSampled.toString()+", localParentSampled="+this._localParentSampled.toString()+", localParentNotSampled="+this._localParentNotSampled.toString()+"}"},e}(),V=function(){function e(e){void 0===e&&(e=0),this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(4294967295*this._ratio)}return e.prototype.shouldSample=function(e,t){return{decision:(0,M.hX)(t)&&this._accumulate(t)<this._upperBound?k.i.RECORD_AND_SAMPLED:k.i.NOT_RECORD}},e.prototype.toString=function(){return"TraceIdRatioBased{"+this._ratio+"}"},e.prototype._normalize=function(e){return"number"!=typeof e||isNaN(e)?0:e>=1?1:e<=0?0:e},e.prototype._accumulate=function(e){for(var t=0,n=0;n<e.length/8;n++){var r=8*n;t=(t^parseInt(e.slice(r,r+8),16))>>>0}return t},e}(),U=n(4445),H=n(59406),W=n(61971),q=n(31194),B=n(70676),$=(D=function(e,t){return D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},D(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}D(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),K=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return $(t,e),t}(Error);function G(e,t){var n,r=new Promise((function(e,r){n=setTimeout((function(){r(new K("Operation timed out."))}),t)}));return Promise.race([e,r]).then((function(e){return clearTimeout(n),e}),(function(e){throw clearTimeout(n),e}))}var z=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function Y(e,t){return"string"==typeof t?e===t:!!e.match(t)}function X(e,t){var n,r;if(!t)return!1;try{for(var i=z(t),o=i.next();!o.done;o=i.next())if(Y(e,o.value))return!0}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!1}function J(e){return"function"==typeof e&&"function"==typeof e.__original&&"function"==typeof e.__unwrap&&!0===e.__wrapped}var Q=n(77375),Z=n(41844),ee={_export:function(e,t){return new Promise((function(n){Z._.with((0,U.M1)(Z._.active()),(function(){e.export(t,(function(e){n(e)}))}))}))}}},37925:(e,t,n)=>{"use strict";n.d(t,{_:()=>o});var r=n(70857),i=n(61971);function o(){var e=(0,i.Nq)(process.env);return Object.assign({HOSTNAME:r.hostname()},i.Uz,e)}},53663:(e,t,n)=>{"use strict";n.d(t,{u:()=>r});var r=require("perf_hooks").performance},68797:(e,t,n)=>{"use strict";n.d(t,{q:()=>s});var r,i=n(42299),o=n(87361),s=((r={})[o._2.TELEMETRY_SDK_NAME]="opentelemetry",r[o._2.PROCESS_RUNTIME_NAME]="node",r[o._2.TELEMETRY_SDK_LANGUAGE]=o.wP.NODEJS,r[o._2.TELEMETRY_SDK_VERSION]=i.x,r)},22778:(e,t,n)=>{"use strict";function r(e){e.unref()}n.d(t,{K:()=>r})},22721:(e,t,n)=>{"use strict";n.d(t,{n:()=>i});var r=n(78758),i=function(){function e(e){var t;void 0===e&&(e={}),this._propagators=null!==(t=e.propagators)&&void 0!==t?t:[],this._fields=Array.from(new Set(this._propagators.map((function(e){return"function"==typeof e.fields?e.fields():[]})).reduce((function(e,t){return e.concat(t)}),[])))}return e.prototype.inject=function(e,t,n){var i,o;try{for(var s=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(this._propagators),a=s.next();!a.done;a=s.next()){var c=a.value;try{c.inject(e,t,n)}catch(e){r.s.warn("Failed to inject with "+c.constructor.name+". Err: "+e.message)}}}catch(e){i={error:e}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}},e.prototype.extract=function(e,t,n){return this._propagators.reduce((function(e,i){try{return i.extract(e,t,n)}catch(e){r.s.warn("Failed to inject with "+i.constructor.name+". Err: "+e.message)}return e}),e)},e.prototype.fields=function(){return this._fields.slice()},e}()},59406:(e,t,n)=>{"use strict";n.d(t,{n:()=>a});var r="[_0-9a-z-*/]",i=new RegExp("^(?:[a-z]"+r+"{0,255}|[a-z0-9]"+r+"{0,240}@[a-z]"+r+"{0,13})$"),o=/^[ -~]{0,255}[!-~]$/,s=/,|=/,a=function(){function e(e){this._internalState=new Map,e&&this._parse(e)}return e.prototype.set=function(e,t){var n=this._clone();return n._internalState.has(e)&&n._internalState.delete(e),n._internalState.set(e,t),n},e.prototype.unset=function(e){var t=this._clone();return t._internalState.delete(e),t},e.prototype.get=function(e){return this._internalState.get(e)},e.prototype.serialize=function(){var e=this;return this._keys().reduce((function(t,n){return t.push(n+"="+e.get(n)),t}),[]).join(",")},e.prototype._parse=function(e){e.length>512||(this._internalState=e.split(",").reverse().reduce((function(e,t){var n=t.trim(),r=n.indexOf("=");if(-1!==r){var a=n.slice(0,r),c=n.slice(r+1,t.length);(function(e){return i.test(e)})(a)&&function(e){return o.test(e)&&!s.test(e)}(c)&&e.set(a,c)}return e}),new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))},e.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},e.prototype._clone=function(){var t=new e;return t._internalState=new Map(this._internalState),t},e}()},79859:(e,t,n)=>{"use strict";n.d(t,{UD:()=>l,ZI:()=>p,ZS:()=>c,lm:()=>d});var r=n(6664),i=n(67823),o=n(47397),s=n(4445),a=n(59406),c="traceparent",l="tracestate",u=new RegExp("^\\s?((?!ff)[\\da-f]{2})-((?![0]{32})[\\da-f]{32})-((?![0]{16})[\\da-f]{16})-([\\da-f]{2})(-.*)?\\s?$");function p(e){var t=u.exec(e);return t?"00"===t[1]&&t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}:null}var d=function(){function e(){}return e.prototype.inject=function(e,t,n){var a=r.u.getSpanContext(e);if(a&&!(0,s.Zf)(e)&&(0,i.YA)(a)){var u="00-"+a.traceId+"-"+a.spanId+"-0"+Number(a.traceFlags||o.X.NONE).toString(16);n.set(t,c,u),a.traceState&&n.set(t,l,a.traceState.serialize())}},e.prototype.extract=function(e,t,n){var i=n.get(t,c);if(!i)return e;var o=Array.isArray(i)?i[0]:i;if("string"!=typeof o)return e;var s=p(o);if(!s)return e;s.isRemote=!0;var u=n.get(t,l);if(u){var d=Array.isArray(u)?u.join(","):u;s.traceState=new a.n("string"==typeof d?d:void 0)}return r.u.setSpanContext(e,s)},e.prototype.fields=function(){return[c,l]},e}()},4445:(e,t,n)=>{"use strict";n.d(t,{FU:()=>o,M1:()=>i,Zf:()=>s});var r=(0,n(38729).n)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function i(e){return e.setValue(r,!0)}function o(e){return e.deleteValue(r)}function s(e){return!0===e.getValue(r)}},77375:(e,t,n)=>{"use strict";n.d(t,{I:()=>i});var r=function(){function e(){var e=this;this._promise=new Promise((function(t,n){e._resolve=t,e._reject=n}))}return Object.defineProperty(e.prototype,"promise",{get:function(){return this._promise},enumerable:!1,configurable:!0}),e.prototype.resolve=function(e){this._resolve(e)},e.prototype.reject=function(e){this._reject(e)},e}(),i=function(){function e(e,t){this._callback=e,this._that=t,this._isCalled=!1,this._deferred=new r}return Object.defineProperty(e.prototype,"isCalled",{get:function(){return this._isCalled},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"promise",{get:function(){return this._deferred.promise},enumerable:!1,configurable:!0}),e.prototype.call=function(){for(var e,t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(!this._isCalled){this._isCalled=!0;try{Promise.resolve((e=this._callback).call.apply(e,function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([this._that],function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}(n),!1))).then((function(e){return t._deferred.resolve(e)}),(function(e){return t._deferred.reject(e)}))}catch(e){this._deferred.reject(e)}}return this._deferred.promise},e}()},61971:(e,t,n)=>{"use strict";n.d(t,{fv:()=>f,aE:()=>h,Uz:()=>m,h9:()=>v,V:()=>g,wn:()=>P,Nq:()=>w});var r=n(76733),i=n(70676),o="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof global?global:{},s=",",a=["OTEL_SDK_DISABLED"];function c(e){return a.indexOf(e)>-1}var l=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function u(e){return l.indexOf(e)>-1}var p=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function d(e){return p.indexOf(e)>-1}var h=1/0,f=128,v=128,g=128,m={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:r.u.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:h,OTEL_ATTRIBUTE_COUNT_LIMIT:f,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:h,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:f,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:h,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:f,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:v,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:g,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:i.R.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative"};function y(e,t,n){if(void 0!==n[e]){var r=String(n[e]);t[e]="true"===r.toLowerCase()}}function b(e,t,n,r,i){if(void 0===r&&(r=-1/0),void 0===i&&(i=1/0),void 0!==n[e]){var o=Number(n[e]);isNaN(o)||(t[e]=o<r?r:o>i?i:o)}}function _(e,t,n,r){void 0===r&&(r=s);var i=n[e];"string"==typeof i&&(t[e]=i.split(r).map((function(e){return e.trim()})))}var E={ALL:r.u.ALL,VERBOSE:r.u.VERBOSE,DEBUG:r.u.DEBUG,INFO:r.u.INFO,WARN:r.u.WARN,ERROR:r.u.ERROR,NONE:r.u.NONE};function S(e,t,n){var r=n[e];if("string"==typeof r){var i=E[r.toUpperCase()];null!=i&&(t[e]=i)}}function w(e){var t={};for(var n in m){var r=n;if("OTEL_LOG_LEVEL"===r)S(r,t,e);else if(c(r))y(r,t,e);else if(u(r))b(r,t,e);else if(d(r))_(r,t,e);else{var i=e[r];null!=i&&(t[r]=String(i))}}return t}function P(){return"undefined"!=typeof process&&process&&process.env?w(process.env):w(o)}},31194:(e,t,n)=>{"use strict";n.d(t,{h:()=>m});var r,i,o="[object Object]",s="[object Null]",a="[object Undefined]",c=Function.prototype.toString,l=c.call(Object),u=(r=Object.getPrototypeOf,i=Object,function(e){return r(i(e))}),p=Object.prototype,d=p.hasOwnProperty,h=Symbol?Symbol.toStringTag:void 0,f=p.toString;function v(e){if(!function(e){return null!=e&&"object"==typeof e}(e)||function(e){return null==e?void 0===e?a:s:h&&h in Object(e)?function(e){var t=d.call(e,h),n=e[h],r=!1;try{e[h]=void 0,r=!0}catch(e){}var i=f.call(e);return r&&(t?e[h]=n:delete e[h]),i}(e):function(e){return f.call(e)}(e)}(e)!==o)return!1;var t=u(e);if(null===t)return!0;var n=d.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)===l}var g=20;function m(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=e.shift(),r=new WeakMap;e.length>0;)n=b(n,e.shift(),0,r);return n}function y(e){return E(e)?e.slice():e}function b(e,t,n,r){var i;if(void 0===n&&(n=0),!(n>g)){if(n++,P(e)||P(t)||S(t))i=y(t);else if(E(e)){if(i=e.slice(),E(t))for(var o=0,s=t.length;o<s;o++)i.push(y(t[o]));else if(w(t))for(o=0,s=(a=Object.keys(t)).length;o<s;o++)i[c=a[o]]=y(t[c])}else if(w(e))if(w(t)){if(!function(e,t){return!(!v(e)||!v(t))}(e,t))return t;var a;for(i=Object.assign({},e),o=0,s=(a=Object.keys(t)).length;o<s;o++){var c,l=t[c=a[o]];if(P(l))void 0===l?delete i[c]:i[c]=l;else{var u=i[c],p=l;if(_(e,c,r)||_(t,c,r))delete i[c];else{if(w(u)&&w(p)){var d=r.get(u)||[],h=r.get(p)||[];d.push({obj:e,key:c}),h.push({obj:t,key:c}),r.set(u,d),r.set(p,h)}i[c]=b(i[c],l,n,r)}}}}else i=t;return i}}function _(e,t,n){for(var r=n.get(e[t])||[],i=0,o=r.length;i<o;i++){var s=r[i];if(s.key===t&&s.obj===e)return!0}return!1}function E(e){return Array.isArray(e)}function S(e){return"function"==typeof e}function w(e){return!P(e)&&!E(e)&&!S(e)&&"object"==typeof e}function P(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e||void 0===e||e instanceof Date||e instanceof RegExp||null===e}},70676:(e,t,n)=>{"use strict";var r;n.d(t,{R:()=>r}),function(e){e.AlwaysOff="always_off",e.AlwaysOn="always_on",e.ParentBasedAlwaysOff="parentbased_always_off",e.ParentBasedAlwaysOn="parentbased_always_on",e.ParentBasedTraceIdRatio="parentbased_traceidratio",e.TraceIdRatio="traceidratio"}(r||(r={}))},42299:(e,t,n)=>{"use strict";n.d(t,{x:()=>r});var r="1.15.2"},39478:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AlwaysOffSampler:()=>E,AlwaysOnSampler:()=>S,BasicTracerProvider:()=>ie,BatchSpanProcessor:()=>re,ConsoleSpanExporter:()=>oe,ForceFlushState:()=>F,InMemorySpanExporter:()=>se,NoopSpanProcessor:()=>J,ParentBasedSampler:()=>T,RandomIdGenerator:()=>N,SamplingDecision:()=>r,SimpleSpanProcessor:()=>ce,Span:()=>y,TraceIdRatioBasedSampler:()=>C,Tracer:()=>V});var r,i=n(41844),o=n(6664),s=n(78758),a=n(97872),c=n(58651),l=n(72674),u=n(47397),p=n(4445),d=n(80788),h=n(11908),f=n(53663),v=n(65864),g=n(366),m=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},y=function(){function e(e,t,n,r,i,o,s,a,c){void 0===s&&(s=[]),this.attributes={},this.links=[],this.events=[],this._droppedAttributesCount=0,this._droppedEventsCount=0,this._droppedLinksCount=0,this.status={code:h.s.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=n,this._spanContext=r,this.parentSpanId=o,this.kind=i,this.links=s;var l=Date.now();this._performanceStartTime=f.u.now(),this._performanceOffset=l-(this._performanceStartTime+(0,v.uc)()),this._startTimeProvided=null!=a,this.startTime=this._getTime(null!=a?a:l),this.resource=e.resource,this.instrumentationLibrary=e.instrumentationLibrary,this._spanLimits=e.getSpanLimits(),this._spanProcessor=e.getActiveSpanProcessor(),this._spanProcessor.onStart(this,t),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return null==t||this._isSpanEnded()?this:0===e.length?(s.s.warn("Invalid attribute key: "+e),this):(0,d.m)(t)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,e)?(this._droppedAttributesCount++,this):(this.attributes[e]=this._truncateToSize(t),this):(s.s.warn("Invalid attribute value set for key: "+e),this)},e.prototype.setAttributes=function(e){var t,n;try{for(var r=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.entries(e)),i=r.next();!i.done;i=r.next()){var o=m(i.value,2),s=o[0],a=o[1];this.setAttribute(s,a)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return this},e.prototype.addEvent=function(e,t,n){if(this._isSpanEnded())return this;if(0===this._spanLimits.eventCountLimit)return s.s.warn("No events allowed."),this._droppedEventsCount++,this;this.events.length>=this._spanLimits.eventCountLimit&&(s.s.warn("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),(0,v.Ir)(t)&&((0,v.Ir)(n)||(n=t),t=void 0);var r=(0,d.L)(t);return this.events.push({name:e,attributes:r,time:this._getTime(n),droppedAttributesCount:0}),this},e.prototype.setStatus=function(e){return this._isSpanEnded()||(this.status=e),this},e.prototype.updateName=function(e){return this._isSpanEnded()||(this.name=e),this},e.prototype.end=function(e){this._isSpanEnded()?s.s.error(this.name+" "+this._spanContext.traceId+"-"+this._spanContext.spanId+" - You can only call end() on a span once."):(this._ended=!0,this.endTime=this._getTime(e),this._duration=(0,v.W5)(this.startTime,this.endTime),this._duration[0]<0&&(s.s.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._spanProcessor.onEnd(this))},e.prototype._getTime=function(e){if("number"==typeof e&&e<f.u.now())return(0,v._5)(e+this._performanceOffset);if("number"==typeof e)return(0,v.lg)(e);if(e instanceof Date)return(0,v.lg)(e.getTime());if((0,v.VL)(e))return e;if(this._startTimeProvided)return(0,v.lg)(Date.now());var t=f.u.now()-this._performanceStartTime;return(0,v.mw)(this.startTime,(0,v.lg)(t))},e.prototype.isRecording=function(){return!1===this._ended},e.prototype.recordException=function(e,t){var n={};"string"==typeof e?n[g.IX.EXCEPTION_MESSAGE]=e:e&&(e.code?n[g.IX.EXCEPTION_TYPE]=e.code.toString():e.name&&(n[g.IX.EXCEPTION_TYPE]=e.name),e.message&&(n[g.IX.EXCEPTION_MESSAGE]=e.message),e.stack&&(n[g.IX.EXCEPTION_STACKTRACE]=e.stack)),n[g.IX.EXCEPTION_TYPE]||n[g.IX.EXCEPTION_MESSAGE]?this.addEvent("exception",n,t):s.s.warn("Failed to record an exception "+e)},Object.defineProperty(e.prototype,"duration",{get:function(){return this._duration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ended",{get:function(){return this._ended},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"droppedAttributesCount",{get:function(){return this._droppedAttributesCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"droppedEventsCount",{get:function(){return this._droppedEventsCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"droppedLinksCount",{get:function(){return this._droppedLinksCount},enumerable:!1,configurable:!0}),e.prototype._isSpanEnded=function(){return this._ended&&s.s.warn("Can not execute the operation on ended Span {traceId: "+this._spanContext.traceId+", spanId: "+this._spanContext.spanId+"}"),this._ended},e.prototype._truncateToLimitUtil=function(e,t){return e.length<=t?e:e.substr(0,t)},e.prototype._truncateToSize=function(e){var t=this,n=this._attributeValueLengthLimit;return n<=0?(s.s.warn("Attribute value limit must be positive, got "+n),e):"string"==typeof e?this._truncateToLimitUtil(e,n):Array.isArray(e)?e.map((function(e){return"string"==typeof e?t._truncateToLimitUtil(e,n):e})):e},e}(),b=n(37925),_=n(70676);!function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(r||(r={}));var E=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:r.NOT_RECORD}},e.prototype.toString=function(){return"AlwaysOffSampler"},e}(),S=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:r.RECORD_AND_SAMPLED}},e.prototype.toString=function(){return"AlwaysOnSampler"},e}(),w=n(67823),P=n(78044),T=function(){function e(e){var t,n,r,i;this._root=e.root,this._root||((0,P.s)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new S),this._remoteParentSampled=null!==(t=e.remoteParentSampled)&&void 0!==t?t:new S,this._remoteParentNotSampled=null!==(n=e.remoteParentNotSampled)&&void 0!==n?n:new E,this._localParentSampled=null!==(r=e.localParentSampled)&&void 0!==r?r:new S,this._localParentNotSampled=null!==(i=e.localParentNotSampled)&&void 0!==i?i:new E}return e.prototype.shouldSample=function(e,t,n,r,i,s){var a=o.u.getSpanContext(e);return a&&(0,w.YA)(a)?a.isRemote?a.traceFlags&u.X.SAMPLED?this._remoteParentSampled.shouldSample(e,t,n,r,i,s):this._remoteParentNotSampled.shouldSample(e,t,n,r,i,s):a.traceFlags&u.X.SAMPLED?this._localParentSampled.shouldSample(e,t,n,r,i,s):this._localParentNotSampled.shouldSample(e,t,n,r,i,s):this._root.shouldSample(e,t,n,r,i,s)},e.prototype.toString=function(){return"ParentBased{root="+this._root.toString()+", remoteParentSampled="+this._remoteParentSampled.toString()+", remoteParentNotSampled="+this._remoteParentNotSampled.toString()+", localParentSampled="+this._localParentSampled.toString()+", localParentNotSampled="+this._localParentNotSampled.toString()+"}"},e}(),C=function(){function e(e){void 0===e&&(e=0),this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(4294967295*this._ratio)}return e.prototype.shouldSample=function(e,t){return{decision:(0,w.hX)(t)&&this._accumulate(t)<this._upperBound?r.RECORD_AND_SAMPLED:r.NOT_RECORD}},e.prototype.toString=function(){return"TraceIdRatioBased{"+this._ratio+"}"},e.prototype._normalize=function(e){return"number"!=typeof e||isNaN(e)?0:e>=1?1:e<=0?0:e},e.prototype._accumulate=function(e){for(var t=0,n=0;n<e.length/8;n++){var r=8*n;t=(t^parseInt(e.slice(r,r+8),16))>>>0}return t},e}(),x=(0,b._)(),I=_.R.AlwaysOn,O=1;function R(){return{sampler:D(x),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:(0,b._)().OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,b._)().OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:(0,b._)().OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,b._)().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:(0,b._)().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:(0,b._)().OTEL_SPAN_EVENT_COUNT_LIMIT,attributePerEventCountLimit:(0,b._)().OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,attributePerLinkCountLimit:(0,b._)().OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT}}}function D(e){switch(void 0===e&&(e=(0,b._)()),e.OTEL_TRACES_SAMPLER){case _.R.AlwaysOn:return new S;case _.R.AlwaysOff:return new E;case _.R.ParentBasedAlwaysOn:return new T({root:new S});case _.R.ParentBasedAlwaysOff:return new T({root:new E});case _.R.TraceIdRatio:return new C(k(e));case _.R.ParentBasedTraceIdRatio:return new T({root:new C(k(e))});default:return s.s.error('OTEL_TRACES_SAMPLER value "'+e.OTEL_TRACES_SAMPLER+" invalid, defaulting to "+I+'".'),new S}}function k(e){if(void 0===e.OTEL_TRACES_SAMPLER_ARG||""===e.OTEL_TRACES_SAMPLER_ARG)return s.s.error("OTEL_TRACES_SAMPLER_ARG is blank, defaulting to "+O+"."),O;var t=Number(e.OTEL_TRACES_SAMPLER_ARG);return isNaN(t)?(s.s.error("OTEL_TRACES_SAMPLER_ARG="+e.OTEL_TRACES_SAMPLER_ARG+" was given, but it is invalid, defaulting to "+O+"."),O):t<0||t>1?(s.s.error("OTEL_TRACES_SAMPLER_ARG="+e.OTEL_TRACES_SAMPLER_ARG+" was given, but it is out of range ([0..1]), defaulting to "+O+"."),O):t}var A=n(61971),N=function(){this.generateTraceId=M(16),this.generateSpanId=M(8)},j=Buffer.allocUnsafe(16);function M(e){return function(){for(var t=0;t<e/4;t++)j.writeUInt32BE(Math.random()*Math.pow(2,32)>>>0,4*t);for(t=0;t<e&&!(j[t]>0);t++)t===e-1&&(j[e-1]=1);return j.toString("hex",0,e)}}var L,F,V=function(){function e(e,t,n){this._tracerProvider=n;var r,i,o,s,a=(r=t,i={sampler:D()},o=R(),(s=Object.assign({},o,i,r)).generalLimits=Object.assign({},o.generalLimits,r.generalLimits||{}),s.spanLimits=Object.assign({},o.spanLimits,r.spanLimits||{}),s);this._sampler=a.sampler,this._generalLimits=a.generalLimits,this._spanLimits=a.spanLimits,this._idGenerator=t.idGenerator||new N,this.resource=n.resource,this.instrumentationLibrary=e}return e.prototype.startSpan=function(e,t,n){var r,h,f;void 0===t&&(t={}),void 0===n&&(n=i._.active()),t.root&&(n=o.u.deleteSpan(n));var v=o.u.getSpan(n);if((0,p.Zf)(n))return s.s.debug("Instrumentation suppressed, returning Noop Span"),o.u.wrapSpanContext(a.dM);var g,m,b,_=null==v?void 0:v.spanContext(),E=this._idGenerator.generateSpanId();_&&o.u.isSpanContextValid(_)?(g=_.traceId,m=_.traceState,b=_.spanId):g=this._idGenerator.generateTraceId();var S=null!==(r=t.kind)&&void 0!==r?r:c.v.INTERNAL,w=(null!==(h=t.links)&&void 0!==h?h:[]).map((function(e){return{context:e.context,attributes:(0,d.L)(e.attributes)}})),P=(0,d.L)(t.attributes),T=this._sampler.shouldSample(n,g,e,S,P,w);m=null!==(f=T.traceState)&&void 0!==f?f:m;var C={traceId:g,spanId:E,traceFlags:T.decision===l.i.RECORD_AND_SAMPLED?u.X.SAMPLED:u.X.NONE,traceState:m};if(T.decision===l.i.NOT_RECORD)return s.s.debug("Recording is off, propagating context in a non-recording span"),o.u.wrapSpanContext(C);var x=new y(this,n,e,C,S,b,w,t.startTime),I=(0,d.L)(Object.assign(P,T.attributes));return x.setAttributes(I),x},e.prototype.startActiveSpan=function(e,t,n,r){var s,a,c;if(!(arguments.length<2)){2===arguments.length?c=t:3===arguments.length?(s=t,c=n):(s=t,a=n,c=r);var l=null!=a?a:i._.active(),u=this.startSpan(e,s,l),p=o.u.setSpan(l,u);return i._.with(p,c,void 0,u)}},e.prototype.getGeneralLimits=function(){return this._generalLimits},e.prototype.getSpanLimits=function(){return this._spanLimits},e.prototype.getActiveSpanProcessor=function(){return this._tracerProvider.getActiveSpanProcessor()},e}(),U=n(49348),H=n(31194),W=n(22721),q=n(79859),B=n(75477),$=n(87361),K=n(68797),G=function(){return G=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},G.apply(this,arguments)},z=function(){function e(e,t){var n,r=this;this._attributes=e,this.asyncAttributesPending=null!=t,this._syncAttributes=null!==(n=this._attributes)&&void 0!==n?n:{},this._asyncAttributesPromise=null==t?void 0:t.then((function(e){return r._attributes=Object.assign({},r._attributes,e),r.asyncAttributesPending=!1,e}),(function(e){return s.s.debug("a resource's async attributes promise rejected: %s",e),r.asyncAttributesPending=!1,{}}))}return e.empty=function(){return e.EMPTY},e.default=function(){var t;return new e(((t={})[$._2.SERVICE_NAME]="unknown_service:"+process.argv0,t[$._2.TELEMETRY_SDK_LANGUAGE]=K.q[$._2.TELEMETRY_SDK_LANGUAGE],t[$._2.TELEMETRY_SDK_NAME]=K.q[$._2.TELEMETRY_SDK_NAME],t[$._2.TELEMETRY_SDK_VERSION]=K.q[$._2.TELEMETRY_SDK_VERSION],t))},Object.defineProperty(e.prototype,"attributes",{get:function(){var e;return this.asyncAttributesPending&&s.s.error("Accessing resource attributes before async attributes settled"),null!==(e=this._attributes)&&void 0!==e?e:{}},enumerable:!1,configurable:!0}),e.prototype.waitForAsyncAttributes=function(){return e=this,t=void 0,r=function(){return function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(e){switch(e.label){case 0:return this.asyncAttributesPending?[4,this._asyncAttributesPromise]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},new((n=void 0)||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}));var e,t,n,r},e.prototype.merge=function(t){var n,r=this;if(!t)return this;var i=G(G({},this._syncAttributes),null!==(n=t._syncAttributes)&&void 0!==n?n:t.attributes);if(!this._asyncAttributesPromise&&!t._asyncAttributesPromise)return new e(i);var o=Promise.all([this._asyncAttributesPromise,t._asyncAttributesPromise]).then((function(e){var n,i=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}(e,2),o=i[0],s=i[1];return G(G(G(G({},r._syncAttributes),o),null!==(n=t._syncAttributes)&&void 0!==n?n:t.attributes),s)}));return new e(i,o)},e.EMPTY=new e({}),e}(),Y=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},X=function(){function e(e){this._spanProcessors=e}return e.prototype.forceFlush=function(){var e,t,n=[];try{for(var r=Y(this._spanProcessors),i=r.next();!i.done;i=r.next()){var o=i.value;n.push(o.forceFlush())}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return new Promise((function(e){Promise.all(n).then((function(){e()})).catch((function(t){(0,P.s)(t||new Error("MultiSpanProcessor: forceFlush failed")),e()}))}))},e.prototype.onStart=function(e,t){var n,r;try{for(var i=Y(this._spanProcessors),o=i.next();!o.done;o=i.next())o.value.onStart(e,t)}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.prototype.onEnd=function(e){var t,n;try{for(var r=Y(this._spanProcessors),i=r.next();!i.done;i=r.next())i.value.onEnd(e)}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},e.prototype.shutdown=function(){var e,t,n=[];try{for(var r=Y(this._spanProcessors),i=r.next();!i.done;i=r.next()){var o=i.value;n.push(o.shutdown())}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return new Promise((function(e,t){Promise.all(n).then((function(){e()}),t)}))},e}(),J=function(){function e(){}return e.prototype.onStart=function(e,t){},e.prototype.onEnd=function(e){},e.prototype.shutdown=function(){return Promise.resolve()},e.prototype.forceFlush=function(){return Promise.resolve()},e}(),Q=n(77375),Z=n(92068),ee=n(22778),te=function(){function e(e,t){this._exporter=e,this._finishedSpans=[],this._droppedSpansCount=0;var n=(0,b._)();this._maxExportBatchSize="number"==typeof(null==t?void 0:t.maxExportBatchSize)?t.maxExportBatchSize:n.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize="number"==typeof(null==t?void 0:t.maxQueueSize)?t.maxQueueSize:n.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis="number"==typeof(null==t?void 0:t.scheduledDelayMillis)?t.scheduledDelayMillis:n.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis="number"==typeof(null==t?void 0:t.exportTimeoutMillis)?t.exportTimeoutMillis:n.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new Q.I(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(s.s.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}return e.prototype.forceFlush=function(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()},e.prototype.onStart=function(e,t){},e.prototype.onEnd=function(e){this._shutdownOnce.isCalled||e.spanContext().traceFlags&u.X.SAMPLED&&this._addToBuffer(e)},e.prototype.shutdown=function(){return this._shutdownOnce.call()},e.prototype._shutdown=function(){var e=this;return Promise.resolve().then((function(){return e.onShutdown()})).then((function(){return e._flushAll()})).then((function(){return e._exporter.shutdown()}))},e.prototype._addToBuffer=function(e){if(this._finishedSpans.length>=this._maxQueueSize)return 0===this._droppedSpansCount&&s.s.debug("maxQueueSize reached, dropping spans"),void this._droppedSpansCount++;this._droppedSpansCount>0&&(s.s.warn("Dropped "+this._droppedSpansCount+" spans because maxQueueSize reached"),this._droppedSpansCount=0),this._finishedSpans.push(e),this._maybeStartTimer()},e.prototype._flushAll=function(){var e=this;return new Promise((function(t,n){for(var r=[],i=0,o=Math.ceil(e._finishedSpans.length/e._maxExportBatchSize);i<o;i++)r.push(e._flushOneBatch());Promise.all(r).then((function(){t()})).catch(n)}))},e.prototype._flushOneBatch=function(){var e=this;return this._clearTimer(),0===this._finishedSpans.length?Promise.resolve():new Promise((function(t,n){var r=setTimeout((function(){n(new Error("Timeout"))}),e._exportTimeoutMillis);i._.with((0,p.M1)(i._.active()),(function(){var i=e._finishedSpans.splice(0,e._maxExportBatchSize),o=function(){return e._exporter.export(i,(function(e){var i;clearTimeout(r),e.code===Z.V.SUCCESS?t():n(null!==(i=e.error)&&void 0!==i?i:new Error("BatchSpanProcessor: span export failed"))}))},s=i.map((function(e){return e.resource})).filter((function(e){return e.asyncAttributesPending}));0===s.length?o():Promise.all(s.map((function(e){var t;return null===(t=e.waitForAsyncAttributes)||void 0===t?void 0:t.call(e)}))).then(o,(function(e){(0,P.s)(e),n(e)}))}))}))},e.prototype._maybeStartTimer=function(){var e=this;void 0===this._timer&&(this._timer=setTimeout((function(){e._flushOneBatch().then((function(){e._finishedSpans.length>0&&(e._clearTimer(),e._maybeStartTimer())})).catch((function(e){(0,P.s)(e)}))}),this._scheduledDelayMillis),(0,ee.K)(this._timer))},e.prototype._clearTimer=function(){void 0!==this._timer&&(clearTimeout(this._timer),this._timer=void 0)},e}(),ne=(L=function(e,t){return L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},L(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}L(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),re=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ne(t,e),t.prototype.onShutdown=function(){},t}(te);!function(e){e[e.resolved=0]="resolved",e[e.timeout=1]="timeout",e[e.error=2]="error",e[e.unresolved=3]="unresolved"}(F||(F={}));var ie=function(){function e(e){var t;void 0===e&&(e={}),this._registeredSpanProcessors=[],this._tracers=new Map;var n=(0,H.h)({},R(),function(e){var t,n,r,i,o,s,a,c,l,u,p,d,h=Object.assign({},e.spanLimits),f=(0,A.wn)();return h.attributeCountLimit=null!==(s=null!==(o=null!==(i=null!==(n=null===(t=e.spanLimits)||void 0===t?void 0:t.attributeCountLimit)&&void 0!==n?n:null===(r=e.generalLimits)||void 0===r?void 0:r.attributeCountLimit)&&void 0!==i?i:f.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT)&&void 0!==o?o:f.OTEL_ATTRIBUTE_COUNT_LIMIT)&&void 0!==s?s:A.fv,h.attributeValueLengthLimit=null!==(d=null!==(p=null!==(u=null!==(c=null===(a=e.spanLimits)||void 0===a?void 0:a.attributeValueLengthLimit)&&void 0!==c?c:null===(l=e.generalLimits)||void 0===l?void 0:l.attributeValueLengthLimit)&&void 0!==u?u:f.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT)&&void 0!==p?p:f.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)&&void 0!==d?d:A.aE,Object.assign({},e,{spanLimits:h})}(e));this.resource=null!==(t=n.resource)&&void 0!==t?t:z.empty(),this.resource=z.default().merge(this.resource),this._config=Object.assign({},n,{resource:this.resource});var r=this._buildExporterFromEnv();if(void 0!==r){var i=new re(r);this.activeSpanProcessor=i}else this.activeSpanProcessor=new J}return e.prototype.getTracer=function(e,t,n){var r=e+"@"+(t||"")+":"+((null==n?void 0:n.schemaUrl)||"");return this._tracers.has(r)||this._tracers.set(r,new V({name:e,version:t,schemaUrl:null==n?void 0:n.schemaUrl},this._config,this)),this._tracers.get(r)},e.prototype.addSpanProcessor=function(e){0===this._registeredSpanProcessors.length&&this.activeSpanProcessor.shutdown().catch((function(e){return s.s.error("Error while trying to shutdown current span processor",e)})),this._registeredSpanProcessors.push(e),this.activeSpanProcessor=new X(this._registeredSpanProcessors)},e.prototype.getActiveSpanProcessor=function(){return this.activeSpanProcessor},e.prototype.register=function(e){void 0===e&&(e={}),o.u.setGlobalTracerProvider(this),void 0===e.propagator&&(e.propagator=this._buildPropagatorFromEnv()),e.contextManager&&i._.setGlobalContextManager(e.contextManager),e.propagator&&U.$.setGlobalPropagator(e.propagator)},e.prototype.forceFlush=function(){var e=this._config.forceFlushTimeoutMillis,t=this._registeredSpanProcessors.map((function(t){return new Promise((function(n){var r,i=setTimeout((function(){n(new Error("Span processor did not completed within timeout period of "+e+" ms")),r=F.timeout}),e);t.forceFlush().then((function(){clearTimeout(i),r!==F.timeout&&(r=F.resolved,n(r))})).catch((function(e){clearTimeout(i),r=F.error,n(e)}))}))}));return new Promise((function(e,n){Promise.all(t).then((function(t){var r=t.filter((function(e){return e!==F.resolved}));r.length>0?n(r):e()})).catch((function(e){return n([e])}))}))},e.prototype.shutdown=function(){return this.activeSpanProcessor.shutdown()},e.prototype._getPropagator=function(e){var t;return null===(t=this.constructor._registeredPropagators.get(e))||void 0===t?void 0:t()},e.prototype._getSpanExporter=function(e){var t;return null===(t=this.constructor._registeredExporters.get(e))||void 0===t?void 0:t()},e.prototype._buildPropagatorFromEnv=function(){var e=this,t=Array.from(new Set((0,b._)().OTEL_PROPAGATORS)),n=t.map((function(t){var n=e._getPropagator(t);return n||s.s.warn('Propagator "'+t+'" requested through environment variable is unavailable.'),n})).reduce((function(e,t){return t&&e.push(t),e}),[]);return 0===n.length?void 0:1===t.length?n[0]:new W.n({propagators:n})},e.prototype._buildExporterFromEnv=function(){var e=(0,b._)().OTEL_TRACES_EXPORTER;if("none"!==e&&""!==e){var t=this._getSpanExporter(e);return t||s.s.error('Exporter "'+e+'" requested through environment variable is unavailable.'),t}},e._registeredPropagators=new Map([["tracecontext",function(){return new q.lm}],["baggage",function(){return new B.t}]]),e._registeredExporters=new Map,e}(),oe=function(){function e(){}return e.prototype.export=function(e,t){return this._sendSpans(e,t)},e.prototype.shutdown=function(){return this._sendSpans([]),this.forceFlush()},e.prototype.forceFlush=function(){return Promise.resolve()},e.prototype._exportInfo=function(e){var t;return{traceId:e.spanContext().traceId,parentId:e.parentSpanId,traceState:null===(t=e.spanContext().traceState)||void 0===t?void 0:t.serialize(),name:e.name,id:e.spanContext().spanId,kind:e.kind,timestamp:(0,v.w_)(e.startTime),duration:(0,v.w_)(e.duration),attributes:e.attributes,status:e.status,events:e.events,links:e.links}},e.prototype._sendSpans=function(e,t){var n,r;try{for(var i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),o=i.next();!o.done;o=i.next()){var s=o.value;console.dir(this._exportInfo(s),{depth:3})}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}if(t)return t({code:Z.V.SUCCESS})},e}(),se=function(){function e(){this._finishedSpans=[],this._stopped=!1}return e.prototype.export=function(e,t){var n;if(this._stopped)return t({code:Z.V.FAILED,error:new Error("Exporter has been stopped")});(n=this._finishedSpans).push.apply(n,function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([],function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}(e),!1)),setTimeout((function(){return t({code:Z.V.SUCCESS})}),0)},e.prototype.shutdown=function(){return this._stopped=!0,this._finishedSpans=[],this.forceFlush()},e.prototype.forceFlush=function(){return Promise.resolve()},e.prototype.reset=function(){this._finishedSpans=[]},e.prototype.getFinishedSpans=function(){return this._finishedSpans},e}(),ae=n(76492),ce=function(){function e(e){this._exporter=e,this._shutdownOnce=new Q.I(this._shutdown,this),this._unresolvedExports=new Set}return e.prototype.forceFlush=function(){return e=this,t=void 0,r=function(){return function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(e){switch(e.label){case 0:return[4,Promise.all(Array.from(this._unresolvedExports))];case 1:return e.sent(),this._exporter.forceFlush?[4,this._exporter.forceFlush()]:[3,3];case 2:e.sent(),e.label=3;case 3:return[2]}}))},new((n=void 0)||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}));var e,t,n,r},e.prototype.onStart=function(e,t){},e.prototype.onEnd=function(e){var t,n,r=this;if(!this._shutdownOnce.isCalled&&e.spanContext().traceFlags&u.X.SAMPLED){var i=function(){return ae.internal._export(r._exporter,[e]).then((function(e){var t;e.code!==Z.V.SUCCESS&&(0,P.s)(null!==(t=e.error)&&void 0!==t?t:new Error("SimpleSpanProcessor: span export failed (status "+e+")"))})).catch((function(e){(0,P.s)(e)}))};if(e.resource.asyncAttributesPending){var o=null===(n=(t=e.resource).waitForAsyncAttributes)||void 0===n?void 0:n.call(t).then((function(){return null!=o&&r._unresolvedExports.delete(o),i()}),(function(e){return(0,P.s)(e)}));null!=o&&this._unresolvedExports.add(o)}else i()}},e.prototype.shutdown=function(){return this._shutdownOnce.call()},e.prototype._shutdown=function(){return this._exporter.shutdown()},e}()},74813:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AwsEcsLaunchtypeValues:()=>i.AS,CloudPlatformValues:()=>i.ns,CloudProviderValues:()=>i.jV,DbCassandraConsistencyLevelValues:()=>r.Nx,DbSystemValues:()=>r.Q5,FaasDocumentOperationValues:()=>r.Ij,FaasInvokedProviderValues:()=>r.zI,FaasTriggerValues:()=>r.iP,HostArchValues:()=>i.Cg,HttpFlavorValues:()=>r.dN,MessageTypeValues:()=>r.Yw,MessagingDestinationKindValues:()=>r.b7,MessagingOperationValues:()=>r.Qg,NetHostConnectionSubtypeValues:()=>r.cA,NetHostConnectionTypeValues:()=>r.KS,NetTransportValues:()=>r.z4,OsTypeValues:()=>i.h0,RpcGrpcStatusCodeValues:()=>r.f3,SemanticAttributes:()=>r.IX,SemanticResourceAttributes:()=>i._2,TelemetrySdkLanguageValues:()=>i.wP});var r=n(366),i=n(87361)},87361:(e,t,n)=>{"use strict";n.d(t,{AS:()=>s,Cg:()=>a,_2:()=>r,h0:()=>c,jV:()=>i,ns:()=>o,wP:()=>l});var r={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"},i={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"},o={ALIBABA_CLOUD_ECS:"alibaba_cloud_ecs",ALIBABA_CLOUD_FC:"alibaba_cloud_fc",AWS_EC2:"aws_ec2",AWS_ECS:"aws_ecs",AWS_EKS:"aws_eks",AWS_LAMBDA:"aws_lambda",AWS_ELASTIC_BEANSTALK:"aws_elastic_beanstalk",AZURE_VM:"azure_vm",AZURE_CONTAINER_INSTANCES:"azure_container_instances",AZURE_AKS:"azure_aks",AZURE_FUNCTIONS:"azure_functions",AZURE_APP_SERVICE:"azure_app_service",GCP_COMPUTE_ENGINE:"gcp_compute_engine",GCP_CLOUD_RUN:"gcp_cloud_run",GCP_KUBERNETES_ENGINE:"gcp_kubernetes_engine",GCP_CLOUD_FUNCTIONS:"gcp_cloud_functions",GCP_APP_ENGINE:"gcp_app_engine"},s={EC2:"ec2",FARGATE:"fargate"},a={AMD64:"amd64",ARM32:"arm32",ARM64:"arm64",IA64:"ia64",PPC32:"ppc32",PPC64:"ppc64",X86:"x86"},c={WINDOWS:"windows",LINUX:"linux",DARWIN:"darwin",FREEBSD:"freebsd",NETBSD:"netbsd",OPENBSD:"openbsd",DRAGONFLYBSD:"dragonflybsd",HPUX:"hpux",AIX:"aix",SOLARIS:"solaris",Z_OS:"z_os"},l={CPP:"cpp",DOTNET:"dotnet",ERLANG:"erlang",GO:"go",JAVA:"java",NODEJS:"nodejs",PHP:"php",PYTHON:"python",RUBY:"ruby",WEBJS:"webjs"}},366:(e,t,n)=>{"use strict";n.d(t,{IX:()=>r,Ij:()=>a,KS:()=>u,Nx:()=>o,Q5:()=>i,Qg:()=>f,Yw:()=>g,b7:()=>h,cA:()=>p,dN:()=>d,f3:()=>v,iP:()=>s,z4:()=>l,zI:()=>c});var r={AWS_LAMBDA_INVOKED_ARN:"aws.lambda.invoked_arn",DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",NET_HOST_CONNECTION_TYPE:"net.host.connection.type",NET_HOST_CONNECTION_SUBTYPE:"net.host.connection.subtype",NET_HOST_CARRIER_NAME:"net.host.carrier.name",NET_HOST_CARRIER_MCC:"net.host.carrier.mcc",NET_HOST_CARRIER_MNC:"net.host.carrier.mnc",NET_HOST_CARRIER_ICC:"net.host.carrier.icc",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_CONSUMER_ID:"messaging.consumer_id",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message",MESSAGE_TYPE:"message.type",MESSAGE_ID:"message.id",MESSAGE_COMPRESSED_SIZE:"message.compressed_size",MESSAGE_UNCOMPRESSED_SIZE:"message.uncompressed_size"},i={OTHER_SQL:"other_sql",MSSQL:"mssql",MYSQL:"mysql",ORACLE:"oracle",DB2:"db2",POSTGRESQL:"postgresql",REDSHIFT:"redshift",HIVE:"hive",CLOUDSCAPE:"cloudscape",HSQLDB:"hsqldb",PROGRESS:"progress",MAXDB:"maxdb",HANADB:"hanadb",INGRES:"ingres",FIRSTSQL:"firstsql",EDB:"edb",CACHE:"cache",ADABAS:"adabas",FIREBIRD:"firebird",DERBY:"derby",FILEMAKER:"filemaker",INFORMIX:"informix",INSTANTDB:"instantdb",INTERBASE:"interbase",MARIADB:"mariadb",NETEZZA:"netezza",PERVASIVE:"pervasive",POINTBASE:"pointbase",SQLITE:"sqlite",SYBASE:"sybase",TERADATA:"teradata",VERTICA:"vertica",H2:"h2",COLDFUSION:"coldfusion",CASSANDRA:"cassandra",HBASE:"hbase",MONGODB:"mongodb",REDIS:"redis",COUCHBASE:"couchbase",COUCHDB:"couchdb",COSMOSDB:"cosmosdb",DYNAMODB:"dynamodb",NEO4J:"neo4j",GEODE:"geode",ELASTICSEARCH:"elasticsearch",MEMCACHED:"memcached",COCKROACHDB:"cockroachdb"},o={ALL:"all",EACH_QUORUM:"each_quorum",QUORUM:"quorum",LOCAL_QUORUM:"local_quorum",ONE:"one",TWO:"two",THREE:"three",LOCAL_ONE:"local_one",ANY:"any",SERIAL:"serial",LOCAL_SERIAL:"local_serial"},s={DATASOURCE:"datasource",HTTP:"http",PUBSUB:"pubsub",TIMER:"timer",OTHER:"other"},a={INSERT:"insert",EDIT:"edit",DELETE:"delete"},c={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"},l={IP_TCP:"ip_tcp",IP_UDP:"ip_udp",IP:"ip",UNIX:"unix",PIPE:"pipe",INPROC:"inproc",OTHER:"other"},u={WIFI:"wifi",WIRED:"wired",CELL:"cell",UNAVAILABLE:"unavailable",UNKNOWN:"unknown"},p={GPRS:"gprs",EDGE:"edge",UMTS:"umts",CDMA:"cdma",EVDO_0:"evdo_0",EVDO_A:"evdo_a",CDMA2000_1XRTT:"cdma2000_1xrtt",HSDPA:"hsdpa",HSUPA:"hsupa",HSPA:"hspa",IDEN:"iden",EVDO_B:"evdo_b",LTE:"lte",EHRPD:"ehrpd",HSPAP:"hspap",GSM:"gsm",TD_SCDMA:"td_scdma",IWLAN:"iwlan",NR:"nr",NRNSA:"nrnsa",LTE_CA:"lte_ca"},d={HTTP_1_0:"1.0",HTTP_1_1:"1.1",HTTP_2_0:"2.0",SPDY:"SPDY",QUIC:"QUIC"},h={QUEUE:"queue",TOPIC:"topic"},f={RECEIVE:"receive",PROCESS:"process"},v={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15,UNAUTHENTICATED:16},g={SENT:"SENT",RECEIVED:"RECEIVED"}},25396:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.oneDataSystemClientFactory=void 0,t.oneDataSystemClientFactory=async(e,t,r)=>{let i=await(async(e,t,r)=>{const i=await Promise.resolve().then((()=>o(n(51801)))),s=await Promise.resolve().then((()=>o(n(28643)))),a=new i.AppInsightsCore,c=new s.PostChannel,l={instrumentationKey:e,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[c]]};if(r){l.extensionConfig={};const e={alwaysUseXhrOverride:!0,httpXHROverride:r};l.extensionConfig[c.identifier]=e}const u=t.workspace.getConfiguration("telemetry").get("internalTesting");return a.initialize(l,[]),a.addTelemetryInitializer((e=>{u&&(e.ext=e.ext??{},e.ext.utc=e.ext.utc??{},e.ext.utc.flags=8462029)})),a})(e,t,r);const s=async()=>{try{return new Promise(((e,t)=>{i?i.flush(!0,(e=>{e||t("Failed to flush app 1DS!")})):e()}))}catch(e){throw new Error("Failed to flush 1DS!\n"+e.message)}};return{logEvent:(e,t)=>{try{i?.track({name:e,baseData:{name:e,properties:t?.properties,measurements:t?.measurements}})}catch(e){throw new Error("Failed to log event to app insights!\n"+e.message)}},flush:s,dispose:async()=>(await s(),new Promise((e=>{i?i.unload(!0,(()=>{e(),i=void 0})):e()})))}}},86548:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseTelemetryReporter=void 0,t.BaseTelemetryReporter=class{constructor(e,t,n){this.telemetrySender=e,this.vscodeAPI=t,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this._onDidChangeTelemetryLevel=new this.vscodeAPI.EventEmitter,this.onDidChangeTelemetryLevel=this._onDidChangeTelemetryLevel.event,this.telemetryLogger=this.vscodeAPI.env.createTelemetryLogger(this.telemetrySender,n),this.updateUserOptIn(),this.telemetryLogger.onDidChangeEnableStates((()=>{this.updateUserOptIn()}))}updateUserOptIn(){this.errorOptIn=this.telemetryLogger.isErrorsEnabled,this.userOptIn=this.telemetryLogger.isUsageEnabled,(this.telemetryLogger.isErrorsEnabled||this.telemetryLogger.isUsageEnabled)&&this.telemetrySender.instantiateSender(),this._onDidChangeTelemetryLevel.fire(this.telemetryLevel)}get telemetryLevel(){return this.errorOptIn&&this.userOptIn?"all":this.errorOptIn?"error":"off"}internalSendTelemetryEvent(e,t,n,r){r?this.telemetrySender.sendEventData(e,{properties:t,measurements:n}):this.telemetryLogger.logUsage(e,{properties:t,measurements:n})}sendTelemetryEvent(e,t,n){this.internalSendTelemetryEvent(e,t,n,!1)}sendRawTelemetryEvent(e,t,n){const r={...t};for(const e of Object.keys(r??{})){const t=r[e];"string"==typeof e&&void 0!==t&&(r[e]=new this.vscodeAPI.TelemetryTrustedValue("string"==typeof t?t:t.value))}this.sendTelemetryEvent(e,r,n)}sendDangerousTelemetryEvent(e,t,n){this.telemetrySender.instantiateSender(),this.internalSendTelemetryEvent(e,t,n,!0)}internalSendTelemetryErrorEvent(e,t,n,r){r?this.telemetrySender.sendEventData(e,{properties:t,measurements:n}):this.telemetryLogger.logError(e,{properties:t,measurements:n})}sendTelemetryErrorEvent(e,t,n){this.internalSendTelemetryErrorEvent(e,t,n,!1)}sendDangerousTelemetryErrorEvent(e,t,n){this.telemetrySender.instantiateSender(),this.internalSendTelemetryErrorEvent(e,t,n,!0)}async dispose(){return await this.telemetrySender.dispose(),this.telemetryLogger.dispose(),Promise.all(this.disposables.map((e=>e.dispose())))}}},52396:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.BaseTelemetrySender=void 0,function(e){e[e.NOT_INSTANTIATED=0]="NOT_INSTANTIATED",e[e.INSTANTIATING=1]="INSTANTIATING",e[e.INSTANTIATED=2]="INSTANTIATED"}(n||(n={})),t.BaseTelemetrySender=class{constructor(e,t){this._instantiationStatus=n.NOT_INSTANTIATED,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=t,this._key=e}sendEventData(e,t){this._telemetryClient?this._telemetryClient.logEvent(e,t):this._instantiationStatus!==n.INSTANTIATED&&this._eventQueue.push({eventName:e,data:t})}sendErrorData(e,t){if(!this._telemetryClient)return void(this._instantiationStatus!==n.INSTANTIATED&&this._exceptionQueue.push({exception:e,data:t}));const r={stack:e.stack,message:e.message,name:e.name};t?t.properties={...t.properties,...r}:t={properties:r},this._telemetryClient.logEvent("unhandlederror",t)}async flush(){return this._telemetryClient?.flush()}async dispose(){await this.flush(),this._telemetryClient&&(await this._telemetryClient.dispose(),this._telemetryClient=void 0)}_flushQueues(){this._eventQueue.forEach((({eventName:e,data:t})=>this.sendEventData(e,t))),this._eventQueue=[],this._exceptionQueue.forEach((({exception:e,data:t})=>this.sendErrorData(e,t))),this._exceptionQueue=[]}instantiateSender(){this._instantiationStatus===n.NOT_INSTANTIATED&&(this._instantiationStatus=n.INSTANTIATING,this._clientFactory(this._key).then((e=>{this._telemetryClient=e,this._instantiationStatus=n.INSTANTIATED,this._flushQueues()})).catch((e=>{console.error(e),this._instantiationStatus=n.INSTANTIATED})))}}},38393:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TelemetryUtil=void 0;class n{static applyReplacements(e,t){for(const n of Object.keys(e))for(const r of t)r.lookup.test(n)&&(void 0!==r.replacementString?e[n]=r.replacementString:delete e[n])}static shouldUseOneDataSystemSDK(e){return 74===e.length&&"-"===e[32]&&"-"===e[41]&&"-"===e[46]&&"-"===e[51]&&"-"===e[56]&&"-"===e[69]}static getAdditionalCommonProperties(e){return{"common.os":e.platform,"common.nodeArch":e.architecture,"common.platformversion":(e.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),"common.telemetryclientversion":"0.8.4"}}static getInstance(){return n._instance||(n._instance=new n),n._instance}}t.TelemetryUtil=n},81170:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const s=o(n(70857)),a=o(n(54980)),c=o(n(65692)),l=n(86548),u=n(52396),p=n(38393),d=n(25396);class h extends l.BaseTelemetryReporter{constructor(e,t){let r=e=>(async(e,t)=>{let r;try{process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL="1";const t=await Promise.resolve().then((()=>o(n(86048))));t.defaultClient?(r=new t.TelemetryClient(e),r.channel.setUseDiskRetryCaching(!0)):(t.setup(e).setAutoCollectRequests(!1).setAutoCollectPerformance(!1).setAutoCollectExceptions(!1).setAutoCollectDependencies(!1).setAutoDependencyCorrelation(!1).setAutoCollectConsole(!1).setAutoCollectHeartbeat(!1).setAutoCollectIncomingRequestAzureFunctions(!1).setUseDiskRetryCaching(!0).start(),r=t.defaultClient),a&&a.env&&(r.context.tags[r.context.keys.userId]=a.env.machineId,r.context.tags[r.context.keys.sessionId]=a.env.sessionId,r.context.tags[r.context.keys.cloudRole]=a.env.appName,r.context.tags[r.context.keys.cloudRoleInstance]=a.env.appName)}catch(e){return Promise.reject("Failed to initialize app insights!\n"+e.message)}return t?.length&&function(e,t){e.addTelemetryProcessor((e=>(Array.isArray(e.tags)?e.tags.forEach((e=>p.TelemetryUtil.applyReplacements(e,t))):e.tags&&p.TelemetryUtil.applyReplacements(e.tags,t),e.data.baseData&&p.TelemetryUtil.applyReplacements(e.data.baseData,t),!0)))}(r,t),{logEvent:(e,t)=>{try{r?.trackEvent({name:e,properties:t?.properties,measurements:t?.measurements})}catch(e){throw new Error("Failed to log event to app insights!\n"+e.message)}},flush:async()=>{try{r?.flush()}catch(e){throw new Error("Failed to flush app insights!\n"+e.message)}},dispose:async()=>{r?.flush(),r=void 0}}})(e,t);p.TelemetryUtil.shouldUseOneDataSystemSDK(e)&&(r=e=>(0,d.oneDataSystemClientFactory)(e,a,{sendPOST:(e,t)=>{const n={method:"POST",headers:{...e.headers,"Content-Type":"application/json","Content-Length":Buffer.byteLength(e.data)}};try{const r=c.request(e.urlString,n,(e=>{e.on("data",(function(n){t(e.statusCode??200,e.headers,n.toString())})),e.on("error",(function(){t(0,{})}))}));r.write(e.data,(e=>{e&&t(0,{})})),r.end()}catch{t(0,{})}}}));const i={release:s.release(),platform:s.platform(),architecture:s.arch()},l=new u.BaseTelemetrySender(e,r);if(e&&0===e.indexOf("AIF-"))throw new Error("AIF keys are no longer supported. Please switch to 1DS keys for 1st party extensions");super(l,a,{additionalCommonProperties:p.TelemetryUtil.getAdditionalCommonProperties(i)})}}t.default=h},9724:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};const i=n(24434),o=r(n(88514)),s=r(n(61956)),a=o.default("agent-base");function c(){const{stack:e}=new Error;return"string"==typeof e&&e.split("\n").some((e=>-1!==e.indexOf("(https.js:")||-1!==e.indexOf("node:https:")))}function l(e,t){return new l.Agent(e,t)}!function(e){class t extends i.EventEmitter{constructor(e,t){super();let n=t;"function"==typeof e?this.callback=e:e&&(n=e),this.timeout=null,n&&"number"==typeof n.timeout&&(this.timeout=n.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=1/0,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return"number"==typeof this.explicitDefaultPort?this.explicitDefaultPort:c()?443:80}set defaultPort(e){this.explicitDefaultPort=e}get protocol(){return"string"==typeof this.explicitProtocol?this.explicitProtocol:c()?"https:":"http:"}set protocol(e){this.explicitProtocol=e}callback(e,t,n){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(e,t){const n=Object.assign({},t);"boolean"!=typeof n.secureEndpoint&&(n.secureEndpoint=c()),null==n.host&&(n.host="localhost"),null==n.port&&(n.port=n.secureEndpoint?443:80),null==n.protocol&&(n.protocol=n.secureEndpoint?"https:":"http:"),n.host&&n.path&&delete n.path,delete n.agent,delete n.hostname,delete n._defaultAgent,delete n.defaultPort,delete n.createConnection,e._last=!0,e.shouldKeepAlive=!1;let r=!1,i=null;const o=n.timeout||this.timeout,l=t=>{e._hadError||(e.emit("error",t),e._hadError=!0)},u=()=>{i=null,r=!0;const e=new Error(`A "socket" was not created for HTTP request before ${o}ms`);e.code="ETIMEOUT",l(e)},p=e=>{r||(null!==i&&(clearTimeout(i),i=null),l(e))},d=t=>{if(r)return;if(null!=i&&(clearTimeout(i),i=null),o=t,Boolean(o)&&"function"==typeof o.addRequest)return a("Callback returned another Agent instance %o",t.constructor.name),void t.addRequest(e,n);var o;if(t)return t.once("free",(()=>{this.freeSocket(t,n)})),void e.onSocket(t);const s=new Error(`no Duplex stream was returned to agent-base for \`${e.method} ${e.path}\``);l(s)};if("function"==typeof this.callback){this.promisifiedCallback||(this.callback.length>=3?(a("Converting legacy callback function to promise"),this.promisifiedCallback=s.default(this.callback)):this.promisifiedCallback=this.callback),"number"==typeof o&&o>0&&(i=setTimeout(u,o)),"port"in n&&"number"!=typeof n.port&&(n.port=Number(n.port));try{a("Resolving socket for %o request: %o",n.protocol,`${e.method} ${e.path}`),Promise.resolve(this.promisifiedCallback(e,n)).then(d,p)}catch(e){Promise.reject(e).catch(p)}}else l(new Error("`callback` is not defined"))}freeSocket(e,t){a("Freeing socket %o %o",e.constructor.name,t),e.destroy()}destroy(){a("Destroying agent %o",this.constructor.name)}}e.Agent=t,e.prototype=e.Agent.prototype}(l||(l={})),e.exports=l},61956:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,n){return new Promise(((r,i)=>{e.call(this,t,n,((e,t)=>{e?i(e):r(t)}))}))}}},61090:(e,t,n)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(r++,"%c"===e&&(i=r))})),t.splice(i,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(65645)(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},65645:(e,t,n)=>{e.exports=function(e){function t(e){let n,i,o,s=null;function a(...e){if(!a.enabled)return;const r=a,i=Number(new Date),o=i-(n||i);r.diff=o,r.prev=n,r.curr=i,n=i,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((n,i)=>{if("%%"===n)return"%";s++;const o=t.formatters[i];if("function"==typeof o){const t=e[s];n=o.call(r,t),e.splice(s,1),s--}return n})),t.formatArgs.call(r,e),(r.log||t.log).apply(r,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=r,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(i!==t.namespaces&&(i=t.namespaces,o=t.enabled(e)),o),set:e=>{s=e}}),"function"==typeof t.init&&t.init(a),a}function r(e,n){const r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(i),...t.skips.map(i).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(6585),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((n=>{t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},88514:(e,t,n)=>{"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=n(61090):e.exports=n(26296)},26296:(e,t,n)=>{const r=n(52018),i=n(39023);t.init=function(e){e.inspectOpts={};const n=Object.keys(t.inspectOpts);for(let r=0;r<n.length;r++)e.inspectOpts[n[r]]=t.inspectOpts[n[r]]},t.log=function(...e){return process.stderr.write(i.format(...e)+"\n")},t.formatArgs=function(n){const{namespace:r,useColors:i}=this;if(i){const t=this.color,i="[3"+(t<8?t:"8;5;"+t),o=`  ${i};1m${r} [0m`;n[0]=o+n[0].split("\n").join("\n"+o),n.push(i+"m+"+e.exports.humanize(this.diff)+"[0m")}else n[0]=(t.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+r+" "+n[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):r.isatty(process.stderr.fd)},t.destroy=i.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const e=n(27687);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter((e=>/^debug_/i.test(e))).reduce(((e,t)=>{const n=t.substring(6).toLowerCase().replace(/_([a-z])/g,((e,t)=>t.toUpperCase()));let r=process.env[t];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),e[n]=r,e}),{}),e.exports=n(65645)(t);const{formatters:o}=e.exports;o.o=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts).split("\n").map((e=>e.trim())).join(" ")},o.O=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts)}},46936:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncScopeManager=t.OpenTelemetryScopeManagerWrapper=void 0;var i=n(13097),o=n(24434),s=function(){function e(){}return e.prototype.active=function(){var e=this,t=i.CorrelationContextManager.getCurrentContext();return r(r({},t),{getValue:function(n){return e._activeSymbol?n===e._activeSymbol&&t:(e._activeSymbol=n,t)},setValue:function(){}})},e.prototype.with=function(t,n){var r=t.parentSpanId,o=t.name,s=e._spanToContext(t,r,o);return i.CorrelationContextManager.runWithContext(s,n)()},e.prototype.bind=function(e){return"function"==typeof e?i.CorrelationContextManager.wrapCallback(e):(e instanceof o.EventEmitter&&i.CorrelationContextManager.wrapEmitter(e),e)},e.prototype.enable=function(){return i.CorrelationContextManager.enable(),this},e.prototype.disable=function(){return i.CorrelationContextManager.disable(),this},e._spanToContext=function(e,t,n){var o=e.spanContext?e.spanContext():e.context(),s=r(r({},e.spanContext()),{traceFlags:e.spanContext().traceFlags}),a=t?"|"+o.traceId+"."+t+".":o.traceId,c=i.CorrelationContextManager.getCurrentContext();return c&&(s.traceId=c.operation.id,t||(a=c.operation.parentId)),i.CorrelationContextManager.spanToContextObject(s,a,n)},e}();t.OpenTelemetryScopeManagerWrapper=s,t.AsyncScopeManager=new s},66784:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.AzureFunctionsHook=void 0;var o=n(41102),s=n(13097),a=function(){function e(e){this._client=e,this._autoGenerateIncomingRequests=!1;try{this._functionsCoreModule=n(78789);var t=this._functionsCoreModule.getProgrammingModel();"@azure/functions"===t.name&&t.version.startsWith("3.")?(this._addPreInvocationHook(),this._addPostInvocationHook()):o.warn('AzureFunctionsHook does not support model "'+t.name+'" version "'+t.version+'"')}catch(e){o.info("AzureFunctionsHook failed to load, not running in Azure Functions")}}return e.prototype.enable=function(e){this._autoGenerateIncomingRequests=e},e.prototype.dispose=function(){this.enable(!1),this._removeInvocationHooks(),this._functionsCoreModule=void 0},e.prototype._addPreInvocationHook=function(){var e=this;this._preInvocationHook||(this._preInvocationHook=this._functionsCoreModule.registerHook("preInvocation",(function(t){return r(e,void 0,void 0,(function(){var e,n;return i(this,(function(r){e=t.invocationContext;try{(n=s.CorrelationContextManager.startOperation(e))&&(n.customProperties.setProperty("InvocationId",e.invocationId),e.traceContext.attributes&&(n.customProperties.setProperty("ProcessId",e.traceContext.attributes.ProcessId),n.customProperties.setProperty("LogLevel",e.traceContext.attributes.LogLevel),n.customProperties.setProperty("Category",e.traceContext.attributes.Category),n.customProperties.setProperty("HostInstanceId",e.traceContext.attributes.HostInstanceId),n.customProperties.setProperty("AzFuncLiveLogsSessionId",e.traceContext.attributes["#AzFuncLiveLogsSessionId"])),t.functionCallback=s.CorrelationContextManager.wrapCallback(t.functionCallback,n),this._isHttpTrigger(e)&&this._autoGenerateIncomingRequests&&(t.hookData.appInsightsExtractedContext=n,t.hookData.appInsightsStartTime=Date.now()))}catch(e){return o.warn("Failed to propagate context in Azure Functions",e),[2]}return[2]}))}))})))},e.prototype._addPostInvocationHook=function(){var e=this;this._postInvocationHook||(this._postInvocationHook=this._functionsCoreModule.registerHook("postInvocation",(function(t){return r(e,void 0,void 0,(function(){var e,n,r,a,c,l=this;return i(this,(function(i){try{this._autoGenerateIncomingRequests&&(e=t.invocationContext,this._isHttpTrigger(e)&&(n=t.inputs[0])&&(r=t.hookData.appInsightsStartTime||Date.now(),a=this._getAzureFunctionResponse(t,e),(c=t.hookData.appInsightsExtractedContext)?s.CorrelationContextManager.runWithContext(c,(function(){l._createIncomingRequestTelemetry(n,a,r,c.operation.parentId)})):this._createIncomingRequestTelemetry(n,a,r,null)))}catch(e){o.warn("Error creating automatic incoming request in Azure Functions",e)}return[2]}))}))})))},e.prototype._createIncomingRequestTelemetry=function(e,t,n,r){var i=200;if(t)for(var o=0,s=[t.statusCode,t.status];o<s.length;o++){var a=s[o];if("number"==typeof a&&Number.isInteger(a)){i=a;break}if("string"==typeof a){var c=parseInt(a);if(!isNaN(c)){i=c;break}}}else i=void 0;this._client.trackRequest({name:e.method+" "+e.url,resultCode:i,success:"number"==typeof i?0<i&&i<400:void 0,url:e.url,time:new Date(n),duration:Date.now()-n,id:r}),this._client.flush()},e.prototype._getAzureFunctionResponse=function(e,t){var n=t.bindingDefinitions.find((function(e){return"out"===e.direction&&"http"===e.type.toLowerCase()}));return"$return"===(null==n?void 0:n.name)?e.result:n&&t.bindings&&void 0!==t.bindings[n.name]?t.bindings[n.name]:t.res},e.prototype._isHttpTrigger=function(e){return e.bindingDefinitions.find((function(e){var t;return"httptrigger"===(null===(t=e.type)||void 0===t?void 0:t.toLowerCase())}))},e.prototype._removeInvocationHooks=function(){this._preInvocationHook&&(this._preInvocationHook.dispose(),this._preInvocationHook=void 0),this._postInvocationHook&&(this._postInvocationHook.dispose(),this._postInvocationHook=void 0)},e}();t.AzureFunctionsHook=a},43970:(e,t,n)=>{"use strict";var r=n(59193),i=function(){function e(t){if(e.INSTANCE)throw new Error("Console logging adapter tracking should be configured from the applicationInsights object");this._client=t,e.INSTANCE=this}return e.prototype.enable=function(e,t){r.IsInitialized&&(n(14960).sS(e&&t,this._client),n(98822).sS(e,this._client),n(85581).sS(e,this._client))},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1,!1)},e._methodNames=["debug","info","log","warn","error"],e}();e.exports=i},13097:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CorrelationContextManager=void 0;var r=n(41102),i=n(59193),o=n(24782),s=n(71113),a=n(67065),c=n(66495),l=function(){function e(){}return e.getCurrentContext=function(){if(!e.enabled)return null;var t=e.session.get(e.CONTEXT_NAME);return void 0===t?null:t},e.generateContextObject=function(e,t,n,r,i,o){return t=t||e,this.enabled?{operation:{name:n,id:e,parentId:t,traceparent:i,tracestate:o},customProperties:new u(r)}:null},e.spanToContextObject=function(t,n,r){var i=new o;return i.traceId=t.traceId,i.spanId=t.spanId,i.traceFlag=o.formatOpenTelemetryTraceFlags(t.traceFlags)||o.DEFAULT_TRACE_FLAG,i.parentId=n,e.generateContextObject(i.traceId,i.parentId,r,null,i)},e.runWithContext=function(t,n){var i;if(e.enabled)try{return e.session.bind(n,((i={})[e.CONTEXT_NAME]=t,i))()}catch(e){r.warn("Error binding to session context",c.dumpObj(e))}return n()},e.wrapEmitter=function(t){if(e.enabled)try{e.session.bindEmitter(t)}catch(e){r.warn("Error binding to session context",c.dumpObj(e))}},e.wrapCallback=function(t,n){var i;if(e.enabled)try{return e.session.bind(t,n?((i={})[e.CONTEXT_NAME]=n,i):void 0)}catch(e){r.warn("Error binding to session context",c.dumpObj(e))}return t},e.enable=function(t){this.enabled||(this.isNodeVersionCompatible()?(e.hasEverEnabled||(this.forceClsHooked=t,this.hasEverEnabled=!0,void 0===this.cls&&(!0===e.forceClsHooked||void 0===e.forceClsHooked&&e.shouldUseClsHooked()?this.cls=n(9132):this.cls=n(19423)),e.session=this.cls.createNamespace("AI-CLS-Session"),i.registerContextPreservation((function(t){try{return e.session.bind(t)}catch(e){r.warn("Error binding to session context",c.dumpObj(e))}}))),this.enabled=!0):this.enabled=!1)},e.startOperation=function(t,n){var i=t&&t.traceContext||null,c=t&&t.spanContext?t:null,l=t&&t.traceId?t:null,u=t&&t.headers;if(c)return this.spanToContextObject(c.spanContext(),c.parentSpanId,c.name);if(l)return this.spanToContextObject(l,"|"+l.traceId+"."+l.spanId+".","string"==typeof n?n:"");var p="string"==typeof n?n:"";if(i){var d=null,h=null;if(p=i.attributes.OperationName||p,n){var f=n;f.headers&&(f.headers.traceparent?d=new o(f.headers.traceparent):f.headers["request-id"]&&(d=new o(null,f.headers["request-id"])),f.headers.tracestate&&(h=new s(f.headers.tracestate)))}d||(d=new o(i.traceparent)),h||(h=new s(i.tracestate));var v=void 0;return"object"==typeof n&&(v=(g=new a(n)).getCorrelationContextHeader(),p=g.getOperationName({})),e.generateContextObject(d.traceId,d.parentId,p,v,d,h)}if(u){d=new o(u.traceparent?u.traceparent.toString():null),h=new s(u.tracestate?u.tracestate.toString():null);var g=new a(t);return e.generateContextObject(d.traceId,d.parentId,g.getOperationName({}),g.getCorrelationContextHeader(),d,h)}return r.warn("startOperation was called with invalid arguments",arguments),null},e.disable=function(){this.enabled=!1},e.reset=function(){e.hasEverEnabled&&(e.session=null,e.session=this.cls.createNamespace("AI-CLS-Session"))},e.isNodeVersionCompatible=function(){var e=process.versions.node.split(".");return parseInt(e[0])>3||parseInt(e[0])>2&&parseInt(e[1])>2},e.shouldUseClsHooked=function(){var e=process.versions.node.split(".");return parseInt(e[0])>8||parseInt(e[0])>=8&&parseInt(e[1])>=2},e.canUseClsHooked=function(){var e=process.versions.node.split("."),t=parseInt(e[0])>8||parseInt(e[0])>=8&&parseInt(e[1])>=0,n=parseInt(e[0])<8||parseInt(e[0])<=8&&parseInt(e[1])<2,r=parseInt(e[0])>4||parseInt(e[0])>=4&&parseInt(e[1])>=7;return!(t&&n)&&r},e.enabled=!1,e.hasEverEnabled=!1,e.forceClsHooked=void 0,e.CONTEXT_NAME="ApplicationInsights-Context",e}();t.CorrelationContextManager=l;var u=function(){function e(e){this.props=[],this.addHeaderData(e)}return e.prototype.addHeaderData=function(e){var t=e?e.split(", "):[];this.props=t.map((function(e){var t=e.split("=");return{key:t[0],value:t[1]}})).concat(this.props)},e.prototype.serializeToHeader=function(){return this.props.map((function(e){return e.key+"="+e.value})).join(", ")},e.prototype.getProperty=function(e){for(var t=0;t<this.props.length;++t){var n=this.props[t];if(n.key===e)return n.value}},e.prototype.setProperty=function(t,n){if(e.bannedCharacters.test(t)||e.bannedCharacters.test(n))r.warn("Correlation context property keys and values must not contain ',' or '='. setProperty was called with key: "+t+" and value: "+n);else{for(var i=0;i<this.props.length;++i){var o=this.props[i];if(o.key===t)return void(o.value=n)}this.props.push({key:t,value:n})}},e.bannedCharacters=/[,=]/,e}()},8025:e=>{"use strict";var t=function(){function e(t){if(e.INSTANCE)throw new Error("Exception tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t;var n=process.versions.node.split(".");e._canUseUncaughtExceptionMonitor=parseInt(n[0])>13||13===parseInt(n[0])&&parseInt(n[1])>=7}return e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.enable=function(t){var n=this;if(t){if(this._isInitialized=!0,!this._exceptionListenerHandle){var r=function(t,r,i){void 0===i&&(i=new Error(e._FALLBACK_ERROR_MESSAGE));var o={exception:i,contextObjects:{}};o.contextObjects.Error=i,n._client.trackException(o),n._client.flush({isAppCrashing:!0}),t&&r&&1===process.listeners(r).length&&(console.error(i),process.exit(1))};e._canUseUncaughtExceptionMonitor?(this._exceptionListenerHandle=r.bind(this,!1,void 0),process.on(e.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle)):(this._exceptionListenerHandle=r.bind(this,!0,e.UNCAUGHT_EXCEPTION_HANDLER_NAME),this._rejectionListenerHandle=r.bind(this,!1,void 0),process.on(e.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.on(e.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle))}}else this._exceptionListenerHandle&&(e._canUseUncaughtExceptionMonitor?process.removeListener(e.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle):(process.removeListener(e.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.removeListener(e.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle)),this._exceptionListenerHandle=void 0,this._rejectionListenerHandle=void 0,delete this._exceptionListenerHandle,delete this._rejectionListenerHandle)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e.INSTANCE=null,e.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME="uncaughtExceptionMonitor",e.UNCAUGHT_EXCEPTION_HANDLER_NAME="uncaughtException",e.UNHANDLED_REJECTION_HANDLER_NAME="unhandledRejection",e._RETHROW_EXIT_MESSAGE="Application Insights Rethrow Exception Handler",e._FALLBACK_ERROR_MESSAGE="A promise was rejected without providing an error. Application Insights generated this error stack for you.",e._canUseUncaughtExceptionMonitor=!1,e}();e.exports=t},43511:(e,t,n)=>{"use strict";var r=n(76982),i=n(70857),o=n(54804),s=n(87396),a=function(){function e(t){this._collectionInterval=9e5,e.INSTANCE||(e.INSTANCE=this),this._isInitialized=!1,this._client=t}return e.prototype.enable=function(e){var t=this;this._isEnabled=e,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),e?this._handle||(this._handle=setInterval((function(){return t.trackHeartBeat(t._client.config,(function(){}))}),this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=null)},e.prototype.isInitialized=function(){return this._isInitialized},e.isEnabled=function(){return e.INSTANCE&&e.INSTANCE._isEnabled},e.prototype.trackHeartBeat=function(e,t){var n={},a=s.sdkVersion;n.sdkVersion=a,n.osType=i.type(),n.osVersion=i.release(),this._uniqueProcessId||(this._uniqueProcessId=r.randomBytes(16).toString("hex")),n.processSessionId=this._uniqueProcessId,process.env.WEBSITE_SITE_NAME&&(n.appSrv_SiteName=process.env.WEBSITE_SITE_NAME),process.env.WEBSITE_HOME_STAMPNAME&&(n.appSrv_wsStamp=process.env.WEBSITE_HOME_STAMPNAME),process.env.WEBSITE_HOSTNAME&&(n.appSrv_wsHost=process.env.WEBSITE_HOSTNAME),process.env.WEBSITE_OWNER_NAME&&(n.appSrv_wsOwner=process.env.WEBSITE_OWNER_NAME),process.env.WEBSITE_RESOURCE_GROUP&&(n.appSrv_ResourceGroup=process.env.WEBSITE_RESOURCE_GROUP),process.env.WEBSITE_SLOT_NAME&&(n.appSrv_SlotName=process.env.WEBSITE_SLOT_NAME),this._client.trackMetric({name:o.HeartBeatMetricName,value:0,properties:n}),t()},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e}();e.exports=a},4558:function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},i=n(58611),o=n(65692),s=n(41102),a=n(66495),c=n(96491),l=n(10041),u=n(13097),p=n(24782),d=n(59193),h=n(24835),f=function(){function e(t){if(e.INSTANCE)throw new Error("Client request tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t}return e.prototype.enable=function(e){this._isEnabled=e,this._isEnabled&&!this._isInitialized&&this._initialize(),d.IsInitialized&&(n(1948).sS(e,this._client),n(54747).sS(e,this._client),n(20863).sS(e,this._client),n(22222).sS(e,this._client),n(92010).sS(e,this._client))},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype._initialize=function(){var t=this;this._isInitialized=!0;var n=i.request,c=o.request,l=function(n,r){try{var i=!r[e.disableCollectionRequestOption]&&!n[e.alreadyAutoCollectedFlag],o=null;if(r.headers&&(o=r.headers["User-Agent"]||r.headers["user-agent"])&&-1!==o.toString().indexOf("azsdk-js")&&(i=!1),n&&r&&i&&(u.CorrelationContextManager.wrapEmitter(n),t._isEnabled))if(n[e.alreadyAutoCollectedFlag]=!0,u.CorrelationContextManager.getCurrentContext())e.trackRequest(t._client,{options:r,request:n});else{var c=null;if(h.w3cEnabled)c=(new p).traceId;else{var l=h.generateRequestId(null);c=h.getRootId(l)}var d=u.CorrelationContextManager.generateContextObject(c);u.CorrelationContextManager.runWithContext(d,(function(){e.trackRequest(t._client,{options:r,request:n})}))}}catch(e){s.warn("Failed to generate dependency telemetry.",a.dumpObj(e))}};i.request=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];var s=n.call.apply(n,r([i,e],t));return l(s,e),s},o.request=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=c.call.apply(c,r([o,e],t));return l(i,e),i},i.get=function(e){for(var t,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var s=(t=i.request).call.apply(t,r([i,e],n));return s.end(),s},o.get=function(e){for(var t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var s=(t=o.request).call.apply(t,r([o,e],n));return s.end(),s}},e.trackRequest=function(t,n){if(n.options&&n.request&&t){var r,i,o=new l(n.options,n.request),d=u.CorrelationContextManager.getCurrentContext();if(d&&d.operation&&d.operation.traceparent&&p.isValidTraceId(d.operation.traceparent.traceId)?(d.operation.traceparent.updateSpanId(),r=d.operation.traceparent.getBackCompatRequestId()):h.w3cEnabled?(i=(v=new p).toString(),r=v.getBackCompatRequestId()):r=d&&d.operation&&d.operation.parentId+e.requestNumber+++".",a.canIncludeCorrelationHeader(t,o.getUrl())&&n.request.getHeader&&n.request.setHeader&&t.config&&t.config.correlationId){var f=n.request.getHeader(c.requestContextHeader);try{a.safeIncludeCorrelationHeader(t,n.request,f)}catch(e){s.warn("Request-Context header could not be set. Correlation of requests may be lost",e)}if(d&&d.operation)try{if(n.request.setHeader(c.requestIdHeader,r),t.config.ignoreLegacyHeaders||(n.request.setHeader(c.parentIdHeader,d.operation.id),n.request.setHeader(c.rootIdHeader,r)),i||d.operation.traceparent)n.request.setHeader(c.traceparentHeader,i||d.operation.traceparent.toString());else if(h.w3cEnabled){var v=(new p).toString();n.request.setHeader(c.traceparentHeader,v)}if(d.operation.tracestate){var g=d.operation.tracestate.toString();g&&n.request.setHeader(c.traceStateHeader,g)}var m=d.customProperties.serializeToHeader();m&&n.request.setHeader(c.correlationContextHeader,m)}catch(e){s.warn("Correlation headers could not be set. Correlation of requests may be lost.",e)}}n.request.on&&(n.request.on("response",(function(e){if(!n.isProcessed){n.isProcessed=!0,o.onResponse(e);var i=o.getDependencyTelemetry(n,r);i.contextObjects=i.contextObjects||{},i.contextObjects["http.RequestOptions"]=n.options,i.contextObjects["http.ClientRequest"]=n.request,i.contextObjects["http.ClientResponse"]=e,t.trackDependency(i)}})),n.request.on("error",(function(e){if(!n.isProcessed){n.isProcessed=!0,o.onError(e);var i=o.getDependencyTelemetry(n,r);i.contextObjects=i.contextObjects||{},i.contextObjects["http.RequestOptions"]=n.options,i.contextObjects["http.ClientRequest"]=n.request,i.contextObjects.Error=e,t.trackDependency(i)}})),n.request.on("abort",(function(){if(!n.isProcessed){n.isProcessed=!0,o.onError(new Error("The request has been aborted and the network socket has closed."));var e=o.getDependencyTelemetry(n,r);e.contextObjects=e.contextObjects||{},e.contextObjects["http.RequestOptions"]=n.options,e.contextObjects["http.ClientRequest"]=n.request,t.trackDependency(e)}})))}else s.info("AutoCollectHttpDependencies.trackRequest was called with invalid parameters: ",!n.options,!n.request,!t)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e.disableCollectionRequestOption="disableAppInsightsAutoCollection",e.requestNumber=1,e.alreadyAutoCollectedFlag="_appInsightsAutoCollected",e}();e.exports=f},10041:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=n(87016),s=n(94909),a=n(66495),c=n(96491),l=n(16089),u=n(24835),p=function(e){function t(n,r){var i=e.call(this)||this;return r&&r.method&&n&&(i.method=r.method,i.url=t._getUrlFromRequestOptions(n,r),i.startTime=+new Date),i}return i(t,e),t.prototype.onError=function(e){this._setStatus(void 0,e)},t.prototype.onResponse=function(e){this._setStatus(e.statusCode,void 0),this.correlationId=a.getCorrelationContextTarget(e,c.requestContextTargetKey)},t.prototype.getDependencyTelemetry=function(e,t){var n=this.method.toUpperCase(),r=s.RemoteDependencyDataConstants.TYPE_HTTP,i="";try{var a=new o.URL(this.url);a.search=void 0,a.hash=void 0,n+=" "+a.pathname,i=a.hostname,a.port&&(i+=":"+a.port)}catch(e){}this.correlationId?(r=s.RemoteDependencyDataConstants.TYPE_AI,this.correlationId!==u.correlationIdPrefix&&(i+=" | "+this.correlationId)):r=s.RemoteDependencyDataConstants.TYPE_HTTP;var c={id:t,name:n,data:this.url,duration:this.duration,success:this._isSuccess(),resultCode:this.statusCode?this.statusCode.toString():null,properties:this.properties||{},dependencyTypeName:r,target:i};if(e&&e.time?c.time=e.time:this.startTime&&(c.time=new Date(this.startTime)),e){for(var l in e)c[l]||(c[l]=e[l]);if(e.properties)for(var l in e.properties)c.properties[l]=e.properties[l]}return c},t._getUrlFromRequestOptions=function(e,t){if("string"==typeof e)if(0===e.indexOf("http://")||0===e.indexOf("https://"))try{e=new o.URL(e)}catch(e){}else try{var n=new o.URL("http://"+e);e="443"===n.port?new o.URL("https://"+e):new o.URL("http://"+e)}catch(e){}else{if(e&&"function"==typeof o.URL&&e instanceof o.URL)return o.format(e);var r=e;e={},r&&Object.keys(r).forEach((function(t){e[t]=r[t]}))}if(e.path&&e.host)try{var i=new o.URL(e.path,"http://"+e.host+e.path);e.pathname=i.pathname,e.search=i.search}catch(e){}if(e.path&&e.hostname&&!e.host)try{i=new o.URL(e.path,"http://"+e.hostname+e.path),e.pathname=i.pathname,e.search=i.search}catch(e){}if(e.host&&e.port)try{!new o.URL("http://"+e.host).port&&e.port&&(e.hostname=e.host,delete e.host)}catch(e){}return e.protocol=e.protocol||t.agent&&t.agent.protocol||t.protocol||void 0,e.hostname=e.hostname||"localhost",o.format(e)},t}(l);e.exports=p},67065:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=n(87016),s=n(94909),a=n(66495),c=n(96491),l=n(16089),u=n(24835),p=n(71113),d=n(24782),h=function(e){function t(t,n){var r=e.call(this)||this;return t&&(r.method=t.method,r.url=r._getAbsoluteUrl(t),r.startTime=+new Date,r.socketRemoteAddress=t.socket&&t.socket.remoteAddress,r.parseHeaders(t,n),t.connection&&(r.connectionRemoteAddress=t.connection.remoteAddress,r.legacySocketRemoteAddress=t.connection.socket&&t.connection.socket.remoteAddress)),r}return i(t,e),t.prototype.onError=function(e,t){this._setStatus(void 0,e),t&&(this.duration=t)},t.prototype.onResponse=function(e,t){this._setStatus(e.statusCode,void 0),t&&(this.duration=t)},t.prototype.getRequestTelemetry=function(e){var t=this.method;try{t+=" "+new o.URL(this.url).pathname}catch(e){}var n={id:this.requestId,name:t,url:this.url,source:this.sourceCorrelationId,duration:this.duration,resultCode:this.statusCode?this.statusCode.toString():null,success:this._isSuccess(),properties:this.properties};if(e&&e.time?n.time=e.time:this.startTime&&(n.time=new Date(this.startTime)),e){for(var r in e)n[r]||(n[r]=e[r]);if(e.properties)for(var r in e.properties)n.properties[r]=e.properties[r]}return n},t.prototype.getRequestTags=function(e){var n={};for(var r in e)n[r]=e[r];return n[t.keys.locationIp]=e[t.keys.locationIp]||this._getIp(),n[t.keys.sessionId]=e[t.keys.sessionId]||this._getId("ai_session"),n[t.keys.userId]=e[t.keys.userId]||this._getId("ai_user"),n[t.keys.userAuthUserId]=e[t.keys.userAuthUserId]||this._getId("ai_authUser"),n[t.keys.operationName]=this.getOperationName(e),n[t.keys.operationParentId]=this.getOperationParentId(e),n[t.keys.operationId]=this.getOperationId(e),n},t.prototype.getOperationId=function(e){return e[t.keys.operationId]||this.operationId},t.prototype.getOperationParentId=function(e){return e[t.keys.operationParentId]||this.parentId||this.getOperationId(e)},t.prototype.getOperationName=function(e){if(e[t.keys.operationName])return e[t.keys.operationName];var n="";try{n=new o.URL(this.url).pathname}catch(e){}var r=this.method;return n&&(r+=" "+n),r},t.prototype.getRequestId=function(){return this.requestId},t.prototype.getCorrelationContextHeader=function(){return this.correlationContextHeader},t.prototype.getTraceparent=function(){return this.traceparent},t.prototype.getTracestate=function(){return this.tracestate},t.prototype.getLegacyRootId=function(){return this.legacyRootId},t.prototype._getAbsoluteUrl=function(e){if(!e.headers)return e.url;var t=e.connection&&e.connection.encrypted||"https"==e.headers["x-forwarded-proto"]?"https":"http",n=t+"://"+e.headers.host+"/",r="",i="";try{var s=new o.URL(e.url,n);r=s.pathname,i=s.search}catch(e){}return o.format({protocol:t,host:e.headers.host,pathname:r,search:i})},t.prototype._getIp=function(){var e=/[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}/,t=function(t){var n=e.exec(t);if(n)return n[0]},n=t(this.rawHeaders["x-forwarded-for"])||t(this.rawHeaders["x-client-ip"])||t(this.rawHeaders["x-real-ip"])||t(this.connectionRemoteAddress)||t(this.socketRemoteAddress)||t(this.legacySocketRemoteAddress);return!n&&this.connectionRemoteAddress&&this.connectionRemoteAddress.substr&&"::"===this.connectionRemoteAddress.substr(0,2)&&(n="127.0.0.1"),n},t.prototype._getId=function(e){var n=this.rawHeaders&&this.rawHeaders.cookie&&"string"==typeof this.rawHeaders.cookie&&this.rawHeaders.cookie||"";return t.parseId(a.getCookie(e,n))},t.prototype.setBackCompatFromThisTraceContext=function(){this.operationId=this.traceparent.traceId,this.traceparent.legacyRootId&&(this.legacyRootId=this.traceparent.legacyRootId),this.parentId=this.traceparent.parentId,this.traceparent.updateSpanId(),this.requestId=this.traceparent.getBackCompatRequestId()},t.prototype.parseHeaders=function(e,t){if(this.rawHeaders=e.headers||e.rawHeaders,this.userAgent=e.headers&&e.headers["user-agent"],this.sourceCorrelationId=a.getCorrelationContextTarget(e,c.requestContextSourceKey),e.headers){var n=e.headers[c.traceStateHeader]?e.headers[c.traceStateHeader].toString():null,r=e.headers[c.traceparentHeader]?e.headers[c.traceparentHeader].toString():null,i=e.headers[c.requestIdHeader]?e.headers[c.requestIdHeader].toString():null,o=e.headers[c.parentIdHeader]?e.headers[c.parentIdHeader].toString():null,s=e.headers[c.rootIdHeader]?e.headers[c.rootIdHeader].toString():null;this.correlationContextHeader=e.headers[c.correlationContextHeader]?e.headers[c.correlationContextHeader].toString():null,u.w3cEnabled&&(r||n)?(this.traceparent=new d(r?r.toString():null),this.tracestate=r&&n&&new p(n?n.toString():null),this.setBackCompatFromThisTraceContext()):i?u.w3cEnabled?(this.traceparent=new d(null,i),this.setBackCompatFromThisTraceContext()):(this.parentId=i,this.requestId=u.generateRequestId(this.parentId),this.operationId=u.getRootId(this.requestId)):u.w3cEnabled?(this.traceparent=new d,this.traceparent.parentId=o,this.traceparent.legacyRootId=s||o,this.setBackCompatFromThisTraceContext()):(this.parentId=o,this.requestId=u.generateRequestId(s||this.parentId),this.correlationContextHeader=null,this.operationId=u.getRootId(this.requestId)),t&&(this.requestId=t,this.operationId=u.getRootId(this.requestId))}},t.parseId=function(e){var t=e.split("|");return t.length>0?t[0]:""},t.keys=new s.ContextTagKeys,t}(l);e.exports=h},93633:(e,t,n)=>{"use strict";var r=n(58611),i=n(65692),o=n(41102),s=n(66495),a=n(96491),c=n(67065),l=n(13097),u=n(38441),p=function(){function e(t){if(e.INSTANCE)throw new Error("Server request tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t}return e.prototype.enable=function(e){this._isEnabled=e,(this._isAutoCorrelating||this._isEnabled||u.isEnabled())&&!this._isInitialized&&(this.useAutoCorrelation(this._isAutoCorrelating),this._initialize())},e.prototype.useAutoCorrelation=function(e,t){e&&!this._isAutoCorrelating?l.CorrelationContextManager.enable(t):!e&&this._isAutoCorrelating&&l.CorrelationContextManager.disable(),this._isAutoCorrelating=e},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.isAutoCorrelating=function(){return this._isAutoCorrelating},e.prototype._generateCorrelationContext=function(e){if(this._isAutoCorrelating)return l.CorrelationContextManager.generateContextObject(e.getOperationId(this._client.context.tags),e.getRequestId(),e.getOperationName(this._client.context.tags),e.getCorrelationContextHeader(),e.getTraceparent(),e.getTracestate())},e.prototype._registerRequest=function(t,n,r){var i=this,o=new c(t),s=this._generateCorrelationContext(o);l.CorrelationContextManager.runWithContext(s,(function(){i._isEnabled&&(t[e.alreadyAutoCollectedFlag]=!0,e.trackRequest(i._client,{request:t,response:n},o)),"function"==typeof r&&r(t,n)}))},e.prototype._initialize=function(){if(this._isInitialized=!0,!e.HANDLER_READY){e.HANDLER_READY=!0;var t=function(t){if(t){if("function"!=typeof t)throw new Error("onRequest handler must be a function");return function(n,r){var i;l.CorrelationContextManager.wrapEmitter(n),l.CorrelationContextManager.wrapEmitter(r);var o=n&&!n[e.alreadyAutoCollectedFlag];n&&o?null===(i=e.INSTANCE)||void 0===i||i._registerRequest(n,r,t):"function"==typeof t&&t(n,r)}}},n=function(e){var n=e.addListener.bind(e);e.addListener=function(e,r){switch(e){case"request":case"checkContinue":return n(e,t(r));default:return n(e,r)}},e.on=e.addListener},o=r.createServer;r.createServer=function(e,r){if(r&&"function"==typeof r){var i=o(e,t(r));return n(i),i}return i=o(t(e)),n(i),i};var s=i.createServer;i.createServer=function(e,r){var i=s(e,t(r));return n(i),i}}},e.trackRequestSync=function(t,n){if(n.request&&n.response&&t){n.isProcessed=!1,e.addResponseCorrelationIdHeader(t,n.response);var r=l.CorrelationContextManager.getCurrentContext(),i=new c(n.request,r&&r.operation.parentId);r&&(r.operation.id=i.getOperationId(t.context.tags)||r.operation.id,r.operation.name=i.getOperationName(t.context.tags)||r.operation.name,r.operation.parentId=i.getRequestId()||r.operation.parentId,r.customProperties.addHeaderData(i.getCorrelationContextHeader())),e.endRequest(t,i,n,n.duration,n.error)}else o.info("AutoCollectHttpRequests.trackRequestSync was called with invalid parameters: ",!n.request,!n.response,!t)},e.trackRequest=function(t,n,r){if(n.request&&n.response&&t){n.isProcessed=!1;var i=l.CorrelationContextManager.getCurrentContext(),a=r||new c(n.request,i&&i.operation.parentId);s.canIncludeCorrelationHeader(t,a.getUrl())&&e.addResponseCorrelationIdHeader(t,n.response),i&&!r&&(i.operation.id=a.getOperationId(t.context.tags)||i.operation.id,i.operation.name=a.getOperationName(t.context.tags)||i.operation.name,i.operation.parentId=a.getOperationParentId(t.context.tags)||i.operation.parentId,i.customProperties.addHeaderData(a.getCorrelationContextHeader())),n.response.once&&n.response.once("finish",(function(){e.endRequest(t,a,n,null,null)})),n.request.on&&n.request.on("error",(function(r){e.endRequest(t,a,n,null,r)})),n.request.on&&n.request.on("aborted",(function(){e.endRequest(t,a,n,null,"The request has been aborted and the network socket has closed.")}))}else o.info("AutoCollectHttpRequests.trackRequest was called with invalid parameters: ",!n.request,!n.response,!t)},e.addResponseCorrelationIdHeader=function(e,t){if(e.config&&e.config.correlationId&&t.getHeader&&t.setHeader&&!t.headersSent){var n=t.getHeader(a.requestContextHeader);s.safeIncludeCorrelationHeader(e,t,n)}},e.endRequest=function(e,t,n,r,i){if(!n.isProcessed){n.isProcessed=!0,i?t.onError(i,r):t.onResponse(n.response,r);var o=t.getRequestTelemetry(n);if(o.tagOverrides=t.getRequestTags(e.context.tags),n.tagOverrides)for(var s in n.tagOverrides)o.tagOverrides[s]=n.tagOverrides[s];var a=t.getLegacyRootId();a&&(o.properties.ai_legacyRootId=a),o.contextObjects=o.contextObjects||{},o.contextObjects["http.ServerRequest"]=n.request,o.contextObjects["http.ServerResponse"]=n.response,e.trackRequest(o)}},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1,l.CorrelationContextManager.disable(),this._isAutoCorrelating=!1},e.HANDLER_READY=!1,e.alreadyAutoCollectedFlag="_appInsightsAutoCollected",e}();e.exports=p},30460:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.AutoCollectNativePerformance=void 0;var i=n(87396),o=n(41102),s=function(){function e(t){this._disabledMetrics={},e.INSTANCE&&e.INSTANCE.dispose(),e.INSTANCE=this,this._client=t}return e.prototype.enable=function(t,r,i){var s=this;if(void 0===r&&(r={}),void 0===i&&(i=6e4),null==e._metricsAvailable&&t&&!this._isInitialized)try{var a=n(5827);e._emitter=new a,e._metricsAvailable=!0,o.info("Native metrics module successfully loaded!")}catch(t){return void(e._metricsAvailable=!1)}this._isEnabled=t,this._disabledMetrics=r,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),this._isEnabled&&e._emitter?(e._emitter.enable(!0,i),this._handle||(this._handle=setInterval((function(){return s._trackNativeMetrics()}),i),this._handle.unref())):e._emitter&&(e._emitter.enable(!1),this._handle&&(clearInterval(this._handle),this._handle=void 0))},e.prototype.dispose=function(){this.enable(!1)},e.parseEnabled=function(e,t){var n=t.disableAllExtendedMetrics,i=t.extendedMetricDisablers;if(n)return{isEnabled:!1,disabledMetrics:{}};if(i){var o=i.split(","),s={};if(o.length>0)for(var a=0,c=o;a<c.length;a++)s[c[a]]=!0;return"object"==typeof e?{isEnabled:!0,disabledMetrics:r(r({},e),s)}:{isEnabled:e,disabledMetrics:s}}return"boolean"==typeof e?{isEnabled:e,disabledMetrics:{}}:{isEnabled:!0,disabledMetrics:e}},e.prototype._trackNativeMetrics=function(){var e=!0;"object"!=typeof this._isEnabled&&(e=this._isEnabled),e&&(this._trackGarbageCollection(),this._trackEventLoop(),this._trackHeapUsage())},e.prototype._trackGarbageCollection=function(){var t;if(!this._disabledMetrics.gc){var n=e._emitter.getGCData();for(var r in n){var o=n[r].metrics,s=r+" Garbage Collection Duration",a=Math.sqrt(o.sumSquares/o.count-Math.pow(o.total/o.count,2))||0;this._client.trackMetric({name:s,value:o.total,count:o.count,max:o.max,min:o.min,stdDev:a,tagOverrides:(t={},t[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+i.sdkVersion,t)})}}},e.prototype._trackEventLoop=function(){var t;if(!this._disabledMetrics.loop){var n=e._emitter.getLoopData().loopUsage;if(0!=n.count){var r=Math.sqrt(n.sumSquares/n.count-Math.pow(n.total/n.count,2))||0;this._client.trackMetric({name:"Event Loop CPU Time",value:n.total,count:n.count,min:n.min,max:n.max,stdDev:r,tagOverrides:(t={},t[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+i.sdkVersion,t)})}}},e.prototype._trackHeapUsage=function(){var e,t,n;if(!this._disabledMetrics.heap){var r=process.memoryUsage(),o=r.heapUsed,s=r.heapTotal,a=r.rss;this._client.trackMetric({name:"Memory Usage (Heap)",value:o,count:1,tagOverrides:(e={},e[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+i.sdkVersion,e)}),this._client.trackMetric({name:"Memory Total (Heap)",value:s,count:1,tagOverrides:(t={},t[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+i.sdkVersion,t)}),this._client.trackMetric({name:"Memory Usage (Non-Heap)",value:a-s,count:1,tagOverrides:(n={},n[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+i.sdkVersion,n)})}},e}();t.AutoCollectNativePerformance=s},14166:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NetworkStatsbeat=void 0;t.NetworkStatsbeat=function(e,t){this.endpoint=e,this.host=t,this.totalRequestCount=0,this.totalSuccesfulRequestCount=0,this.totalFailedRequestCount=[],this.retryCount=[],this.exceptionCount=[],this.throttleCount=[],this.intervalRequestExecutionTime=0,this.lastIntervalRequestExecutionTime=0,this.lastTime=+new Date,this.lastRequestCount=0}},38441:(e,t,n)=>{"use strict";var r=n(70857),i=n(54804),o=function(){function e(t,n,r){void 0===n&&(n=6e4),void 0===r&&(r=!1),this._lastIntervalRequestExecutionTime=0,this._lastIntervalDependencyExecutionTime=0,e.INSTANCE||(e.INSTANCE=this),this._lastRequests={totalRequestCount:0,totalFailedRequestCount:0,time:0},this._lastDependencies={totalDependencyCount:0,totalFailedDependencyCount:0,time:0},this._lastExceptions={totalExceptionCount:0,time:0},this._isInitialized=!1,this._client=t,this._collectionInterval=n,this._enableLiveMetricsCounters=r}return e.prototype.enable=function(t,n){var i=this;this._isEnabled=t,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),t?this._handle||(this._lastCpus=r.cpus(),this._lastRequests={totalRequestCount:e._totalRequestCount,totalFailedRequestCount:e._totalFailedRequestCount,time:+new Date},this._lastDependencies={totalDependencyCount:e._totalDependencyCount,totalFailedDependencyCount:e._totalFailedDependencyCount,time:+new Date},this._lastExceptions={totalExceptionCount:e._totalExceptionCount,time:+new Date},"function"==typeof process.cpuUsage&&(this._lastAppCpuUsage=process.cpuUsage()),this._lastHrtime=process.hrtime(),this._collectionInterval=n||this._collectionInterval,this._handle=setInterval((function(){return i.trackPerformance()}),this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=void 0)},e.countRequest=function(t,n){var r;if(e.isEnabled()){if("string"==typeof t)r=+new Date("1970-01-01T"+t+"Z");else{if("number"!=typeof t)return;r=t}e._intervalRequestExecutionTime+=r,!1===n&&e._totalFailedRequestCount++,e._totalRequestCount++}},e.countException=function(){e._totalExceptionCount++},e.countDependency=function(t,n){var r;if(e.isEnabled()){if("string"==typeof t)r=+new Date("1970-01-01T"+t+"Z");else{if("number"!=typeof t)return;r=t}e._intervalDependencyExecutionTime+=r,!1===n&&e._totalFailedDependencyCount++,e._totalDependencyCount++}},e.prototype.isInitialized=function(){return this._isInitialized},e.isEnabled=function(){return e.INSTANCE&&e.INSTANCE._isEnabled},e.prototype.trackPerformance=function(){this._trackCpu(),this._trackMemory(),this._trackNetwork(),this._trackDependencyRate(),this._trackExceptionRate()},e.prototype._trackCpu=function(){var e=r.cpus();if(e&&e.length&&this._lastCpus&&e.length===this._lastCpus.length){for(var t=0,n=0,o=0,s=0,a=0,c=0;e&&c<e.length;c++){var l=e[c],u=this._lastCpus[c],p=(l.model,l.speed,l.times),d=u.times;t+=p.user-d.user||0,n+=p.sys-d.sys||0,o+=p.nice-d.nice||0,s+=p.idle-d.idle||0,a+=p.irq-d.irq||0}var h=void 0;if("function"==typeof process.cpuUsage){var f=process.cpuUsage(),v=process.hrtime(),g=f.user-this._lastAppCpuUsage.user+(f.system-this._lastAppCpuUsage.system)||0;void 0!==this._lastHrtime&&2===this._lastHrtime.length&&(h=100*g/((1e6*(v[0]-this._lastHrtime[0])+(v[1]-this._lastHrtime[1])/1e3||0)*e.length)),this._lastAppCpuUsage=f,this._lastHrtime=v}var m=t+n+o+s+a||1;this._client.trackMetric({name:i.PerformanceCounter.PROCESSOR_TIME,value:(m-s)/m*100}),this._client.trackMetric({name:i.PerformanceCounter.PROCESS_TIME,value:h||t/m*100})}this._lastCpus=e},e.prototype._trackMemory=function(){var e=r.freemem(),t=process.memoryUsage().rss,n=r.totalmem()-e;this._client.trackMetric({name:i.PerformanceCounter.PRIVATE_BYTES,value:t}),this._client.trackMetric({name:i.PerformanceCounter.AVAILABLE_BYTES,value:e}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:i.QuickPulseCounter.COMMITTED_BYTES,value:n})},e.prototype._trackNetwork=function(){var t=this._lastRequests,n={totalRequestCount:e._totalRequestCount,totalFailedRequestCount:e._totalFailedRequestCount,time:+new Date},r=n.totalRequestCount-t.totalRequestCount||0,o=n.totalFailedRequestCount-t.totalFailedRequestCount||0,s=n.time-t.time,a=s/1e3,c=(e._intervalRequestExecutionTime-this._lastIntervalRequestExecutionTime)/r||0;if(this._lastIntervalRequestExecutionTime=e._intervalRequestExecutionTime,s>0){var l=r/a,u=o/a;this._client.trackMetric({name:i.PerformanceCounter.REQUEST_RATE,value:l}),(!this._enableLiveMetricsCounters||r>0)&&this._client.trackMetric({name:i.PerformanceCounter.REQUEST_DURATION,value:c}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:i.QuickPulseCounter.REQUEST_FAILURE_RATE,value:u})}this._lastRequests=n},e.prototype._trackDependencyRate=function(){if(this._enableLiveMetricsCounters){var t=this._lastDependencies,n={totalDependencyCount:e._totalDependencyCount,totalFailedDependencyCount:e._totalFailedDependencyCount,time:+new Date},r=n.totalDependencyCount-t.totalDependencyCount||0,o=n.totalFailedDependencyCount-t.totalFailedDependencyCount||0,s=n.time-t.time,a=s/1e3,c=(e._intervalDependencyExecutionTime-this._lastIntervalDependencyExecutionTime)/r||0;if(this._lastIntervalDependencyExecutionTime=e._intervalDependencyExecutionTime,s>0){var l=r/a,u=o/a;this._client.trackMetric({name:i.QuickPulseCounter.DEPENDENCY_RATE,value:l}),this._client.trackMetric({name:i.QuickPulseCounter.DEPENDENCY_FAILURE_RATE,value:u}),(!this._enableLiveMetricsCounters||r>0)&&this._client.trackMetric({name:i.QuickPulseCounter.DEPENDENCY_DURATION,value:c})}this._lastDependencies=n}},e.prototype._trackExceptionRate=function(){if(this._enableLiveMetricsCounters){var t=this._lastExceptions,n={totalExceptionCount:e._totalExceptionCount,time:+new Date},r=n.totalExceptionCount-t.totalExceptionCount||0,o=n.time-t.time;if(o>0){var s=r/(o/1e3);this._client.trackMetric({name:i.QuickPulseCounter.EXCEPTION_RATE,value:s})}this._lastExceptions=n}},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e._totalRequestCount=0,e._totalFailedRequestCount=0,e._totalDependencyCount=0,e._totalFailedDependencyCount=0,e._totalExceptionCount=0,e._intervalDependencyExecutionTime=0,e._intervalRequestExecutionTime=0,e}();e.exports=o},85534:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=n(54804),o=n(2391),s=n(45311),a=function(){function e(t,n){void 0===n&&(n=6e4),e.INSTANCE||(e.INSTANCE=this),this._isInitialized=!1,e._dependencyCountersCollection=[],e._requestCountersCollection=[],e._exceptionCountersCollection=[],e._traceCountersCollection=[],this._client=t,this._collectionInterval=n}return e.prototype.enable=function(e,t){var n=this;this._isEnabled=e,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),e?this._handle||(this._collectionInterval=t||this._collectionInterval,this._handle=setInterval((function(){return n.trackPreAggregatedMetrics()}),this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=void 0)},e.countException=function(t){e.isEnabled()&&e._getAggregatedCounter(t,this._exceptionCountersCollection).totalCount++},e.countTrace=function(t){e.isEnabled()&&e._getAggregatedCounter(t,this._traceCountersCollection).totalCount++},e.countRequest=function(t,n){if(e.isEnabled()){var r,i=e._getAggregatedCounter(n,this._requestCountersCollection);if("string"==typeof t)r=+new Date("1970-01-01T"+t+"Z");else{if("number"!=typeof t)return;r=t}i.intervalExecutionTime+=r,i.totalCount++}},e.countDependency=function(t,n){if(e.isEnabled()){var r,i=e._getAggregatedCounter(n,this._dependencyCountersCollection);if("string"==typeof t)r=+new Date("1970-01-01T"+t+"Z");else{if("number"!=typeof t)return;r=t}i.intervalExecutionTime+=r,i.totalCount++}},e.prototype.isInitialized=function(){return this._isInitialized},e.isEnabled=function(){return e.INSTANCE&&e.INSTANCE._isEnabled},e.prototype.trackPreAggregatedMetrics=function(){this._trackRequestMetrics(),this._trackDependencyMetrics(),this._trackExceptionMetrics(),this._trackTraceMetrics()},e._getAggregatedCounter=function(e,t){for(var n=!1,r=0;r<t.length;r++){if(e===t[r].dimensions)return t[r];if(Object.keys(e).length===Object.keys(t[r].dimensions).length){for(var i in e)if(e[i]!=t[r].dimensions[i]){n=!0;break}if(!n)return t[r];n=!1}}var s=new o.AggregatedMetricCounter(e);return t.push(s),s},e.prototype._trackRequestMetrics=function(){for(var t=0;t<e._requestCountersCollection.length;t++){var n=e._requestCountersCollection[t];n.time=+new Date;var r=n.totalCount-n.lastTotalCount||0,o=n.time-n.lastTime,s=(n.intervalExecutionTime-n.lastIntervalExecutionTime)/r||0;n.lastIntervalExecutionTime=n.intervalExecutionTime,o>0&&r>0&&this._trackPreAggregatedMetric({name:"Server response time",dimensions:n.dimensions,value:s,count:r,aggregationInterval:o,metricType:i.MetricId.REQUESTS_DURATION}),n.lastTotalCount=n.totalCount,n.lastTime=n.time}},e.prototype._trackDependencyMetrics=function(){for(var t=0;t<e._dependencyCountersCollection.length;t++){var n=e._dependencyCountersCollection[t];n.time=+new Date;var r=n.totalCount-n.lastTotalCount||0,o=n.time-n.lastTime,s=(n.intervalExecutionTime-n.lastIntervalExecutionTime)/r||0;n.lastIntervalExecutionTime=n.intervalExecutionTime,o>0&&r>0&&this._trackPreAggregatedMetric({name:"Dependency duration",dimensions:n.dimensions,value:s,count:r,aggregationInterval:o,metricType:i.MetricId.DEPENDENCIES_DURATION}),n.lastTotalCount=n.totalCount,n.lastTime=n.time}},e.prototype._trackExceptionMetrics=function(){for(var t=0;t<e._exceptionCountersCollection.length;t++){var n=e._exceptionCountersCollection[t];n.time=+new Date;var r=n.totalCount-n.lastTotalCount||0,o=n.time-n.lastTime;o>0&&r>0&&this._trackPreAggregatedMetric({name:"Exceptions",dimensions:n.dimensions,value:r,count:r,aggregationInterval:o,metricType:i.MetricId.EXCEPTIONS_COUNT}),n.lastTotalCount=n.totalCount,n.lastTime=n.time}},e.prototype._trackTraceMetrics=function(){for(var t=0;t<e._traceCountersCollection.length;t++){var n=e._traceCountersCollection[t];n.time=+new Date;var r=n.totalCount-n.lastTotalCount||0,o=n.time-n.lastTime;o>0&&r>0&&this._trackPreAggregatedMetric({name:"Traces",dimensions:n.dimensions,value:r,count:r,aggregationInterval:o,metricType:i.MetricId.TRACES_COUNT}),n.lastTotalCount=n.totalCount,n.lastTime=n.time}},e.prototype._trackPreAggregatedMetric=function(e){var t={};for(var n in e.dimensions)t[s.PreaggregatedMetricPropertyNames[n]]=e.dimensions[n];t=r(r({},t),{"_MS.MetricId":e.metricType,"_MS.AggregationIntervalMs":String(e.aggregationInterval),"_MS.IsAutocollected":"True"});var i={name:e.name,value:e.value,count:e.count,properties:t,kind:"Aggregation"};this._client.trackMetric(i)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e}();e.exports=a},16089:e=>{"use strict";var t=function(){function e(){}return e.prototype.getUrl=function(){return this.url},e.prototype.RequestParser=function(){this.startTime=+new Date},e.prototype._setStatus=function(e,t){var n=+new Date;this.duration=n-this.startTime,this.statusCode=e;var r=this.properties||{};if(t)if("string"==typeof t)r.error=t;else if(t instanceof Error)r.error=t.message;else if("object"==typeof t)for(var i in t)r[i]=t[i]&&t[i].toString&&t[i].toString();this.properties=r},e.prototype._isSuccess=function(){return 0<this.statusCode&&this.statusCode<400},e}();e.exports=t},35884:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},s=n(70857),a=n(43273),c=n(41102),l=n(43790),u=n(54804),p=n(94909),d=n(49820),h=n(181),f=n(87396),v=n(14166),g=n(66495),m=function(){function e(e,t){this._attach=u.StatsbeatAttach.sdk,this._feature=u.StatsbeatFeature.NONE,this._instrumentation=u.StatsbeatInstrumentation.NONE,this._isInitialized=!1,this._statbeatMetrics=[],this._networkStatsbeatCollection=[],this._config=e,this._context=t||new f;var n=this._getConnectionString(e);this._statsbeatConfig=new h(n),this._statsbeatConfig.samplingPercentage=100,this._sender=new l(this._statsbeatConfig,null,null,null,null,!0,this._shutdownStatsbeat.bind(this))}return e.prototype.enable=function(t){var n=this;this._isEnabled=t,this._isEnabled&&!this._isInitialized&&(this._getCustomProperties(),this._isInitialized=!0),t?(this._handle||(this._handle=setInterval((function(){n.trackShortIntervalStatsbeats()}),e.STATS_COLLECTION_SHORT_INTERVAL),this._handle.unref()),this._longHandle||(this.trackLongIntervalStatsbeats(),this._longHandle=setInterval((function(){n.trackLongIntervalStatsbeats()}),e.STATS_COLLECTION_LONG_INTERVAL),this._longHandle.unref())):(this._handle&&(clearInterval(this._handle),this._handle=null),this._longHandle&&(clearInterval(this._longHandle),this._longHandle=null))},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.isEnabled=function(){return this._isEnabled},e.prototype.setCodelessAttach=function(){this._attach=u.StatsbeatAttach.codeless},e.prototype.addFeature=function(e){this._feature|=e},e.prototype.removeFeature=function(e){this._feature&=~e},e.prototype.addInstrumentation=function(e){this._instrumentation|=e},e.prototype.removeInstrumentation=function(e){this._instrumentation&=~e},e.prototype.countRequest=function(e,t,n,r,i){if(this.isEnabled()){var o=this._getNetworkStatsbeatCounter(e,t);if(o.totalRequestCount++,o.intervalRequestExecutionTime+=n,!1===r){if(!i)return;var s=o.totalFailedRequestCount.find((function(e){return i===e.statusCode}));s?s.count++:o.totalFailedRequestCount.push({statusCode:i,count:1})}else o.totalSuccesfulRequestCount++}},e.prototype.countException=function(e,t,n){if(this.isEnabled()){var r=this._getNetworkStatsbeatCounter(e,t),i=r.exceptionCount.find((function(e){return n.name===e.exceptionType}));i?i.count++:r.exceptionCount.push({exceptionType:n.name,count:1})}},e.prototype.countThrottle=function(e,t,n){if(this.isEnabled()){var r=this._getNetworkStatsbeatCounter(e,t),i=r.throttleCount.find((function(e){return n===e.statusCode}));i?i.count++:r.throttleCount.push({statusCode:n,count:1})}},e.prototype.countRetry=function(e,t,n){if(this.isEnabled()){var r=this._getNetworkStatsbeatCounter(e,t),i=r.retryCount.find((function(e){return n===e.statusCode}));i?i.count++:r.retryCount.push({statusCode:n,count:1})}},e.prototype.trackShortIntervalStatsbeats=function(){return i(this,void 0,void 0,(function(){var t,n;return o(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,this._getResourceProvider()];case 1:return r.sent(),t={os:this._os,rp:this._resourceProvider,cikey:this._cikey,runtimeVersion:this._runtimeVersion,language:this._language,version:this._sdkVersion,attach:this._attach},this._trackRequestDuration(t),this._trackRequestsCount(t),[4,this._sendStatsbeats()];case 2:return r.sent(),[3,4];case 3:return n=r.sent(),c.info(e.TAG,"Failed to send Statsbeat metrics: "+g.dumpObj(n)),[3,4];case 4:return[2]}}))}))},e.prototype.trackLongIntervalStatsbeats=function(){return i(this,void 0,void 0,(function(){var t,n,r,i,s;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,this._getResourceProvider()];case 1:return o.sent(),t={os:this._os,rp:this._resourceProvider,cikey:this._cikey,runtimeVersion:this._runtimeVersion,language:this._language,version:this._sdkVersion,attach:this._attach},n=Object.assign({rpId:this._resourceIdentifier},t),this._statbeatMetrics.push({name:u.StatsbeatCounter.ATTACH,value:1,properties:n}),this._instrumentation!=u.StatsbeatInstrumentation.NONE&&(r=Object.assign({feature:this._instrumentation,type:u.StatsbeatFeatureType.Instrumentation},t),this._statbeatMetrics.push({name:u.StatsbeatCounter.FEATURE,value:1,properties:r})),this._feature!=u.StatsbeatFeature.NONE&&(i=Object.assign({feature:this._feature,type:u.StatsbeatFeatureType.Feature},t),this._statbeatMetrics.push({name:u.StatsbeatCounter.FEATURE,value:1,properties:i})),[4,this._sendStatsbeats()];case 2:return o.sent(),[3,4];case 3:return s=o.sent(),c.info(e.TAG,"Failed to send Statsbeat metrics: "+g.dumpObj(s)),[3,4];case 4:return[2]}}))}))},e.prototype._getNetworkStatsbeatCounter=function(e,t){for(var n=this._getShortHost(t),r=0;r<this._networkStatsbeatCollection.length;r++)if(e===this._networkStatsbeatCollection[r].endpoint&&n===this._networkStatsbeatCollection[r].host)return this._networkStatsbeatCollection[r];var i=new v.NetworkStatsbeat(e,n);return this._networkStatsbeatCollection.push(i),i},e.prototype._trackRequestDuration=function(e){for(var t=0;t<this._networkStatsbeatCollection.length;t++){var n=this._networkStatsbeatCollection[t];n.time=+new Date;var r=n.totalRequestCount-n.lastRequestCount||0,i=n.intervalRequestExecutionTime-n.lastIntervalRequestExecutionTime,o=i>0&&i/r||0;if(n.lastIntervalRequestExecutionTime=n.intervalRequestExecutionTime,r>0){var s=Object.assign({endpoint:this._networkStatsbeatCollection[t].endpoint,host:this._networkStatsbeatCollection[t].host},e);this._statbeatMetrics.push({name:u.StatsbeatCounter.REQUEST_DURATION,value:o,properties:s})}n.lastRequestCount=n.totalRequestCount,n.lastTime=n.time}},e.prototype._getShortHost=function(e){var t=e;try{var n=new RegExp(/^https?:\/\/(?:www\.)?([^\/.-]+)/).exec(e);null!=n&&n.length>1&&(t=n[1]),t=t.replace(".in.applicationinsights.azure.com","")}catch(e){}return t},e.prototype._trackRequestsCount=function(e){for(var t,n=this,i=function(i){t=o._networkStatsbeatCollection[i];var s=Object.assign({endpoint:t.endpoint,host:t.host},e);t.totalSuccesfulRequestCount>0&&(o._statbeatMetrics.push({name:u.StatsbeatCounter.REQUEST_SUCCESS,value:t.totalSuccesfulRequestCount,properties:s}),t.totalSuccesfulRequestCount=0),t.totalFailedRequestCount.length>0&&(t.totalFailedRequestCount.forEach((function(e){s=Object.assign(r(r({},s),{statusCode:e.statusCode})),n._statbeatMetrics.push({name:u.StatsbeatCounter.REQUEST_FAILURE,value:e.count,properties:s})})),t.totalFailedRequestCount=[]),t.retryCount.length>0&&(t.retryCount.forEach((function(e){s=Object.assign(r(r({},s),{statusCode:e.statusCode})),n._statbeatMetrics.push({name:u.StatsbeatCounter.RETRY_COUNT,value:e.count,properties:s})})),t.retryCount=[]),t.throttleCount.length>0&&(t.throttleCount.forEach((function(e){s=Object.assign(r(r({},s),{statusCode:e.statusCode})),n._statbeatMetrics.push({name:u.StatsbeatCounter.THROTTLE_COUNT,value:e.count,properties:s})})),t.throttleCount=[]),t.exceptionCount.length>0&&(t.exceptionCount.forEach((function(e){s=Object.assign(r(r({},s),{exceptionType:e.exceptionType})),n._statbeatMetrics.push({name:u.StatsbeatCounter.EXCEPTION_COUNT,value:e.count,properties:s})})),t.exceptionCount=[])},o=this,s=0;s<this._networkStatsbeatCollection.length;s++)i(s)},e.prototype._sendStatsbeats=function(){return i(this,void 0,void 0,(function(){var e,t,n,r;return o(this,(function(i){switch(i.label){case 0:for(e=[],t=0;t<this._statbeatMetrics.length;t++)n={name:this._statbeatMetrics[t].name,value:this._statbeatMetrics[t].value,properties:this._statbeatMetrics[t].properties},(r=a.createEnvelope(n,p.TelemetryType.Metric,null,this._context,this._statsbeatConfig)).name=u.StatsbeatTelemetryName,e.push(r);return this._statbeatMetrics=[],[4,this._sender.send(e)];case 1:return i.sent(),[2]}}))}))},e.prototype._getCustomProperties=function(){this._language="node",this._cikey=this._config.instrumentationKey,this._sdkVersion=f.sdkVersion,this._os=s.type(),this._runtimeVersion=process.version},e.prototype._getResourceProvider=function(){var e=this;return new Promise((function(t,n){var r=!1;e._resourceProvider=u.StatsbeatResourceProvider.unknown,e._resourceIdentifier=u.StatsbeatResourceProvider.unknown,process.env.WEBSITE_SITE_NAME?(e._resourceProvider=u.StatsbeatResourceProvider.appsvc,e._resourceIdentifier=process.env.WEBSITE_SITE_NAME,process.env.WEBSITE_HOME_STAMPNAME&&(e._resourceIdentifier+="/"+process.env.WEBSITE_HOME_STAMPNAME)):process.env.FUNCTIONS_WORKER_RUNTIME?(e._resourceProvider=u.StatsbeatResourceProvider.functions,process.env.WEBSITE_HOSTNAME&&(e._resourceIdentifier=process.env.WEBSITE_HOSTNAME)):e._config&&(void 0===e._isVM||1==e._isVM?(r=!0,d.AzureVirtualMachine.getAzureComputeMetadata(e._config,(function(n){e._isVM=n.isVM,e._isVM&&(e._resourceProvider=u.StatsbeatResourceProvider.vm,e._resourceIdentifier=n.id+"/"+n.subscriptionId,n.osType&&(e._os=n.osType)),t()}))):e._resourceProvider=u.StatsbeatResourceProvider.unknown),r||t()}))},e.prototype._shutdownStatsbeat=function(){this.enable(!1)},e.prototype._getConnectionString=function(t){for(var n=t.endpointUrl,r=["westeurope","northeurope","francecentral","francesouth","germanywestcentral","norwayeast","norwaywest","swedencentral","switzerlandnorth","switzerlandwest","uksouth","ukwest"],i=0;i<r.length;i++)if(n.indexOf(r[i])>-1)return e.EU_CONNECTION_STRING;return e.NON_EU_CONNECTION_STRING},e.NON_EU_CONNECTION_STRING="InstrumentationKey=c4a29126-a7cb-47e5-b348-11414998b11e;IngestionEndpoint=https://westus-0.in.applicationinsights.azure.com",e.EU_CONNECTION_STRING="InstrumentationKey=7dc56bab-3c0c-4e9f-9ebb-d1acadee8d0f;IngestionEndpoint=https://westeurope-5.in.applicationinsights.azure.com",e.STATS_COLLECTION_SHORT_INTERVAL=9e5,e.STATS_COLLECTION_LONG_INTERVAL=864e5,e.TAG="Statsbeat",e}();e.exports=m},41860:(e,t,n)=>{"use strict";var r=n(58611),i=n(65692),o=n(43106),s=n(41102),a=n(44989),c=n(5655),l=n(54804),u=n(89397),p=n(5135),d=function(){function e(t){var n;if(this._isIkeyValid=!0,e.INSTANCE)throw new Error("Web snippet injection should be configured from the applicationInsights object");e.INSTANCE=this,e._aiUrl=l.WEB_INSTRUMENTATION_DEFAULT_SOURCE,e._aiDeprecatedUrl=l.WEB_INSTRUMENTATION_DEPRECATED_SOURCE;var r=this._getWebSnippetIkey(null===(n=t.config)||void 0===n?void 0:n.webInstrumentationConnectionString);this._webInstrumentationIkey=r||t.config.instrumentationKey,this._clientWebInstrumentationConfig=t.config.webInstrumentationConfig,this._clientWebInstrumentationSrc=t.config.webInstrumentationSrc,this._statsbeat=t.getStatsbeat()}return e.prototype.enable=function(t,n){this._isEnabled=t,this._webInstrumentationIkey=this._getWebSnippetIkey(n)||this._webInstrumentationIkey,e._snippet=this._getWebInstrumentationReplacedStr(),this._isEnabled&&!this._isInitialized&&this._isIkeyValid?(this._statsbeat&&this._statsbeat.addFeature(l.StatsbeatFeature.WEB_SNIPPET),this._initialize()):this._isEnabled||this._statsbeat&&this._statsbeat.removeFeature(l.StatsbeatFeature.WEB_SNIPPET)},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype._getWebSnippetIkey=function(e){var t=null;try{var n=u.parse(e).instrumentationkey||"";u.isIkeyValid(n)?(this._isIkeyValid=!0,t=n):(this._isIkeyValid=!1,s.info("Invalid web Instrumentation connection string, web Instrumentation is not enabled."))}catch(e){s.info("get web snippet ikey error: "+e)}return t},e.prototype._getWebInstrumentationReplacedStr=function(){var e=this._getClientWebInstrumentationConfigStr(this._clientWebInstrumentationConfig),t=c.getOsPrefix(),n=c.getResourceProvider(),r=this._webInstrumentationIkey+'",\r\n'+e+' disableIkeyDeprecationMessage: true,\r\n sdkExtension: "'+n+t+"d_n_",i=p.webSnippet.replace("INSTRUMENTATION_KEY",r);return this._clientWebInstrumentationSrc?i.replace(l.WEB_INSTRUMENTATION_DEFAULT_SOURCE+".2.min.js",this._clientWebInstrumentationSrc):i},e.prototype._getClientWebInstrumentationConfigStr=function(e){var t="";try{null!=e&&e.length>0&&e.forEach((function(e){var n=e.name;if(void 0!==n){var r=e.value;switch(typeof r){case"function":case"object":break;case"string":t+=" "+n+': "'+r+'",\r\n';break;default:t+=" "+n+": "+r+",\r\n"}}}))}catch(e){this._isEnabled=!1,s.info("Parse client web instrumentation error. Web Instrumentation is disabled")}return t},e.prototype._initialize=function(){this._isInitialized=!0;var t=r.createServer,n=i.createServer,o=this._isEnabled;r.createServer=function(n){var r=n;return r&&(n=function(t,n){var i=n.write,c="GET"==t.method;n.write=function(t,r,l){try{if(o&&c){var u=a.getContentEncodingFromHeaders(n),p=void 0;if("string"==typeof r&&(p=r),null==u)e.INSTANCE.ValidateInjection(n,t)&&(arguments[0]=e.INSTANCE.InjectWebSnippet(n,t,void 0,p));else if(u.length){var d=u[0];arguments[0]=e.INSTANCE.InjectWebSnippet(n,t,d)}}}catch(e){s.warn("Inject snippet error: "+e)}return i.apply(n,arguments)};var l=n.end;return n.end=function(t,r,i){if(o&&c)try{if(o&&c){var u=a.getContentEncodingFromHeaders(n),p=void 0;if("string"==typeof r&&(p=r),null==u)e.INSTANCE.ValidateInjection(n,t)&&(arguments[0]=e.INSTANCE.InjectWebSnippet(n,t,void 0,p));else if(u.length){var d=u[0];arguments[0]=e.INSTANCE.InjectWebSnippet(n,t,d)}}}catch(e){s.warn("Inject snipet error: "+e)}return l.apply(n,arguments)},r(t,n)}),t(n)},i.createServer=function(t,r){var i=r;if(i)return r=function(t,n){var r="GET"==t.method,c=n.write,l=n.end;return n.write=function(t,i,l){try{if(o&&r){var u=a.getContentEncodingFromHeaders(n),p=void 0;if("string"==typeof i&&(p=i),null==u)e.INSTANCE.ValidateInjection(n,t)&&(arguments[0]=this.InjectWebSnippet(n,t,void 0,p));else if(u.length){var d=u[0];arguments[0]=e.INSTANCE.InjectWebSnippet(n,t,d)}}}catch(e){s.warn("Inject snippet error: "+e)}return c.apply(n,arguments)},n.end=function(t,i,c){try{if(o&&r){var u=a.getContentEncodingFromHeaders(n),p=void 0;if("string"==typeof i&&(p=i),null==u)e.INSTANCE.ValidateInjection(n,t)&&(arguments[0]=e.INSTANCE.InjectWebSnippet(n,t,void 0,p));else if(u.length){var d=u[0];arguments[0]=e.INSTANCE.InjectWebSnippet(n,t,d)}}}catch(e){s.warn("Inject snippet error: "+e)}return l.apply(n,arguments)},i(t,n)},n(t,r)}},e.prototype.ValidateInjection=function(t,n){try{if(!t||!n||200!=t.statusCode)return!1;if(!a.isContentTypeHeaderHtml(t))return!1;var r=n.slice().toString();if(r.indexOf("<head>")>=0&&r.indexOf("</head>")>=0&&r.indexOf(e._aiUrl)<0&&r.indexOf(e._aiDeprecatedUrl)<0)return!0}catch(e){s.info("validate injections error: "+e)}return!1},e.prototype.InjectWebSnippet=function(t,n,r,i){try{if(r)t.removeHeader("Content-Length"),n=this._getInjectedCompressBuffer(t,n,r),t.setHeader("Content-Length",n.length);else{var o=n.toString(),c=o.indexOf("</head>");if(c<0)return n;var l=a.insertSnippetByIndex(c,o,e._snippet);if("string"==typeof n)t.removeHeader("Content-Length"),n=l,t.setHeader("Content-Length",Buffer.byteLength(n));else if(Buffer.isBuffer(n)){var u=i||"utf8";if(a.isBufferType(n,u)){t.removeHeader("Content-Length");var p=Buffer.from(l).toString(u);n=Buffer.from(p,u),t.setHeader("Content-Length",n.length)}}}}catch(e){s.warn("Failed to inject web snippet and change content-lenght headers. Exception:"+e)}return n},e.prototype._getInjectedCompressBuffer=function(e,t,n){try{switch(n){case a.contentEncodingMethod.GZIP:var r=o.gunzipSync(t);if(this.ValidateInjection(e,r)){var i=this.InjectWebSnippet(e,r);t=o.gzipSync(i)}break;case a.contentEncodingMethod.DEFLATE:var c=o.inflateSync(t);if(this.ValidateInjection(e,c)){var l=this.InjectWebSnippet(e,c);t=o.deflateSync(l)}break;case a.contentEncodingMethod.BR:var u=a.getBrotliDecompressSync(o),p=a.getBrotliCompressSync(o);if(u&&p){var d=u(t);this.ValidateInjection(e,d)&&(t=p(this.InjectWebSnippet(e,d)));break}}}catch(e){s.info("get web injection compress buffer error: "+e)}return t},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e}();e.exports=d},20922:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.parseEventHubSpan=void 0;var i=n(39104),o=n(76492),s=n(74813),a=n(54804);t.parseEventHubSpan=function(e,t){var n,c=e.attributes[a.AzNamespace],l=(e.attributes[s.SemanticAttributes.NET_PEER_NAME]||e.attributes["peer.address"]||"unknown").replace(/\/$/g,""),u=e.attributes[a.MessageBusDestination]||"unknown";switch(e.kind){case i.SpanKind.CLIENT:t.dependencyTypeName=c,t.target=l+"/"+u;break;case i.SpanKind.PRODUCER:t.dependencyTypeName=a.DependencyTypeName.QueueMessage+" | "+c,t.target=l+"/"+u;break;case i.SpanKind.CONSUMER:t.source=l+"/"+u,t.measurements=r(r({},t.measurements),((n={})[a.TIME_SINCE_ENQUEUED]=function(e){var t=0,n=0,r=o.hrTimeToMilliseconds(e.startTime);return e.links.forEach((function(e){var i=e.attributes,o=null==i?void 0:i[a.ENQUEUED_TIME];o&&(t+=1,n+=r-(parseFloat(o.toString())||0))})),Math.max(n/(t||1),0)}(e),n))}}},46862:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.spanToTelemetryContract=void 0;var r=n(87016),i=n(39104),o=n(74813),s=n(54804),a=n(20922),c=n(66495);function l(e){if(e.attributes[o.SemanticAttributes.HTTP_METHOD]){var t=e.attributes[o.SemanticAttributes.HTTP_URL];if(t)return String(t);var n=e.attributes[o.SemanticAttributes.HTTP_SCHEME],r=e.attributes[o.SemanticAttributes.HTTP_TARGET];if(n&&r){var i=e.attributes[o.SemanticAttributes.HTTP_HOST];if(i)return n+"://"+i+r;var s=e.attributes[o.SemanticAttributes.NET_PEER_PORT];if(s){var a=e.attributes[o.SemanticAttributes.NET_PEER_NAME];if(a)return n+"://"+a+":"+s+r;var c=e.attributes[o.SemanticAttributes.NET_PEER_IP];if(c)return n+"://"+c+":"+s+r}}}return""}function u(e){var t=e.attributes[o.SemanticAttributes.PEER_SERVICE],n=e.attributes[o.SemanticAttributes.HTTP_HOST],r=e.attributes[o.SemanticAttributes.HTTP_URL],i=e.attributes[o.SemanticAttributes.NET_PEER_NAME],s=e.attributes[o.SemanticAttributes.NET_PEER_IP];return t?String(t):n?String(n):r?String(r):i?String(i):s?String(s):""}t.spanToTelemetryContract=function(e){var t;switch(e.kind){case i.SpanKind.CLIENT:case i.SpanKind.PRODUCER:case i.SpanKind.INTERNAL:t=function(e){var t={name:e.name,success:e.status.code!=i.SpanStatusCode.ERROR,resultCode:"0",duration:0,data:"",dependencyTypeName:""};e.kind===i.SpanKind.PRODUCER&&(t.dependencyTypeName=s.DependencyTypeName.QueueMessage),e.kind===i.SpanKind.INTERNAL&&e.parentSpanId&&(t.dependencyTypeName=s.DependencyTypeName.InProc);var n=e.attributes[o.SemanticAttributes.HTTP_METHOD],a=e.attributes[o.SemanticAttributes.DB_SYSTEM],c=e.attributes[o.SemanticAttributes.RPC_SYSTEM];if(n){t.dependencyTypeName=s.DependencyTypeName.Http;var p=e.attributes[o.SemanticAttributes.HTTP_URL];if(p){var d="";try{d=new r.URL(String(p)).pathname}catch(e){}t.name=n+" "+d}t.data=l(e);var h=e.attributes[o.SemanticAttributes.HTTP_STATUS_CODE];if(h&&(t.resultCode=String(h)),b=u(e)){try{var f=new RegExp(/(https?)(:\/\/.*)(:\d+)(\S*)/).exec(b);if(null!=f){var v=f[1],g=f[3];("https"==v&&":443"==g||"http"==v&&":80"==g)&&(b=f[1]+f[2]+f[4])}}catch(e){}t.target=""+b}}else if(a){String(a)===o.DbSystemValues.MYSQL?t.dependencyTypeName="mysql":String(a)===o.DbSystemValues.POSTGRESQL?t.dependencyTypeName="postgresql":String(a)===o.DbSystemValues.MONGODB?t.dependencyTypeName="mongodb":String(a)===o.DbSystemValues.REDIS?t.dependencyTypeName="redis":function(e){return e===o.DbSystemValues.DB2||e===o.DbSystemValues.DERBY||e===o.DbSystemValues.MARIADB||e===o.DbSystemValues.MSSQL||e===o.DbSystemValues.ORACLE||e===o.DbSystemValues.SQLITE||e===o.DbSystemValues.OTHER_SQL||e===o.DbSystemValues.HSQLDB||e===o.DbSystemValues.H2}(String(a))?t.dependencyTypeName="SQL":t.dependencyTypeName=String(a);var m=e.attributes[o.SemanticAttributes.DB_STATEMENT],y=e.attributes[o.SemanticAttributes.DB_OPERATION];m?t.data=String(m):y&&(t.data=String(y));var b=u(e),_=e.attributes[o.SemanticAttributes.DB_NAME];t.target=b?_?b+"|"+_:""+b:_?""+_:""+a}else if(c){t.dependencyTypeName=s.DependencyTypeName.Grpc;var E=e.attributes[o.SemanticAttributes.RPC_GRPC_STATUS_CODE];E&&(t.resultCode=String(E)),(b=u(e))?t.target=""+b:c&&(t.target=String(c))}return t}(e);break;case i.SpanKind.SERVER:case i.SpanKind.CONSUMER:t=function(e){var t={name:e.name,success:e.status.code!=i.SpanStatusCode.ERROR,resultCode:"0",duration:0,url:"",source:void 0},n=e.attributes[o.SemanticAttributes.HTTP_METHOD],s=e.attributes[o.SemanticAttributes.RPC_GRPC_STATUS_CODE];if(n){if(e.kind==i.SpanKind.SERVER){var a=e.attributes[o.SemanticAttributes.HTTP_ROUTE],c=e.attributes[o.SemanticAttributes.HTTP_URL];if(a)t.name=n+" "+a;else if(c)try{var u=new r.URL(String(c));t.name=n+" "+u.pathname}catch(e){}}t.url=l(e);var p=e.attributes[o.SemanticAttributes.HTTP_STATUS_CODE];p&&(t.resultCode=String(p))}else s&&(t.resultCode=String(s));return t}(e)}var n=""+(e.spanContext?e.spanContext():e.context()).spanId,p=Math.round(1e3*e.duration[0]+e.duration[1]/1e6);return t.id=n,t.duration=p,t.properties=function(e){for(var t={},n=0,r=Object.keys(e.attributes);n<r.length;n++){var i=r[n];i.startsWith("http.")||i.startsWith("rpc.")||i.startsWith("db.")||i.startsWith("peer.")||i.startsWith("net.")||(t[i]=e.attributes[i])}var o=e.links.map((function(e){return{operation_Id:e.context.traceId,id:e.context.spanId}}));return o.length>0&&(t["_MS.links"]=c.stringify(o)),t}(e),e.attributes[s.AzNamespace]&&(e.kind===i.SpanKind.INTERNAL&&(t.dependencyTypeName=s.DependencyTypeName.InProc+" | "+e.attributes[s.AzNamespace]),e.attributes[s.AzNamespace]===s.MicrosoftEventHub&&a.parseEventHubSpan(e,t)),t}},1948:(e,t,n)=>{"use strict";t.sS=t.v_=void 0;var r=n(39104),i=n(54804),o=n(18579),s=n(46862),a=n(46936),c=[];t.v_=function(e){try{var t=e.data,n=s.spanToTelemetryContract(t);a.AsyncScopeManager.with(t,(function(){c.forEach((function(e){t.kind===r.SpanKind.SERVER||t.kind===r.SpanKind.CONSUMER?e.trackRequest(n):t.kind!==r.SpanKind.CLIENT&&t.kind!==r.SpanKind.INTERNAL&&t.kind!==r.SpanKind.PRODUCER||e.trackDependency(n)}))}))}catch(e){}},t.sS=function(e,n){if(e){if(c.find((function(e){return e==n})))return;0===c.length&&o.channel.subscribe("azure-coretracing",t.v_,o.trueFilter,(function(e,t){var r=n.getStatsbeat();r&&r.addInstrumentation(i.StatsbeatInstrumentation.AZURE_CORE_TRACING)})),c.push(n)}else 0===(c=c.filter((function(e){return e!=n}))).length&&o.channel.unsubscribe("azure-coretracing",t.v_)}},98822:(e,t,n)=>{"use strict";t.sS=void 0;var r=n(94909),i=n(54804),o=n(18579),s=[],a={10:r.SeverityLevel.Verbose,20:r.SeverityLevel.Verbose,30:r.SeverityLevel.Information,40:r.SeverityLevel.Warning,50:r.SeverityLevel.Error,60:r.SeverityLevel.Critical},c=function(e){var t=e.data.result,n=a[e.data.level];s.forEach((function(e){try{var r=JSON.parse(t);if(r.err){var i=new Error(r.err.message);return i.name=r.err.name,i.stack=r.err.stack,e.config.enableLoggerErrorToTrace?void e.trackTrace({message:t,severity:n}):void e.trackException({exception:i})}}catch(e){}e.trackTrace({message:t,severity:n})}))};t.sS=function(e,t){if(e){if(s.find((function(e){return e==t})))return;0===s.length&&o.channel.subscribe("bunyan",c,o.trueFilter,(function(e,n){var r=t.getStatsbeat();r&&r.addInstrumentation(i.StatsbeatInstrumentation.BUNYAN)})),s.push(t)}else 0===(s=s.filter((function(e){return e!=t}))).length&&o.channel.unsubscribe("bunyan",c)}},14960:(e,t,n)=>{"use strict";t.sS=void 0;var r=n(94909),i=n(54804),o=n(18579),s=[],a=function(e){var t=e.data.message;s.forEach((function(n){t instanceof Error&&!n.config.enableLoggerErrorToTrace?n.trackException({exception:t}):t instanceof Error?n.trackTrace({message:t.toString(),severity:e.data.stderr?r.SeverityLevel.Error:r.SeverityLevel.Information}):(t.lastIndexOf("\n")==t.length-1&&(t=t.substring(0,t.length-1)),n.trackTrace({message:t,severity:e.data.stderr?r.SeverityLevel.Warning:r.SeverityLevel.Information}))}))};t.sS=function(e,t){if(e){if(s.find((function(e){return e==t})))return;0===s.length&&o.channel.subscribe("console",a,o.trueFilter,(function(e,n){var r=t.getStatsbeat();r&&r.addInstrumentation(i.StatsbeatInstrumentation.CONSOLE)})),s.push(t)}else 0===(s=s.filter((function(e){return e!=t}))).length&&o.channel.unsubscribe("console",a)}},59193:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerContextPreservation=t.IsInitialized=void 0;var r=n(41102),i=n(77215);t.IsInitialized=!i.JsonConfig.getInstance().noDiagnosticChannel;var o="DiagnosticChannel";if(t.IsInitialized){var s=n(45670),a=i.JsonConfig.getInstance().noPatchModules.split(","),c={bunyan:s.bunyan,console:s.console,mongodb:s.mongodb,mongodbCore:s.mongodbCore,mysql:s.mysql,redis:s.redis,pg:s.pg,pgPool:s.pgPool,winston:s.winston,azuresdk:s.azuresdk};for(var l in c)-1===a.indexOf(l)&&(c[l].enable(),r.info(o,"Subscribed to "+l+" events"));a.length>0&&r.info(o,"Some modules will not be patched",a)}else r.info(o,"Not subscribing to dependency autocollection because APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL was set");t.registerContextPreservation=function(e){t.IsInitialized&&n(18579).channel.addContextPreservation(e)}},54747:(e,t,n)=>{"use strict";t.sS=t.v_=void 0;var r=n(54804),i=n(18579),o=[];t.v_=function(e){"ismaster"!==e.data.event.commandName&&o.forEach((function(t){var n=e.data.startedData&&e.data.startedData.databaseName||"Unknown database";t.trackDependency({target:n,data:e.data.event.commandName,name:e.data.event.commandName,duration:e.data.event.duration,success:e.data.succeeded,resultCode:e.data.succeeded?"0":"1",time:e.data.startedData.time,dependencyTypeName:"mongodb"})}))},t.sS=function(e,n){if(e){if(o.find((function(e){return e==n})))return;0===o.length&&i.channel.subscribe("mongodb",t.v_,i.trueFilter,(function(e,t){var i=n.getStatsbeat();i&&i.addInstrumentation(r.StatsbeatInstrumentation.MONGODB)})),o.push(n)}else 0===(o=o.filter((function(e){return e!=n}))).length&&i.channel.unsubscribe("mongodb",t.v_)}},20863:(e,t,n)=>{"use strict";t.sS=t.v_=void 0;var r=n(54804),i=n(18579),o=[];t.v_=function(e){o.forEach((function(t){var n=e.data.query||{},r=n.sql||"Unknown query",i=!e.data.err,o=(n._connection||{}).config||{},s=o.socketPath?o.socketPath:(o.host||"localhost")+":"+o.port;t.trackDependency({target:s,data:r,name:r,duration:e.data.duration,success:i,resultCode:i?"0":"1",time:e.data.time,dependencyTypeName:"mysql"})}))},t.sS=function(e,n){if(e){if(o.find((function(e){return e==n})))return;0===o.length&&i.channel.subscribe("mysql",t.v_,i.trueFilter,(function(e,t){var i=n.getStatsbeat();i&&i.addInstrumentation(r.StatsbeatInstrumentation.MYSQL)})),o.push(n)}else 0===(o=o.filter((function(e){return e!=n}))).length&&i.channel.unsubscribe("mysql",t.v_)}},92010:(e,t,n)=>{"use strict";t.sS=t.v_=void 0;var r=n(54804),i=n(18579),o=[];t.v_=function(e){o.forEach((function(t){var n=e.data.query,r=n.preparable&&n.preparable.text||n.plan||n.text||"unknown query",i=!e.data.error,o=e.data.database.host+":"+e.data.database.port;t.trackDependency({target:o,data:r,name:r,duration:e.data.duration,success:i,resultCode:i?"0":"1",time:e.data.time,dependencyTypeName:"postgres"})}))},t.sS=function(e,n){if(e){if(o.find((function(e){return e==n})))return;0===o.length&&i.channel.subscribe("postgres",t.v_,i.trueFilter,(function(e,t){var i=n.getStatsbeat();i&&i.addInstrumentation(r.StatsbeatInstrumentation.POSTGRES)})),o.push(n)}else 0===(o=o.filter((function(e){return e!=n}))).length&&i.channel.unsubscribe("postgres",t.v_)}},22222:(e,t,n)=>{"use strict";t.sS=t.v_=void 0;var r=n(54804),i=n(18579),o=[];t.v_=function(e){o.forEach((function(t){"info"!==e.data.commandObj.command&&t.trackDependency({target:e.data.address,name:e.data.commandObj.command,data:e.data.commandObj.command,duration:e.data.duration,success:!e.data.err,resultCode:e.data.err?"1":"0",time:e.data.time,dependencyTypeName:"redis"})}))},t.sS=function(e,n){if(e){if(o.find((function(e){return e==n})))return;0===o.length&&i.channel.subscribe("redis",t.v_,i.trueFilter,(function(e,t){var i=n.getStatsbeat();i&&i.addInstrumentation(r.StatsbeatInstrumentation.REDIS)})),o.push(n)}else 0===(o=o.filter((function(e){return e!=n}))).length&&i.channel.unsubscribe("redis",t.v_)}},85581:(e,t,n)=>{"use strict";t.sS=void 0;var r=n(54804),i=n(94909),o=n(18579),s=[],a={syslog:function(e){var t={emerg:i.SeverityLevel.Critical,alert:i.SeverityLevel.Critical,crit:i.SeverityLevel.Critical,error:i.SeverityLevel.Error,warning:i.SeverityLevel.Warning,notice:i.SeverityLevel.Information,info:i.SeverityLevel.Information,debug:i.SeverityLevel.Verbose};return void 0===t[e]?i.SeverityLevel.Information:t[e]},npm:function(e){var t={error:i.SeverityLevel.Error,warn:i.SeverityLevel.Warning,info:i.SeverityLevel.Information,verbose:i.SeverityLevel.Verbose,debug:i.SeverityLevel.Verbose,silly:i.SeverityLevel.Verbose};return void 0===t[e]?i.SeverityLevel.Information:t[e]},unknown:function(e){return i.SeverityLevel.Information}},c=function(e){var t=e.data.message,n=a[e.data.levelKind](e.data.level);s.forEach((function(r){t instanceof Error&&!r.config.enableLoggerErrorToTrace?r.trackException({exception:t,properties:e.data.meta}):t instanceof Error?r.trackTrace({message:t.toString(),severity:n,properties:e.data.meta}):r.trackTrace({message:t,severity:n,properties:e.data.meta})}))};t.sS=function(e,t){if(e){if(s.find((function(e){return e==t})))return;0===s.length&&o.channel.subscribe("winston",c,o.trueFilter,(function(e,n){var i=t.getStatsbeat();i&&i.addInstrumentation(r.StatsbeatInstrumentation.WINSTON)})),s.push(t)}else 0===(s=s.filter((function(e){return e!=t}))).length&&o.channel.unsubscribe("winston",c)}},54804:(e,t)=>{"use strict";var n,r,i,o,s,a,c,l;Object.defineProperty(t,"__esModule",{value:!0}),t.WEB_INSTRUMENTATION_DEPRECATED_SOURCE=t.WEB_INSTRUMENTATION_DEFAULT_SOURCE=t.TIME_SINCE_ENQUEUED=t.ENQUEUED_TIME=t.MessageBusDestination=t.MicrosoftEventHub=t.AzNamespace=t.StatsbeatNetworkCategory=t.StatsbeatFeatureType=t.StatsbeatInstrumentation=t.StatsbeatFeature=t.StatsbeatCounter=t.StatsbeatAttach=t.StatsbeatResourceProvider=t.StatsbeatTelemetryName=t.HeartBeatMetricName=t.DependencyTypeName=t.TelemetryTypeStringToQuickPulseDocumentType=t.TelemetryTypeStringToQuickPulseType=t.QuickPulseType=t.QuickPulseDocumentType=t.PerformanceToQuickPulseCounter=t.MetricId=t.PerformanceCounter=t.QuickPulseCounter=t.DEFAULT_LIVEMETRICS_HOST=t.DEFAULT_LIVEMETRICS_ENDPOINT=t.DEFAULT_BREEZE_ENDPOINT=t.APPLICATION_INSIGHTS_SDK_VERSION=void 0,t.APPLICATION_INSIGHTS_SDK_VERSION="2.7.3",t.DEFAULT_BREEZE_ENDPOINT="https://dc.services.visualstudio.com",t.DEFAULT_LIVEMETRICS_ENDPOINT="https://rt.services.visualstudio.com",t.DEFAULT_LIVEMETRICS_HOST="rt.services.visualstudio.com",function(e){e.COMMITTED_BYTES="\\Memory\\Committed Bytes",e.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",e.REQUEST_RATE="\\ApplicationInsights\\Requests/Sec",e.REQUEST_FAILURE_RATE="\\ApplicationInsights\\Requests Failed/Sec",e.REQUEST_DURATION="\\ApplicationInsights\\Request Duration",e.DEPENDENCY_RATE="\\ApplicationInsights\\Dependency Calls/Sec",e.DEPENDENCY_FAILURE_RATE="\\ApplicationInsights\\Dependency Calls Failed/Sec",e.DEPENDENCY_DURATION="\\ApplicationInsights\\Dependency Call Duration",e.EXCEPTION_RATE="\\ApplicationInsights\\Exceptions/Sec"}(r=t.QuickPulseCounter||(t.QuickPulseCounter={})),function(e){e.PRIVATE_BYTES="\\Process(??APP_WIN32_PROC??)\\Private Bytes",e.AVAILABLE_BYTES="\\Memory\\Available Bytes",e.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",e.PROCESS_TIME="\\Process(??APP_WIN32_PROC??)\\% Processor Time",e.REQUEST_RATE="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Requests/Sec",e.REQUEST_DURATION="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Request Execution Time"}(i=t.PerformanceCounter||(t.PerformanceCounter={})),(l=t.MetricId||(t.MetricId={})).REQUESTS_DURATION="requests/duration",l.DEPENDENCIES_DURATION="dependencies/duration",l.EXCEPTIONS_COUNT="exceptions/count",l.TRACES_COUNT="traces/count",t.PerformanceToQuickPulseCounter=((n={})[i.PROCESSOR_TIME]=r.PROCESSOR_TIME,n[i.REQUEST_RATE]=r.REQUEST_RATE,n[i.REQUEST_DURATION]=r.REQUEST_DURATION,n[r.COMMITTED_BYTES]=r.COMMITTED_BYTES,n[r.REQUEST_FAILURE_RATE]=r.REQUEST_FAILURE_RATE,n[r.DEPENDENCY_RATE]=r.DEPENDENCY_RATE,n[r.DEPENDENCY_FAILURE_RATE]=r.DEPENDENCY_FAILURE_RATE,n[r.DEPENDENCY_DURATION]=r.DEPENDENCY_DURATION,n[r.EXCEPTION_RATE]=r.EXCEPTION_RATE,n),t.QuickPulseDocumentType={Event:"Event",Exception:"Exception",Trace:"Trace",Metric:"Metric",Request:"Request",Dependency:"RemoteDependency",Availability:"Availability",PageView:"PageView"},t.QuickPulseType={Event:"EventTelemetryDocument",Exception:"ExceptionTelemetryDocument",Trace:"TraceTelemetryDocument",Metric:"MetricTelemetryDocument",Request:"RequestTelemetryDocument",Dependency:"DependencyTelemetryDocument",Availability:"AvailabilityTelemetryDocument",PageView:"PageViewTelemetryDocument"},t.TelemetryTypeStringToQuickPulseType={EventData:t.QuickPulseType.Event,ExceptionData:t.QuickPulseType.Exception,MessageData:t.QuickPulseType.Trace,MetricData:t.QuickPulseType.Metric,RequestData:t.QuickPulseType.Request,RemoteDependencyData:t.QuickPulseType.Dependency,AvailabilityData:t.QuickPulseType.Availability,PageViewData:t.QuickPulseType.PageView},t.TelemetryTypeStringToQuickPulseDocumentType={EventData:t.QuickPulseDocumentType.Event,ExceptionData:t.QuickPulseDocumentType.Exception,MessageData:t.QuickPulseDocumentType.Trace,MetricData:t.QuickPulseDocumentType.Metric,RequestData:t.QuickPulseDocumentType.Request,RemoteDependencyData:t.QuickPulseDocumentType.Dependency,AvailabilityData:t.QuickPulseDocumentType.Availability,PageViewData:t.QuickPulseDocumentType.PageView},t.DependencyTypeName={Grpc:"GRPC",Http:"HTTP",InProc:"InProc",Sql:"SQL",QueueMessage:"Queue Message"},t.HeartBeatMetricName="HeartbeatState",t.StatsbeatTelemetryName="Statsbeat",t.StatsbeatResourceProvider={appsvc:"appsvc",functions:"functions",vm:"vm",unknown:"unknown"},t.StatsbeatAttach={codeless:"codeless",sdk:"sdk"},t.StatsbeatCounter={REQUEST_SUCCESS:"Request Success Count",REQUEST_FAILURE:"Request Failure Count",REQUEST_DURATION:"Request Duration",RETRY_COUNT:"Retry Count",THROTTLE_COUNT:"Throttle Count",EXCEPTION_COUNT:"Exception Count",ATTACH:"Attach",FEATURE:"Feature"},(c=t.StatsbeatFeature||(t.StatsbeatFeature={}))[c.NONE=0]="NONE",c[c.DISK_RETRY=1]="DISK_RETRY",c[c.AAD_HANDLING=2]="AAD_HANDLING",c[c.WEB_SNIPPET=4]="WEB_SNIPPET",(a=t.StatsbeatInstrumentation||(t.StatsbeatInstrumentation={}))[a.NONE=0]="NONE",a[a.AZURE_CORE_TRACING=1]="AZURE_CORE_TRACING",a[a.MONGODB=2]="MONGODB",a[a.MYSQL=4]="MYSQL",a[a.REDIS=8]="REDIS",a[a.POSTGRES=16]="POSTGRES",a[a.BUNYAN=32]="BUNYAN",a[a.WINSTON=64]="WINSTON",a[a.CONSOLE=128]="CONSOLE",(s=t.StatsbeatFeatureType||(t.StatsbeatFeatureType={}))[s.Feature=0]="Feature",s[s.Instrumentation=1]="Instrumentation",(o=t.StatsbeatNetworkCategory||(t.StatsbeatNetworkCategory={}))[o.Breeze=0]="Breeze",o[o.Quickpulse=1]="Quickpulse",t.AzNamespace="az.namespace",t.MicrosoftEventHub="Microsoft.EventHub",t.MessageBusDestination="message_bus.destination",t.ENQUEUED_TIME="enqueuedTime",t.TIME_SINCE_ENQUEUED="timeSinceEnqueued",t.WEB_INSTRUMENTATION_DEFAULT_SOURCE="https://js.monitor.azure.com/scripts/b/ai",t.WEB_INSTRUMENTATION_DEPRECATED_SOURCE="https://az416426.vo.msecnd.net/scripts/b/ai"},19508:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.domainSupportsProperties=t.RemoteDependencyDataConstants=void 0;var r=n(60635),i=function(){function e(){}return e.TYPE_HTTP="Http",e.TYPE_AI="Http (tracked component)",e}();t.RemoteDependencyDataConstants=i,t.domainSupportsProperties=function(e){return"properties"in e||e instanceof r.EventData||e instanceof r.ExceptionData||e instanceof r.MessageData||e instanceof r.MetricData||e instanceof r.PageViewData||e instanceof r.RemoteDependencyData||e instanceof r.RequestData}},14264:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return i(t,e),t}(n(13771));e.exports=o},73814:e=>{"use strict";e.exports=function(){}},42498:e=>{"use strict";e.exports=function(){this.applicationVersion="ai.application.ver",this.deviceId="ai.device.id",this.deviceLocale="ai.device.locale",this.deviceModel="ai.device.model",this.deviceOEMName="ai.device.oemName",this.deviceOSVersion="ai.device.osVersion",this.deviceType="ai.device.type",this.locationIp="ai.location.ip",this.operationId="ai.operation.id",this.operationName="ai.operation.name",this.operationParentId="ai.operation.parentId",this.operationSyntheticSource="ai.operation.syntheticSource",this.operationCorrelationVector="ai.operation.correlationVector",this.sessionId="ai.session.id",this.sessionIsFirst="ai.session.isFirst",this.userAccountId="ai.user.accountId",this.userId="ai.user.id",this.userAuthUserId="ai.user.authUserId",this.cloudRole="ai.cloud.role",this.cloudRoleInstance="ai.cloud.roleInstance",this.internalSdkVersion="ai.internal.sdkVersion",this.internalAgentVersion="ai.internal.agentVersion",this.internalNodeName="ai.internal.nodeName"}},91551:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(){return e.call(this)||this}return i(t,e),t}(n(73814));e.exports=o},45009:(e,t,n)=>{"use strict";var r=n(11553);e.exports=function(){this.kind=r.Measurement}},11553:e=>{"use strict";var t;!function(e){e[e.Measurement=0]="Measurement",e[e.Aggregation=1]="Aggregation"}(t||(t={})),e.exports=t},13771:e=>{"use strict";e.exports=function(){}},57459:e=>{"use strict";e.exports=function(){this.ver=1,this.sampleRate=100,this.tags={}}},64055:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return i(t,e),t}(n(13771));e.exports=o},33490:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.exceptions=[],t.properties={},t.measurements={},t}return i(t,e),t}(n(13771));e.exports=o},32946:e=>{"use strict";e.exports=function(){this.hasFullStack=!0,this.parsedStack=[]}},23404:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t}return i(t,e),t}(n(13771));e.exports=o},86147:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.metrics=[],t.properties={},t}return i(t,e),t}(n(13771));e.exports=o},35593:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return i(t,e),t}(n(64055));e.exports=o},84040:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.success=!0,t.properties={},t.measurements={},t}return i(t,e),t}(n(13771));e.exports=o},71370:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return i(t,e),t}(n(13771));e.exports=o},94700:e=>{"use strict";var t;!function(e){e[e.Verbose=0]="Verbose",e[e.Information=1]="Information",e[e.Warning=2]="Warning",e[e.Error=3]="Error",e[e.Critical=4]="Critical"}(t||(t={})),e.exports=t},72590:e=>{"use strict";e.exports=function(){}},60635:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AvailabilityData=n(14264),t.Base=n(73814),t.ContextTagKeys=n(42498),t.Data=n(91551),t.DataPoint=n(45009),t.DataPointType=n(11553),t.Domain=n(13771),t.Envelope=n(57459),t.EventData=n(64055),t.ExceptionData=n(33490),t.ExceptionDetails=n(32946),t.MessageData=n(23404),t.MetricData=n(86147),t.PageViewData=n(35593),t.RemoteDependencyData=n(84040),t.RequestData=n(71370),t.SeverityLevel=n(94700),t.StackFrame=n(72590)},63515:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},27150:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5591:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},40790:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},98027:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},13693:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},71903:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},54171:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},75911:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(71903),t),i(n(5591),t),i(n(27150),t),i(n(98027),t),i(n(13693),t),i(n(63515),t),i(n(54171),t),i(n(40790),t)},57532:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5474:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},90697:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},11303:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},97364:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},28249:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},6642:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},95268:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},33919:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},14260:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},26949:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},10885:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.TelemetryType=t.TelemetryTypeString=t.baseTypeToTelemetryType=t.telemetryTypeToBaseType=void 0,t.telemetryTypeToBaseType=function(e){switch(e){case n.Event:return"EventData";case n.Exception:return"ExceptionData";case n.Trace:return"MessageData";case n.Metric:return"MetricData";case n.Request:return"RequestData";case n.Dependency:return"RemoteDependencyData";case n.Availability:return"AvailabilityData";case n.PageView:return"PageViewData"}},t.baseTypeToTelemetryType=function(e){switch(e){case"EventData":return n.Event;case"ExceptionData":return n.Exception;case"MessageData":return n.Trace;case"MetricData":return n.Metric;case"RequestData":return n.Request;case"RemoteDependencyData":return n.Dependency;case"AvailabilityData":return n.Availability;case"PageViewData":return n.PageView}},t.TelemetryTypeString={Event:"EventData",Exception:"ExceptionData",Trace:"MessageData",Metric:"MetricData",Request:"RequestData",Dependency:"RemoteDependencyData",Availability:"AvailabilityData",PageView:"PageViewData"},function(e){e[e.Event=0]="Event",e[e.Exception=1]="Exception",e[e.Trace=2]="Trace",e[e.Metric=3]="Metric",e[e.Request=4]="Request",e[e.Dependency=5]="Dependency",e[e.Availability=6]="Availability",e[e.PageView=7]="PageView"}(n=t.TelemetryType||(t.TelemetryType={}))},53944:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},53030:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(5474),t),i(n(11303),t),i(n(97364),t),i(n(28249),t),i(n(14260),t),i(n(53944),t),i(n(26949),t),i(n(6642),t),i(n(95268),t),i(n(57532),t),i(n(33919),t),i(n(90697),t),i(n(10885),t)},94909:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(19508),t),i(n(60635),t),i(n(53030),t),i(n(75911),t)},2391:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AggregatedMetricCounter=void 0;t.AggregatedMetricCounter=function(e){this.dimensions=e,this.totalCount=0,this.lastTotalCount=0,this.intervalExecutionTime=0,this.lastTime=+new Date,this.lastIntervalExecutionTime=0}},45311:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PreaggregatedMetricPropertyNames=void 0,t.PreaggregatedMetricPropertyNames={cloudRoleInstance:"cloud/roleInstance",cloudRoleName:"cloud/roleName",operationSynthetic:"operation/synthetic",requestSuccess:"Request.Success",requestResultCode:"request/resultCode",dependencyType:"Dependency.Type",dependencyTarget:"dependency/target",dependencySuccess:"Dependency.Success",dependencyResultCode:"dependency/resultCode",traceSeverityLevel:"trace/severityLevel"}},3144:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},o=n(93710);function s(e){return null}var a=function(){function e(e){this._azureTokenPolicy=o.bearerTokenAuthenticationPolicy({credential:e,scopes:["https://monitor.azure.com//.default"]})}return e.prototype.addAuthorizationHeader=function(e){return r(this,void 0,void 0,(function(){var t,n;return i(this,(function(r){switch(r.label){case 0:return t="authorization",n=o.createPipelineRequest({url:"https://"}),[4,this._azureTokenPolicy.sendRequest(n,s)];case 1:return r.sent(),e.headers[t]=n.headers.get(t),[2]}}))}))},e}();e.exports=a},49820:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AzureVirtualMachine=void 0;var r=n(41102),i=n(66495),o=n(4558),s=function(){function e(){}return e.getAzureComputeMetadata=function(t,n){var s,a=this,c={},l=((s={method:"GET"})[o.disableCollectionRequestOption]=!0,s.headers={Metadata:"True"},s),u=i.makeRequest(t,"http://169.254.169.254/metadata/instance/compute?api-version=2017-12-01&format=json",l,(function(t){if(200===t.statusCode){c.isVM=!0;var i="";t.on("data",(function(e){i+=e})),t.on("end",(function(){try{var t=JSON.parse(i);c.id=t.vmId||"",c.subscriptionId=t.subscriptionId||"",c.osType=t.osType||""}catch(t){r.info(e.TAG,t)}n(c)}))}else n(c)}),!1,!1);u&&(setTimeout((function(){a._requestTimedOut=!0,u.abort()}),e.HTTP_TIMEOUT),u.on("error",(function(t){a._requestTimedOut&&t&&(t.name="telemetry timeout",t.message="telemetry request timed out"),t&&t.message&&t.message.indexOf("UNREACH")>-1?c.isVM=!1:r.info(e.TAG,t),n(c)})),u.end())},e.HTTP_TIMEOUT=2500,e.TAG="AzureVirtualMachine",e}();t.AzureVirtualMachine=s},79004:(e,t,n)=>{"use strict";var r=n(41102),i=n(66495),o=function(){function e(e,t,n,r){this._buffer=[],this._lastSend=0,this._isDisabled=e,this._getBatchSize=t,this._getBatchIntervalMs=n,this._sender=r}return e.prototype.setUseDiskRetryCaching=function(e,t,n){this._sender.setDiskRetryMode(e,t,n)},e.prototype.send=function(e){var t=this;this._isDisabled()||(e?(this._buffer.push(e),this._buffer.length>=this._getBatchSize()?this.triggerSend(!1):!this._timeoutHandle&&this._buffer.length>0&&(this._timeoutHandle=setTimeout((function(){t._timeoutHandle=null,t.triggerSend(!1)}),this._getBatchIntervalMs()))):r.warn("Cannot send null/undefined telemetry"))},e.prototype.triggerSend=function(e,t){var n=this._buffer.length<1;n||(e||i.isNodeExit?(this._sender.saveOnCrash(this._buffer),"function"==typeof t&&t("data saved on crash")):this._sender.send(this._buffer,t)),this._lastSend=+new Date,this._buffer=[],clearTimeout(this._timeoutHandle),this._timeoutHandle=null,n&&"function"==typeof t&&t("no data to send")},e}();e.exports=o},181:(e,t,n)=>{"use strict";var r=n(24835),i=n(89397),o=n(41102),s=n(54804),a=n(87016),c=n(77215),l=function(){function e(t){this._endpointBase=s.DEFAULT_BREEZE_ENDPOINT,this._mergeConfig();var n=this._connectionString,r=i.parse(t),o=i.parse(n),c=!r.instrumentationkey&&Object.keys(r).length>0?null:t,l=this._instrumentationKey;this.instrumentationKey=r.instrumentationkey||c||o.instrumentationkey||l;var u=""+(this.endpointUrl||r.ingestionendpoint||o.ingestionendpoint||this._endpointBase);u.endsWith("/")&&(u=u.slice(0,-1)),this.endpointUrl=u+"/v2.1/track",this.maxBatchSize=this.maxBatchSize||250,this.maxBatchIntervalMs=this.maxBatchIntervalMs||15e3,this.disableAppInsights=this.disableAppInsights||!1,this.samplingPercentage=this.samplingPercentage||100,this.correlationIdRetryIntervalMs=this.correlationIdRetryIntervalMs||3e4,this.enableWebInstrumentation=this.enableWebInstrumentation||this.enableAutoWebSnippetInjection||!1,this.webInstrumentationConfig=this.webInstrumentationConfig||null,this.enableAutoWebSnippetInjection=this.enableWebInstrumentation,this.correlationHeaderExcludedDomains=this.correlationHeaderExcludedDomains||["*.core.windows.net","*.core.chinacloudapi.cn","*.core.cloudapi.de","*.core.usgovcloudapi.net","*.core.microsoft.scloud","*.core.eaglex.ic.gov"],this.ignoreLegacyHeaders=this.ignoreLegacyHeaders||!1,this.profileQueryEndpoint=r.ingestionendpoint||o.ingestionendpoint||process.env[e.ENV_profileQueryEndpoint]||this._endpointBase,this.quickPulseHost=this.quickPulseHost||r.liveendpoint||o.liveendpoint||process.env[e.ENV_quickPulseHost]||s.DEFAULT_LIVEMETRICS_HOST,this.webInstrumentationConnectionString=this.webInstrumentationConnectionString||this._webInstrumentationConnectionString||"",this.webSnippetConnectionString=this.webInstrumentationConnectionString,this.quickPulseHost.match(/^https?:\/\//)&&(this.quickPulseHost=new a.URL(this.quickPulseHost).host)}return Object.defineProperty(e.prototype,"profileQueryEndpoint",{get:function(){return this._profileQueryEndpoint},set:function(e){this._profileQueryEndpoint=e,this.correlationId=r.correlationIdPrefix},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"instrumentationKey",{get:function(){return this._instrumentationKey},set:function(t){e._validateInstrumentationKey(t)||o.warn("An invalid instrumentation key was provided. There may be resulting telemetry loss",this.instrumentationKey),this._instrumentationKey=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"webSnippetConnectionString",{get:function(){return this._webInstrumentationConnectionString},set:function(e){this._webInstrumentationConnectionString=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"webInstrumentationConnectionString",{get:function(){return this._webInstrumentationConnectionString},set:function(e){this._webInstrumentationConnectionString=e},enumerable:!1,configurable:!0}),e.prototype._mergeConfig=function(){var e=c.JsonConfig.getInstance();this._connectionString=e.connectionString,this._instrumentationKey=e.instrumentationKey,this.correlationHeaderExcludedDomains=e.correlationHeaderExcludedDomains,this.correlationIdRetryIntervalMs=e.correlationIdRetryIntervalMs,this.disableAllExtendedMetrics=e.disableAllExtendedMetrics,this.disableAppInsights=e.disableAppInsights,this.disableStatsbeat=e.disableStatsbeat,this.distributedTracingMode=e.distributedTracingMode,this.enableAutoCollectConsole=e.enableAutoCollectConsole,this.enableLoggerErrorToTrace=e.enableLoggerErrorToTrace,this.enableAutoCollectDependencies=e.enableAutoCollectDependencies,this.enableAutoCollectIncomingRequestAzureFunctions=e.enableAutoCollectIncomingRequestAzureFunctions,this.enableAutoCollectExceptions=e.enableAutoCollectExceptions,this.enableAutoCollectExtendedMetrics=e.enableAutoCollectExtendedMetrics,this.enableAutoCollectExternalLoggers=e.enableAutoCollectExternalLoggers,this.enableAutoCollectHeartbeat=e.enableAutoCollectHeartbeat,this.enableAutoCollectPerformance=e.enableAutoCollectPerformance,this.enableAutoCollectPreAggregatedMetrics=e.enableAutoCollectPreAggregatedMetrics,this.enableAutoCollectRequests=e.enableAutoCollectRequests,this.enableAutoDependencyCorrelation=e.enableAutoDependencyCorrelation,this.enableInternalDebugLogging=e.enableInternalDebugLogging,this.enableInternalWarningLogging=e.enableInternalWarningLogging,this.enableResendInterval=e.enableResendInterval,this.enableMaxBytesOnDisk=e.enableMaxBytesOnDisk,this.enableSendLiveMetrics=e.enableSendLiveMetrics,this.enableUseAsyncHooks=e.enableUseAsyncHooks,this.enableUseDiskRetryCaching=e.enableUseDiskRetryCaching,this.endpointUrl=e.endpointUrl,this.extendedMetricDisablers=e.extendedMetricDisablers,this.ignoreLegacyHeaders=e.ignoreLegacyHeaders,this.maxBatchIntervalMs=e.maxBatchIntervalMs,this.maxBatchSize=e.maxBatchSize,this.proxyHttpUrl=e.proxyHttpUrl,this.proxyHttpsUrl=e.proxyHttpsUrl,this.quickPulseHost=e.quickPulseHost,this.samplingPercentage=e.samplingPercentage,this.enableWebInstrumentation=e.enableWebInstrumentation,this._webInstrumentationConnectionString=e.webInstrumentationConnectionString,this.webInstrumentationConfig=e.webInstrumentationConfig,this.webInstrumentationSrc=e.webInstrumentationSrc},e._validateInstrumentationKey=function(e){return new RegExp("^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$").test(e)},e.ENV_azurePrefix="APPSETTING_",e.ENV_iKey="APPINSIGHTS_INSTRUMENTATIONKEY",e.legacy_ENV_iKey="APPINSIGHTS_INSTRUMENTATION_KEY",e.ENV_profileQueryEndpoint="APPINSIGHTS_PROFILE_QUERY_ENDPOINT",e.ENV_quickPulseHost="APPINSIGHTS_QUICKPULSE_HOST",e}();e.exports=l},89397:(e,t,n)=>{"use strict";var r=n(54804),i=function(){function e(){}return e.parse=function(t){if(!t)return{};var n=t.split(e._FIELDS_SEPARATOR).reduce((function(t,n){var r=n.split(e._FIELD_KEY_VALUE_SEPARATOR);if(2===r.length){var i=r[0].toLowerCase(),o=r[1];t[i]=o}return t}),{});if(Object.keys(n).length>0){if(n.endpointsuffix){var i=n.location?n.location+".":"";n.ingestionendpoint=n.ingestionendpoint||"https://"+i+"dc."+n.endpointsuffix,n.liveendpoint=n.liveendpoint||"https://"+i+"live."+n.endpointsuffix}n.ingestionendpoint=n.ingestionendpoint||r.DEFAULT_BREEZE_ENDPOINT,n.liveendpoint=n.liveendpoint||r.DEFAULT_LIVEMETRICS_ENDPOINT}return n},e.isIkeyValid=function(e){return!(!e||""==e)&&new RegExp("^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$").test(e)},e._FIELDS_SEPARATOR=";",e._FIELD_KEY_VALUE_SEPARATOR="=",e}();e.exports=i},87396:(e,t,n)=>{"use strict";var r=n(70857),i=n(79896),o=n(16928),s=n(94909),a=n(54804),c=n(41102),l=function(){function e(e){this.keys=new s.ContextTagKeys,this.tags={},this._loadApplicationContext(e),this._loadDeviceContext(),this._loadInternalContext()}return e.prototype._loadApplicationContext=function(t){try{if(t=t||o.resolve(__dirname,"../../../../package.json"),!e.appVersion[t]){e.appVersion[t]="unknown";var n=JSON.parse(i.readFileSync(t,"utf8"));n&&"string"==typeof n.version&&(e.appVersion[t]=n.version)}this.tags[this.keys.applicationVersion]=e.appVersion[t]}catch(e){c.info("Failed to read app version: ",e)}},e.prototype._loadDeviceContext=function(){var t=r&&r.hostname(),n=e.DefaultRoleName;process.env.WEBSITE_SITE_NAME&&(n=process.env.WEBSITE_SITE_NAME),process.env.WEBSITE_INSTANCE_ID&&(t=process.env.WEBSITE_INSTANCE_ID),this.tags[this.keys.deviceId]="",this.tags[this.keys.cloudRoleInstance]=t,this.tags[this.keys.deviceOSVersion]=r&&r.type()+" "+r.release(),this.tags[this.keys.cloudRole]=n,this.tags["ai.device.osArchitecture"]=r&&r.arch(),this.tags["ai.device.osPlatform"]=r&&r.platform()},e.prototype._loadInternalContext=function(){e.sdkVersion=a.APPLICATION_INSIGHTS_SDK_VERSION,this.tags[this.keys.internalSdkVersion]="node:"+e.sdkVersion},e.DefaultRoleName="Web",e.appVersion={},e.sdkVersion=null,e}();e.exports=l},24835:(e,t,n)=>{"use strict";var r=n(66495),i=function(){function e(){}return e.queryCorrelationId=function(e,t){},e.cancelCorrelationIdQuery=function(e,t){},e.generateRequestId=function(t){if(t){"."!==(t="|"==t[0]?t:"|"+t)[t.length-1]&&(t+=".");var n=(e.currentRootId++).toString(16);return e.appendSuffix(t,n,"_")}return e.generateRootId()},e.getRootId=function(e){var t=e.indexOf(".");t<0&&(t=e.length);var n="|"===e[0]?1:0;return e.substring(n,t)},e.generateRootId=function(){return"|"+r.w3cTraceId()+"."},e.appendSuffix=function(t,n,i){if(t.length+n.length<e.requestIdMaxLength)return t+n+i;var o=e.requestIdMaxLength-9;if(t.length>o)for(;o>1;--o){var s=t[o-1];if("."===s||"_"===s)break}if(o<=1)return e.generateRootId();for(n=r.randomu32().toString(16);n.length<8;)n="0"+n;return t.substring(0,o)+n+"#"},e.correlationIdPrefix="cid-v1:",e.w3cEnabled=!0,e.HTTP_TIMEOUT=2500,e.requestIdMaxLength=1024,e.currentRootId=r.randomu32(),e}();e.exports=i},43273:(e,t,n)=>{"use strict";var r=n(94909),i=n(66495),o=n(13097),s=n(41102),a=function(){function e(){}return e.createEnvelope=function(t,n,o,s,a){var c=null;switch(n){case r.TelemetryType.Trace:c=e.createTraceData(t);break;case r.TelemetryType.Dependency:c=e.createDependencyData(t);break;case r.TelemetryType.Event:c=e.createEventData(t);break;case r.TelemetryType.Exception:c=e.createExceptionData(t);break;case r.TelemetryType.Request:c=e.createRequestData(t);break;case r.TelemetryType.Metric:c=e.createMetricData(t);break;case r.TelemetryType.Availability:c=e.createAvailabilityData(t);break;case r.TelemetryType.PageView:c=e.createPageViewData(t)}if(c&&c.baseData&&r.domainSupportsProperties(c.baseData)){if(o)if(c.baseData.properties)for(var l in o)c.baseData.properties[l]||(c.baseData.properties[l]=o[l]);else c.baseData.properties=o;e.addAzureFunctionsCorrelationProperties(c.baseData.properties),c.baseData.properties&&(c.baseData.properties=i.validateStringMap(c.baseData.properties))}var u=a&&a.instrumentationKey||"",p=new r.Envelope;return p.data=c,p.iKey=u,p.name="Microsoft.ApplicationInsights."+u.replace(/-/g,"")+"."+c.baseType.substr(0,c.baseType.length-4),p.tags=this.getTags(s,t.tagOverrides),p.time=(new Date).toISOString(),p.ver=1,p.sampleRate=a?a.samplingPercentage:100,n===r.TelemetryType.Metric&&(p.sampleRate=100),p},e.addAzureFunctionsCorrelationProperties=function(e){var t=o.CorrelationContextManager.getCurrentContext();if(t&&t.customProperties&&t.customProperties.getProperty instanceof Function){e=e||{};var n=t.customProperties.getProperty("InvocationId");n&&(e.InvocationId=n),(n=t.customProperties.getProperty("ProcessId"))&&(e.ProcessId=n),(n=t.customProperties.getProperty("LogLevel"))&&(e.LogLevel=n),(n=t.customProperties.getProperty("Category"))&&(e.Category=n),(n=t.customProperties.getProperty("HostInstanceId"))&&(e.HostInstanceId=n),(n=t.customProperties.getProperty("AzFuncLiveLogsSessionId"))&&(e.AzFuncLiveLogsSessionId=n)}},e.truncateProperties=function(e){if(e.properties)try{for(var t={},n=Object.keys(e.properties),r=Object.values(e.properties),o=0;o<n.length;o++)n[o].length<=150&&(i.isDate(r[o])||(null==r[o]&&(r[o]=""),"object"==typeof r[o]&&(r[o]=i.stringify(r[o])),t[n[o]]=String(r[o]).substring(0,8192)),t[n[o]]=r[o]);return t}catch(e){s.warn("Failed to properly truncate telemetry properties: ",e)}},e.createTraceData=function(e){var t,n=new r.MessageData;n.message=null===(t=e.message)||void 0===t?void 0:t.substring(0,32768),n.properties=this.truncateProperties(e),isNaN(e.severity)?n.severityLevel=r.SeverityLevel.Information:n.severityLevel=e.severity;var i=new r.Data;return i.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Trace),i.baseData=n,i},e.createDependencyData=function(e){var t,n,o,s=new r.RemoteDependencyData;s.name=null===(t=e.name)||void 0===t?void 0:t.substring(0,1024),s.data=null===(n=e.data)||void 0===n?void 0:n.substring(0,8192),s.target=null===(o=e.target)||void 0===o?void 0:o.substring(0,1024),s.duration=i.msToTimeSpan(e.duration),s.success=e.success,s.type=e.dependencyTypeName,s.properties=this.truncateProperties(e),s.resultCode=e.resultCode?e.resultCode.toString():"0",e.id?s.id=e.id:s.id=i.w3cTraceId();var a=new r.Data;return a.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Dependency),a.baseData=s,a},e.createEventData=function(e){var t,n=new r.EventData;n.name=null===(t=e.name)||void 0===t?void 0:t.substring(0,512),n.properties=this.truncateProperties(e),n.measurements=e.measurements;var i=new r.Data;return i.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Event),i.baseData=n,i},e.createExceptionData=function(e){var t,n,o=new r.ExceptionData;o.properties=this.truncateProperties(e),isNaN(e.severity)?o.severityLevel=r.SeverityLevel.Error:o.severityLevel=e.severity,o.measurements=e.measurements,o.exceptions=[];var s=e.exception.stack,a=new r.ExceptionDetails;a.message=null===(t=e.exception.message)||void 0===t?void 0:t.substring(0,32768),a.typeName=null===(n=e.exception.name)||void 0===n?void 0:n.substring(0,1024),a.parsedStack=this.parseStack(s),a.hasFullStack=i.isArray(a.parsedStack)&&a.parsedStack.length>0,o.exceptions.push(a);var c=new r.Data;return c.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Exception),c.baseData=o,c},e.createRequestData=function(e){var t,n,o,s,a=new r.RequestData;e.id?a.id=e.id:a.id=i.w3cTraceId(),a.name=null===(t=e.name)||void 0===t?void 0:t.substring(0,1024),a.url=null===(n=e.url)||void 0===n?void 0:n.substring(0,2048),a.source=null===(o=e.source)||void 0===o?void 0:o.substring(0,1024),a.duration=i.msToTimeSpan(e.duration),a.responseCode=null===(s=e.resultCode?e.resultCode.toString():"0")||void 0===s?void 0:s.substring(0,1024),a.success=e.success,a.properties=this.truncateProperties(e),a.measurements=e.measurements;var c=new r.Data;return c.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Request),c.baseData=a,c},e.createMetricData=function(e){var t,n=new r.MetricData;n.metrics=[];var i=new r.DataPoint;i.count=isNaN(e.count)?1:e.count,i.kind=r.DataPointType.Aggregation,i.max=isNaN(e.max)?e.value:e.max,i.min=isNaN(e.min)?e.value:e.min,i.name=null===(t=e.name)||void 0===t?void 0:t.substring(0,1024),i.stdDev=isNaN(e.stdDev)?0:e.stdDev,i.value=e.value,i.ns=e.namespace,n.metrics.push(i),n.properties=this.truncateProperties(e);var o=new r.Data;return o.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Metric),o.baseData=n,o},e.createAvailabilityData=function(e){var t,n,o=new r.AvailabilityData;e.id?o.id=e.id:o.id=i.w3cTraceId(),o.name=null===(t=e.name)||void 0===t?void 0:t.substring(0,1024),o.duration=i.msToTimeSpan(e.duration),o.success=e.success,o.runLocation=e.runLocation,o.message=null===(n=e.message)||void 0===n?void 0:n.substring(0,8192),o.measurements=e.measurements,o.properties=this.truncateProperties(e);var s=new r.Data;return s.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Availability),s.baseData=o,s},e.createPageViewData=function(e){var t,n,o=new r.PageViewData;o.name=null===(t=e.name)||void 0===t?void 0:t.substring(0,1024),o.duration=i.msToTimeSpan(e.duration),o.url=null===(n=e.url)||void 0===n?void 0:n.substring(0,2048),o.measurements=e.measurements,o.properties=this.truncateProperties(e);var s=new r.Data;return s.baseType=r.telemetryTypeToBaseType(r.TelemetryType.PageView),s.baseData=o,s},e.getTags=function(e,t){var n=o.CorrelationContextManager.getCurrentContext(),r={};if(e&&e.tags)for(var i in e.tags)r[i]=e.tags[i];if(t)for(var i in t)r[i]=t[i];return n&&(r[e.keys.operationId]=r[e.keys.operationId]||n.operation.id,r[e.keys.operationName]=r[e.keys.operationName]||n.operation.name,r[e.keys.operationParentId]=r[e.keys.operationParentId]||n.operation.parentId),r},e.parseStack=function(e){var t=void 0;if("string"==typeof e){var n=e.split("\n");t=[];for(var r=0,i=0,o=0;o<=n.length;o++){var s=n[o];if(c.regex.test(s)){var a=new c(n[o],r++);i+=a.sizeInBytes,t.push(a)}}if(i>32768)for(var l=0,u=t.length-1,p=0,d=l,h=u;l<u;){if((p+=t[l].sizeInBytes+t[u].sizeInBytes)>32768){var f=h-d+1;t.splice(d,f);break}d=l,h=u,l++,u--}}return t},e}(),c=function(){function e(t,n){this.sizeInBytes=0,this.level=n,this.method="<no_method>",this.assembly=i.trim(t);var r=t.match(e.regex);r&&r.length>=5&&(this.method=i.trim(r[2])||this.method,this.fileName=i.trim(r[4])||"<no_filename>",this.line=parseInt(r[5])||0),this.sizeInBytes+=this.method.length,this.sizeInBytes+=this.fileName.length,this.sizeInBytes+=this.assembly.length,this.sizeInBytes+=e.baseSize,this.sizeInBytes+=this.level.toString().length,this.sizeInBytes+=this.line.toString().length}return e.regex=/^(\s+at)?(.*?)(\@|\s\(|\s)([^\(\n]+):(\d+):(\d+)(\)?)$/,e.baseSize=58,e}();e.exports=a},28306:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.FileAccessControl=void 0;var o=n(79896),s=n(70857),a=n(35317),c=n(41102),l=function(){function e(){}return e.checkFileProtection=function(){if(!e.OS_PROVIDES_FILE_PROTECTION&&!e.OS_FILE_PROTECTION_CHECKED)if(e.OS_FILE_PROTECTION_CHECKED=!0,e.USE_ICACLS){try{e.OS_PROVIDES_FILE_PROTECTION=o.existsSync(e.ICACLS_PATH)}catch(e){}e.OS_PROVIDES_FILE_PROTECTION||c.warn(e.TAG,"Could not find ICACLS in expected location! This is necessary to use disk retry mode on Windows.")}else e.OS_PROVIDES_FILE_PROTECTION=!0},e.applyACLRules=function(t){return r(this,void 0,void 0,(function(){var n,r;return i(this,(function(i){switch(i.label){case 0:if(!e.USE_ICACLS)return[3,7];if(void 0!==e.ACLED_DIRECTORIES[t])return[3,6];e.ACLED_DIRECTORIES[t]=!1,i.label=1;case 1:return i.trys.push([1,4,,5]),[4,this._getACLIdentity()];case 2:return n=i.sent(),[4,this._runICACLS(this._getACLArguments(t,n))];case 3:return i.sent(),e.ACLED_DIRECTORIES[t]=!0,[3,5];case 4:throw r=i.sent(),e.ACLED_DIRECTORIES[t]=!1,r;case 5:return[3,7];case 6:if(!e.ACLED_DIRECTORIES[t])throw new Error("Setting ACL restrictions did not succeed (cached result)");i.label=7;case 7:return[2]}}))}))},e.applyACLRulesSync=function(t){if(e.USE_ICACLS){if(void 0===e.ACLED_DIRECTORIES[t])return this._runICACLSSync(this._getACLArguments(t,this._getACLIdentitySync())),void(e.ACLED_DIRECTORIES[t]=!0);if(!e.ACLED_DIRECTORIES[t])throw new Error("Setting ACL restrictions did not succeed (cached result)")}},e._runICACLS=function(t){return new Promise((function(n,r){var i=a.spawn(e.ICACLS_PATH,t,{windowsHide:!0});i.on("error",(function(e){return r(e)})),i.on("close",(function(e,t){0===e?n():r(new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+e+")"))}))}))},e._runICACLSSync=function(t){if(!a.spawnSync)throw new Error("Could not synchronously call ICACLS under current version of Node.js");var n=a.spawnSync(e.ICACLS_PATH,t,{windowsHide:!0});if(n.error)throw n.error;if(0!==n.status)throw new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+n.status+")")},e._getACLIdentity=function(){return new Promise((function(t,n){e.ACL_IDENTITY&&t(e.ACL_IDENTITY);var r=a.spawn(e.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]}),i="";r.stdout.on("data",(function(e){return i+=e})),r.on("error",(function(e){return n(e)})),r.on("close",(function(r,o){e.ACL_IDENTITY=i&&i.trim(),0===r?t(e.ACL_IDENTITY):n(new Error("Getting ACL identity did not succeed (PS returned code "+r+")"))}))}))},e._getACLIdentitySync=function(){if(e.ACL_IDENTITY)return e.ACL_IDENTITY;if(a.spawnSync){var t=a.spawnSync(e.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]});if(t.error)throw t.error;if(0!==t.status)throw new Error("Getting ACL identity did not succeed (PS returned code "+t.status+")");return e.ACL_IDENTITY=t.stdout&&t.stdout.toString().trim(),e.ACL_IDENTITY}throw new Error("Could not synchronously get ACL identity under current version of Node.js")},e._getACLArguments=function(e,t){return[e,"/grant","*S-1-5-32-544:(OI)(CI)F","/grant",t+":(OI)(CI)F","/inheritance:r"]},e.TAG="FileAccessControl",e.ICACLS_PATH=process.env.systemdrive+"/windows/system32/icacls.exe",e.POWERSHELL_PATH=process.env.systemdrive+"/windows/system32/windowspowershell/v1.0/powershell.exe",e.ACLED_DIRECTORIES={},e.ACL_IDENTITY=null,e.OS_FILE_PROTECTION_CHECKED=!1,e.OS_PROVIDES_FILE_PROTECTION=!1,e.USE_ICACLS="Windows_NT"===s.type(),e}();t.FileAccessControl=l},90244:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.getShallowFileSize=t.getShallowDirectorySizeSync=t.getShallowDirectorySize=t.confirmDirExists=t.unlinkAsync=t.readdirAsync=t.readFileAsync=t.writeFileAsync=t.appendFileAsync=t.accessAsync=t.mkdirAsync=t.lstatAsync=t.statAsync=void 0;var o=n(79896),s=n(16928),a=n(39023);t.statAsync=a.promisify(o.stat),t.lstatAsync=a.promisify(o.lstat),t.mkdirAsync=a.promisify(o.mkdir),t.accessAsync=a.promisify(o.access),t.appendFileAsync=a.promisify(o.appendFile),t.writeFileAsync=a.promisify(o.writeFile),t.readFileAsync=a.promisify(o.readFile),t.readdirAsync=a.promisify(o.readdir),t.unlinkAsync=a.promisify(o.unlink),t.confirmDirExists=function(e){return r(void 0,void 0,void 0,(function(){var n,r;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,t.lstatAsync(e)];case 1:if(!i.sent().isDirectory())throw new Error("Path existed but was not a directory");return[3,7];case 2:if(!(n=i.sent())||"ENOENT"!==n.code)return[3,6];i.label=3;case 3:return i.trys.push([3,5,,6]),[4,t.mkdirAsync(e)];case 4:return i.sent(),[3,6];case 5:if((r=i.sent())&&"EEXIST"!==r.code)throw r;return[3,6];case 6:return[3,7];case 7:return[2]}}))}))},t.getShallowDirectorySize=function(e){return r(void 0,void 0,void 0,(function(){var n,r,o,a,c,l;return i(this,(function(i){switch(i.label){case 0:return[4,t.readdirAsync(e)];case 1:n=i.sent(),r=0,o=0,a=n,i.label=2;case 2:return o<a.length?(c=a[o],[4,t.statAsync(s.join(e,c))]):[3,5];case 3:(l=i.sent()).isFile()&&(r+=l.size),i.label=4;case 4:return o++,[3,2];case 5:return[2,r]}}))}))},t.getShallowDirectorySizeSync=function(e){for(var t=o.readdirSync(e),n=0,r=0;r<t.length;r++)n+=o.statSync(s.join(e,t[r])).size;return n},t.getShallowFileSize=function(e){return r(void 0,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return[4,t.statAsync(e)];case 1:return(n=r.sent()).isFile()?[2,n.size]:[2]}}))}))}},88470:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},67979:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},o=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},s=n(79896),a=n(70857),c=n(16928),l=n(90244),u=function(){function e(){var t=this;this.TAG="Logger",this._cleanupTimeOut=18e5,this._tempDir="",this._logFileName="",this._fileFullPath="",this._backUpNameFormat="",this._logToFile=!1,this._logToConsole=!0;var n=process.env.APPLICATIONINSIGHTS_LOG_DESTINATION;"file+console"==n&&(this._logToFile=!0),"file"==n&&(this._logToFile=!0,this._logToConsole=!1),this.maxSizeBytes=5e4,this.maxHistory=1,this._logFileName="applicationinsights.log";var r=process.env.APPLICATIONINSIGHTS_LOGDIR;r?c.isAbsolute(r)?this._tempDir=r:this._tempDir=c.join(process.cwd(),r):this._tempDir=c.join(a.tmpdir(),"appInsights-node"),this._fileFullPath=c.join(this._tempDir,this._logFileName),this._backUpNameFormat="."+this._logFileName,this._logToFile&&(e._fileCleanupTimer||(e._fileCleanupTimer=setInterval((function(){t._fileCleanupTask()}),this._cleanupTimeOut),e._fileCleanupTimer.unref()))}return e.prototype.info=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=e?o([e],t):t;this._logToFile&&this._storeToDisk(r),this._logToConsole&&console.info.apply(console,r)},e.prototype.warning=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=e?o([e],t):t;this._logToFile&&this._storeToDisk(r),this._logToConsole&&console.warn.apply(console,r)},e.getInstance=function(){return e._instance||(e._instance=new e),e._instance},e.prototype._storeToDisk=function(e){return r(this,void 0,void 0,(function(){var t,n,r,o;return i(this,(function(i){switch(i.label){case 0:t=e+"\r\n",i.label=1;case 1:return i.trys.push([1,3,,4]),[4,l.confirmDirExists(this._tempDir)];case 2:return i.sent(),[3,4];case 3:return n=i.sent(),console.log(this.TAG,"Failed to create directory for log file: "+(n&&n.message)),[2];case 4:return i.trys.push([4,6,,11]),[4,l.accessAsync(this._fileFullPath,s.constants.F_OK)];case 5:return i.sent(),[3,11];case 6:r=i.sent(),i.label=7;case 7:return i.trys.push([7,9,,10]),[4,l.appendFileAsync(this._fileFullPath,t)];case 8:return i.sent(),[2];case 9:return i.sent(),console.log(this.TAG,"Failed to put log into file: "+(r&&r.message)),[2];case 10:return[3,11];case 11:return i.trys.push([11,17,,18]),[4,l.getShallowFileSize(this._fileFullPath)];case 12:return i.sent()>this.maxSizeBytes?[4,this._createBackupFile(t)]:[3,14];case 13:return i.sent(),[3,16];case 14:return[4,l.appendFileAsync(this._fileFullPath,t)];case 15:i.sent(),i.label=16;case 16:return[3,18];case 17:return o=i.sent(),console.log(this.TAG,"Failed to create backup file: "+(o&&o.message)),[3,18];case 18:return[2]}}))}))},e.prototype._createBackupFile=function(e){return r(this,void 0,void 0,(function(){var t,n,r;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,4,5]),[4,l.readFileAsync(this._fileFullPath)];case 1:return t=i.sent(),n=c.join(this._tempDir,(new Date).getTime()+"."+this._logFileName),[4,l.writeFileAsync(n,t)];case 2:return i.sent(),[3,5];case 3:return r=i.sent(),console.log("Failed to generate backup log file",r),[3,5];case 4:return l.writeFileAsync(this._fileFullPath,e),[7];case 5:return[2]}}))}))},e.prototype._fileCleanupTask=function(){return r(this,void 0,void 0,(function(){var e,t,n,r,o,s=this;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,6,,7]),[4,l.readdirAsync(this._tempDir)];case 1:(e=(e=i.sent()).filter((function(e){return c.basename(e).indexOf(s._backUpNameFormat)>-1}))).sort((function(e,t){var n=new Date(parseInt(e.split(s._backUpNameFormat)[0])),r=new Date(parseInt(t.split(s._backUpNameFormat)[0]));return n<r?-1:n>=r?1:void 0})),t=e.length,n=0,i.label=2;case 2:return n<t-this.maxHistory?(r=c.join(this._tempDir,e[n]),[4,l.unlinkAsync(r)]):[3,5];case 3:i.sent(),i.label=4;case 4:return n++,[3,2];case 5:return[3,7];case 6:return o=i.sent(),console.log(this.TAG,"Failed to cleanup log files: "+(o&&o.message)),[3,7];case 7:return[2]}}))}))},e._fileCleanupTimer=null,e}();e.exports=u},77215:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JsonConfig=void 0;var r=n(79896),i=n(16928),o=n(41102),s="APPSETTING_",a="APPINSIGHTS_INSTRUMENTATIONKEY",c="APPINSIGHTS_INSTRUMENTATION_KEY",l=function(){function e(){this.connectionString=process.env.APPLICATIONINSIGHTS_CONNECTION_STRING,this.instrumentationKey=process.env[a]||process.env[s+a]||process.env[c]||process.env[s+c],!this.connectionString&&this.instrumentationKey&&o.warn("APPINSIGHTS_INSTRUMENTATIONKEY is in path of deprecation, please use APPLICATIONINSIGHTS_CONNECTION_STRING env variable to setup the SDK."),this.disableAllExtendedMetrics=!!process.env.APPLICATION_INSIGHTS_DISABLE_ALL_EXTENDED_METRICS,this.extendedMetricDisablers=process.env.APPLICATION_INSIGHTS_DISABLE_EXTENDED_METRIC,this.proxyHttpUrl=process.env.http_proxy,this.proxyHttpsUrl=process.env.https_proxy,this.noDiagnosticChannel=!!process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL,this.disableStatsbeat=!!process.env.APPLICATION_INSIGHTS_NO_STATSBEAT,this.noHttpAgentKeepAlive=!!process.env.APPLICATION_INSIGHTS_NO_HTTP_AGENT_KEEP_ALIVE,this.noPatchModules=process.env.APPLICATION_INSIGHTS_NO_PATCH_MODULES||"",this.enableWebInstrumentation=!!process.env.APPLICATIONINSIGHTS_WEB_INSTRUMENTATION_ENABLED||!!process.env.APPLICATIONINSIGHTS_WEB_SNIPPET_ENABLED,this.webInstrumentationSrc=process.env.APPLICATIONINSIGHTS_WEB_INSTRUMENTATION_SOURCE||"",this.webInstrumentationConnectionString=process.env.APPLICATIONINSIGHTS_WEB_INSTRUMENTATION_CONNECTION_STRING||process.env.APPLICATIONINSIGHTS_WEB_SNIPPET_CONNECTION_STRING||"",this.enableAutoWebSnippetInjection=this.enableWebInstrumentation,this.webSnippetConnectionString=this.webInstrumentationConnectionString,this._loadJsonFile()}return e.getInstance=function(){return e._instance||(e._instance=new e),e._instance},e.prototype._loadJsonFile=function(){var e="",t=process.env.APPLICATIONINSIGHTS_CONFIGURATION_CONTENT;if(t)e=t;else{var n=i.join(__dirname,"../../"),s=i.join(n,"applicationinsights.json"),a=process.env.APPLICATIONINSIGHTS_CONFIGURATION_FILE;a&&(s=i.isAbsolute(a)?a:i.join(n,a));try{e=r.readFileSync(s,"utf8")}catch(e){o.info("Failed to read JSON config file: ",e)}}try{var c=JSON.parse(e);null!=c.disableStatsbeat&&(this.disableStatsbeat=c.disableStatsbeat),null!=c.disableAllExtendedMetrics&&(this.disableAllExtendedMetrics=c.disableStatsbeat),null!=c.noDiagnosticChannel&&(this.noDiagnosticChannel=c.noDiagnosticChannel),null!=c.noHttpAgentKeepAlive&&(this.noHttpAgentKeepAlive=c.noHttpAgentKeepAlive),null!=c.connectionString&&(this.connectionString=c.connectionString),null!=c.extendedMetricDisablers&&(this.extendedMetricDisablers=c.extendedMetricDisablers),null!=c.noDiagnosticChannel&&(this.noDiagnosticChannel=c.noDiagnosticChannel),null!=c.proxyHttpUrl&&(this.proxyHttpUrl=c.proxyHttpUrl),null!=c.proxyHttpsUrl&&(this.proxyHttpsUrl=c.proxyHttpsUrl),null!=c.proxyHttpsUrl&&(this.proxyHttpsUrl=c.proxyHttpsUrl),null!=c.noPatchModules&&(this.noPatchModules=c.noPatchModules),null!=c.enableAutoWebSnippetInjection&&(this.enableWebInstrumentation=c.enableAutoWebSnippetInjection,this.enableAutoWebSnippetInjection=this.enableWebInstrumentation),null!=c.enableWebInstrumentation&&(this.enableWebInstrumentation=c.enableWebInstrumentation,this.enableAutoWebSnippetInjection=this.enableWebInstrumentation),null!=c.webSnippetConnectionString&&(this.webInstrumentationConnectionString=c.webSnippetConnectionString,this.webSnippetConnectionString=this.webInstrumentationConnectionString),null!=c.webInstrumentationConnectionString&&(this.webInstrumentationConnectionString=c.webInstrumentationConnectionString,this.webSnippetConnectionString=this.webInstrumentationConnectionString),null!=c.webInstrumentationConfig&&(this.webInstrumentationConfig=c.webInstrumentationConfig),null!=c.webInstrumentationSrc&&(this.webInstrumentationSrc=c.webInstrumentationSrc),null!=c.enableLoggerErrorToTrace&&(this.enableLoggerErrorToTrace=c.enableLoggerErrorToTrace),this.endpointUrl=c.endpointUrl,this.maxBatchSize=c.maxBatchSize,this.maxBatchIntervalMs=c.maxBatchIntervalMs,this.disableAppInsights=c.disableAppInsights,this.samplingPercentage=c.samplingPercentage,this.correlationIdRetryIntervalMs=c.correlationIdRetryIntervalMs,this.correlationHeaderExcludedDomains=c.correlationHeaderExcludedDomains,this.ignoreLegacyHeaders=c.ignoreLegacyHeaders,this.distributedTracingMode=c.distributedTracingMode,this.enableAutoCollectExternalLoggers=c.enableAutoCollectExternalLoggers,this.enableAutoCollectConsole=c.enableAutoCollectConsole,this.enableLoggerErrorToTrace=c.enableLoggerErrorToTrace,this.enableAutoCollectExceptions=c.enableAutoCollectExceptions,this.enableAutoCollectPerformance=c.enableAutoCollectPerformance,this.enableAutoCollectExtendedMetrics=c.enableAutoCollectExtendedMetrics,this.enableAutoCollectPreAggregatedMetrics=c.enableAutoCollectPreAggregatedMetrics,this.enableAutoCollectHeartbeat=c.enableAutoCollectHeartbeat,this.enableAutoCollectRequests=c.enableAutoCollectRequests,this.enableAutoCollectDependencies=c.enableAutoCollectDependencies,this.enableAutoDependencyCorrelation=c.enableAutoDependencyCorrelation,this.enableAutoCollectIncomingRequestAzureFunctions=c.enableAutoCollectIncomingRequestAzureFunctions,this.enableUseAsyncHooks=c.enableUseAsyncHooks,this.enableUseDiskRetryCaching=c.enableUseDiskRetryCaching,this.enableResendInterval=c.enableResendInterval,this.enableMaxBytesOnDisk=c.enableMaxBytesOnDisk,this.enableInternalDebugLogging=c.enableInternalDebugLogging,this.enableInternalWarningLogging=c.enableInternalWarningLogging,this.enableSendLiveMetrics=c.enableSendLiveMetrics,this.quickPulseHost=c.quickPulseHost}catch(e){o.info("Invalid JSON config file: ",e)}},e}();t.JsonConfig=l},41102:(e,t,n)=>{"use strict";var r=n(67979),i=function(){function e(){}return e.info=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.enableDebug&&r.getInstance().info(this.TAG+e,t)},e.warn=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.disableWarnings||r.getInstance().warning(this.TAG+e,t)},e.enableDebug=!1,e.disableWarnings=!1,e.TAG="ApplicationInsights:",e}();e.exports=i},68668:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=n(17131),s=n(93633),a=n(4558),c=n(41102),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.trackNodeHttpRequestSync=function(e){e&&e.request&&e.response&&e.duration?s.trackRequestSync(this,e):c.warn("trackNodeHttpRequestSync requires NodeHttpRequestTelemetry object with request, response and duration specified.")},t.prototype.trackNodeHttpRequest=function(e){(e.duration||e.error)&&c.warn("trackNodeHttpRequest will ignore supplied duration and error parameters. These values are collected from the request and response objects."),e&&e.request&&e.response?s.trackRequest(this,e):c.warn("trackNodeHttpRequest requires NodeHttpRequestTelemetry object with request and response specified.")},t.prototype.trackNodeHttpDependency=function(e){e&&e.request?a.trackRequest(this,e):c.warn("trackNodeHttpDependency requires NodeHttpDependencyTelemetry object with request specified.")},t}(o);e.exports=l},5655:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getResourceProvider=t.getOsPrefix=t.isFunctionApp=t.isWebApp=t.isLinux=t.isWindows=void 0,t.isWindows=function(){return"win32"===process.platform},t.isLinux=function(){return"linux"===process.platform},t.isWebApp=function(){return!!process.env.WEBSITE_SITE_NAME},t.isFunctionApp=function(){return!!process.env.FUNCTIONS_WORKER_RUNTIME},t.getOsPrefix=function(){return t.isWindows()?"w":t.isLinux()?"l":"u"},t.getResourceProvider=function(){return t.isWebApp()?"a":t.isFunctionApp()?"f":"u"}},76793:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=n(70857),o=n(94909),s=n(54804),a=n(66495),c=n(41102),l=a.w3cTraceId(),u=function(){function e(){}return e.createQuickPulseEnvelope=function(e,t,n,r){var o=i&&"function"==typeof i.hostname&&i.hostname()||"Unknown",s=r.tags&&r.keys&&r.keys.cloudRoleInstance&&r.tags[r.keys.cloudRoleInstance]||o,a=r.tags&&r.keys&&r.keys.cloudRole&&r.tags[r.keys.cloudRole]||null;return{Documents:t.length>0?t:null,InstrumentationKey:n.instrumentationKey||"",Metrics:e.length>0?e:null,InvariantVersion:1,Timestamp:"/Date("+Date.now()+")/",Version:r.tags[r.keys.internalSdkVersion],StreamId:l,MachineName:o,Instance:s,RoleName:a}},e.createQuickPulseMetric=function(e){return{Name:e.name,Value:e.value,Weight:e.count||1}},e.telemetryEnvelopeToQuickPulseDocument=function(t){switch(t.data.baseType){case o.TelemetryTypeString.Event:return e.createQuickPulseEventDocument(t);case o.TelemetryTypeString.Exception:return e.createQuickPulseExceptionDocument(t);case o.TelemetryTypeString.Trace:return e.createQuickPulseTraceDocument(t);case o.TelemetryTypeString.Dependency:return e.createQuickPulseDependencyDocument(t);case o.TelemetryTypeString.Request:return e.createQuickPulseRequestDocument(t)}return null},e.createQuickPulseEventDocument=function(t){var n=e.createQuickPulseDocument(t),i=t.data.baseData.name;return r(r({},n),{Name:i})},e.createQuickPulseTraceDocument=function(t){var n=e.createQuickPulseDocument(t),i=t.data.baseData.severityLevel||0;return r(r({},n),{Message:t.data.baseData.message,SeverityLevel:o.SeverityLevel[i]})},e.createQuickPulseExceptionDocument=function(t){var n=e.createQuickPulseDocument(t),i=t.data.baseData.exceptions,o="",s="",a="";return i&&i.length>0&&(i[0].parsedStack&&i[0].parsedStack.length>0?i[0].parsedStack.forEach((function(e){o+=e.assembly+"\n"})):i[0].stack&&i[0].stack.length>0&&(o=i[0].stack),s=i[0].message,a=i[0].typeName),r(r({},n),{Exception:o,ExceptionMessage:s,ExceptionType:a})},e.createQuickPulseRequestDocument=function(t){var n=e.createQuickPulseDocument(t),i=t.data.baseData;return r(r({},n),{Name:i.name,Success:i.success,Duration:i.duration,ResponseCode:i.responseCode,OperationName:i.name})},e.createQuickPulseDependencyDocument=function(t){var n=e.createQuickPulseDocument(t),i=t.data.baseData;return r(r({},n),{Name:i.name,Target:i.target,Success:i.success,Duration:i.duration,ResultCode:i.resultCode,CommandName:i.data,OperationName:n.OperationId,DependencyTypeName:i.type})},e.createQuickPulseDocument=function(t){var n,r;return t.data.baseType?(r=s.TelemetryTypeStringToQuickPulseType[t.data.baseType],n=s.TelemetryTypeStringToQuickPulseDocumentType[t.data.baseType]):c.warn("Document type invalid; not sending live metric document",t.data.baseType),{DocumentType:n,__type:r,OperationId:t.tags[e.keys.operationId],Version:"1.0",Properties:e.aggregateProperties(t)}},e.aggregateProperties=function(e){var t=[],n=e.data.baseData.measurements||{};for(var r in n)if(n.hasOwnProperty(r)){var i={key:r,value:n[r]};t.push(i)}var o=e.data.baseData.properties||{};for(var r in o)o.hasOwnProperty(r)&&(i={key:r,value:o[r]},t.push(i));return t},e.keys=new o.ContextTagKeys,e}();e.exports=u},80446:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},o=n(65692),s=n(4558),a=n(41102),c=n(12655),l=n(66495),u=n(87016),p="x-ms-qps-service-polling-interval-hint",d="x-ms-qps-service-endpoint-redirect-v2",h=function(){function e(e,t){this._config=e,this._consecutiveErrors=0,this._getAuthorizationHandler=t}return e.prototype.ping=function(e,t,n){var r=[{name:"x-ms-qps-stream-id",value:e.StreamId},{name:"x-ms-qps-machine-name",value:e.MachineName},{name:"x-ms-qps-role-name",value:e.RoleName},{name:"x-ms-qps-instance-name",value:e.Instance},{name:"x-ms-qps-invariant-version",value:e.InvariantVersion.toString()}];this._submitData(e,t,n,"ping",r)},e.prototype.post=function(e,t,n){return r(this,void 0,void 0,(function(){return i(this,(function(r){switch(r.label){case 0:return[4,this._submitData([e],t,n,"post")];case 1:return r.sent(),[2]}}))}))},e.prototype._submitData=function(t,n,h,f,v){return r(this,void 0,void 0,(function(){var r,g,m,y,b,_,E,S=this;return i(this,(function(i){switch(i.label){case 0:if(r=l.stringify(t),(_={})[s.disableCollectionRequestOption]=!0,_.host=n&&n.length>0?n:this._config.quickPulseHost,_.method="POST",_.path="/QuickPulseService.svc/"+f+"?ikey="+this._config.instrumentationKey,_.headers=((E={Expect:"100-continue"})["x-ms-qps-transmission-time"]=c.getTransmissionTime(),E["Content-Type"]="application/json",E["Content-Length"]=Buffer.byteLength(r),E),g=_,v&&v.length>0&&v.forEach((function(e){return g.headers[e.name]=e.value})),"post"!==f)return[3,4];if(!(m=this._getAuthorizationHandler?this._getAuthorizationHandler(this._config):null))return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,m.addAuthorizationHeader(g)];case 2:return i.sent(),[3,4];case 3:return y=i.sent(),a.info(e.TAG,"Failed to get AAD bearer token for the Application. Error:",y),[2];case 4:return this._config.httpsAgent?g.agent=this._config.httpsAgent:g.agent=l.tlsRestrictedAgent,(b=o.request(g,(function(e){if(200==e.statusCode){var t="true"===e.headers["x-ms-qps-subscribed"],n=null;try{n=e.headers[d]?new u.URL(e.headers[d].toString()).host:null}catch(e){S._onError("Failed to parse redirect header from QuickPulse: "+l.dumpObj(e))}var r=e.headers[p]?parseInt(e.headers[p].toString()):null;S._consecutiveErrors=0,h(t,e,n,r)}else S._onError("StatusCode:"+e.statusCode+" StatusMessage:"+e.statusMessage),h()}))).on("error",(function(e){S._onError(e),h()})),b.write(r),b.end(),[2]}}))}))},e.prototype._onError=function(t){this._consecutiveErrors++;var n="Transient error connecting to the Live Metrics endpoint. This packet will not appear in your Live Metrics Stream. Error:";this._consecutiveErrors%e.MAX_QPS_FAILURES_BEFORE_WARN==0?(n="Live Metrics endpoint could not be reached "+this._consecutiveErrors+" consecutive times. Most recent error:",a.warn(e.TAG,n,t)):a.info(e.TAG,n,t)},e.TAG="QuickPulseSender",e.MAX_QPS_FAILURES_BEFORE_WARN=25,e}();e.exports=h},29519:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},o=n(41102),s=n(76793),a=n(80446),c=n(54804),l=n(87396),u=function(){function e(e,t,n){this._isCollectingData=!1,this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0,this._metrics={},this._documents=[],this._collectors=[],this._redirectedHost=null,this._pollingIntervalHint=-1,this.config=e,this.context=t||new l,this._sender=new a(this.config,n),this._isEnabled=!1}return e.prototype.addCollector=function(e){this._collectors.push(e)},e.prototype.trackMetric=function(e){this._addMetric(e)},e.prototype.addDocument=function(e){if(this._isCollectingData){var t=s.telemetryEnvelopeToQuickPulseDocument(e);t&&this._documents.push(t)}},e.prototype.enable=function(e){e&&!this._isEnabled?(this._isEnabled=!0,this._goQuickPulse()):!e&&this._isEnabled&&(this._isEnabled=!1,clearTimeout(this._handle),this._handle=void 0)},e.prototype.enableCollectors=function(e){this._collectors.forEach((function(t){t.enable(e)}))},e.prototype._addMetric=function(e){var t=e.value,n=e.count||1,r=c.PerformanceToQuickPulseCounter[e.name];r&&(this._metrics[r]?(this._metrics[r].Value=(this._metrics[r].Value*this._metrics[r].Weight+t*n)/(this._metrics[r].Weight+n),this._metrics[r].Weight+=n):(this._metrics[r]=s.createQuickPulseMetric(e),this._metrics[r].Name=r,this._metrics[r].Weight=1))},e.prototype._resetQuickPulseBuffer=function(){delete this._metrics,this._metrics={},this._documents.length=0},e.prototype._goQuickPulse=function(){return r(this,void 0,void 0,(function(){var t,n,r,o,a=this;return i(this,(function(i){switch(i.label){case 0:return t=Object.keys(this._metrics).map((function(e){return a._metrics[e]})),n=s.createQuickPulseEnvelope(t,this._documents.slice(),this.config,this.context),this._resetQuickPulseBuffer(),this._isCollectingData?[4,this._post(n)]:[3,2];case 1:return i.sent(),[3,3];case 2:this._ping(n),i.label=3;case 3:return r=this._pollingIntervalHint>0?this._pollingIntervalHint:e.PING_INTERVAL,o=this._isCollectingData?e.POST_INTERVAL:r,this._isCollectingData&&Date.now()-this._lastSuccessTime>=e.MAX_POST_WAIT_TIME&&!this._lastSendSucceeded?(this._isCollectingData=!1,o=e.FALLBACK_INTERVAL):!this._isCollectingData&&Date.now()-this._lastSuccessTime>=e.MAX_PING_WAIT_TIME&&!this._lastSendSucceeded&&(o=e.FALLBACK_INTERVAL),this._lastSendSucceeded=null,this._handle=setTimeout(this._goQuickPulse.bind(this),o),this._handle.unref(),[2]}}))}))},e.prototype._ping=function(e){this._sender.ping(e,this._redirectedHost,this._quickPulseDone.bind(this))},e.prototype._post=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,this._sender.post(e,this._redirectedHost,this._quickPulseDone.bind(this))];case 1:return t.sent(),[2]}}))}))},e.prototype._quickPulseDone=function(e,t,n,r){null!=e?(this._isCollectingData!==e&&(o.info("Live Metrics sending data",e),this.enableCollectors(e)),this._isCollectingData=e,n&&n.length>0&&(this._redirectedHost=n,o.info("Redirecting endpoint to: ",n)),r&&r>0&&(this._pollingIntervalHint=r),t&&t.statusCode<300&&t.statusCode>=200?(this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0):this._lastSendSucceeded=!1):this._lastSendSucceeded=!1},e.MAX_POST_WAIT_TIME=2e4,e.MAX_PING_WAIT_TIME=6e4,e.FALLBACK_INTERVAL=6e4,e.PING_INTERVAL=5e3,e.POST_INTERVAL=1e3,e}();e.exports=u},12655:e=>{"use strict";e.exports={getTransmissionTime:function(){return 1e4*(Date.now()+621355968e5)}}},96491:e=>{"use strict";e.exports={requestContextHeader:"request-context",requestContextSourceKey:"appId",requestContextTargetKey:"appId",requestIdHeader:"request-id",parentIdHeader:"x-ms-request-id",rootIdHeader:"x-ms-request-root-id",correlationContextHeader:"correlation-context",traceparentHeader:"traceparent",traceStateHeader:"tracestate"}},43790:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},o=n(79896),s=n(70857),a=n(16928),c=n(43106),l=n(54804),u=n(4558),p=n(90244),d=n(66495),h=n(87016),f=n(41102),v=n(28306),g=[200,206,402,408,429,439,500],m=function(){function e(t,n,r,i,o,c,l){this._redirectedHost=null,this._config=t,this._onSuccess=r,this._onError=i,this._statsbeat=o,this._enableDiskRetryMode=!1,this._resendInterval=e.WAIT_BETWEEN_RESEND,this._maxBytesOnDisk=e.MAX_BYTES_ON_DISK,this._numConsecutiveFailures=0,this._numConsecutiveRedirects=0,this._resendTimer=null,this._getAuthorizationHandler=n,this._fileCleanupTimer=null,this._tempDir=a.join(s.tmpdir(),e.TEMPDIR_PREFIX+this._config.instrumentationKey),this._isStatsbeatSender=c||!1,this._shutdownStatsbeat=l,this._failedToIngestCounter=0,this._statsbeatHasReachedIngestionAtLeastOnce=!1}return e.prototype.setDiskRetryMode=function(t,n,r){var i=this;t&&v.FileAccessControl.checkFileProtection(),this._enableDiskRetryMode=v.FileAccessControl.OS_PROVIDES_FILE_PROTECTION&&t,"number"==typeof n&&n>=0&&(this._resendInterval=Math.floor(n)),"number"==typeof r&&r>=0&&(this._maxBytesOnDisk=Math.floor(r)),t&&!v.FileAccessControl.OS_PROVIDES_FILE_PROTECTION&&(this._enableDiskRetryMode=!1,this._logWarn("Ignoring request to enable disk retry mode. Sufficient file protection capabilities were not detected.")),this._enableDiskRetryMode?(this._statsbeat&&this._statsbeat.addFeature(l.StatsbeatFeature.DISK_RETRY),this._fileCleanupTimer||(this._fileCleanupTimer=setTimeout((function(){i._fileCleanupTask()}),e.CLEANUP_TIMEOUT),this._fileCleanupTimer.unref())):(this._statsbeat&&this._statsbeat.removeFeature(l.StatsbeatFeature.DISK_RETRY),this._fileCleanupTimer&&clearTimeout(this._fileCleanupTimer))},e.prototype.send=function(t,n){return r(this,void 0,void 0,(function(){var r,o,s,a,p,f,v,m,y=this;return i(this,(function(i){switch(i.label){case 0:if(!t)return[3,5];if(r=this._redirectedHost||this._config.endpointUrl,o=new h.URL(r).hostname,s={method:"POST",withCredentials:!1,headers:{"Content-Type":"application/x-json-stream"}},!(a=this._getAuthorizationHandler?this._getAuthorizationHandler(this._config):null))return[3,4];this._statsbeat&&this._statsbeat.addFeature(l.StatsbeatFeature.AAD_HANDLING),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,a.addAuthorizationHeader(s)];case 2:return i.sent(),[3,4];case 3:return p=i.sent(),f="Failed to get AAD bearer token for the Application.",this._enableDiskRetryMode&&(f+="This batch of telemetry items will be retried. ",this._storeToDisk(t)),f+="Error:"+p.toString(),this._logWarn(f),"function"==typeof n&&n(f),[2];case 4:v="",t.forEach((function(e){var t=d.stringify(e);"string"==typeof t&&(v+=t+"\n")})),v.length>0&&(v=v.substring(0,v.length-1)),m=Buffer.from?Buffer.from(v):new Buffer(v),c.gzip(m,(function(i,a){var c=a;i?(y._logWarn(d.dumpObj(i)),c=m,s.headers["Content-Length"]=m.length.toString()):(s.headers["Content-Encoding"]="gzip",s.headers["Content-Length"]=a.length.toString()),y._logInfo(d.dumpObj(s)),s[u.disableCollectionRequestOption]=!0;var p=+new Date,h=d.makeRequest(y._config,r,s,(function(e){e.setEncoding("utf-8");var r="";e.on("data",(function(e){r+=e})),e.on("end",(function(){var i=+new Date-p;if(y._numConsecutiveFailures=0,y._isStatsbeatSender&&!y._statsbeatHasReachedIngestionAtLeastOnce&&(g.includes(e.statusCode)?y._statsbeatHasReachedIngestionAtLeastOnce=!0:y._statsbeatFailedToIngest()),y._statsbeat&&(402==e.statusCode||439==e.statusCode?y._statsbeat.countThrottle(l.StatsbeatNetworkCategory.Breeze,o,e.statusCode):y._statsbeat.countRequest(l.StatsbeatNetworkCategory.Breeze,o,i,200===e.statusCode,e.statusCode)),y._enableDiskRetryMode)if(200===e.statusCode)y._resendTimer||(y._resendTimer=setTimeout((function(){y._resendTimer=null,y._sendFirstFileOnDisk()}),y._resendInterval),y._resendTimer.unref());else if(y._isRetriable(e.statusCode))try{y._statsbeat&&y._statsbeat.countRetry(l.StatsbeatNetworkCategory.Breeze,o,e.statusCode);var s=JSON.parse(r),a=[];s.errors&&(s.errors.forEach((function(e){429!=e.statusCode&&500!=e.statusCode&&503!=e.statusCode||a.push(t[e.index])})),a.length>0&&y._storeToDisk(a))}catch(e){y._storeToDisk(t)}if(307===e.statusCode||308===e.statusCode)if(y._numConsecutiveRedirects++,y._numConsecutiveRedirects<10){var c=e.headers.location?e.headers.location.toString():null;c&&(y._redirectedHost=c,y.send(t,n))}else y._statsbeat&&y._statsbeat.countException(l.StatsbeatNetworkCategory.Breeze,o,{name:"Circular Redirect",message:"Error sending telemetry because of circular redirects."}),"function"==typeof n&&n("Error sending telemetry because of circular redirects.");else y._numConsecutiveRedirects=0,"function"==typeof n&&n(r),y._logInfo(r),"function"==typeof y._onSuccess&&y._onSuccess(r)}))}));h.setTimeout(e.HTTP_TIMEOUT,(function(){y._requestTimedOut=!0,h.abort()})),h.on("error",(function(r){if(y._isStatsbeatSender&&!y._statsbeatHasReachedIngestionAtLeastOnce&&y._statsbeatFailedToIngest(),y._numConsecutiveFailures++,y._statsbeat&&y._statsbeat.countException(l.StatsbeatNetworkCategory.Breeze,o,r),!y._enableDiskRetryMode||y._numConsecutiveFailures>0&&y._numConsecutiveFailures%e.MAX_CONNECTION_FAILURES_BEFORE_WARN==0){var i="Ingestion endpoint could not be reached. This batch of telemetry items has been lost. Use Disk Retry Caching to enable resending of failed telemetry. Error:";y._enableDiskRetryMode&&(i="Ingestion endpoint could not be reached "+y._numConsecutiveFailures+" consecutive times. There may be resulting telemetry loss. Most recent error:"),y._logWarn(i,d.dumpObj(r))}else i="Transient failure to reach ingestion endpoint. This batch of telemetry items will be retried. Error:",y._logInfo(i,d.dumpObj(r));y._onErrorHelper(r),"function"==typeof n&&(r?(y._requestTimedOut&&(r.name="telemetry timeout",r.message="telemetry request timed out"),n(d.dumpObj(r))):n("Error sending telemetry")),y._enableDiskRetryMode&&y._storeToDisk(t)})),h.write(c),h.end()})),i.label=5;case 5:return[2]}}))}))},e.prototype.saveOnCrash=function(e){this._enableDiskRetryMode&&this._storeToDiskSync(d.stringify(e))},e.prototype._isRetriable=function(e){return 206===e||401===e||403===e||408===e||429===e||500===e||502===e||503===e||504===e},e.prototype._logInfo=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this._isStatsbeatSender||f.info(e.TAG,t,n)},e.prototype._logWarn=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this._isStatsbeatSender||f.warn(e.TAG,t,n)},e.prototype._statsbeatFailedToIngest=function(){this._shutdownStatsbeat&&(this._failedToIngestCounter++,this._failedToIngestCounter>=3&&this._shutdownStatsbeat())},e.prototype._storeToDisk=function(e){return r(this,void 0,void 0,(function(){var t,n,r,o,s,c,l;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),this._logInfo("Checking existence of data storage directory: "+this._tempDir),[4,p.confirmDirExists(this._tempDir)];case 1:return i.sent(),[3,3];case 2:return t=i.sent(),this._logWarn("Failed to create folder to put telemetry: "+d.dumpObj(t)),this._onErrorHelper(t),[2];case 3:return i.trys.push([3,5,,6]),[4,v.FileAccessControl.applyACLRules(this._tempDir)];case 4:return i.sent(),[3,6];case 5:return n=i.sent(),this._logWarn("Failed to apply file access control to folder: "+d.dumpObj(n)),this._onErrorHelper(n),[2];case 6:return i.trys.push([6,8,,9]),[4,p.getShallowDirectorySize(this._tempDir)];case 7:return(r=i.sent())>this._maxBytesOnDisk?(this._logWarn("Not saving data due to max size limit being met. Directory size in bytes is: "+r),[2]):[3,9];case 8:return o=i.sent(),this._logWarn("Failed to read directory for retriable telemetry: "+d.dumpObj(o)),this._onErrorHelper(o),[2];case 9:return i.trys.push([9,11,,12]),s=(new Date).getTime()+".ai.json",c=a.join(this._tempDir,s),this._logInfo("saving data to disk at: "+c),[4,p.writeFileAsync(c,d.stringify(e),{mode:384})];case 10:return i.sent(),[3,12];case 11:return l=i.sent(),this._logWarn("Failed to persist telemetry to disk: "+d.dumpObj(l)),this._onErrorHelper(l),[2];case 12:return[2]}}))}))},e.prototype._storeToDiskSync=function(e){try{this._logInfo("Checking existence of data storage directory: "+this._tempDir),o.existsSync(this._tempDir)||o.mkdirSync(this._tempDir),v.FileAccessControl.applyACLRulesSync(this._tempDir);var t=p.getShallowDirectorySizeSync(this._tempDir);if(t>this._maxBytesOnDisk)return void this._logInfo("Not saving data due to max size limit being met. Directory size in bytes is: "+t);var n=(new Date).getTime()+".ai.json",r=a.join(this._tempDir,n);this._logInfo("saving data before crash to disk at: "+r),o.writeFileSync(r,e,{mode:384})}catch(e){this._logWarn("Error while saving data to disk: "+d.dumpObj(e)),this._onErrorHelper(e)}},e.prototype._sendFirstFileOnDisk=function(){return r(this,void 0,void 0,(function(){var e,t,n,r,o,s;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,6,,7]),[4,p.readdirAsync(this._tempDir)];case 1:return(e=(e=i.sent()).filter((function(e){return a.basename(e).indexOf(".ai.json")>-1}))).length>0?(t=e[0],n=a.join(this._tempDir,t),[4,p.readFileAsync(n)]):[3,5];case 2:return r=i.sent(),[4,p.unlinkAsync(n)];case 3:return i.sent(),o=JSON.parse(r.toString()),[4,this.send(o)];case 4:i.sent(),i.label=5;case 5:return[3,7];case 6:return s=i.sent(),this._onErrorHelper(s),[3,7];case 7:return[2]}}))}))},e.prototype._onErrorHelper=function(e){"function"==typeof this._onError&&this._onError(e)},e.prototype._fileCleanupTask=function(){return r(this,void 0,void 0,(function(){var t,n,r,o,s,c=this;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,6,,7]),[4,p.readdirAsync(this._tempDir)];case 1:if(!((t=(t=i.sent()).filter((function(e){return a.basename(e).indexOf(".ai.json")>-1}))).length>0))return[3,5];n=0,i.label=2;case 2:return n<t.length?(r=new Date(parseInt(t[n].split(".ai.json")[0])),new Date(+new Date-e.FILE_RETEMPTION_PERIOD)>r?(o=a.join(this._tempDir,t[n]),[4,p.unlinkAsync(o).catch((function(e){c._onErrorHelper(e)}))]):[3,4]):[3,5];case 3:i.sent(),i.label=4;case 4:return n++,[3,2];case 5:return[3,7];case 6:return"ENOENT"!=(s=i.sent()).code&&this._onErrorHelper(s),[3,7];case 7:return[2]}}))}))},e.TAG="Sender",e.WAIT_BETWEEN_RESEND=6e4,e.MAX_BYTES_ON_DISK=52428800,e.MAX_CONNECTION_FAILURES_BEFORE_WARN=5,e.CLEANUP_TIMEOUT=36e5,e.FILE_RETEMPTION_PERIOD=6048e5,e.TEMPDIR_PREFIX="appInsights-node",e.HTTP_TIMEOUT=2e4,e}();e.exports=m},44989:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isContentTypeHeaderHtml=t.insertSnippetByIndex=t.getContentEncodingFromHeaders=t.isSupportedContentEncoding=t.findBufferEncodingType=t.isBufferType=t.getBrotliDecompressSync=t.getBrotliDecompressAsync=t.getBrotliCompressSync=t.getBrotliCompressAsync=t.inflateAsync=t.deflateAsync=t.gunzipAsync=t.gzipAsync=t.isBrotliSupperted=t.bufferEncodingTypes=t.contentEncodingMethod=void 0;var r,i=n(43106),o=n(39023);!function(e){e.GZIP="gzip",e.DEFLATE="deflate",e.BR="br"}(r=t.contentEncodingMethod||(t.contentEncodingMethod={})),t.bufferEncodingTypes=["utf8","utf16le","latin1","base64","hex","ascii","binary","ucs2"],t.isBrotliSupperted=function(){var e=process.versions.node.split(".")[0];return parseInt(e)>=10},t.gzipAsync=o.promisify(i.gzip),t.gunzipAsync=o.promisify(i.gunzip),t.deflateAsync=o.promisify(i.deflate),t.inflateAsync=o.promisify(i.inflate),t.getBrotliCompressAsync=function(e){return t.isBrotliSupperted()&&"function"==typeof e.brotliCompress?o.promisify(e.brotliCompress):null},t.getBrotliCompressSync=function(e){return t.isBrotliSupperted()&&"function"==typeof e.brotliCompressSync?e.brotliCompressSync:null},t.getBrotliDecompressAsync=function(e){return t.isBrotliSupperted()&&"function"==typeof e.brotliDecompress?o.promisify(e.brotliDecompress):null},t.getBrotliDecompressSync=function(e){return t.isBrotliSupperted()&&"function"==typeof e.brotliDecompressSync?e.brotliDecompressSync:null},t.isBufferType=function(e,t){var n=t||"utf8",r=!1;return Buffer.isEncoding(n)&&(r=Buffer.from(e.toString(n),n).toJSON().data.toString()===e.toJSON().data.toString()),r},t.findBufferEncodingType=function(e){var n=null;for(var r in t.bufferEncodingTypes){var i=t.bufferEncodingTypes[r];if(Buffer.isEncoding(i)&&t.isBufferType(e,i)){n=i;break}}return n},t.isSupportedContentEncoding=function(e){var t=null;switch(e){case"gzip":t=r.GZIP;break;case"br":t=r.BR;break;case"deflate":t=r.DEFLATE}return t},t.getContentEncodingFromHeaders=function(e){var n=[],r=e.getHeader("Content-Encoding");if(!r)return null;if("string"==typeof r){var i=t.isSupportedContentEncoding(r);i&&n.push(i)}return n},t.insertSnippetByIndex=function(e,t,n){return e<0?null:t.substring(0,e)+'<script type="text/javascript">'+n+"<\/script>"+t.substring(e)},t.isContentTypeHeaderHtml=function(e){var t=!1,n=e.getHeader("Content-Type");return n&&(t="string"==typeof n?n.indexOf("html")>=0:n.toString().indexOf("html")>=0),t}},17131:(e,t,n)=>{"use strict";var r=n(87016),i=n(181),o=n(3144),s=n(87396),a=n(94909),c=n(79004),l=n(64346),u=n(13097),p=n(35884),d=n(43790),h=n(66495),f=n(41102),v=n(43273),g=function(){function e(e){this._telemetryProcessors=[];var t=new i(e);if(this.config=t,!this.config.instrumentationKey||""==this.config.instrumentationKey)throw new Error("Instrumentation key not found, please provide a connection string before starting Application Insights SDK.");this.context=new s,this.commonProperties={},this.authorizationHandler=null,this.config.disableStatsbeat||(this._statsbeat=new p(this.config,this.context),this._statsbeat.enable(!0));var n=new d(this.config,this.getAuthorizationHandler,null,null,this._statsbeat);this.channel=new c((function(){return t.disableAppInsights}),(function(){return t.maxBatchSize}),(function(){return t.maxBatchIntervalMs}),n)}return e.prototype.trackAvailability=function(e){this.track(e,a.TelemetryType.Availability)},e.prototype.trackPageView=function(e){this.track(e,a.TelemetryType.PageView)},e.prototype.trackTrace=function(e){this.track(e,a.TelemetryType.Trace)},e.prototype.trackMetric=function(e){this.track(e,a.TelemetryType.Metric)},e.prototype.trackException=function(e){e&&e.exception&&!h.isError(e.exception)&&(e.exception=new Error(e.exception.toString())),this.track(e,a.TelemetryType.Exception)},e.prototype.trackEvent=function(e){this.track(e,a.TelemetryType.Event)},e.prototype.trackRequest=function(e){this.track(e,a.TelemetryType.Request)},e.prototype.trackDependency=function(t){if(t&&!t.target&&t.data)try{t.target=new r.URL(t.data).host}catch(n){t.target=null,f.warn(e.TAG,"The URL object is failed to create.",n)}this.track(t,a.TelemetryType.Dependency)},e.prototype.flush=function(e){this.channel.triggerSend(!!e&&!!e.isAppCrashing,e?e.callback:void 0)},e.prototype.track=function(t,n){if(t&&a.telemetryTypeToBaseType(n)){var r=v.createEnvelope(t,n,this.commonProperties,this.context,this.config);t.time&&(r.time=t.time.toISOString());var i=this.runTelemetryProcessors(r,t.contextObjects);i=i&&l.samplingTelemetryProcessor(r,{correlationContext:u.CorrelationContextManager.getCurrentContext()}),l.preAggregatedMetricsTelemetryProcessor(r,this.context),i&&(l.performanceMetricsTelemetryProcessor(r,this.quickPulseClient),this.channel.send(r))}else f.warn(e.TAG,"track() requires telemetry object and telemetryType to be specified.")},e.prototype.setAutoPopulateAzureProperties=function(e){},e.prototype.getAuthorizationHandler=function(t){return t&&t.aadTokenCredential?(this.authorizationHandler||(f.info(e.TAG,"Adding authorization handler"),this.authorizationHandler=new o(t.aadTokenCredential)),this.authorizationHandler):null},e.prototype.addTelemetryProcessor=function(e){this._telemetryProcessors.push(e)},e.prototype.clearTelemetryProcessors=function(){this._telemetryProcessors=[]},e.prototype.runTelemetryProcessors=function(t,n){var r=!0,i=this._telemetryProcessors.length;if(0===i)return r;(n=n||{}).correlationContext=u.CorrelationContextManager.getCurrentContext();for(var o=0;o<i;++o)try{var s=this._telemetryProcessors[o];if(s&&!1===s.apply(null,[t,n])){r=!1;break}}catch(n){r=!0,f.warn(e.TAG,"One of telemetry processors failed, telemetry item will be sent.",n,t)}return r&&(t&&t.tags&&(t.tags=h.validateStringMap(t.tags)),t&&t.data&&t.data.baseData&&t.data.baseData.properties&&(t.data.baseData.properties=h.validateStringMap(t.data.baseData.properties))),r},e.prototype.getStatsbeat=function(){return this._statsbeat},e.TAG="TelemetryClient",e}();e.exports=g},24782:(e,t,n)=>{"use strict";var r=n(66495),i=n(24835),o=function(){function e(t,n){if(this.traceFlag=e.DEFAULT_TRACE_FLAG,this.version=e.DEFAULT_VERSION,t&&"string"==typeof t)if(t.split(",").length>1)this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16);else{var o=t.trim().split("-"),s=o.length;s>=4?(this.version=o[0],this.traceId=o[1],this.spanId=o[2],this.traceFlag=o[3]):(this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)),this.version.match(/^[0-9a-f]{2}$/g)||(this.version=e.DEFAULT_VERSION,this.traceId=r.w3cTraceId()),"00"===this.version&&4!==s&&(this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)),"ff"===this.version&&(this.version=e.DEFAULT_VERSION,this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)),this.version.match(/^0[0-9a-f]$/g)||(this.version=e.DEFAULT_VERSION),this.traceFlag.match(/^[0-9a-f]{2}$/g)||(this.traceFlag=e.DEFAULT_TRACE_FLAG,this.traceId=r.w3cTraceId()),e.isValidTraceId(this.traceId)||(this.traceId=r.w3cTraceId()),e.isValidSpanId(this.spanId)||(this.spanId=r.w3cTraceId().substr(0,16),this.traceId=r.w3cTraceId()),this.parentId=this.getBackCompatRequestId()}else if(n){this.parentId=n.slice();var a=i.getRootId(n);e.isValidTraceId(a)||(this.legacyRootId=a,a=r.w3cTraceId()),-1!==n.indexOf("|")&&(n=n.substring(1+n.substring(0,n.length-1).lastIndexOf("."),n.length-1)),this.traceId=a,this.spanId=n}else this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)}return e.isValidTraceId=function(e){return e.match(/^[0-9a-f]{32}$/)&&"00000000000000000000000000000000"!==e},e.isValidSpanId=function(e){return e.match(/^[0-9a-f]{16}$/)&&"0000000000000000"!==e},e.formatOpenTelemetryTraceFlags=function(e){var t="0"+e.toString(16);return t.substring(t.length-2)},e.prototype.getBackCompatRequestId=function(){return"|"+this.traceId+"."+this.spanId+"."},e.prototype.toString=function(){return this.version+"-"+this.traceId+"-"+this.spanId+"-"+this.traceFlag},e.prototype.updateSpanId=function(){this.spanId=r.w3cTraceId().substr(0,16)},e.DEFAULT_TRACE_FLAG="01",e.DEFAULT_VERSION="00",e}();e.exports=o},71113:e=>{"use strict";var t=function(){function e(e){this.fieldmap=[],e&&(this.fieldmap=this.parseHeader(e))}return e.prototype.toString=function(){var e=this.fieldmap;return e&&0!=e.length?e.join(", "):null},e.validateKeyChars=function(e){var t=e.split("@");if(2==t.length){var n=t[0].trim(),r=t[1].trim(),i=Boolean(n.match(/^[\ ]?[a-z0-9\*\-\_/]{1,241}$/)),o=Boolean(r.match(/^[\ ]?[a-z0-9\*\-\_/]{1,14}$/));return i&&o}return 1==t.length&&Boolean(e.match(/^[\ ]?[a-z0-9\*\-\_/]{1,256}$/))},e.prototype.parseHeader=function(t){var n=[],r={},i=t.split(",");if(i.length>32)return null;for(var o=0,s=i;o<s.length;o++){var a=s[o].trim();if(0!==a.length){var c=a.split("=");if(2!==c.length)return null;if(!e.validateKeyChars(c[0]))return null;if(r[c[0]])return null;r[c[0]]=!0,n.push(a)}}return n},e.strict=!0,e}();e.exports=t},66495:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=n(58611),o=n(65692),s=n(87016),a=n(49140),c=n(41102),l=n(96491),u=n(77215),p=function(){function e(){e._addCloseHandler()}return e.getCookie=function(t,n){var r="";if(t&&t.length&&"string"==typeof n)for(var i=t+"=",o=n.split(";"),s=0;s<o.length;s++)if(n=o[s],(n=e.trim(n))&&0===n.indexOf(i)){r=n.substring(i.length,o[s].length);break}return r},e.trim=function(e){return"string"==typeof e?e.replace(/^\s+|\s+$/g,""):""},e.int32ArrayToBase64=function(e){var t=function(e,t){return String.fromCharCode(e>>t&255)},n=e.map((function(e){return t(e,24)+t(e,16)+t(e,8)+t(e,0)})).join(""),r=(Buffer.from?Buffer.from(n,"binary"):new Buffer(n,"binary")).toString("base64");return r.substr(0,r.indexOf("="))},e.random32=function(){return 4294967296*Math.random()|0},e.randomu32=function(){return e.random32()+2147483648},e.w3cTraceId=function(){for(var t,n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],r="",i=0;i<4;i++)r+=n[15&(t=e.random32())]+n[t>>4&15]+n[t>>8&15]+n[t>>12&15]+n[t>>16&15]+n[t>>20&15]+n[t>>24&15]+n[t>>28&15];var o=n[8+4*Math.random()|0];return r.substr(0,8)+r.substr(9,4)+"4"+r.substr(13,3)+o+r.substr(16,3)+r.substr(19,12)},e.w3cSpanId=function(){return e.w3cTraceId().substring(16)},e.isValidW3CId=function(e){return 32===e.length&&"00000000000000000000000000000000"!==e},e.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},e.isError=function(e){return"[object Error]"===Object.prototype.toString.call(e)},e.isPrimitive=function(e){var t=typeof e;return"string"===t||"number"===t||"boolean"===t},e.isDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)},e.msToTimeSpan=function(e){(isNaN(e)||e<0)&&(e=0);var t=(e/1e3%60).toFixed(7).replace(/0{0,4}$/,""),n=""+Math.floor(e/6e4)%60,r=""+Math.floor(e/36e5)%24,i=Math.floor(e/864e5);return t=t.indexOf(".")<2?"0"+t:t,n=n.length<2?"0"+n:n,(i>0?i+".":"")+(r=r.length<2?"0"+r:r)+":"+n+":"+t},e.extractError=function(e){var t=e;return{message:e.message,code:t.code||t.id||""}},e.extractObject=function(t){return t instanceof Error?e.extractError(t):"function"==typeof t.toJSON?t.toJSON():t},e.validateStringMap=function(t){if("object"==typeof t){var n={};for(var r in t){var i="",o=t[r],s=typeof o;if(e.isPrimitive(o))i=o.toString();else if(null===o||"undefined"===s)i="";else{if("function"===s){c.info("key: "+r+" was function; will not serialize");continue}var a=e.isArray(o)?o:e.extractObject(o);try{i=e.isPrimitive(a)?a:JSON.stringify(a)}catch(e){i=o.constructor.name.toString()+" (Error: "+e.message+")",c.info("key: "+r+", could not be serialized")}}n[r]=i.substring(0,e.MAX_PROPERTY_LENGTH)}return n}c.info("Invalid properties dropped from payload")},e.canIncludeCorrelationHeader=function(e,t){var n=e&&e.config&&e.config.correlationHeaderExcludedDomains;if(!n||0==n.length||!t)return!0;for(var r=0;r<n.length;r++){var i=new RegExp(n[r].replace(/\./g,".").replace(/\*/g,".*"));try{if(i.test(new s.URL(t).hostname))return!1}catch(e){}}return!0},e.getCorrelationContextTarget=function(e,t){var n=e.headers&&e.headers[l.requestContextHeader];if(n)for(var r=n.split(","),i=0;i<r.length;++i){var o=r[i].split("=");if(2==o.length&&o[0]==t)return o[1]}},e.makeRequest=function(t,n,a,l,u,p){void 0===u&&(u=!0),void 0===p&&(p=!0),n&&0===n.indexOf("//")&&(n="https:"+n);var d=new s.URL(n),h=r(r({},a),{host:d.hostname,port:d.port,path:d.pathname}),f=void 0;if(u&&("https:"===d.protocol&&(f=t.proxyHttpsUrl||void 0),"http:"===d.protocol&&(f=t.proxyHttpUrl||void 0),f)){0===f.indexOf("//")&&(f="http:"+f);try{var v=new s.URL(f);"https:"===v.protocol?(c.info("Proxies that use HTTPS are not supported"),f=void 0):h=r(r({},h),{host:v.hostname,port:v.port||"80",path:n,headers:r(r({},h.headers),{Host:d.hostname})})}catch(e){c.warn("Wrong proxy URL provided")}}var g="https:"===d.protocol&&!f;return p&&(g&&void 0!==t.httpsAgent?h.agent=t.httpsAgent:g||void 0===t.httpAgent?g&&(h.agent=e._useKeepAlive?e.keepAliveAgent:e.tlsRestrictedAgent):h.agent=t.httpAgent),g?o.request(h,l):i.request(h,l)},e.safeIncludeCorrelationHeader=function(t,n,r){var i;if("string"==typeof r)i=r;else if(r instanceof Array)i=r.join(",");else if(r&&"function"==typeof r.toString)try{i=r.toString()}catch(e){c.warn("Outgoing request-context header could not be read. Correlation of requests may be lost.",e,r)}i?e.addCorrelationIdHeaderFromString(t,n,i):n.setHeader(l.requestContextHeader,l.requestContextSourceKey+"="+t.config.correlationId)},e.dumpObj=function(e){if(e)try{var t=Object.prototype.toString.call(e);return t+("[object Error]"===t?"{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":this.stringify(e))}catch(t){return e.toString()}},e.stringify=function(e){try{return JSON.stringify(e)}catch(t){c.warn("Failed to serialize payload",t,e)}},e.addCorrelationIdHeaderFromString=function(e,t,n){var r=n.split(","),i=l.requestContextSourceKey+"=";r.some((function(e){return e.substring(0,i.length)===i}))||t.setHeader(l.requestContextHeader,n+","+l.requestContextSourceKey+"="+e.config.correlationId)},e._addCloseHandler=function(){e._listenerAttached||(process.on("exit",(function(){e.isNodeExit=!0,e._useKeepAlive=!1})),e._listenerAttached=!0)},e._useKeepAlive=!u.JsonConfig.getInstance().noHttpAgentKeepAlive,e._listenerAttached=!1,e.MAX_PROPERTY_LENGTH=8192,e.keepAliveAgent=new o.Agent({keepAlive:!0,maxSockets:25,secureOptions:a.SSL_OP_NO_SSLv2|a.SSL_OP_NO_SSLv3|a.SSL_OP_NO_TLSv1|a.SSL_OP_NO_TLSv1_1}),e.tlsRestrictedAgent=new o.Agent({secureOptions:a.SSL_OP_NO_SSLv2|a.SSL_OP_NO_SSLv3|a.SSL_OP_NO_TLSv1|a.SSL_OP_NO_TLSv1_1}),e.isNodeExit=!1,e}();e.exports=p},5113:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.azureRoleEnvironmentTelemetryProcessor=void 0,t.azureRoleEnvironmentTelemetryProcessor=function(e,t){}},32154:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.performanceMetricsTelemetryProcessor=void 0;var r=n(38441),i=n(94909);t.performanceMetricsTelemetryProcessor=function(e,t){switch(t&&t.addDocument(e),e.data.baseType){case i.TelemetryTypeString.Exception:r.countException();break;case i.TelemetryTypeString.Request:var n=e.data.baseData;r.countRequest(n.duration,n.success);break;case i.TelemetryTypeString.Dependency:var o=e.data.baseData;r.countDependency(o.duration,o.success)}return!0}},66216:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.preAggregatedMetricsTelemetryProcessor=void 0;var i=n(94909),o=n(85534),s=n(94909);t.preAggregatedMetricsTelemetryProcessor=function(e,t){if(o.isEnabled())switch(e.data.baseType){case s.TelemetryTypeString.Exception:var n=e.data.baseData;n.properties=r(r({},n.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Exceptions', Ver:'1.1')"});var a={cloudRoleInstance:e.tags[t.keys.cloudRoleInstance],cloudRoleName:e.tags[t.keys.cloudRole]};o.countException(a);break;case s.TelemetryTypeString.Trace:var c=e.data.baseData;c.properties=r(r({},c.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Traces', Ver:'1.1')"});var l={cloudRoleInstance:e.tags[t.keys.cloudRoleInstance],cloudRoleName:e.tags[t.keys.cloudRole],traceSeverityLevel:i.SeverityLevel[c.severity]};o.countTrace(l);break;case s.TelemetryTypeString.Request:var u=e.data.baseData;u.properties=r(r({},u.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Requests', Ver:'1.1')"});var p={cloudRoleInstance:e.tags[t.keys.cloudRoleInstance],cloudRoleName:e.tags[t.keys.cloudRole],operationSynthetic:e.tags[t.keys.operationSyntheticSource],requestSuccess:u.success,requestResultCode:u.responseCode};o.countRequest(u.duration,p);break;case s.TelemetryTypeString.Dependency:var d=e.data.baseData;d.properties=r(r({},d.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Dependencies', Ver:'1.1')"});var h={cloudRoleInstance:e.tags[t.keys.cloudRoleInstance],cloudRoleName:e.tags[t.keys.cloudRole],operationSynthetic:e.tags[t.keys.operationSyntheticSource],dependencySuccess:d.success,dependencyType:d.type,dependencyTarget:d.target,dependencyResultCode:d.resultCode};o.countDependency(d.duration,h)}return!0}},8592:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSamplingHashCode=t.samplingTelemetryProcessor=void 0;var r=n(94909);function i(e){var t=2147483647,n=5381;if(!e)return 0;for(;e.length<8;)e+=e;for(var r=0;r<e.length;r++)n=((n<<5)+n|0)+e.charCodeAt(r)|0;return(n=n<=-2147483648?t:Math.abs(n))/t*100}t.samplingTelemetryProcessor=function(e,t){var n=e.sampleRate;return null==n||n>=100||!(!e.data||r.TelemetryType.Metric!==r.baseTypeToTelemetryType(e.data.baseType))||(t.correlationContext&&t.correlationContext.operation?i(t.correlationContext.operation.id)<n:100*Math.random()<n)},t.getSamplingHashCode=i},64346:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(5113),t),i(n(8592),t),i(n(32154),t),i(n(66216),t)},86048:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dispose=t.Configuration=t.wrapWithCorrelationContext=t.startOperation=t.getCorrelationContext=t.start=t.setup=t.liveMetricsClient=t.defaultClient=t.DistributedTracingModes=void 0;var r,i=n(13097),o=n(43970),s=n(8025),a=n(38441),c=n(85534),l=n(43511),u=n(41860),p=n(4558),d=n(93633),h=n(24835),f=n(41102),v=n(29519),g=n(30460),m=n(66784);t.TelemetryClient=n(68668),t.Contracts=n(94909),t.azureFunctionsTypes=n(88470),function(e){e[e.AI=0]="AI",e[e.AI_AND_W3C=1]="AI_AND_W3C"}(r=t.DistributedTracingModes||(t.DistributedTracingModes={}));var y,b,_,E,S,w,P,T,C,x,I,O,R,D=function(){return!1},k=function(){return!0},A=function(){return!0},N=function(){return!0},j=function(){return!1},M=function(){return!0},L=function(){return!0},F=function(){return!0},V=function(){return!0},U=function(){return!1},H=function(){return!0},W=function(){return!1},q=function(){return!1},B=function(){return!1},$=function(){return!0}(),K=D(),G=B(),z=k(),Y=A(),X=N(),J=j(),Q=M(),Z=L(),ee=F(),te=V(),ne=U(),re=H(),ie=W(),oe=q(),se=void 0,ae=void 0,ce=void 0,le=!1;function ue(){return t.defaultClient?(le=!0,_.enable($,K),E.enable(z),S.enable(Y),w.enable(X),P.enable(J),C.enable(re,b),x.useAutoCorrelation(te,y),x.enable(Q),I.enable(Z),T.enable(ie,ce),t.liveMetricsClient&&ne&&t.liveMetricsClient.enable(ne),O.enable(oe)):f.warn("Start cannot be called before setup"),pe}t.setup=function(e){return t.defaultClient?f.info("The default client is already setup"):(t.defaultClient=new t.TelemetryClient(e),function(){$=void 0!==t.defaultClient.config.enableAutoCollectExternalLoggers?t.defaultClient.config.enableAutoCollectExternalLoggers:$,K=void 0!==t.defaultClient.config.enableAutoCollectConsole?t.defaultClient.config.enableAutoCollectConsole:K,G=void 0!==t.defaultClient.config.enableLoggerErrorToTrace?t.defaultClient.config.enableLoggerErrorToTrace:G,z=void 0!==t.defaultClient.config.enableAutoCollectExceptions?t.defaultClient.config.enableAutoCollectExceptions:z,Y=void 0!==t.defaultClient.config.enableAutoCollectPerformance?t.defaultClient.config.enableAutoCollectPerformance:Y,X=void 0!==t.defaultClient.config.enableAutoCollectPreAggregatedMetrics?t.defaultClient.config.enableAutoCollectPreAggregatedMetrics:X,J=void 0!==t.defaultClient.config.enableAutoCollectHeartbeat?t.defaultClient.config.enableAutoCollectHeartbeat:J,Q=void 0!==t.defaultClient.config.enableAutoCollectRequests?t.defaultClient.config.enableAutoCollectRequests:Q,Z=void 0!==t.defaultClient.config.enableAutoDependencyCorrelation?t.defaultClient.config.enableAutoDependencyCorrelation:Z,ee=void 0!==t.defaultClient.config.enableUseDiskRetryCaching?t.defaultClient.config.enableUseDiskRetryCaching:ee,te=void 0!==t.defaultClient.config.enableAutoDependencyCorrelation?t.defaultClient.config.enableAutoDependencyCorrelation:te,y=void 0!==t.defaultClient.config.enableUseAsyncHooks?t.defaultClient.config.enableUseAsyncHooks:y,ne=void 0!==t.defaultClient.config.enableSendLiveMetrics?t.defaultClient.config.enableSendLiveMetrics:ne,ie=!0===t.defaultClient.config.enableAutoWebSnippetInjection||ie,oe=void 0!==t.defaultClient.config.enableAutoCollectIncomingRequestAzureFunctions?t.defaultClient.config.enableAutoCollectIncomingRequestAzureFunctions:oe;var e=g.AutoCollectNativePerformance.parseEnabled(t.defaultClient.config.enableAutoCollectExtendedMetrics,t.defaultClient.config);re=e.isEnabled,b=e.disabledMetrics}(),_=new o(t.defaultClient),E=new s(t.defaultClient),S=new a(t.defaultClient),w=new c(t.defaultClient),P=new l(t.defaultClient),T=new u(t.defaultClient),x=new d(t.defaultClient),I=new p(t.defaultClient),C||(C=new g.AutoCollectNativePerformance(t.defaultClient)),O=new m.AzureFunctionsHook(t.defaultClient)),t.defaultClient&&t.defaultClient.channel&&t.defaultClient.channel.setUseDiskRetryCaching(ee,se,ae),pe},t.start=ue,t.getCorrelationContext=function(){return te?i.CorrelationContextManager.getCurrentContext():null},t.startOperation=function(e,t){return i.CorrelationContextManager.startOperation(e,t)},t.wrapWithCorrelationContext=function(e,t){return i.CorrelationContextManager.wrapCallback(e,t)};var pe=function(){function e(){}return e.setDistributedTracingMode=function(t){return h.w3cEnabled=t===r.AI_AND_W3C,e},e.setAutoCollectConsole=function(t,n){return void 0===n&&(n=!1),$=t,K=n,le&&_.enable(t,n),e},e.setAutoCollectExceptions=function(t){return z=t,le&&E.enable(t),e},e.setAutoCollectPerformance=function(n,r){void 0===r&&(r=!0),Y=n;var i=g.AutoCollectNativePerformance.parseEnabled(r,t.defaultClient.config);return re=i.isEnabled,b=i.disabledMetrics,le&&(S.enable(n),C.enable(i.isEnabled,i.disabledMetrics)),e},e.setAutoCollectPreAggregatedMetrics=function(t){return X=t,le&&w.enable(t),e},e.setAutoCollectHeartbeat=function(t){return J=t,le&&P.enable(t),e},e.enableAutoWebSnippetInjection=function(t,n){return ie=t,ce=n,le&&T.enable(t,ce),e},e.enableWebInstrumentation=function(t,n){return ie=t,ce=n,le&&T.enable(t,ce),e},e.setAutoCollectRequests=function(t){return Q=t,le&&x.enable(t),e},e.setAutoCollectDependencies=function(t){return Z=t,le&&I.enable(t),e},e.setAutoDependencyCorrelation=function(t,n){return te=t,y=n,le&&x.useAutoCorrelation(t,n),e},e.setUseDiskRetryCaching=function(n,r,i){return ee=n,se=r,ae=i,t.defaultClient&&t.defaultClient.channel&&t.defaultClient.channel.setUseDiskRetryCaching(ee,se,ae),e},e.setInternalLogging=function(t,n){return void 0===t&&(t=!1),void 0===n&&(n=!0),f.enableDebug=t,f.disableWarnings=!n,e},e.setAutoCollectIncomingRequestAzureFunctions=function(t){return oe=t,le&&O.enable(t),e},e.setSendLiveMetrics=function(n){return void 0===n&&(n=!1),t.defaultClient?(!t.liveMetricsClient&&n?(t.liveMetricsClient=new v(t.defaultClient.config,t.defaultClient.context,t.defaultClient.getAuthorizationHandler),R=new a(t.liveMetricsClient,1e3,!0),t.liveMetricsClient.addCollector(R),t.defaultClient.quickPulseClient=t.liveMetricsClient):t.liveMetricsClient&&t.liveMetricsClient.enable(n),ne=n,e):(f.warn("Live metrics client cannot be setup without the default client"),e)},e.start=ue,e}();t.Configuration=pe,t.dispose=function(){h.w3cEnabled=!0,t.defaultClient=null,le=!1,_&&_.dispose(),E&&E.dispose(),S&&S.dispose(),w&&w.dispose(),P&&P.dispose(),T&&T.dispose(),C&&C.dispose(),x&&x.dispose(),I&&I.dispose(),t.liveMetricsClient&&(t.liveMetricsClient.enable(!1),ne=!1,t.liveMetricsClient=void 0),O&&O.dispose()}},59241:(e,t,n)=>{var r=n(35317),i=n(79896),o=n(16928);e.exports=function(){if("x64"===process.arch)return"x64";if("darwin"===process.platform)return"x64";if("win32"===process.platform){var e=!1;try{e=!(!process.env.SYSTEMROOT||!i.statSync(process.env.SYSTEMROOT))}catch(e){}var t=e?process.env.SYSTEMROOT:"C:\\Windows",n=!1;try{n=!!i.statSync(o.join(t,"sysnative"))}catch(e){}return n?"x64":"x86"}return"linux"===process.platform&&"64\n"===r.execSync("getconf LONG_BIT",{encoding:"utf8"})?"x64":"x86"}},97696:(e,t,n)=>{"use strict";const r=process.binding("async_wrap"),i=r.Providers.TIMERWRAP,o={nextTick:n(43326),promise:n(83582),timers:n(9005)},s=new Set;function a(){this.enabled=!1,this.counter=0}function c(){const e=this.initFns=[],t=this.preFns=[],n=this.postFns=[],r=this.destroyFns=[];this.init=function(t,n,r,o){if(n!==i)for(const i of e)i(t,this,n,r,o);else s.add(t)},this.pre=function(e){if(!s.has(e))for(const n of t)n(e,this)},this.post=function(e,t){if(!s.has(e))for(const r of n)r(e,this,t)},this.destroy=function(e){if(s.has(e))s.delete(e);else for(const t of r)t(e)}}function l(e,t){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}function u(){this._state=new a,this._hooks=new c,this.version=n(65465).rE,this.providers=r.Providers;for(const e of Object.keys(o))o[e].call(this);process.env.hasOwnProperty("NODE_ASYNC_HOOK_WARNING")&&console.warn("warning: you are using async-hook-jl which is unstable."),r.setupHooks({init:this._hooks.init,pre:this._hooks.pre,post:this._hooks.post,destroy:this._hooks.destroy})}c.prototype.add=function(e){e.init&&this.initFns.push(e.init),e.pre&&this.preFns.push(e.pre),e.post&&this.postFns.push(e.post),e.destroy&&this.destroyFns.push(e.destroy)},c.prototype.remove=function(e){e.init&&l(this.initFns,e.init),e.pre&&l(this.preFns,e.pre),e.post&&l(this.postFns,e.post),e.destroy&&l(this.destroyFns,e.destroy)},e.exports=u,u.prototype.addHooks=function(e){this._hooks.add(e)},u.prototype.removeHooks=function(e){this._hooks.remove(e)},u.prototype.enable=function(){this._state.enabled=!0,r.enable()},u.prototype.disable=function(){this._state.enabled=!1,r.disable()}},82910:(e,t,n)=>{"use strict";const r=n(97696);if(global._asyncHook){if(global._asyncHook.version!==n(65465).rE)throw new Error("Conflicting version of async-hook-jl found");e.exports=global._asyncHook}else n(52103).filter.attach((function(e,t){return t.filter((function(e){const t=e.getFileName();return!(t&&t.slice(0,__dirname.length)===__dirname)}))})),e.exports=global._asyncHook=new r},43326:e=>{"use strict";function t(){}e.exports=function(){const e=this._hooks,n=this._state,r=process.nextTick;process.nextTick=function(){if(!n.enabled)return r.apply(process,arguments);const i=new Array(arguments.length);for(let e=0;e<arguments.length;e++)i[e]=arguments[e];const o=i[0];if("function"!=typeof o)throw new TypeError("callback is not a function");const s=new t,a=--n.counter;return e.init.call(s,a,0,null,null),i[0]=function(){e.pre.call(s,a);let t=!0;try{o.apply(this,arguments),t=!1}finally{t&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",(function(){e.post.call(s,a,!0),e.destroy.call(null,a)}))}e.post.call(s,a,!1),e.destroy.call(null,a)},r.apply(process,i)}}},83582:e=>{"use strict";function t(){}e.exports=function(){const e=this._hooks,n=this._state,r=global.Promise,i=r.prototype.then;function o(t,n,r,i){return"function"!=typeof t?i?function(t){return function(n){return e.destroy.call(null,t),n}}(r):function(t){return function(n){throw e.destroy.call(null,t),n}}(r):function(){e.pre.call(n,r);try{return t.apply(this,arguments)}finally{e.post.call(n,r,!1),e.destroy.call(null,r)}}}r.prototype.then=function(r,s){if(!n.enabled)return i.call(this,r,s);const a=new t,c=--n.counter;return e.init.call(a,c,0,null,null),i.call(this,o(r,a,c,!0),o(s,a,c,!1))}}},9005:(e,t,n)=>{"use strict";const r=n(53557);function i(){}function o(){}function s(){}const a=new Map,c=new Map,l=new Map;let u=null,p=!1;function d(e,t,n,i,o,s,a){const c=r[n],l=r[i];r[n]=function(){if(!t.enabled)return c.apply(r,arguments);const n=new Array(arguments.length);for(let e=0;e<arguments.length;e++)n[e]=arguments[e];const i=n[0];if("function"!=typeof i)throw new TypeError('"callback" argument must be a function');const l=new o,d=--t.counter;let h;return e.init.call(l,d,0,null,null),n[0]=function(){u=h,e.pre.call(l,d);let t=!0;try{i.apply(this,arguments),t=!1}finally{t&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",(function(){e.post.call(l,d,!0),s.delete(h),e.destroy.call(null,d)}))}e.post.call(l,d,!1),u=null,(a||p)&&(p=!1,s.delete(h),e.destroy.call(null,d))},h=c.apply(r,n),s.set(h,d),h},r[i]=function(t){if(u===t&&null!==t)p=!0;else if(s.has(t)){const n=s.get(t);s.delete(t),e.destroy.call(null,n)}l.apply(r,arguments)}}e.exports=function(){d(this._hooks,this._state,"setTimeout","clearTimeout",i,a,!0),d(this._hooks,this._state,"setInterval","clearInterval",o,c,!1),d(this._hooks,this._state,"setImmediate","clearImmediate",s,l,!0),global.setTimeout=r.setTimeout,global.setInterval=r.setInterval,global.setImmediate=r.setImmediate,global.clearTimeout=r.clearTimeout,global.clearInterval=r.clearInterval,global.clearImmediate=r.clearImmediate}},93360:e=>{"use strict";e.exports=(e,t)=>class extends e{constructor(e){var n,r;super((function(e,o){n=this,r=[function(n){return t(i,!1),e(n)},function(e){return t(i,!1),o(e)}]}));var i=this;try{e.apply(n,r)}catch(e){r[1](e)}return i}}},29661:(e,t,n)=>{var r,i,o=n(81132).wrap,s=1,a=2,c=4,l=8,u=[],p=0,d=!1,h=[];function f(e,t){var n=e.length,r=t.length,i=[];if(0===n&&0===r)return i;for(var o=0;o<n;o++)i[o]=e[o];if(0===r)return i;for(var s=0;s<r;s++){var a=!0;for(o=0;o<n;o++)if(e[o].uid===t[s].uid){a=!1;break}a&&i.push(t[s])}return i}if(process._fatalException){var v,g=!1;r=function(e){var t=u.length;if(g||0===t)return!1;var n=!1;g=!0;for(var r=0;r<t;++r){var i=u[r];if(i.flags&l){var o=v&&v[i.uid];n=i.error(o,e)||n}}return g=!1,h.length>0&&(u=h.pop()),v=void 0,n&&!d},i=function(e,t,n){var r=[];d=!0;for(var i=0;i<n;++i){var o=t[i];if(r[o.uid]=o.data,o.flags&s){var l=o.create(o.data);void 0!==l&&(r[o.uid]=l)}}return d=!1,function(){v=r,h.push(u),u=f(t,u),d=!0;for(var i=0;i<n;++i)(t[i].flags&a)>0&&t[i].before(this,r[t[i].uid]);d=!1;var o=e.apply(this,arguments);for(d=!0,i=0;i<n;++i)(t[i].flags&c)>0&&t[i].after(this,r[t[i].uid]);return d=!1,u=h.pop(),v=void 0,o}},o(process,"_fatalException",(function(e){return function(t){return r(t)||e(t)}}))}else{var m=!1;r=function(e){if(m)throw e;for(var t=!1,n=u.length,r=0;r<n;++r){var i=u[r];i.flags&l&&(t=i.error(null,e)||t)}if(!t&&d)throw e},i=function(e,t,n){var i=[];d=!0;for(var o=0;o<n;++o){var p=t[o];if(i[p.uid]=p.data,p.flags&s){var v=p.create(p.data);void 0!==v&&(i[p.uid]=v)}}return d=!1,function(){var o,s=!1,p=!1;h.push(u),u=f(t,u),d=!0;for(var v=0;v<n;++v)(t[v].flags&a)>0&&t[v].before(this,i[t[v].uid]);d=!1;try{o=e.apply(this,arguments)}catch(e){for(s=!0,v=0;v<n;++v)if(u[v].flags&l)try{p=u[v].error(i[t[v].uid],e)||p}catch(e){throw m=!0,e}if(!p)throw process.removeListener("uncaughtException",r),process._originalNextTick((function(){process.addListener("uncaughtException",r)})),e}finally{if(!s||p){for(d=!0,v=0;v<n;++v)(t[v].flags&c)>0&&t[v].after(this,i[t[v].uid]);d=!1}u=h.pop()}return o}},process.addListener("uncaughtException",r)}function y(e,t){"function"==typeof e.create&&(this.create=e.create,this.flags|=s),"function"==typeof e.before&&(this.before=e.before,this.flags|=a),"function"==typeof e.after&&(this.after=e.after,this.flags|=c),"function"==typeof e.error&&(this.error=e.error,this.flags|=l),this.uid=++p,this.data=void 0===t?null:t}function b(e,t){if("object"!=typeof e||!e)throw new TypeError("callbacks argument must be an object");return e instanceof y?e:new y(e,t)}y.prototype.create=void 0,y.prototype.before=void 0,y.prototype.after=void 0,y.prototype.error=void 0,y.prototype.data=void 0,y.prototype.uid=0,y.prototype.flags=0,process.createAsyncListener=b,process.addAsyncListener=function(e,t){var n;n=e instanceof y?e:b(e,t);for(var r=!1,i=0;i<u.length;i++)if(n===u[i]){r=!0;break}return r||u.push(n),n},process.removeAsyncListener=function(e){for(var t=0;t<u.length;t++)if(e===u[t]){u.splice(t,1);break}},e.exports=function(e){var t=u.length;if(0===t)return e;for(var n=u.slice(),r=0;r<t;++r)if(n[r].flags>0)return i(e,n,t);return function(e,t,n){d=!0;for(var r=0;r<n;++r){var i=t[r];i.create&&i.create(i.data)}return d=!1,function(){h.push(u),u=f(t,u);var n=e.apply(this,arguments);return u=h.pop(),n}}(e,n,t)}},14518:(e,t,n)=>{"use strict";if(process.addAsyncListener)throw new Error("Don't require polyfill unless needed");var r=n(81132),i=n(32520),o=r.wrap,s=r.massWrap,a=n(29661),c=n(39023),l=i.gte(process.version,"6.0.0"),u=i.gte(process.version,"7.0.0"),p=i.gte(process.version,"8.0.0"),d=i.gte(process.version,"11.0.0"),h=n(69278);function f(e){return function(){this.on("connection",(function(e){e._handle&&(e._handle.onread=a(e._handle.onread))}));try{return e.apply(this,arguments)}finally{this._handle&&this._handle.onconnection&&(this._handle.onconnection=a(this._handle.onconnection))}}}function v(e){if(e&&e._handle){var t=e._handle;t._originalOnread||(t._originalOnread=t.onread),t.onread=a(t._originalOnread)}}u&&!h._normalizeArgs?h._normalizeArgs=function(e){if(0===e.length)return[{},null];var t,n,r=e[0],i={};"object"==typeof r&&null!==r?i=r:"string"==typeof(t=r)&&!1===(n=t,(n=Number(n))>=0&&n)?i.path=r:(i.port=r,e.length>1&&"string"==typeof e[1]&&(i.host=e[1]));var o=e[e.length-1];return"function"!=typeof o?[i,null]:[i,o]}:u||h._normalizeConnectArgs||(h._normalizeConnectArgs=function(e){var t,n={};"object"==typeof e[0]&&null!==e[0]?n=e[0]:"string"==typeof e[0]&&!1===(t=e[0],(t=Number(t))>=0&&t)?n.path=e[0]:(n.port=e[0],"string"==typeof e[1]&&(n.host=e[1]));var r=e[e.length-1];return"function"==typeof r?[n,r]:[n]}),"_setUpListenHandle"in h.Server.prototype?o(h.Server.prototype,"_setUpListenHandle",f):o(h.Server.prototype,"_listen2",f),o(h.Socket.prototype,"connect",(function(e){return function(){var t;(t=p&&Array.isArray(arguments[0])&&Object.getOwnPropertySymbols(arguments[0]).length>0?arguments[0]:u?h._normalizeArgs(arguments):h._normalizeConnectArgs(arguments))[1]&&(t[1]=a(t[1]));var n=e.apply(this,t);return v(this),n}}));var g=n(58611);o(g.Agent.prototype,"addRequest",(function(e){return function(t){var n=t.onSocket;return t.onSocket=a((function(e){return v(e),n.apply(this,arguments)})),e.apply(this,arguments)}}));var m=n(35317);function y(e){Array.isArray(e.stdio)&&e.stdio.forEach((function(e){e&&e._handle&&(e._handle.onread=a(e._handle.onread),o(e._handle,"close",k))})),e._handle&&(e._handle.onexit=a(e._handle.onexit))}m.ChildProcess?o(m.ChildProcess.prototype,"spawn",(function(e){return function(){var t=e.apply(this,arguments);return y(this),t}})):s(m,["execFile","fork","spawn"],(function(e){return function(){var t=e.apply(this,arguments);return y(t),t}})),process._fatalException||(process._originalNextTick=process.nextTick);var b=[];process._nextDomainTick&&b.push("_nextDomainTick"),process._tickDomainCallback&&b.push("_tickDomainCallback"),s(process,b,D),o(process,"nextTick",k);var _=["setTimeout","setInterval"];global.setImmediate&&_.push("setImmediate");var E=n(53557),S=global.setTimeout===E.setTimeout;s(E,_,k),S&&s(global,_,k);var w=n(72250);s(w,["lookup","resolve","resolve4","resolve6","resolveCname","resolveMx","resolveNs","resolveTxt","resolveSrv","reverse"],D),w.resolveNaptr&&o(w,"resolveNaptr",D);var P,T,C=n(79896);s(C,["watch","rename","truncate","chown","fchown","chmod","fchmod","stat","lstat","fstat","link","symlink","readlink","realpath","unlink","rmdir","mkdir","readdir","close","open","utimes","futimes","fsync","write","read","readFile","writeFile","appendFile","watchFile","unwatchFile","exists"],D),C.lchown&&o(C,"lchown",D),C.lchmod&&o(C,"lchmod",D),C.ftruncate&&o(C,"ftruncate",D);try{P=n(43106)}catch(e){}if(P&&P.Deflate&&P.Deflate.prototype){var x=Object.getPrototypeOf(P.Deflate.prototype);x._transform?o(x,"_transform",D):x.write&&x.flush&&x.end&&s(x,["write","flush","end"],D)}try{T=n(76982)}catch(e){}if(T){var I=["pbkdf2","randomBytes"];d||I.push("pseudoRandomBytes"),s(T,I,D)}var O=!!global.Promise&&"function Promise() { [native code] }"===Promise.toString()&&"function toString() { [native code] }"===Promise.toString.toString();if(O){var R=process.addAsyncListener({create:function(){O=!1}});global.Promise.resolve(!0).then((function(){O=!1})),process.removeAsyncListener(R)}function D(e){var t=function(){var t,n=arguments.length-1;if("function"==typeof arguments[n]){t=Array(arguments.length);for(var r=0;r<arguments.length-1;r++)t[r]=arguments[r];t[n]=a(arguments[n])}return e.apply(this,t||arguments)};switch(e.length){case 1:return function(n){return 1!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=a(n)),e.call(this,n))};case 2:return function(n,r){return 2!==arguments.length?t.apply(this,arguments):("function"==typeof r&&(r=a(r)),e.call(this,n,r))};case 3:return function(n,r,i){return 3!==arguments.length?t.apply(this,arguments):("function"==typeof i&&(i=a(i)),e.call(this,n,r,i))};case 4:return function(n,r,i,o){return 4!==arguments.length?t.apply(this,arguments):("function"==typeof o&&(o=a(o)),e.call(this,n,r,i,o))};case 5:return function(n,r,i,o,s){return 5!==arguments.length?t.apply(this,arguments):("function"==typeof s&&(s=a(s)),e.call(this,n,r,i,o,s))};case 6:return function(n,r,i,o,s,c){return 6!==arguments.length?t.apply(this,arguments):("function"==typeof c&&(c=a(c)),e.call(this,n,r,i,o,s,c))};default:return t}}function k(e){var t=function(){var t;if("function"==typeof arguments[0]){(t=Array(arguments.length))[0]=a(arguments[0]);for(var n=1;n<arguments.length;n++)t[n]=arguments[n]}return e.apply(this,t||arguments)};switch(e.length){case 1:return function(n){return 1!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=a(n)),e.call(this,n))};case 2:return function(n,r){return 2!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=a(n)),e.call(this,n,r))};case 3:return function(n,r,i){return 3!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=a(n)),e.call(this,n,r,i))};case 4:return function(n,r,i,o){return 4!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=a(n)),e.call(this,n,r,i,o))};case 5:return function(n,r,i,o,s){return 5!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=a(n)),e.call(this,n,r,i,o,s))};case 6:return function(n,r,i,o,s,c){return 6!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=a(n)),e.call(this,n,r,i,o,s,c))};default:return t}}O&&function(){var e=global.Promise;function t(n){if(!(this instanceof t))return e(n);if("function"!=typeof n)return new e(n);var i,o,s=new e((function(e,t){i=this,o=[function(t){return r(s,!1),e(t)},function(e){return r(s,!1),t(e)}]}));s.__proto__=t.prototype;try{n.apply(i,o)}catch(e){o[1](e)}return s}function r(e,t){e.__asl_wrapper&&!t||(e.__asl_wrapper=a(i))}function i(t,n,o,s){var a;try{return{returnVal:a=n.call(t,o),error:!1}}catch(e){return{errorVal:e,error:!0}}finally{a instanceof e?s.__asl_wrapper=function(){return(a.__asl_wrapper||i).apply(this,arguments)}:r(s,!0)}}function s(e){return function(){var t=this,n=e.apply(t,Array.prototype.map.call(arguments,(function(e){return"function"!=typeof e?e:a((function(r){var o=(t.__asl_wrapper||i)(this,e,r,n);if(o.error)throw o.errorVal;return o.returnVal}))})));return n.__asl_wrapper=function(e,r,o,s){return t.__asl_wrapper?(t.__asl_wrapper(e,(function(){}),null,n),n.__asl_wrapper(e,r,o,s)):i(e,r,o,s)},n}}c.inherits(t,e),o(e.prototype,"then",s),e.prototype.chain&&o(e.prototype,"chain",s),l?global.Promise=n(93360)(e,r):(["all","race","reject","resolve","accept","defer"].forEach((function(n){"function"==typeof e[n]&&(t[n]=e[n])})),global.Promise=t)}()},32520:(e,t)=>{var n;t=e.exports=Q,n="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var r=256,i=Number.MAX_SAFE_INTEGER||9007199254740991,o=r-6,s=t.re=[],a=t.safeRe=[],c=t.src=[],l=0,u="[a-zA-Z0-9-]",p=[["\\s",1],["\\d",r],[u,o]];function d(e){for(var t=0;t<p.length;t++){var n=p[t][0],r=p[t][1];e=e.split(n+"*").join(n+"{0,"+r+"}").split(n+"+").join(n+"{1,"+r+"}")}return e}var h=l++;c[h]="0|[1-9]\\d*";var f=l++;c[f]="\\d+";var v=l++;c[v]="\\d*[a-zA-Z-]"+u+"*";var g=l++;c[g]="("+c[h]+")\\.("+c[h]+")\\.("+c[h]+")";var m=l++;c[m]="("+c[f]+")\\.("+c[f]+")\\.("+c[f]+")";var y=l++;c[y]="(?:"+c[h]+"|"+c[v]+")";var b=l++;c[b]="(?:"+c[f]+"|"+c[v]+")";var _=l++;c[_]="(?:-("+c[y]+"(?:\\."+c[y]+")*))";var E=l++;c[E]="(?:-?("+c[b]+"(?:\\."+c[b]+")*))";var S=l++;c[S]=u+"+";var w=l++;c[w]="(?:\\+("+c[S]+"(?:\\."+c[S]+")*))";var P=l++,T="v?"+c[g]+c[_]+"?"+c[w]+"?";c[P]="^"+T+"$";var C="[v=\\s]*"+c[m]+c[E]+"?"+c[w]+"?",x=l++;c[x]="^"+C+"$";var I=l++;c[I]="((?:<|>)?=?)";var O=l++;c[O]=c[f]+"|x|X|\\*";var R=l++;c[R]=c[h]+"|x|X|\\*";var D=l++;c[D]="[v=\\s]*("+c[R]+")(?:\\.("+c[R]+")(?:\\.("+c[R]+")(?:"+c[_]+")?"+c[w]+"?)?)?";var k=l++;c[k]="[v=\\s]*("+c[O]+")(?:\\.("+c[O]+")(?:\\.("+c[O]+")(?:"+c[E]+")?"+c[w]+"?)?)?";var A=l++;c[A]="^"+c[I]+"\\s*"+c[D]+"$";var N=l++;c[N]="^"+c[I]+"\\s*"+c[k]+"$";var j=l++;c[j]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var M=l++;c[M]="(?:~>?)";var L=l++;c[L]="(\\s*)"+c[M]+"\\s+",s[L]=new RegExp(c[L],"g"),a[L]=new RegExp(d(c[L]),"g");var F=l++;c[F]="^"+c[M]+c[D]+"$";var V=l++;c[V]="^"+c[M]+c[k]+"$";var U=l++;c[U]="(?:\\^)";var H=l++;c[H]="(\\s*)"+c[U]+"\\s+",s[H]=new RegExp(c[H],"g"),a[H]=new RegExp(d(c[H]),"g");var W=l++;c[W]="^"+c[U]+c[D]+"$";var q=l++;c[q]="^"+c[U]+c[k]+"$";var B=l++;c[B]="^"+c[I]+"\\s*("+C+")$|^$";var $=l++;c[$]="^"+c[I]+"\\s*("+T+")$|^$";var K=l++;c[K]="(\\s*)"+c[I]+"\\s*("+C+"|"+c[D]+")",s[K]=new RegExp(c[K],"g"),a[K]=new RegExp(d(c[K]),"g");var G=l++;c[G]="^\\s*("+c[D]+")\\s+-\\s+("+c[D]+")\\s*$";var z=l++;c[z]="^\\s*("+c[k]+")\\s+-\\s+("+c[k]+")\\s*$";var Y=l++;c[Y]="(<|>)?=?\\s*\\*";for(var X=0;X<35;X++)n(X,c[X]),s[X]||(s[X]=new RegExp(c[X]),a[X]=new RegExp(d(c[X])));function J(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof Q)return e;if("string"!=typeof e)return null;if(e.length>r)return null;if(!(t.loose?a[x]:a[P]).test(e))return null;try{return new Q(e,t)}catch(e){return null}}function Q(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof Q){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>r)throw new TypeError("version is longer than "+r+" characters");if(!(this instanceof Q))return new Q(e,t);n("SemVer",e,t),this.options=t,this.loose=!!t.loose;var o=e.trim().match(t.loose?a[x]:a[P]);if(!o)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+o[1],this.minor=+o[2],this.patch=+o[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");o[4]?this.prerelease=o[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<i)return t}return e})):this.prerelease=[],this.build=o[5]?o[5].split("."):[],this.format()}t.parse=J,t.valid=function(e,t){var n=J(e,t);return n?n.version:null},t.clean=function(e,t){var n=J(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null},t.SemVer=Q,Q.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},Q.prototype.toString=function(){return this.version},Q.prototype.compare=function(e){return n("SemVer.compare",this.version,this.options,e),e instanceof Q||(e=new Q(e,this.options)),this.compareMain(e)||this.comparePre(e)},Q.prototype.compareMain=function(e){return e instanceof Q||(e=new Q(e,this.options)),ee(this.major,e.major)||ee(this.minor,e.minor)||ee(this.patch,e.patch)},Q.prototype.comparePre=function(e){if(e instanceof Q||(e=new Q(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],i=e.prerelease[t];if(n("prerelease compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return ee(r,i)}while(++t)},Q.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,n,r){"string"==typeof n&&(r=n,n=void 0);try{return new Q(e,n).inc(t,r).version}catch(e){return null}},t.diff=function(e,t){if(ie(e,t))return null;var n=J(e),r=J(t),i="";if(n.prerelease.length||r.prerelease.length){i="pre";var o="prerelease"}for(var s in n)if(("major"===s||"minor"===s||"patch"===s)&&n[s]!==r[s])return i+s;return o},t.compareIdentifiers=ee;var Z=/^[0-9]+$/;function ee(e,t){var n=Z.test(e),r=Z.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1}function te(e,t,n){return new Q(e,n).compare(new Q(t,n))}function ne(e,t,n){return te(e,t,n)>0}function re(e,t,n){return te(e,t,n)<0}function ie(e,t,n){return 0===te(e,t,n)}function oe(e,t,n){return 0!==te(e,t,n)}function se(e,t,n){return te(e,t,n)>=0}function ae(e,t,n){return te(e,t,n)<=0}function ce(e,t,n,r){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return ie(e,n,r);case"!=":return oe(e,n,r);case">":return ne(e,n,r);case">=":return se(e,n,r);case"<":return re(e,n,r);case"<=":return ae(e,n,r);default:throw new TypeError("Invalid operator: "+t)}}function le(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof le){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof le))return new le(e,t);e=e.trim().split(/\s+/).join(" "),n("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===ue?this.value="":this.value=this.operator+this.semver.version,n("comp",this)}t.rcompareIdentifiers=function(e,t){return ee(t,e)},t.major=function(e,t){return new Q(e,t).major},t.minor=function(e,t){return new Q(e,t).minor},t.patch=function(e,t){return new Q(e,t).patch},t.compare=te,t.compareLoose=function(e,t){return te(e,t,!0)},t.rcompare=function(e,t,n){return te(t,e,n)},t.sort=function(e,n){return e.sort((function(e,r){return t.compare(e,r,n)}))},t.rsort=function(e,n){return e.sort((function(e,r){return t.rcompare(e,r,n)}))},t.gt=ne,t.lt=re,t.eq=ie,t.neq=oe,t.gte=se,t.lte=ae,t.cmp=ce,t.Comparator=le;var ue={};function pe(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof pe)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new pe(e.raw,t);if(e instanceof le)return new pe(e.value,t);if(!(this instanceof pe))return new pe(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+this.raw);this.format()}function de(e){return!e||"x"===e.toLowerCase()||"*"===e}function he(e,t,n,r,i,o,s,a,c,l,u,p,d){return((t=de(n)?"":de(r)?">="+n+".0.0":de(i)?">="+n+"."+r+".0":">="+t)+" "+(a=de(c)?"":de(l)?"<"+(+c+1)+".0.0":de(u)?"<"+c+"."+(+l+1)+".0":p?"<="+c+"."+l+"."+u+"-"+p:"<="+a)).trim()}function fe(e,t,r){for(var i=0;i<e.length;i++)if(!e[i].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(i=0;i<e.length;i++)if(n(e[i].semver),e[i].semver!==ue&&e[i].semver.prerelease.length>0){var o=e[i].semver;if(o.major===t.major&&o.minor===t.minor&&o.patch===t.patch)return!0}return!1}return!0}function ve(e,t,n){try{t=new pe(t,n)}catch(e){return!1}return t.test(e)}function ge(e,t,n,r){var i,o,s,a,c;switch(e=new Q(e,r),t=new pe(t,r),n){case">":i=ne,o=ae,s=re,a=">",c=">=";break;case"<":i=re,o=se,s=ne,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ve(e,t,r))return!1;for(var l=0;l<t.set.length;++l){var u=t.set[l],p=null,d=null;if(u.forEach((function(e){e.semver===ue&&(e=new le(">=0.0.0")),p=p||e,d=d||e,i(e.semver,p.semver,r)?p=e:s(e.semver,d.semver,r)&&(d=e)})),p.operator===a||p.operator===c)return!1;if((!d.operator||d.operator===a)&&o(e,d.semver))return!1;if(d.operator===c&&s(e,d.semver))return!1}return!0}le.prototype.parse=function(e){var t=this.options.loose?a[B]:a[$],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=n[1],"="===this.operator&&(this.operator=""),n[2]?this.semver=new Q(n[2],this.options.loose):this.semver=ue},le.prototype.toString=function(){return this.value},le.prototype.test=function(e){return n("Comparator.test",e,this.options.loose),this.semver===ue||("string"==typeof e&&(e=new Q(e,this.options)),ce(e,this.operator,this.semver,this.options))},le.prototype.intersects=function(e,t){if(!(e instanceof le))throw new TypeError("a Comparator is required");var n;if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return n=new pe(e.value,t),ve(this.value,n,t);if(""===e.operator)return n=new pe(this.value,t),ve(e.semver,n,t);var r=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),o=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=ce(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=ce(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||i||o&&s||a||c},t.Range=pe,pe.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},pe.prototype.toString=function(){return this.range},pe.prototype.parseRange=function(e){var t=this.options.loose,r=t?a[z]:a[G];e=e.replace(r,he),n("hyphen replace",e),e=e.replace(a[K],"$1$2$3"),n("comparator trim",e,a[K]),e=(e=e.replace(a[L],"$1~")).replace(a[H],"$1^");var i=t?a[B]:a[$],o=e.split(" ").map((function(e){return function(e,t){return n("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){n("caret",e,t);var r=t.loose?a[q]:a[W];return e.replace(r,(function(t,r,i,o,s){var a;return n("caret",e,t,r,i,o,s),de(r)?a="":de(i)?a=">="+r+".0.0 <"+(+r+1)+".0.0":de(o)?a="0"===r?">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":">="+r+"."+i+".0 <"+(+r+1)+".0.0":s?(n("replaceCaret pr",s),a="0"===r?"0"===i?">="+r+"."+i+"."+o+"-"+s+" <"+r+"."+i+"."+(+o+1):">="+r+"."+i+"."+o+"-"+s+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+o+"-"+s+" <"+(+r+1)+".0.0"):(n("no pr"),a="0"===r?"0"===i?">="+r+"."+i+"."+o+" <"+r+"."+i+"."+(+o+1):">="+r+"."+i+"."+o+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+o+" <"+(+r+1)+".0.0"),n("caret return",a),a}))}(e,t)})).join(" ")}(e,t),n("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var r=t.loose?a[V]:a[F];return e.replace(r,(function(t,r,i,o,s){var a;return n("tilde",e,t,r,i,o,s),de(r)?a="":de(i)?a=">="+r+".0.0 <"+(+r+1)+".0.0":de(o)?a=">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":s?(n("replaceTilde pr",s),a=">="+r+"."+i+"."+o+"-"+s+" <"+r+"."+(+i+1)+".0"):a=">="+r+"."+i+"."+o+" <"+r+"."+(+i+1)+".0",n("tilde return",a),a}))}(e,t)})).join(" ")}(e,t),n("tildes",e),e=function(e,t){return n("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var r=t.loose?a[N]:a[A];return e.replace(r,(function(t,r,i,o,s,a){n("xRange",e,t,r,i,o,s,a);var c=de(i),l=c||de(o),u=l||de(s);return"="===r&&u&&(r=""),c?t=">"===r||"<"===r?"<0.0.0":"*":r&&u?(l&&(o=0),s=0,">"===r?(r=">=",l?(i=+i+1,o=0,s=0):(o=+o+1,s=0)):"<="===r&&(r="<",l?i=+i+1:o=+o+1),t=r+i+"."+o+"."+s):l?t=">="+i+".0.0 <"+(+i+1)+".0.0":u&&(t=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0"),n("xRange return",t),t}))}(e,t)})).join(" ")}(e,t),n("xrange",e),e=function(e,t){return n("replaceStars",e,t),e.trim().replace(a[Y],"")}(e,t),n("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(o=o.filter((function(e){return!!e.match(i)}))),o.map((function(e){return new le(e,this.options)}),this)},pe.prototype.intersects=function(e,t){if(!(e instanceof pe))throw new TypeError("a Range is required");return this.set.some((function(n){return n.every((function(n){return e.set.some((function(e){return e.every((function(e){return n.intersects(e,t)}))}))}))}))},t.toComparators=function(e,t){return new pe(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},pe.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new Q(e,this.options));for(var t=0;t<this.set.length;t++)if(fe(this.set[t],e,this.options))return!0;return!1},t.satisfies=ve,t.maxSatisfying=function(e,t,n){var r=null,i=null;try{var o=new pe(t,n)}catch(e){return null}return e.forEach((function(e){o.test(e)&&(r&&-1!==i.compare(e)||(i=new Q(r=e,n)))})),r},t.minSatisfying=function(e,t,n){var r=null,i=null;try{var o=new pe(t,n)}catch(e){return null}return e.forEach((function(e){o.test(e)&&(r&&1!==i.compare(e)||(i=new Q(r=e,n)))})),r},t.minVersion=function(e,t){e=new pe(e,t);var n=new Q("0.0.0");if(e.test(n))return n;if(n=new Q("0.0.0-0"),e.test(n))return n;n=null;for(var r=0;r<e.set.length;++r)e.set[r].forEach((function(e){var t=new Q(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":n&&!ne(n,t)||(n=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}));return n&&e.test(n)?n:null},t.validRange=function(e,t){try{return new pe(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,n){return ge(e,t,"<",n)},t.gtr=function(e,t,n){return ge(e,t,">",n)},t.outside=ge,t.prerelease=function(e,t){var n=J(e,t);return n&&n.prerelease.length?n.prerelease:null},t.intersects=function(e,t,n){return e=new pe(e,n),t=new pe(t,n),e.intersects(t)},t.coerce=function(e){if(e instanceof Q)return e;if("string"!=typeof e)return null;var t=e.match(a[j]);return null==t?null:J(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}},21873:(e,t,n)=>{e.exports={parallel:n(18798),serial:n(52081),serialOrdered:n(90028)}},74555:e=>{function t(e){"function"==typeof this.jobs[e]&&this.jobs[e]()}e.exports=function(e){Object.keys(e.jobs).forEach(t.bind(e)),e.jobs={}}},72313:(e,t,n)=>{var r=n(70405);e.exports=function(e){var t=!1;return r((function(){t=!0})),function(n,i){t?e(n,i):r((function(){e(n,i)}))}}},70405:e=>{e.exports=function(e){var t="function"==typeof setImmediate?setImmediate:"object"==typeof process&&"function"==typeof process.nextTick?process.nextTick:null;t?t(e):setTimeout(e,0)}},78051:(e,t,n)=>{var r=n(72313),i=n(74555);e.exports=function(e,t,n,o){var s=n.keyedList?n.keyedList[n.index]:n.index;n.jobs[s]=function(e,t,n,i){return 2==e.length?e(n,r(i)):e(n,t,r(i))}(t,s,e[s],(function(e,t){s in n.jobs&&(delete n.jobs[s],e?i(n):n.results[s]=t,o(e,n.results))}))}},19500:e=>{e.exports=function(e,t){var n=!Array.isArray(e),r={index:0,keyedList:n||t?Object.keys(e):null,jobs:{},results:n?{}:[],size:n?Object.keys(e).length:e.length};return t&&r.keyedList.sort(n?t:function(n,r){return t(e[n],e[r])}),r}},26276:(e,t,n)=>{var r=n(74555),i=n(72313);e.exports=function(e){Object.keys(this.jobs).length&&(this.index=this.size,r(this),i(e)(null,this.results))}},18798:(e,t,n)=>{var r=n(78051),i=n(19500),o=n(26276);e.exports=function(e,t,n){for(var s=i(e);s.index<(s.keyedList||e).length;)r(e,t,s,(function(e,t){e?n(e,t):0!==Object.keys(s.jobs).length||n(null,s.results)})),s.index++;return o.bind(s,n)}},52081:(e,t,n)=>{var r=n(90028);e.exports=function(e,t,n){return r(e,t,null,n)}},90028:(e,t,n)=>{var r=n(78051),i=n(19500),o=n(26276);function s(e,t){return e<t?-1:e>t?1:0}e.exports=function(e,t,n,s){var a=i(e,n);return r(e,t,a,(function n(i,o){i?s(i,o):(a.index++,a.index<(a.keyedList||e).length?r(e,t,a,n):s(null,a.results))})),o.bind(a,s)},e.exports.ascending=s,e.exports.descending=function(e,t){return-1*s(e,t)}},8505:e=>{"use strict";function t(e,t,i){e instanceof RegExp&&(e=n(e,i)),t instanceof RegExp&&(t=n(t,i));var o=r(e,t,i);return o&&{start:o[0],end:o[1],pre:i.slice(0,o[0]),body:i.slice(o[0]+e.length,o[1]),post:i.slice(o[1]+t.length)}}function n(e,t){var n=t.match(e);return n?n[0]:null}function r(e,t,n){var r,i,o,s,a,c=n.indexOf(e),l=n.indexOf(t,c+1),u=c;if(c>=0&&l>0){for(r=[],o=n.length;u>=0&&!a;)u==c?(r.push(u),c=n.indexOf(e,u+1)):1==r.length?a=[r.pop(),l]:((i=r.pop())<o&&(o=i,s=l),l=n.indexOf(t,u+1)),u=c<l&&c>=0?c:l;r.length&&(a=[o,s])}return a}e.exports=t,t.range=r},68928:(e,t,n)=>{var r=n(49818),i=n(8505);e.exports=function(e){return e?("{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2)),m(function(e){return e.split("\\\\").join(o).split("\\{").join(s).split("\\}").join(a).split("\\,").join(c).split("\\.").join(l)}(e),!0).map(p)):[]};var o="\0SLASH"+Math.random()+"\0",s="\0OPEN"+Math.random()+"\0",a="\0CLOSE"+Math.random()+"\0",c="\0COMMA"+Math.random()+"\0",l="\0PERIOD"+Math.random()+"\0";function u(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function p(e){return e.split(o).join("\\").split(s).join("{").split(a).join("}").split(c).join(",").split(l).join(".")}function d(e){if(!e)return[""];var t=[],n=i("{","}",e);if(!n)return e.split(",");var r=n.pre,o=n.body,s=n.post,a=r.split(",");a[a.length-1]+="{"+o+"}";var c=d(s);return s.length&&(a[a.length-1]+=c.shift(),a.push.apply(a,c)),t.push.apply(t,a),t}function h(e){return"{"+e+"}"}function f(e){return/^-?0\d/.test(e)}function v(e,t){return e<=t}function g(e,t){return e>=t}function m(e,t){var n=[],o=i("{","}",e);if(!o||/\$$/.test(o.pre))return[e];var s,c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(o.body),l=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(o.body),p=c||l,y=o.body.indexOf(",")>=0;if(!p&&!y)return o.post.match(/,.*\}/)?m(e=o.pre+"{"+o.body+a+o.post):[e];if(p)s=o.body.split(/\.\./);else if(1===(s=d(o.body)).length&&1===(s=m(s[0],!1).map(h)).length)return(E=o.post.length?m(o.post,!1):[""]).map((function(e){return o.pre+s[0]+e}));var b,_=o.pre,E=o.post.length?m(o.post,!1):[""];if(p){var S=u(s[0]),w=u(s[1]),P=Math.max(s[0].length,s[1].length),T=3==s.length?Math.abs(u(s[2])):1,C=v;w<S&&(T*=-1,C=g);var x=s.some(f);b=[];for(var I=S;C(I,w);I+=T){var O;if(l)"\\"===(O=String.fromCharCode(I))&&(O="");else if(O=String(I),x){var R=P-O.length;if(R>0){var D=new Array(R+1).join("0");O=I<0?"-"+D+O.slice(1):D+O}}b.push(O)}}else b=r(s,(function(e){return m(e,!1)}));for(var k=0;k<b.length;k++)for(var A=0;A<E.length;A++){var N=_+b[k]+E[A];(!t||p||N)&&n.push(N)}return n}},35415:(e,t,n)=>{"use strict";const r=n(39023),i=n(42613),o=n(98482),s=n(82910),a="cls@contexts",c="error@context",l=[];for(let e in s.providers)l[s.providers[e]]=e;const u=process.env.DEBUG_CLS_HOOKED;let p=-1;function d(e){this.name=e,this.active=null,this._set=[],this.id=null,this._contexts=new Map}function h(e){return process.namespaces[e]}function f(e){let t=h(e);i.ok(t,"can't delete nonexistent namespace! \""+e+'"'),i.ok(t.id,"don't assign to process.namespaces directly! "+r.inspect(t)),process.namespaces[e]=null}function v(e){process.env.DEBUG&&process._rawDebug(e)}function g(e){return e?"function"==typeof e?e.name?e.name:(e.toString().trim().match(/^function\s*([^\s(]+)/)||[])[1]:e.constructor&&e.constructor.name?e.constructor.name:void 0:e}if(e.exports={getNamespace:h,createNamespace:function(e){i.ok(e,"namespace must be given a name."),u&&v("CREATING NAMESPACE "+e);let t=new d(e);return t.id=p,s.addHooks({init(n,i,o,s,a){p=n,s?(t._contexts.set(n,t._contexts.get(s)),u&&v("PARENTID: "+e+" uid:"+n+" parent:"+s+" provider:"+o)):t._contexts.set(p,t.active),u&&v("INIT "+e+" uid:"+n+" parent:"+s+" provider:"+l[o]+" active:"+r.inspect(t.active,!0))},pre(n,i){p=n;let o=t._contexts.get(n);o?(u&&v(" PRE "+e+" uid:"+n+" handle:"+g(i)+" context:"+r.inspect(o)),t.enter(o)):u&&v(" PRE MISSING CONTEXT "+e+" uid:"+n+" handle:"+g(i))},post(n,i){p=n;let o=t._contexts.get(n);o?(u&&v(" POST "+e+" uid:"+n+" handle:"+g(i)+" context:"+r.inspect(o)),t.exit(o)):u&&v(" POST MISSING CONTEXT "+e+" uid:"+n+" handle:"+g(i))},destroy(n){p=n,u&&v("DESTROY "+e+" uid:"+n+" context:"+r.inspect(t._contexts.get(p))+" active:"+r.inspect(t.active,!0)),t._contexts.delete(n)}}),process.namespaces[e]=t,t},destroyNamespace:f,reset:function(){process.namespaces&&Object.keys(process.namespaces).forEach((function(e){f(e)})),process.namespaces=Object.create(null)},ERROR_SYMBOL:c},d.prototype.set=function(e,t){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return u&&v("    SETTING KEY:"+e+"="+t+" in ns:"+this.name+" uid:"+p+" active:"+r.inspect(this.active,!0)),this.active[e]=t,t},d.prototype.get=function(e){if(this.active)return u&&v("    GETTING KEY:"+e+"="+this.active[e]+" "+this.name+" uid:"+p+" active:"+r.inspect(this.active,!0)),this.active[e];u&&v("    GETTING KEY:"+e+"=undefined "+this.name+" uid:"+p+" active:"+r.inspect(this.active,!0))},d.prototype.createContext=function(){u&&v("   CREATING Context: "+this.name+" uid:"+p+" len:"+this._set.length+"  active:"+r.inspect(this.active,!0,2,!0));let e=Object.create(this.active?this.active:Object.prototype);return e._ns_name=this.name,e.id=p,u&&v("   CREATED Context: "+this.name+" uid:"+p+" len:"+this._set.length+"  context:"+r.inspect(e,!0,2,!0)),e},d.prototype.run=function(e){let t=this.createContext();this.enter(t);try{return u&&v(" BEFORE RUN: "+this.name+" uid:"+p+" len:"+this._set.length+" "+r.inspect(t)),e(t),t}catch(e){throw e&&(e[c]=t),e}finally{u&&v(" AFTER RUN: "+this.name+" uid:"+p+" len:"+this._set.length+" "+r.inspect(t)),this.exit(t)}},d.prototype.runAndReturn=function(e){var t;return this.run((function(n){t=e(n)})),t},d.prototype.runPromise=function(e){let t=this.createContext();this.enter(t);let n=e(t);if(!n||!n.then||!n.catch)throw new Error("fn must return a promise.");return u&&v(" BEFORE runPromise: "+this.name+" uid:"+p+" len:"+this._set.length+" "+r.inspect(t)),n.then((e=>(u&&v(" AFTER runPromise: "+this.name+" uid:"+p+" len:"+this._set.length+" "+r.inspect(t)),this.exit(t),e))).catch((e=>{throw e[c]=t,u&&v(" AFTER runPromise: "+this.name+" uid:"+p+" len:"+this._set.length+" "+r.inspect(t)),this.exit(t),e}))},d.prototype.bind=function(e,t){t||(t=this.active?this.active:this.createContext());let n=this;return function(){n.enter(t);try{return e.apply(this,arguments)}catch(e){throw e&&(e[c]=t),e}finally{n.exit(t)}}},d.prototype.enter=function(e){i.ok(e,"context must be provided for entering"),u&&v("  ENTER "+this.name+" uid:"+p+" len:"+this._set.length+" context: "+r.inspect(e)),this._set.push(this.active),this.active=e},d.prototype.exit=function(e){if(i.ok(e,"context must be provided for exiting"),u&&v("  EXIT "+this.name+" uid:"+p+" len:"+this._set.length+" context: "+r.inspect(e)),this.active===e)return i.ok(this._set.length,"can't remove top context"),void(this.active=this._set.pop());let t=this._set.lastIndexOf(e);t<0?(u&&v("??ERROR?? context exiting but not entered - ignoring: "+r.inspect(e)),i.ok(t>=0,"context not currently entered; can't exit. \n"+r.inspect(this)+"\n"+r.inspect(e))):(i.ok(t,"can't remove top context"),this._set.splice(t,1))},d.prototype.bindEmitter=function(e){i.ok(e.on&&e.addListener&&e.emit,"can only bind real EEs");let t=this,n="context@"+this.name;o(e,(function(e){e&&(e[a]||(e[a]=Object.create(null)),e[a][n]={namespace:t,context:t.active})}),(function(e){if(!e||!e[a])return e;let t=e,n=e[a];return Object.keys(n).forEach((function(e){let r=n[e];t=r.namespace.bind(t,r.context)})),t}))},d.prototype.fromException=function(e){return e[c]},process.namespaces={},s._state&&!s._state.enabled&&s.enable(),u){var m=n(52103);for(var y in m.filter._modifiers)m.filter.deattach(y)}},67855:(e,t,n)=>{"use strict";const r=n(39023),i=n(42613),o=n(98482),s=n(90290),a="cls@contexts",c="error@context",l=process.env.DEBUG_CLS_HOOKED;let u=-1;function p(e){this.name=e,this.active=null,this._set=[],this.id=null,this._contexts=new Map,this._indent=0}function d(e){return process.namespaces[e]}function h(e){let t=d(e);i.ok(t,"can't delete nonexistent namespace! \""+e+'"'),i.ok(t.id,"don't assign to process.namespaces directly! "+r.inspect(t)),process.namespaces[e]=null}function f(...e){l&&process._rawDebug(`${r.format(...e)}`)}e.exports={getNamespace:d,createNamespace:function(e){i.ok(e,"namespace must be given a name."),l&&f(`NS-CREATING NAMESPACE (${e})`);let t=new p(e);return t.id=u,s.createHook({init(n,i,o,a){if(u=s.executionAsyncId(),t.active){if(t._contexts.set(n,t.active),l){f(`${" ".repeat(t._indent<0?0:t._indent)}INIT [${i}] (${e}) asyncId:${n} currentUid:${u} triggerId:${o} active:${r.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${a}`)}}else if(0===u){const o=s.triggerAsyncId(),c=t._contexts.get(o);if(c){if(t._contexts.set(n,c),l){f(`${" ".repeat(t._indent<0?0:t._indent)}INIT USING CONTEXT FROM TRIGGERID [${i}] (${e}) asyncId:${n} currentUid:${u} triggerId:${o} active:${r.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${a}`)}}else if(l){f(`${" ".repeat(t._indent<0?0:t._indent)}INIT MISSING CONTEXT [${i}] (${e}) asyncId:${n} currentUid:${u} triggerId:${o} active:${r.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${a}`)}}if(l&&"PROMISE"===i){f(r.inspect(a,{showHidden:!0}));const s=a.parentId;f(`${" ".repeat(t._indent<0?0:t._indent)}INIT RESOURCE-PROMISE [${i}] (${e}) parentId:${s} asyncId:${n} currentUid:${u} triggerId:${o} active:${r.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${a}`)}},before(n){let i;if(u=s.executionAsyncId(),i=t._contexts.get(n)||t._contexts.get(u),i){if(l){const o=s.triggerAsyncId();f(`${" ".repeat(t._indent<0?0:t._indent)}BEFORE (${e}) asyncId:${n} currentUid:${u} triggerId:${o} active:${r.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${r.inspect(i)}`),t._indent+=2}t.enter(i)}else if(l){const i=s.triggerAsyncId();f(`${" ".repeat(t._indent<0?0:t._indent)}BEFORE MISSING CONTEXT (${e}) asyncId:${n} currentUid:${u} triggerId:${i} active:${r.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} namespace._contexts:${r.inspect(t._contexts,{showHidden:!0,depth:2,colors:!0})}`),t._indent+=2}},after(n){let i;if(u=s.executionAsyncId(),i=t._contexts.get(n)||t._contexts.get(u),i){if(l){const o=s.triggerAsyncId();t._indent-=2;f(`${" ".repeat(t._indent<0?0:t._indent)}AFTER (${e}) asyncId:${n} currentUid:${u} triggerId:${o} active:${r.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${r.inspect(i)}`)}t.exit(i)}else if(l){const o=s.triggerAsyncId();t._indent-=2;f(`${" ".repeat(t._indent<0?0:t._indent)}AFTER MISSING CONTEXT (${e}) asyncId:${n} currentUid:${u} triggerId:${o} active:${r.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${r.inspect(i)}`)}},destroy(n){if(u=s.executionAsyncId(),l){const i=s.triggerAsyncId();f(`${" ".repeat(t._indent<0?0:t._indent)}DESTROY (${e}) currentUid:${u} asyncId:${n} triggerId:${i} active:${r.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${r.inspect(t._contexts.get(u))}`)}t._contexts.delete(n)}}).enable(),process.namespaces[e]=t,t},destroyNamespace:h,reset:function(){process.namespaces&&Object.keys(process.namespaces).forEach((function(e){h(e)})),process.namespaces=Object.create(null)},ERROR_SYMBOL:c},p.prototype.set=function(e,t){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return this.active[e]=t,l&&f(" ".repeat(this._indent<0?0:this._indent)+"CONTEXT-SET KEY:"+e+"="+t+" in ns:"+this.name+" currentUid:"+u+" active:"+r.inspect(this.active,{showHidden:!0,depth:2,colors:!0})),t},p.prototype.get=function(e){if(this.active){if(l){const t=s.executionAsyncId(),n=s.triggerAsyncId(),i=" ".repeat(this._indent<0?0:this._indent);f(i+"CONTEXT-GETTING KEY:"+e+"="+this.active[e]+" ("+this.name+") currentUid:"+u+" active:"+r.inspect(this.active,{showHidden:!0,depth:2,colors:!0})),f(`${i}CONTEXT-GETTING KEY: (${this.name}) ${e}=${this.active[e]} currentUid:${u} asyncHooksCurrentId:${t} triggerId:${n} len:${this._set.length} active:${r.inspect(this.active)}`)}return this.active[e]}if(l){const t=s.currentId(),n=s.triggerAsyncId();f(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-GETTING KEY NO ACTIVE NS: (${this.name}) ${e}=undefined currentUid:${u} asyncHooksCurrentId:${t} triggerId:${n} len:${this._set.length}`)}},p.prototype.createContext=function(){let e=Object.create(this.active?this.active:Object.prototype);if(e._ns_name=this.name,e.id=u,l){const t=s.executionAsyncId(),n=s.triggerAsyncId();f(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-CREATED Context: (${this.name}) currentUid:${u} asyncHooksCurrentId:${t} triggerId:${n} len:${this._set.length} context:${r.inspect(e,{showHidden:!0,depth:2,colors:!0})}`)}return e},p.prototype.run=function(e){let t=this.createContext();this.enter(t);try{if(l){const e=s.triggerAsyncId(),n=s.executionAsyncId();f(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-RUN BEGIN: (${this.name}) currentUid:${u} triggerId:${e} asyncHooksCurrentId:${n} len:${this._set.length} context:${r.inspect(t)}`)}return e(t),t}catch(e){throw e&&(e[c]=t),e}finally{if(l){const e=s.triggerAsyncId(),n=s.executionAsyncId();f(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-RUN END: (${this.name}) currentUid:${u} triggerId:${e} asyncHooksCurrentId:${n} len:${this._set.length} ${r.inspect(t)}`)}this.exit(t)}},p.prototype.runAndReturn=function(e){let t;return this.run((function(n){t=e(n)})),t},p.prototype.runPromise=function(e){let t=this.createContext();this.enter(t);let n=e(t);if(!n||!n.then||!n.catch)throw new Error("fn must return a promise.");return l&&f("CONTEXT-runPromise BEFORE: ("+this.name+") currentUid:"+u+" len:"+this._set.length+" "+r.inspect(t)),n.then((e=>(l&&f("CONTEXT-runPromise AFTER then: ("+this.name+") currentUid:"+u+" len:"+this._set.length+" "+r.inspect(t)),this.exit(t),e))).catch((e=>{throw e[c]=t,l&&f("CONTEXT-runPromise AFTER catch: ("+this.name+") currentUid:"+u+" len:"+this._set.length+" "+r.inspect(t)),this.exit(t),e}))},p.prototype.bind=function(e,t){t||(t=this.active?this.active:this.createContext());let n=this;return function(){n.enter(t);try{return e.apply(this,arguments)}catch(e){throw e&&(e[c]=t),e}finally{n.exit(t)}}},p.prototype.enter=function(e){if(i.ok(e,"context must be provided for entering"),l){const t=s.executionAsyncId(),n=s.triggerAsyncId();f(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-ENTER: (${this.name}) currentUid:${u} triggerId:${n} asyncHooksCurrentId:${t} len:${this._set.length} ${r.inspect(e)}`)}this._set.push(this.active),this.active=e},p.prototype.exit=function(e){if(i.ok(e,"context must be provided for exiting"),l){const t=s.executionAsyncId(),n=s.triggerAsyncId();f(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-EXIT: (${this.name}) currentUid:${u} triggerId:${n} asyncHooksCurrentId:${t} len:${this._set.length} ${r.inspect(e)}`)}if(this.active===e)return i.ok(this._set.length,"can't remove top context"),void(this.active=this._set.pop());let t=this._set.lastIndexOf(e);t<0?(l&&f("??ERROR?? context exiting but not entered - ignoring: "+r.inspect(e)),i.ok(t>=0,"context not currently entered; can't exit. \n"+r.inspect(this)+"\n"+r.inspect(e))):(i.ok(t,"can't remove top context"),this._set.splice(t,1))},p.prototype.bindEmitter=function(e){i.ok(e.on&&e.addListener&&e.emit,"can only bind real EEs");let t=this,n="context@"+this.name;o(e,(function(e){e&&(e[a]||(e[a]=Object.create(null)),e[a][n]={namespace:t,context:t.active})}),(function(e){if(!e||!e[a])return e;let t=e,n=e[a];return Object.keys(n).forEach((function(e){let r=n[e];t=r.namespace.bind(t,r.context)})),t}))},p.prototype.fromException=function(e){return e[c]},process.namespaces={}},9132:(e,t,n)=>{"use strict";const r=n(81778);process&&r.gte(process.versions.node,"8.0.0")?e.exports=n(67855):e.exports=n(35415)},81778:(e,t)=>{var n;t=e.exports=Q,n="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var r=256,i=Number.MAX_SAFE_INTEGER||9007199254740991,o=r-6,s=t.re=[],a=t.safeRe=[],c=t.src=[],l=0,u="[a-zA-Z0-9-]",p=[["\\s",1],["\\d",r],[u,o]];function d(e){for(var t=0;t<p.length;t++){var n=p[t][0],r=p[t][1];e=e.split(n+"*").join(n+"{0,"+r+"}").split(n+"+").join(n+"{1,"+r+"}")}return e}var h=l++;c[h]="0|[1-9]\\d*";var f=l++;c[f]="\\d+";var v=l++;c[v]="\\d*[a-zA-Z-]"+u+"*";var g=l++;c[g]="("+c[h]+")\\.("+c[h]+")\\.("+c[h]+")";var m=l++;c[m]="("+c[f]+")\\.("+c[f]+")\\.("+c[f]+")";var y=l++;c[y]="(?:"+c[h]+"|"+c[v]+")";var b=l++;c[b]="(?:"+c[f]+"|"+c[v]+")";var _=l++;c[_]="(?:-("+c[y]+"(?:\\."+c[y]+")*))";var E=l++;c[E]="(?:-?("+c[b]+"(?:\\."+c[b]+")*))";var S=l++;c[S]=u+"+";var w=l++;c[w]="(?:\\+("+c[S]+"(?:\\."+c[S]+")*))";var P=l++,T="v?"+c[g]+c[_]+"?"+c[w]+"?";c[P]="^"+T+"$";var C="[v=\\s]*"+c[m]+c[E]+"?"+c[w]+"?",x=l++;c[x]="^"+C+"$";var I=l++;c[I]="((?:<|>)?=?)";var O=l++;c[O]=c[f]+"|x|X|\\*";var R=l++;c[R]=c[h]+"|x|X|\\*";var D=l++;c[D]="[v=\\s]*("+c[R]+")(?:\\.("+c[R]+")(?:\\.("+c[R]+")(?:"+c[_]+")?"+c[w]+"?)?)?";var k=l++;c[k]="[v=\\s]*("+c[O]+")(?:\\.("+c[O]+")(?:\\.("+c[O]+")(?:"+c[E]+")?"+c[w]+"?)?)?";var A=l++;c[A]="^"+c[I]+"\\s*"+c[D]+"$";var N=l++;c[N]="^"+c[I]+"\\s*"+c[k]+"$";var j=l++;c[j]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var M=l++;c[M]="(?:~>?)";var L=l++;c[L]="(\\s*)"+c[M]+"\\s+",s[L]=new RegExp(c[L],"g"),a[L]=new RegExp(d(c[L]),"g");var F=l++;c[F]="^"+c[M]+c[D]+"$";var V=l++;c[V]="^"+c[M]+c[k]+"$";var U=l++;c[U]="(?:\\^)";var H=l++;c[H]="(\\s*)"+c[U]+"\\s+",s[H]=new RegExp(c[H],"g"),a[H]=new RegExp(d(c[H]),"g");var W=l++;c[W]="^"+c[U]+c[D]+"$";var q=l++;c[q]="^"+c[U]+c[k]+"$";var B=l++;c[B]="^"+c[I]+"\\s*("+C+")$|^$";var $=l++;c[$]="^"+c[I]+"\\s*("+T+")$|^$";var K=l++;c[K]="(\\s*)"+c[I]+"\\s*("+C+"|"+c[D]+")",s[K]=new RegExp(c[K],"g"),a[K]=new RegExp(d(c[K]),"g");var G=l++;c[G]="^\\s*("+c[D]+")\\s+-\\s+("+c[D]+")\\s*$";var z=l++;c[z]="^\\s*("+c[k]+")\\s+-\\s+("+c[k]+")\\s*$";var Y=l++;c[Y]="(<|>)?=?\\s*\\*";for(var X=0;X<35;X++)n(X,c[X]),s[X]||(s[X]=new RegExp(c[X]),a[X]=new RegExp(d(c[X])));function J(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof Q)return e;if("string"!=typeof e)return null;if(e.length>r)return null;if(!(t.loose?a[x]:a[P]).test(e))return null;try{return new Q(e,t)}catch(e){return null}}function Q(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof Q){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>r)throw new TypeError("version is longer than "+r+" characters");if(!(this instanceof Q))return new Q(e,t);n("SemVer",e,t),this.options=t,this.loose=!!t.loose;var o=e.trim().match(t.loose?a[x]:a[P]);if(!o)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+o[1],this.minor=+o[2],this.patch=+o[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");o[4]?this.prerelease=o[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<i)return t}return e})):this.prerelease=[],this.build=o[5]?o[5].split("."):[],this.format()}t.parse=J,t.valid=function(e,t){var n=J(e,t);return n?n.version:null},t.clean=function(e,t){var n=J(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null},t.SemVer=Q,Q.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},Q.prototype.toString=function(){return this.version},Q.prototype.compare=function(e){return n("SemVer.compare",this.version,this.options,e),e instanceof Q||(e=new Q(e,this.options)),this.compareMain(e)||this.comparePre(e)},Q.prototype.compareMain=function(e){return e instanceof Q||(e=new Q(e,this.options)),ee(this.major,e.major)||ee(this.minor,e.minor)||ee(this.patch,e.patch)},Q.prototype.comparePre=function(e){if(e instanceof Q||(e=new Q(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],i=e.prerelease[t];if(n("prerelease compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return ee(r,i)}while(++t)},Q.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,n,r){"string"==typeof n&&(r=n,n=void 0);try{return new Q(e,n).inc(t,r).version}catch(e){return null}},t.diff=function(e,t){if(ie(e,t))return null;var n=J(e),r=J(t),i="";if(n.prerelease.length||r.prerelease.length){i="pre";var o="prerelease"}for(var s in n)if(("major"===s||"minor"===s||"patch"===s)&&n[s]!==r[s])return i+s;return o},t.compareIdentifiers=ee;var Z=/^[0-9]+$/;function ee(e,t){var n=Z.test(e),r=Z.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1}function te(e,t,n){return new Q(e,n).compare(new Q(t,n))}function ne(e,t,n){return te(e,t,n)>0}function re(e,t,n){return te(e,t,n)<0}function ie(e,t,n){return 0===te(e,t,n)}function oe(e,t,n){return 0!==te(e,t,n)}function se(e,t,n){return te(e,t,n)>=0}function ae(e,t,n){return te(e,t,n)<=0}function ce(e,t,n,r){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return ie(e,n,r);case"!=":return oe(e,n,r);case">":return ne(e,n,r);case">=":return se(e,n,r);case"<":return re(e,n,r);case"<=":return ae(e,n,r);default:throw new TypeError("Invalid operator: "+t)}}function le(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof le){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof le))return new le(e,t);e=e.trim().split(/\s+/).join(" "),n("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===ue?this.value="":this.value=this.operator+this.semver.version,n("comp",this)}t.rcompareIdentifiers=function(e,t){return ee(t,e)},t.major=function(e,t){return new Q(e,t).major},t.minor=function(e,t){return new Q(e,t).minor},t.patch=function(e,t){return new Q(e,t).patch},t.compare=te,t.compareLoose=function(e,t){return te(e,t,!0)},t.rcompare=function(e,t,n){return te(t,e,n)},t.sort=function(e,n){return e.sort((function(e,r){return t.compare(e,r,n)}))},t.rsort=function(e,n){return e.sort((function(e,r){return t.rcompare(e,r,n)}))},t.gt=ne,t.lt=re,t.eq=ie,t.neq=oe,t.gte=se,t.lte=ae,t.cmp=ce,t.Comparator=le;var ue={};function pe(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof pe)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new pe(e.raw,t);if(e instanceof le)return new pe(e.value,t);if(!(this instanceof pe))return new pe(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+this.raw);this.format()}function de(e){return!e||"x"===e.toLowerCase()||"*"===e}function he(e,t,n,r,i,o,s,a,c,l,u,p,d){return((t=de(n)?"":de(r)?">="+n+".0.0":de(i)?">="+n+"."+r+".0":">="+t)+" "+(a=de(c)?"":de(l)?"<"+(+c+1)+".0.0":de(u)?"<"+c+"."+(+l+1)+".0":p?"<="+c+"."+l+"."+u+"-"+p:"<="+a)).trim()}function fe(e,t,r){for(var i=0;i<e.length;i++)if(!e[i].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(i=0;i<e.length;i++)if(n(e[i].semver),e[i].semver!==ue&&e[i].semver.prerelease.length>0){var o=e[i].semver;if(o.major===t.major&&o.minor===t.minor&&o.patch===t.patch)return!0}return!1}return!0}function ve(e,t,n){try{t=new pe(t,n)}catch(e){return!1}return t.test(e)}function ge(e,t,n,r){var i,o,s,a,c;switch(e=new Q(e,r),t=new pe(t,r),n){case">":i=ne,o=ae,s=re,a=">",c=">=";break;case"<":i=re,o=se,s=ne,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ve(e,t,r))return!1;for(var l=0;l<t.set.length;++l){var u=t.set[l],p=null,d=null;if(u.forEach((function(e){e.semver===ue&&(e=new le(">=0.0.0")),p=p||e,d=d||e,i(e.semver,p.semver,r)?p=e:s(e.semver,d.semver,r)&&(d=e)})),p.operator===a||p.operator===c)return!1;if((!d.operator||d.operator===a)&&o(e,d.semver))return!1;if(d.operator===c&&s(e,d.semver))return!1}return!0}le.prototype.parse=function(e){var t=this.options.loose?a[B]:a[$],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=n[1],"="===this.operator&&(this.operator=""),n[2]?this.semver=new Q(n[2],this.options.loose):this.semver=ue},le.prototype.toString=function(){return this.value},le.prototype.test=function(e){return n("Comparator.test",e,this.options.loose),this.semver===ue||("string"==typeof e&&(e=new Q(e,this.options)),ce(e,this.operator,this.semver,this.options))},le.prototype.intersects=function(e,t){if(!(e instanceof le))throw new TypeError("a Comparator is required");var n;if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return n=new pe(e.value,t),ve(this.value,n,t);if(""===e.operator)return n=new pe(this.value,t),ve(e.semver,n,t);var r=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),o=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=ce(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=ce(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||i||o&&s||a||c},t.Range=pe,pe.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},pe.prototype.toString=function(){return this.range},pe.prototype.parseRange=function(e){var t=this.options.loose,r=t?a[z]:a[G];e=e.replace(r,he),n("hyphen replace",e),e=e.replace(a[K],"$1$2$3"),n("comparator trim",e,a[K]),e=(e=e.replace(a[L],"$1~")).replace(a[H],"$1^");var i=t?a[B]:a[$],o=e.split(" ").map((function(e){return function(e,t){return n("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){n("caret",e,t);var r=t.loose?a[q]:a[W];return e.replace(r,(function(t,r,i,o,s){var a;return n("caret",e,t,r,i,o,s),de(r)?a="":de(i)?a=">="+r+".0.0 <"+(+r+1)+".0.0":de(o)?a="0"===r?">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":">="+r+"."+i+".0 <"+(+r+1)+".0.0":s?(n("replaceCaret pr",s),a="0"===r?"0"===i?">="+r+"."+i+"."+o+"-"+s+" <"+r+"."+i+"."+(+o+1):">="+r+"."+i+"."+o+"-"+s+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+o+"-"+s+" <"+(+r+1)+".0.0"):(n("no pr"),a="0"===r?"0"===i?">="+r+"."+i+"."+o+" <"+r+"."+i+"."+(+o+1):">="+r+"."+i+"."+o+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+o+" <"+(+r+1)+".0.0"),n("caret return",a),a}))}(e,t)})).join(" ")}(e,t),n("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var r=t.loose?a[V]:a[F];return e.replace(r,(function(t,r,i,o,s){var a;return n("tilde",e,t,r,i,o,s),de(r)?a="":de(i)?a=">="+r+".0.0 <"+(+r+1)+".0.0":de(o)?a=">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":s?(n("replaceTilde pr",s),a=">="+r+"."+i+"."+o+"-"+s+" <"+r+"."+(+i+1)+".0"):a=">="+r+"."+i+"."+o+" <"+r+"."+(+i+1)+".0",n("tilde return",a),a}))}(e,t)})).join(" ")}(e,t),n("tildes",e),e=function(e,t){return n("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var r=t.loose?a[N]:a[A];return e.replace(r,(function(t,r,i,o,s,a){n("xRange",e,t,r,i,o,s,a);var c=de(i),l=c||de(o),u=l||de(s);return"="===r&&u&&(r=""),c?t=">"===r||"<"===r?"<0.0.0":"*":r&&u?(l&&(o=0),s=0,">"===r?(r=">=",l?(i=+i+1,o=0,s=0):(o=+o+1,s=0)):"<="===r&&(r="<",l?i=+i+1:o=+o+1),t=r+i+"."+o+"."+s):l?t=">="+i+".0.0 <"+(+i+1)+".0.0":u&&(t=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0"),n("xRange return",t),t}))}(e,t)})).join(" ")}(e,t),n("xrange",e),e=function(e,t){return n("replaceStars",e,t),e.trim().replace(a[Y],"")}(e,t),n("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(o=o.filter((function(e){return!!e.match(i)}))),o.map((function(e){return new le(e,this.options)}),this)},pe.prototype.intersects=function(e,t){if(!(e instanceof pe))throw new TypeError("a Range is required");return this.set.some((function(n){return n.every((function(n){return e.set.some((function(e){return e.every((function(e){return n.intersects(e,t)}))}))}))}))},t.toComparators=function(e,t){return new pe(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},pe.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new Q(e,this.options));for(var t=0;t<this.set.length;t++)if(fe(this.set[t],e,this.options))return!0;return!1},t.satisfies=ve,t.maxSatisfying=function(e,t,n){var r=null,i=null;try{var o=new pe(t,n)}catch(e){return null}return e.forEach((function(e){o.test(e)&&(r&&-1!==i.compare(e)||(i=new Q(r=e,n)))})),r},t.minSatisfying=function(e,t,n){var r=null,i=null;try{var o=new pe(t,n)}catch(e){return null}return e.forEach((function(e){o.test(e)&&(r&&1!==i.compare(e)||(i=new Q(r=e,n)))})),r},t.minVersion=function(e,t){e=new pe(e,t);var n=new Q("0.0.0");if(e.test(n))return n;if(n=new Q("0.0.0-0"),e.test(n))return n;n=null;for(var r=0;r<e.set.length;++r)e.set[r].forEach((function(e){var t=new Q(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":n&&!ne(n,t)||(n=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}));return n&&e.test(n)?n:null},t.validRange=function(e,t){try{return new pe(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,n){return ge(e,t,"<",n)},t.gtr=function(e,t,n){return ge(e,t,">",n)},t.outside=ge,t.prerelease=function(e,t){var n=J(e,t);return n&&n.prerelease.length?n.prerelease:null},t.intersects=function(e,t,n){return e=new pe(e,n),t=new pe(t,n),e.intersects(t)},t.coerce=function(e){if(e instanceof Q)return e;if("string"!=typeof e)return null;var t=e.match(a[j]);return null==t?null:J(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}},80801:(e,t,n)=>{var r=n(39023),i=n(2203).Stream,o=n(78069);function s(){this.writable=!1,this.readable=!0,this.dataSize=0,this.maxDataSize=2097152,this.pauseStreams=!0,this._released=!1,this._streams=[],this._currentStream=null,this._insideLoop=!1,this._pendingNext=!1}e.exports=s,r.inherits(s,i),s.create=function(e){var t=new this;for(var n in e=e||{})t[n]=e[n];return t},s.isStreamLike=function(e){return"function"!=typeof e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e&&!Buffer.isBuffer(e)},s.prototype.append=function(e){if(s.isStreamLike(e)){if(!(e instanceof o)){var t=o.create(e,{maxDataSize:1/0,pauseStream:this.pauseStreams});e.on("data",this._checkDataSize.bind(this)),e=t}this._handleErrors(e),this.pauseStreams&&e.pause()}return this._streams.push(e),this},s.prototype.pipe=function(e,t){return i.prototype.pipe.call(this,e,t),this.resume(),e},s.prototype._getNext=function(){if(this._currentStream=null,this._insideLoop)this._pendingNext=!0;else{this._insideLoop=!0;try{do{this._pendingNext=!1,this._realGetNext()}while(this._pendingNext)}finally{this._insideLoop=!1}}},s.prototype._realGetNext=function(){var e=this._streams.shift();void 0!==e?"function"==typeof e?e(function(e){s.isStreamLike(e)&&(e.on("data",this._checkDataSize.bind(this)),this._handleErrors(e)),this._pipeNext(e)}.bind(this)):this._pipeNext(e):this.end()},s.prototype._pipeNext=function(e){if(this._currentStream=e,s.isStreamLike(e))return e.on("end",this._getNext.bind(this)),void e.pipe(this,{end:!1});var t=e;this.write(t),this._getNext()},s.prototype._handleErrors=function(e){var t=this;e.on("error",(function(e){t._emitError(e)}))},s.prototype.write=function(e){this.emit("data",e)},s.prototype.pause=function(){this.pauseStreams&&(this.pauseStreams&&this._currentStream&&"function"==typeof this._currentStream.pause&&this._currentStream.pause(),this.emit("pause"))},s.prototype.resume=function(){this._released||(this._released=!0,this.writable=!0,this._getNext()),this.pauseStreams&&this._currentStream&&"function"==typeof this._currentStream.resume&&this._currentStream.resume(),this.emit("resume")},s.prototype.end=function(){this._reset(),this.emit("end")},s.prototype.destroy=function(){this._reset(),this.emit("close")},s.prototype._reset=function(){this.writable=!1,this._streams=[],this._currentStream=null},s.prototype._checkDataSize=function(){if(this._updateDataSize(),!(this.dataSize<=this.maxDataSize)){var e="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this._emitError(new Error(e))}},s.prototype._updateDataSize=function(){this.dataSize=0;var e=this;this._streams.forEach((function(t){t.dataSize&&(e.dataSize+=t.dataSize)})),this._currentStream&&this._currentStream.dataSize&&(this.dataSize+=this._currentStream.dataSize)},s.prototype._emitError=function(e){this._reset(),this.emit("error",e)}},49818:e=>{e.exports=function(e,n){for(var r=[],i=0;i<e.length;i++){var o=n(e[i],i);t(o)?r.push.apply(r,o):r.push(o)}return r};var t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},19423:(e,t,n)=>{"use strict";var r=n(42613),i=n(98482),o="cls@contexts",s="error@context";function a(e){this.name=e,this.active=null,this._set=[],this.id=null}function c(e){return process.namespaces[e]}function l(e){var t=c(e);r.ok(t,"can't delete nonexistent namespace!"),r.ok(t.id,"don't assign to process.namespaces directly!"),process.removeAsyncListener(t.id),process.namespaces[e]=null}function u(){process.namespaces&&Object.keys(process.namespaces).forEach((function(e){l(e)})),process.namespaces=Object.create(null)}process.addAsyncListener||n(14518),a.prototype.set=function(e,t){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return this.active[e]=t,t},a.prototype.get=function(e){if(this.active)return this.active[e]},a.prototype.createContext=function(){return Object.create(this.active)},a.prototype.run=function(e){var t=this.createContext();this.enter(t);try{return e(t),t}catch(e){throw e&&(e[s]=t),e}finally{this.exit(t)}},a.prototype.runAndReturn=function(e){var t;return this.run((function(n){t=e(n)})),t},a.prototype.bind=function(e,t){t||(t=this.active?this.active:this.createContext());var n=this;return function(){n.enter(t);try{return e.apply(this,arguments)}catch(e){throw e&&(e[s]=t),e}finally{n.exit(t)}}},a.prototype.enter=function(e){r.ok(e,"context must be provided for entering"),this._set.push(this.active),this.active=e},a.prototype.exit=function(e){if(r.ok(e,"context must be provided for exiting"),this.active===e)return r.ok(this._set.length,"can't remove top context"),void(this.active=this._set.pop());var t=this._set.lastIndexOf(e);r.ok(t>=0,"context not currently entered; can't exit"),r.ok(t,"can't remove top context"),this._set.splice(t,1)},a.prototype.bindEmitter=function(e){r.ok(e.on&&e.addListener&&e.emit,"can only bind real EEs");var t=this,n="context@"+this.name;i(e,(function(e){e&&(e[o]||(e[o]=Object.create(null)),e[o][n]={namespace:t,context:t.active})}),(function(e){if(!e||!e[o])return e;var t=e,n=e[o];return Object.keys(n).forEach((function(e){var r=n[e];t=r.namespace.bind(t,r.context)})),t}))},a.prototype.fromException=function(e){return e[s]},process.namespaces||u(),e.exports={getNamespace:c,createNamespace:function(e){r.ok(e,"namespace must be given a name!");var t=new a(e);return t.id=process.addAsyncListener({create:function(){return t.active},before:function(e,n){n&&t.enter(n)},after:function(e,n){n&&t.exit(n)},error:function(e){e&&t.exit(e)}}),process.namespaces[e]=t,t},destroyNamespace:l,reset:u}},78069:(e,t,n)=>{var r=n(2203).Stream,i=n(39023);function o(){this.source=null,this.dataSize=0,this.maxDataSize=1048576,this.pauseStream=!0,this._maxDataSizeExceeded=!1,this._released=!1,this._bufferedEvents=[]}e.exports=o,i.inherits(o,r),o.create=function(e,t){var n=new this;for(var r in t=t||{})n[r]=t[r];n.source=e;var i=e.emit;return e.emit=function(){return n._handleEmit(arguments),i.apply(e,arguments)},e.on("error",(function(){})),n.pauseStream&&e.pause(),n},Object.defineProperty(o.prototype,"readable",{configurable:!0,enumerable:!0,get:function(){return this.source.readable}}),o.prototype.setEncoding=function(){return this.source.setEncoding.apply(this.source,arguments)},o.prototype.resume=function(){this._released||this.release(),this.source.resume()},o.prototype.pause=function(){this.source.pause()},o.prototype.release=function(){this._released=!0,this._bufferedEvents.forEach(function(e){this.emit.apply(this,e)}.bind(this)),this._bufferedEvents=[]},o.prototype.pipe=function(){var e=r.prototype.pipe.apply(this,arguments);return this.resume(),e},o.prototype._handleEmit=function(e){this._released?this.emit.apply(this,e):("data"===e[0]&&(this.dataSize+=e[1].length,this._checkIfMaxDataSizeExceeded()),this._bufferedEvents.push(e))},o.prototype._checkIfMaxDataSizeExceeded=function(){if(!(this._maxDataSizeExceeded||this.dataSize<=this.maxDataSize)){this._maxDataSizeExceeded=!0;var e="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this.emit("error",new Error(e))}}},2442:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.azureCoreTracing=t.AzureMonitorSymbol=void 0;var r=n(18579);t.AzureMonitorSymbol="Azure_Monitor_Tracer";var i="azure-coretracing",o=!1;t.azureCoreTracing={versionSpecifier:">= 1.0.0 < 2.0.0",patch:function(e){if(o)return e;try{var s=n(39478),a=n(39104),c=new s.BasicTracerProvider,l=c.getTracer("applicationinsights tracer");if(e.setTracer){var u=e.setTracer;e.setTracer=function(e){var n=e.startSpan;e.startSpan=function(e,t,o){var s=n.call(this,e,t,o),a=s.end;return s.end=function(){var e=a.apply(this,arguments);return r.channel.publish(i,s),e},s},e[t.AzureMonitorSymbol]=!0,u.call(this,e)},a.trace.getSpan(a.context.active()),e.setTracer(l)}else{var p=a.trace.setGlobalTracerProvider;a.trace.setGlobalTracerProvider=function(e){var n=e.getTracer;return e.getTracer=function(e,o){var s=n.call(this,e,o);if(!s[t.AzureMonitorSymbol]){var a=s.startSpan;s.startSpan=function(e,t,n){var o=a.call(this,e,t,n),s=o.end;return o.end=function(){var e=s.apply(this,arguments);return r.channel.publish(i,o),e},o},s[t.AzureMonitorSymbol]=!0}return s},p.call(this,e)},c.register(),a.trace.getSpan(a.context.active());var d=n(35620),h=n(79725);d.registerInstrumentations({instrumentations:[h.createAzureSdkInstrumentation()]})}o=!0}catch(e){}return e},publisherName:i},t.enable=function(){r.channel.registerMonkeyPatch("@azure/core-tracing",t.azureCoreTracing)}},72754:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.bunyan=void 0;var r=n(18579);t.bunyan={versionSpecifier:">= 1.0.0 < 2.0.0",patch:function(e){var t=e.prototype._emit;return e.prototype._emit=function(e,n){var i=t.apply(this,arguments);if(!n){var o=i;o||(o=t.call(this,e,!0)),r.channel.publish("bunyan",{level:e.level,result:o})}return i},e}},t.enable=function(){r.channel.registerMonkeyPatch("bunyan",t.bunyan)}},84942:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.console=void 0;var r=n(18579),i=n(2203);t.console={versionSpecifier:">= 4.0.0",patch:function(e){var t=new i.Writable,n=new i.Writable;t.write=function(e){if(!e)return!0;var t=e.toString();return r.channel.publish("console",{message:t}),!0},n.write=function(e){if(!e)return!0;var t=e.toString();return r.channel.publish("console",{message:t,stderr:!0}),!0};for(var o=new e.Console(t,n),s=function(t){var n=e[t];n&&(e[t]=function(){if(o[t])try{o[t].apply(o,arguments)}catch(e){}return n.apply(e,arguments)})},a=0,c=["log","info","warn","error","dir","time","timeEnd","trace","assert"];a<c.length;a++)s(c[a]);return e}},t.enable=function(){r.channel.registerMonkeyPatch("console",t.console),n(64236)}},45670:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.tedious=t.pgPool=t.pg=t.winston=t.redis=t.mysql=t.mongodb=t.mongodbCore=t.console=t.bunyan=t.azuresdk=void 0;var r=n(2442);t.azuresdk=r;var i=n(72754);t.bunyan=i;var o=n(84942);t.console=o;var s=n(38959);t.mongodbCore=s;var a=n(93433);t.mongodb=a;var c=n(71285);t.mysql=c;var l=n(77237);t.pgPool=l;var u=n(24700);t.pg=u;var p=n(55888);t.redis=p;var d=n(98146);t.tedious=d;var h=n(7411);t.winston=h,t.enable=function(){i.enable(),o.enable(),s.enable(),a.enable(),c.enable(),u.enable(),l.enable(),p.enable(),h.enable(),r.enable(),d.enable()}},38959:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.mongoCore=void 0;var r=n(18579);t.mongoCore={versionSpecifier:">= 2.0.0 < 4.0.0",patch:function(e){var t=e.Server.prototype.connect;return e.Server.prototype.connect=function(){var e=t.apply(this,arguments),n=this.s.pool.write;this.s.pool.write=function(){var e="function"==typeof arguments[1]?1:2;return"function"==typeof arguments[e]&&(arguments[e]=r.channel.bindToContext(arguments[e])),n.apply(this,arguments)};var i=this.s.pool.logout;return this.s.pool.logout=function(){return"function"==typeof arguments[1]&&(arguments[1]=r.channel.bindToContext(arguments[1])),i.apply(this,arguments)},e},e}},t.enable=function(){r.channel.registerMonkeyPatch("mongodb-core",t.mongoCore)}},93433:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.mongo330=t.mongo3=t.mongo2=void 0;var i=n(18579);t.mongo2={versionSpecifier:">= 2.0.0 <= 3.0.5",patch:function(e){var t=e.instrument({operationIdGenerator:{next:function(){return i.channel.bindToContext((function(e){return e()}))}}}),n={};return t.on("started",(function(e){n[e.requestId]||(n[e.requestId]=r(r({},e),{time:new Date}))})),t.on("succeeded",(function(e){var t=n[e.requestId];t&&delete n[e.requestId],"function"==typeof e.operationId?e.operationId((function(){return i.channel.publish("mongodb",{startedData:t,event:e,succeeded:!0})})):i.channel.publish("mongodb",{startedData:t,event:e,succeeded:!0})})),t.on("failed",(function(e){var t=n[e.requestId];t&&delete n[e.requestId],"function"==typeof e.operationId?e.operationId((function(){return i.channel.publish("mongodb",{startedData:t,event:e,succeeded:!1})})):i.channel.publish("mongodb",{startedData:t,event:e,succeeded:!1})})),e}},t.mongo3={versionSpecifier:"> 3.0.5 < 3.3.0",patch:function(e){var t=e.instrument(),n={},o={};return t.on("started",(function(e){n[e.requestId]||(o[e.requestId]=i.channel.bindToContext((function(e){return e()})),n[e.requestId]=r(r({},e),{time:new Date}))})),t.on("succeeded",(function(e){var t=n[e.requestId];t&&delete n[e.requestId],"object"==typeof e&&"function"==typeof o[e.requestId]&&(o[e.requestId]((function(){return i.channel.publish("mongodb",{startedData:t,event:e,succeeded:!0})})),delete o[e.requestId])})),t.on("failed",(function(e){var t=n[e.requestId];t&&delete n[e.requestId],"object"==typeof e&&"function"==typeof o[e.requestId]&&(o[e.requestId]((function(){return i.channel.publish("mongodb",{startedData:t,event:e,succeeded:!1})})),delete o[e.requestId])})),e}},t.mongo330={versionSpecifier:">= 3.3.0 < 4.0.0",patch:function(e){!function(e){var t=e.Server.prototype.connect;e.Server.prototype.connect=function(){var e=t.apply(this,arguments),n=this.s.coreTopology.s.pool.write;this.s.coreTopology.s.pool.write=function(){var e="function"==typeof arguments[1]?1:2;return"function"==typeof arguments[e]&&(arguments[e]=i.channel.bindToContext(arguments[e])),n.apply(this,arguments)};var r=this.s.coreTopology.s.pool.logout;return this.s.coreTopology.s.pool.logout=function(){return"function"==typeof arguments[1]&&(arguments[1]=i.channel.bindToContext(arguments[1])),r.apply(this,arguments)},e}}(e);var t=e.instrument(),n={},r={};return t.on("started",(function(e){n[e.requestId]||(r[e.requestId]=i.channel.bindToContext((function(e){return e()})),n[e.requestId]=e)})),t.on("succeeded",(function(e){var t=n[e.requestId];t&&delete n[e.requestId],"object"==typeof e&&"function"==typeof r[e.requestId]&&(r[e.requestId]((function(){return i.channel.publish("mongodb",{startedData:t,event:e,succeeded:!0})})),delete r[e.requestId])})),t.on("failed",(function(e){var t=n[e.requestId];t&&delete n[e.requestId],"object"==typeof e&&"function"==typeof r[e.requestId]&&(r[e.requestId]((function(){return i.channel.publish("mongodb",{startedData:t,event:e,succeeded:!1})})),delete r[e.requestId])})),e}},t.enable=function(){i.channel.registerMonkeyPatch("mongodb",t.mongo2),i.channel.registerMonkeyPatch("mongodb",t.mongo3),i.channel.registerMonkeyPatch("mongodb",t.mongo330)}},71285:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.mysql=void 0;var r=n(18579),i=n(16928);t.mysql={versionSpecifier:">= 2.0.0 < 3.0.0",patch:function(e,t){var o=function(e,t){return function(t,n){var i=e[t];i&&(e[t]=function(){for(var e=arguments.length-1,t=arguments.length-1;t>=0;--t){if("function"==typeof arguments[t]){e=t;break}if(void 0!==arguments[t])break}var o=arguments[e],s={result:null,startTime:null,startDate:null};"function"==typeof o&&(n?(s.startTime=process.hrtime(),s.startDate=new Date,arguments[e]=r.channel.bindToContext(n(s,o))):arguments[e]=r.channel.bindToContext(o));var a=i.apply(this,arguments);return s.result=a,a})}},s=function(e,t){return o(e.prototype)},a=n(36614)(i.dirname(t)+"/lib/Connection");["connect","changeUser","ping","statistics","end"].forEach((function(e){return s(a)(e)})),o(a)("createQuery",(function(e,t){return function(n){var i=process.hrtime(e.startTime),o=1e3*i[0]+i[1]/1e6|0;r.channel.publish("mysql",{query:e.result,callbackArgs:arguments,err:n,duration:o,time:e.startDate}),t.apply(this,arguments)}}));var c=n(18844)(i.dirname(t)+"/lib/Pool");return["_enqueueCallback"].forEach((function(e){return s(c)(e)})),e}},t.enable=function(){r.channel.registerMonkeyPatch("mysql",t.mysql)}},77237:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.postgresPool1=void 0;var r=n(18579);t.postgresPool1={versionSpecifier:">= 1.0.0 < 3.0.0",patch:function(e){var t=e.prototype.connect;return e.prototype.connect=function(e){return e&&(arguments[0]=r.channel.bindToContext(e)),t.apply(this,arguments)},e}},t.enable=function(){r.channel.registerMonkeyPatch("pg-pool",t.postgresPool1)}},24700:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.postgres=t.postgres6=void 0;var r=n(18579),i=n(24434),o="postgres";t.postgres6={versionSpecifier:"6.*",patch:function(e,t){var n=e.Client.prototype.query,s="__diagnosticOriginalFunc";return e.Client.prototype.query=function(e,t,a){var c,l={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},u=process.hrtime();function p(e){e&&e[s]&&(e=e[s]);var t=r.channel.bindToContext((function(t,n){var s=process.hrtime(u);if(l.result=n&&{rowCount:n.rowCount,command:n.command},l.error=t,l.duration=Math.ceil(1e3*s[0]+s[1]/1e6),r.channel.publish(o,l),t){if(e)return e.apply(this,arguments);c&&c instanceof i.EventEmitter&&c.emit("error",t)}else e&&e.apply(this,arguments)}));try{return Object.defineProperty(t,s,{value:e}),t}catch(t){return e}}try{"string"==typeof e?t instanceof Array?(l.query.preparable={text:e,args:t},a=p(a)):(l.query.text=e,a?a=p(a):t=p(t)):("string"==typeof e.name?l.query.plan=e.name:e.values instanceof Array?l.query.preparable={text:e.text,args:e.values}:l.query.text=e.text,a?a=p(a):t?t=p(t):e.callback=p(e.callback))}catch(e){return n.apply(this,arguments)}return arguments[0]=e,arguments[1]=t,arguments[2]=a,arguments.length=arguments.length>3?arguments.length:3,c=n.apply(this,arguments)},e}},t.postgres={versionSpecifier:">=7.* <=8.*",patch:function(e,t){var n=e.Client.prototype.query,s="__diagnosticOriginalFunc";return e.Client.prototype.query=function(e,t,a){var c,l,u,p=this,d=!!a,h={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},f=process.hrtime();function v(e){e&&e[s]&&(e=e[s]);var t=r.channel.bindToContext((function(t,n){var s=process.hrtime(f);if(h.result=n&&{rowCount:n.rowCount,command:n.command},h.error=t,h.duration=Math.ceil(1e3*s[0]+s[1]/1e6),r.channel.publish(o,h),t){if(e)return e.apply(this,arguments);u&&u instanceof i.EventEmitter&&u.emit("error",t)}else e&&e.apply(this,arguments)}));try{return Object.defineProperty(t,s,{value:e}),t}catch(t){return e}}try{"string"==typeof e?t instanceof Array?(h.query.preparable={text:e,args:t},a=(d="function"==typeof a)?v(a):a):(h.query.text=e,a?a=(d="function"==typeof a)?v(a):a:t=(d="function"==typeof t)?v(t):t):("string"==typeof e.name?h.query.plan=e.name:e.values instanceof Array?h.query.preparable={text:e.text,args:e.values}:e.cursor?h.query.text=null===(c=e.cursor)||void 0===c?void 0:c.text:h.query.text=e.text,a?(d="function"==typeof a,a=v(a)):t?t=(d="function"==typeof t)?v(t):t:(d="function"==typeof e.callback,e.callback=d?v(e.callback):e.callback))}catch(e){return n.apply(this,arguments)}arguments[0]=e,arguments[1]=t,arguments[2]=a,arguments.length=arguments.length>3?arguments.length:3;try{u=n.apply(this,arguments)}catch(e){throw v()(e,void 0),e}if(!d){if(u instanceof Promise)return u.then((function(e){return v()(void 0,e),new p._Promise((function(t,n){t(e)}))})).catch((function(e){return v()(e,void 0),new p._Promise((function(t,n){n(e)}))}));var g=u.text?u.text:"";if(u.cursor&&(g=null===(l=u.cursor)||void 0===l?void 0:l.text),g){var m={command:g,rowCount:0};v()(void 0,m)}}return u},e},publisherName:o},t.enable=function(){r.channel.registerMonkeyPatch("pg",t.postgres6),r.channel.registerMonkeyPatch("pg",t.postgres)}},55888:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.redis=void 0;var r=n(18579);t.redis={versionSpecifier:">= 2.0.0 < 4.0.0",patch:function(e){var t=e.RedisClient.prototype.internal_send_command;return e.RedisClient.prototype.internal_send_command=function(e){if(e){var n=e.callback;if(!n||!n.pubsubBound){var i=this.address,o=process.hrtime(),s=new Date;e.callback=r.channel.bindToContext((function(t,a){var c=process.hrtime(o),l=1e3*c[0]+c[1]/1e6|0;r.channel.publish("redis",{duration:l,address:i,commandObj:e,err:t,result:a,time:s}),"function"==typeof n&&n.apply(this,arguments)})),e.callback.pubsubBound=!0}}return t.call(this,e)},e}},t.enable=function(){r.channel.registerMonkeyPatch("redis",t.redis)}},98146:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.tedious=void 0;var i=n(18579);t.tedious={versionSpecifier:">= 6.0.0 < 9.0.0",patch:function(e){var t=e.Connection.prototype.makeRequest;return e.Connection.prototype.makeRequest=function(){var e,n,o,s=arguments[0];arguments[0].callback=(e=s.callback,n=process.hrtime(),o={query:{},database:{host:null,port:null},result:null,error:null,duration:0},i.channel.bindToContext((function(t,s,a){var c=process.hrtime(n);o=r(r({},o),{database:{host:this.connection.config.server,port:this.connection.config.options.port},result:!t&&{rowCount:s,rows:a},query:{text:this.parametersByName.statement.value},error:t,duration:Math.ceil(1e3*c[0]+c[1]/1e6)}),i.channel.publish("tedious",o),e.call(this,t,s,a)}))),t.apply(this,arguments)},e}},t.enable=function(){i.channel.registerMonkeyPatch("tedious",t.tedious)}},7411:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.winston2=t.winston3=void 0;var s=n(18579);t.winston3={versionSpecifier:"3.x",patch:function(e){var t=function(e){function t(t,n){var r=e.call(this,n)||this;return r.winston=t,r}return i(t,e),t.prototype.log=function(e,t){var n=e.message,r=e.level,i=e.meta,a=o(e,["message","level","meta"]);r="function"==typeof Symbol.for?e[Symbol.for("level")]:r,n=e instanceof Error?e:n;var c=function(e,t){return null!=e.config.npm.levels[t]?"npm":null!=e.config.syslog.levels[t]?"syslog":"unknown"}(this.winston,r);for(var l in i=i||{},a)a.hasOwnProperty(l)&&(i[l]=a[l]);s.channel.publish("winston",{message:n,level:r,levelKind:c,meta:i}),t()},t}(e.Transport);function n(){var n,r=e.config.npm.levels;for(var i in arguments&&arguments[0]&&arguments[0].levels&&(r=arguments[0].levels),r)r.hasOwnProperty(i)&&(n=void 0===n||r[i]>r[n]?i:n);this.add(new t(e,{level:n}))}var r=e.createLogger;e.createLogger=function(){var i,o=e.config.npm.levels;for(var s in arguments&&arguments[0]&&arguments[0].levels&&(o=arguments[0].levels),o)o.hasOwnProperty(s)&&(i=void 0===i||o[s]>o[i]?s:i);var a=r.apply(this,arguments);a.add(new t(e,{level:i}));var c=a.configure;return a.configure=function(){c.apply(this,arguments),n.apply(this,arguments)},a};var a=e.configure;return e.configure=function(){a.apply(this,arguments),n.apply(this,arguments)},e.add(new t(e)),e}},t.winston2={versionSpecifier:"2.x",patch:function(e){var t,n=e.Logger.prototype.log,r=function(n,r,i){var o;return o=t===e.config.npm.levels?"npm":t===e.config.syslog.levels?"syslog":"unknown",s.channel.publish("winston",{level:n,message:r,meta:i,levelKind:o}),r};return e.Logger.prototype.log=function(){return t=this.levels,this.filters&&0!==this.filters.length?this.filters[this.filters.length-1]!==r&&(this.filters=this.filters.filter((function(e){return e!==r})),this.filters.push(r)):this.filters=[r],n.apply(this,arguments)},e}},t.enable=function(){s.channel.registerMonkeyPatch("winston",t.winston2),s.channel.registerMonkeyPatch("winston",t.winston3)}},36614:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=36614,e.exports=t},18844:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=18844,e.exports=t},18579:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.channel=t.ContextPreservingEventEmitter=t.trueFilter=t.makePatchingRequire=void 0;var r=n(93703),i=n(93703);Object.defineProperty(t,"makePatchingRequire",{enumerable:!0,get:function(){return i.makePatchingRequire}}),t.trueFilter=function(e){return!0};var o=function(){function e(){this.version=n(96779).rE,this.subscribers={},this.contextPreservationFunction=function(e){return e},this.knownPatches={},this.modulesPatched=[],this.currentlyPublishing=!1}return e.prototype.shouldPublish=function(e){var t=this.subscribers[e];return!!t&&t.some((function(e){var t=e.filter;return!t||t(!1)}))},e.prototype.publish=function(e,t){if(!this.currentlyPublishing){var n=this.subscribers[e];if(n){var r={timestamp:Date.now(),data:t};this.currentlyPublishing=!0,n.forEach((function(e){var t=e.listener,n=e.filter;try{n&&n(!0)&&t(r)}catch(e){}})),this.currentlyPublishing=!1}}},e.prototype.subscribe=function(e,n,r,i){void 0===r&&(r=t.trueFilter),this.subscribers[e]||(this.subscribers[e]=[]),this.subscribers[e].push({listener:n,filter:r,patchCallback:i});var o=this.checkIfModuleIsAlreadyPatched(e);o&&i&&i(o.name,o.version)},e.prototype.unsubscribe=function(e,n,r){void 0===r&&(r=t.trueFilter);var i=this.subscribers[e];if(i)for(var o=0;o<i.length;++o)if(i[o].listener===n&&i[o].filter===r)return i.splice(o,1),!0;return!1},e.prototype.reset=function(){var e=this;this.subscribers={},this.contextPreservationFunction=function(e){return e},Object.getOwnPropertyNames(this.knownPatches).forEach((function(t){return delete e.knownPatches[t]}))},e.prototype.bindToContext=function(e){return this.contextPreservationFunction(e)},e.prototype.addContextPreservation=function(e){var t=this.contextPreservationFunction;this.contextPreservationFunction=function(n){return e(t(n))}},e.prototype.registerMonkeyPatch=function(e,t){this.knownPatches[e]||(this.knownPatches[e]=[]),this.knownPatches[e].push(t)},e.prototype.getPatchesObject=function(){return this.knownPatches},e.prototype.addPatchedModule=function(e,t){for(var n=0,r=this.modulesPatched;n<r.length;n++)if(r[n].name===e)return;this.modulesPatched.push({name:e,version:t});var i=this.subscribers[e];i&&i.forEach((function(n){n.patchCallback&&n.patchCallback(e,t)}))},e.prototype.checkIfModuleIsAlreadyPatched=function(e){for(var t=0,n=this.modulesPatched;t<n.length;t++){var r=n[t];if(r.name===e)return r}return null},e}();t.ContextPreservingEventEmitter=o,global.diagnosticsSource||(global.diagnosticsSource=new o,n(73339).prototype.require=r.makePatchingRequire(global.diagnosticsSource.getPatchesObject())),t.channel=global.diagnosticsSource},93703:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makePatchingRequire=void 0;var r=n(16928),i=n(99589),o=n(18579),s=n(73339),a=Object.keys(process.binding("natives")),c=s.prototype.require;t.makePatchingRequire=function(e){var t={};return function(n){var l=c.apply(this,arguments);if(e[n]){var u=s._resolveFilename(n,this);if(t.hasOwnProperty(u))return t[u];var p=void 0;if(a.indexOf(n)<0)try{p=c.call(this,r.join(n,"package.json")).version}catch(e){return l}else p=process.version.substring(1);var d=p.indexOf("-");d>=0&&(p=p.substring(0,d));for(var h=l,f=0,v=e[n];f<v.length;f++){var g=v[f];if(i.satisfies(p,g.versionSpecifier)&&(h=g.patch(h,u),o.channel)){var m=g.publisherName||n;o.channel.addPatchedModule(m,p)}}return t[u]=h}return l}}},98482:(e,t,n)=>{"use strict";var r=n(81132),i=r.wrap,o=r.unwrap,s="wrap@before";function a(e,t,n){var r=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:r,writable:!0,value:n})}function c(e,t){var n;return n=e._events&&e._events[t],Array.isArray(n)||(n=n?[n]:[]),n}function l(e,t){if(e){var n=e;if("function"==typeof e)n=t(e);else if(Array.isArray(e)){n=[];for(var r=0;r<e.length;r++)n[r]=t(e[r])}return n}}e.exports=function(e,t,n){if(!(e&&e.on&&e.addListener&&e.removeListener&&e.emit))throw new Error("can only wrap real EEs");if(!t)throw new Error("must have function to run on listener addition");if(!n)throw new Error("must have function to wrap listeners when emitting");function r(e){return function(t,n){var o=c(this,t).slice();try{var a=e.call(this,t,n);return function(e,t,n){var r=c(e,t).filter((function(e){return-1===n.indexOf(e)}));r.length>0&&function(e,t){for(var n=t.length,r=0;r<n;r++){var i=t[r],o=e[s];if("function"==typeof o)o(i);else if(Array.isArray(o))for(var a=o.length,c=0;c<a;c++)o[c](i)}}(e,r)}(this,t,o),a}finally{this.on.__wrapped||i(this,"on",r),this.addListener.__wrapped||i(this,"addListener",r)}}}e[s]?"function"==typeof e[s]?a(e,s,[e[s],t]):Array.isArray(e[s])&&e[s].push(t):a(e,s,t),e.__wrapped||(i(e,"addListener",r),i(e,"on",r),i(e,"emit",(function(e){return function(t){if(!this._events||!this._events[t])return e.apply(this,arguments);var r=this._events[t];i(this,"removeListener",(function(e){return function(){this._events[t]=r;try{return e.apply(this,arguments)}finally{r=this._events[t],this._events[t]=l(r,n)}}}));try{return this._events[t]=l(r,n),e.apply(this,arguments)}finally{o(this,"removeListener"),this._events[t]=r}}})),a(e,"__unwrap",(function(){o(e,"addListener"),o(e,"on"),o(e,"emit"),delete e[s],delete e.__wrapped})),a(e,"__wrapped",!0))}},30737:(e,t,n)=>{var r=n(80801),i=n(39023),o=n(16928),s=n(58611),a=n(65692),c=n(87016).parse,l=n(79896),u=n(2203).Stream,p=n(86049),d=n(21873),h=n(41362);function f(e){if(!(this instanceof f))return new f(e);for(var t in this._overheadLength=0,this._valueLength=0,this._valuesToMeasure=[],r.call(this),e=e||{})this[t]=e[t]}e.exports=f,i.inherits(f,r),f.LINE_BREAK="\r\n",f.DEFAULT_CONTENT_TYPE="application/octet-stream",f.prototype.append=function(e,t,n){"string"==typeof(n=n||{})&&(n={filename:n});var o=r.prototype.append.bind(this);if("number"==typeof t&&(t=""+t),i.isArray(t))this._error(new Error("Arrays are not supported."));else{var s=this._multiPartHeader(e,t,n),a=this._multiPartFooter();o(s),o(t),o(a),this._trackLength(s,t,n)}},f.prototype._trackLength=function(e,t,n){var r=0;null!=n.knownLength?r+=+n.knownLength:Buffer.isBuffer(t)?r=t.length:"string"==typeof t&&(r=Buffer.byteLength(t)),this._valueLength+=r,this._overheadLength+=Buffer.byteLength(e)+f.LINE_BREAK.length,t&&(t.path||t.readable&&t.hasOwnProperty("httpVersion")||t instanceof u)&&(n.knownLength||this._valuesToMeasure.push(t))},f.prototype._lengthRetriever=function(e,t){e.hasOwnProperty("fd")?null!=e.end&&e.end!=1/0&&null!=e.start?t(null,e.end+1-(e.start?e.start:0)):l.stat(e.path,(function(n,r){var i;n?t(n):(i=r.size-(e.start?e.start:0),t(null,i))})):e.hasOwnProperty("httpVersion")?t(null,+e.headers["content-length"]):e.hasOwnProperty("httpModule")?(e.on("response",(function(n){e.pause(),t(null,+n.headers["content-length"])})),e.resume()):t("Unknown stream")},f.prototype._multiPartHeader=function(e,t,n){if("string"==typeof n.header)return n.header;var r,i=this._getContentDisposition(t,n),o=this._getContentType(t,n),s="",a={"Content-Disposition":["form-data",'name="'+e+'"'].concat(i||[]),"Content-Type":[].concat(o||[])};for(var c in"object"==typeof n.header&&h(a,n.header),a)a.hasOwnProperty(c)&&null!=(r=a[c])&&(Array.isArray(r)||(r=[r]),r.length&&(s+=c+": "+r.join("; ")+f.LINE_BREAK));return"--"+this.getBoundary()+f.LINE_BREAK+s+f.LINE_BREAK},f.prototype._getContentDisposition=function(e,t){var n,r;return"string"==typeof t.filepath?n=o.normalize(t.filepath).replace(/\\/g,"/"):t.filename||e.name||e.path?n=o.basename(t.filename||e.name||e.path):e.readable&&e.hasOwnProperty("httpVersion")&&(n=o.basename(e.client._httpMessage.path||"")),n&&(r='filename="'+n+'"'),r},f.prototype._getContentType=function(e,t){var n=t.contentType;return!n&&e.name&&(n=p.lookup(e.name)),!n&&e.path&&(n=p.lookup(e.path)),!n&&e.readable&&e.hasOwnProperty("httpVersion")&&(n=e.headers["content-type"]),n||!t.filepath&&!t.filename||(n=p.lookup(t.filepath||t.filename)),n||"object"!=typeof e||(n=f.DEFAULT_CONTENT_TYPE),n},f.prototype._multiPartFooter=function(){return function(e){var t=f.LINE_BREAK;0===this._streams.length&&(t+=this._lastBoundary()),e(t)}.bind(this)},f.prototype._lastBoundary=function(){return"--"+this.getBoundary()+"--"+f.LINE_BREAK},f.prototype.getHeaders=function(e){var t,n={"content-type":"multipart/form-data; boundary="+this.getBoundary()};for(t in e)e.hasOwnProperty(t)&&(n[t.toLowerCase()]=e[t]);return n},f.prototype.setBoundary=function(e){this._boundary=e},f.prototype.getBoundary=function(){return this._boundary||this._generateBoundary(),this._boundary},f.prototype.getBuffer=function(){for(var e=new Buffer.alloc(0),t=this.getBoundary(),n=0,r=this._streams.length;n<r;n++)"function"!=typeof this._streams[n]&&(e=Buffer.isBuffer(this._streams[n])?Buffer.concat([e,this._streams[n]]):Buffer.concat([e,Buffer.from(this._streams[n])]),"string"==typeof this._streams[n]&&this._streams[n].substring(2,t.length+2)===t||(e=Buffer.concat([e,Buffer.from(f.LINE_BREAK)])));return Buffer.concat([e,Buffer.from(this._lastBoundary())])},f.prototype._generateBoundary=function(){for(var e="--------------------------",t=0;t<24;t++)e+=Math.floor(10*Math.random()).toString(16);this._boundary=e},f.prototype.getLengthSync=function(){var e=this._overheadLength+this._valueLength;return this._streams.length&&(e+=this._lastBoundary().length),this.hasKnownLength()||this._error(new Error("Cannot calculate proper length in synchronous way.")),e},f.prototype.hasKnownLength=function(){var e=!0;return this._valuesToMeasure.length&&(e=!1),e},f.prototype.getLength=function(e){var t=this._overheadLength+this._valueLength;this._streams.length&&(t+=this._lastBoundary().length),this._valuesToMeasure.length?d.parallel(this._valuesToMeasure,this._lengthRetriever,(function(n,r){n?e(n):(r.forEach((function(e){t+=e})),e(null,t))})):process.nextTick(e.bind(this,null,t))},f.prototype.submit=function(e,t){var n,r,i={method:"post"};return"string"==typeof e?(e=c(e),r=h({port:e.port,path:e.pathname,host:e.hostname,protocol:e.protocol},i)):(r=h(e,i)).port||(r.port="https:"==r.protocol?443:80),r.headers=this.getHeaders(e.headers),n="https:"==r.protocol?a.request(r):s.request(r),this.getLength(function(e,r){if(e&&"Unknown stream"!==e)this._error(e);else if(r&&n.setHeader("Content-Length",r),this.pipe(n),t){var i,o=function(e,r){return n.removeListener("error",o),n.removeListener("response",i),t.call(this,e,r)};i=o.bind(this,null),n.on("error",o),n.on("response",i)}}.bind(this)),n},f.prototype._error=function(e){this.error||(this.error=e,this.pause(),this.emit("error",e))},f.prototype.toString=function(){return"[object FormData]"}},41362:e=>{e.exports=function(e,t){return Object.keys(t).forEach((function(n){e[n]=e[n]||t[n]})),e}},23876:(e,t,n)=>{"use strict";const r=n(63735),i=n(16928),o=n(63798).mkdirsSync,s=n(47211).utimesMillisSync,a=n(66462);function c(e,t,n,o){const s=(o.dereference?r.statSync:r.lstatSync)(t);if(s.isDirectory())return function(e,t,n,i,o){return t?p(n,i,o):function(e,t,n,i){return r.mkdirSync(n),p(t,n,i),u(n,e)}(e.mode,n,i,o)}(s,e,t,n,o);if(s.isFile()||s.isCharacterDevice()||s.isBlockDevice())return function(e,t,n,i,o){return t?function(e,t,n,i){if(i.overwrite)return r.unlinkSync(n),l(e,t,n,i);if(i.errorOnExist)throw new Error(`'${n}' already exists`)}(e,n,i,o):l(e,n,i,o)}(s,e,t,n,o);if(s.isSymbolicLink())return function(e,t,n,o){let s=r.readlinkSync(t);if(o.dereference&&(s=i.resolve(process.cwd(),s)),e){let e;try{e=r.readlinkSync(n)}catch(e){if("EINVAL"===e.code||"UNKNOWN"===e.code)return r.symlinkSync(s,n);throw e}if(o.dereference&&(e=i.resolve(process.cwd(),e)),a.isSrcSubdir(s,e))throw new Error(`Cannot copy '${s}' to a subdirectory of itself, '${e}'.`);if(a.isSrcSubdir(e,s))throw new Error(`Cannot overwrite '${e}' with '${s}'.`);return function(e,t){return r.unlinkSync(t),r.symlinkSync(e,t)}(s,n)}return r.symlinkSync(s,n)}(e,t,n,o);if(s.isSocket())throw new Error(`Cannot copy a socket file: ${t}`);if(s.isFIFO())throw new Error(`Cannot copy a FIFO pipe: ${t}`);throw new Error(`Unknown file: ${t}`)}function l(e,t,n,i){return r.copyFileSync(t,n),i.preserveTimestamps&&function(e,t,n){(function(e){return!(128&e)})(e)&&function(e,t){u(e,128|t)}(n,e),function(e,t){const n=r.statSync(e);s(t,n.atime,n.mtime)}(t,n)}(e.mode,t,n),u(n,e.mode)}function u(e,t){return r.chmodSync(e,t)}function p(e,t,n){r.readdirSync(e).forEach((r=>function(e,t,n,r){const o=i.join(t,e),s=i.join(n,e);if(r.filter&&!r.filter(o,s))return;const{destStat:l}=a.checkPathsSync(o,s,"copy",r);return c(l,o,s,r)}(r,e,t,n)))}e.exports=function(e,t,n){"function"==typeof n&&(n={filter:n}),(n=n||{}).clobber=!("clobber"in n)||!!n.clobber,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&"ia32"===process.arch&&process.emitWarning("Using the preserveTimestamps option in 32-bit node is not recommended;\n\n\tsee https://github.com/jprichardson/node-fs-extra/issues/269","Warning","fs-extra-WARN0002");const{srcStat:s,destStat:l}=a.checkPathsSync(e,t,"copy",n);if(a.checkParentPathsSync(e,s,t,"copy"),n.filter&&!n.filter(e,t))return;const u=i.dirname(t);return r.existsSync(u)||o(u),c(l,e,t,n)}},4994:(e,t,n)=>{"use strict";const r=n(98737),i=n(16928),{mkdirs:o}=n(63798),{pathExists:s}=n(29288),{utimesMillis:a}=n(47211),c=n(66462);async function l(e,t,n){return!n.filter||n.filter(e,t)}async function u(e,t,n,o){const s=o.dereference?r.stat:r.lstat,a=await s(t);if(a.isDirectory())return async function(e,t,n,o,s){t||await r.mkdir(o);const a=await r.readdir(n);await Promise.all(a.map((async e=>{const t=i.join(n,e),r=i.join(o,e);if(!await l(t,r,s))return;const{destStat:a}=await c.checkPaths(t,r,"copy",s);return u(a,t,r,s)}))),t||await r.chmod(o,e.mode)}(a,e,t,n,o);if(a.isFile()||a.isCharacterDevice()||a.isBlockDevice())return async function(e,t,n,i,o){if(!t)return p(e,n,i,o);if(o.overwrite)return await r.unlink(i),p(e,n,i,o);if(o.errorOnExist)throw new Error(`'${i}' already exists`)}(a,e,t,n,o);if(a.isSymbolicLink())return async function(e,t,n,o){let s=await r.readlink(t);if(o.dereference&&(s=i.resolve(process.cwd(),s)),!e)return r.symlink(s,n);let a=null;try{a=await r.readlink(n)}catch(e){if("EINVAL"===e.code||"UNKNOWN"===e.code)return r.symlink(s,n);throw e}if(o.dereference&&(a=i.resolve(process.cwd(),a)),c.isSrcSubdir(s,a))throw new Error(`Cannot copy '${s}' to a subdirectory of itself, '${a}'.`);if(c.isSrcSubdir(a,s))throw new Error(`Cannot overwrite '${a}' with '${s}'.`);return await r.unlink(n),r.symlink(s,n)}(e,t,n,o);if(a.isSocket())throw new Error(`Cannot copy a socket file: ${t}`);if(a.isFIFO())throw new Error(`Cannot copy a FIFO pipe: ${t}`);throw new Error(`Unknown file: ${t}`)}async function p(e,t,n,i){if(await r.copyFile(t,n),i.preserveTimestamps){128&e.mode||await function(e,t){return r.chmod(e,128|t)}(n,e.mode);const i=await r.stat(t);await a(n,i.atime,i.mtime)}return r.chmod(n,e.mode)}e.exports=async function(e,t,n={}){"function"==typeof n&&(n={filter:n}),n.clobber=!("clobber"in n)||!!n.clobber,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&"ia32"===process.arch&&process.emitWarning("Using the preserveTimestamps option in 32-bit node is not recommended;\n\n\tsee https://github.com/jprichardson/node-fs-extra/issues/269","Warning","fs-extra-WARN0001");const{srcStat:r,destStat:a}=await c.checkPaths(e,t,"copy",n);if(await c.checkParentPaths(e,r,t,"copy"),!await l(e,t,n))return;const p=i.dirname(t);await s(p)||await o(p),await u(a,e,t,n)}},4423:(e,t,n)=>{"use strict";const r=n(97500).fromPromise;e.exports={copy:r(n(4994)),copySync:n(23876)}},52591:(e,t,n)=>{"use strict";const r=n(97500).fromPromise,i=n(98737),o=n(16928),s=n(63798),a=n(35422),c=r((async function(e){let t;try{t=await i.readdir(e)}catch{return s.mkdirs(e)}return Promise.all(t.map((t=>a.remove(o.join(e,t)))))}));function l(e){let t;try{t=i.readdirSync(e)}catch{return s.mkdirsSync(e)}t.forEach((t=>{t=o.join(e,t),a.removeSync(t)}))}e.exports={emptyDirSync:l,emptydirSync:l,emptyDir:c,emptydir:c}},89616:(e,t,n)=>{"use strict";const r=n(97500).fromPromise,i=n(16928),o=n(98737),s=n(63798);e.exports={createFile:r((async function(e){let t;try{t=await o.stat(e)}catch{}if(t&&t.isFile())return;const n=i.dirname(e);let r=null;try{r=await o.stat(n)}catch(t){if("ENOENT"===t.code)return await s.mkdirs(n),void await o.writeFile(e,"");throw t}r.isDirectory()?await o.writeFile(e,""):await o.readdir(n)})),createFileSync:function(e){let t;try{t=o.statSync(e)}catch{}if(t&&t.isFile())return;const n=i.dirname(e);try{o.statSync(n).isDirectory()||o.readdirSync(n)}catch(e){if(!e||"ENOENT"!==e.code)throw e;s.mkdirsSync(n)}o.writeFileSync(e,"")}}},76288:(e,t,n)=>{"use strict";const{createFile:r,createFileSync:i}=n(89616),{createLink:o,createLinkSync:s}=n(91522),{createSymlink:a,createSymlinkSync:c}=n(55291);e.exports={createFile:r,createFileSync:i,ensureFile:r,ensureFileSync:i,createLink:o,createLinkSync:s,ensureLink:o,ensureLinkSync:s,createSymlink:a,createSymlinkSync:c,ensureSymlink:a,ensureSymlinkSync:c}},91522:(e,t,n)=>{"use strict";const r=n(97500).fromPromise,i=n(16928),o=n(98737),s=n(63798),{pathExists:a}=n(29288),{areIdentical:c}=n(66462);e.exports={createLink:r((async function(e,t){let n,r;try{n=await o.lstat(t)}catch{}try{r=await o.lstat(e)}catch(e){throw e.message=e.message.replace("lstat","ensureLink"),e}if(n&&c(r,n))return;const l=i.dirname(t);await a(l)||await s.mkdirs(l),await o.link(e,t)})),createLinkSync:function(e,t){let n;try{n=o.lstatSync(t)}catch{}try{const t=o.lstatSync(e);if(n&&c(t,n))return}catch(e){throw e.message=e.message.replace("lstat","ensureLink"),e}const r=i.dirname(t);return o.existsSync(r)||s.mkdirsSync(r),o.linkSync(e,t)}}},73838:(e,t,n)=>{"use strict";const r=n(16928),i=n(98737),{pathExists:o}=n(29288),s=n(97500).fromPromise;e.exports={symlinkPaths:s((async function(e,t){if(r.isAbsolute(e)){try{await i.lstat(e)}catch(e){throw e.message=e.message.replace("lstat","ensureSymlink"),e}return{toCwd:e,toDst:e}}const n=r.dirname(t),s=r.join(n,e);if(await o(s))return{toCwd:s,toDst:e};try{await i.lstat(e)}catch(e){throw e.message=e.message.replace("lstat","ensureSymlink"),e}return{toCwd:e,toDst:r.relative(n,e)}})),symlinkPathsSync:function(e,t){if(r.isAbsolute(e)){if(!i.existsSync(e))throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}const n=r.dirname(t),o=r.join(n,e);if(i.existsSync(o))return{toCwd:o,toDst:e};if(!i.existsSync(e))throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:r.relative(n,e)}}}},47064:(e,t,n)=>{"use strict";const r=n(98737),i=n(97500).fromPromise;e.exports={symlinkType:i((async function(e,t){if(t)return t;let n;try{n=await r.lstat(e)}catch{return"file"}return n&&n.isDirectory()?"dir":"file"})),symlinkTypeSync:function(e,t){if(t)return t;let n;try{n=r.lstatSync(e)}catch{return"file"}return n&&n.isDirectory()?"dir":"file"}}},55291:(e,t,n)=>{"use strict";const r=n(97500).fromPromise,i=n(16928),o=n(98737),{mkdirs:s,mkdirsSync:a}=n(63798),{symlinkPaths:c,symlinkPathsSync:l}=n(73838),{symlinkType:u,symlinkTypeSync:p}=n(47064),{pathExists:d}=n(29288),{areIdentical:h}=n(66462);e.exports={createSymlink:r((async function(e,t,n){let r;try{r=await o.lstat(t)}catch{}if(r&&r.isSymbolicLink()){const[n,r]=await Promise.all([o.stat(e),o.stat(t)]);if(h(n,r))return}const a=await c(e,t);e=a.toDst;const l=await u(a.toCwd,n),p=i.dirname(t);return await d(p)||await s(p),o.symlink(e,t,l)})),createSymlinkSync:function(e,t,n){let r;try{r=o.lstatSync(t)}catch{}if(r&&r.isSymbolicLink()){const n=o.statSync(e),r=o.statSync(t);if(h(n,r))return}const s=l(e,t);e=s.toDst,n=p(s.toCwd,n);const c=i.dirname(t);return o.existsSync(c)||a(c),o.symlinkSync(e,t,n)}}},98737:(e,t,n)=>{"use strict";const r=n(97500).fromCallback,i=n(63735),o=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter((e=>"function"==typeof i[e]));Object.assign(t,i),o.forEach((e=>{t[e]=r(i[e])})),t.exists=function(e,t){return"function"==typeof t?i.exists(e,t):new Promise((t=>i.exists(e,t)))},t.read=function(e,t,n,r,o,s){return"function"==typeof s?i.read(e,t,n,r,o,s):new Promise(((s,a)=>{i.read(e,t,n,r,o,((e,t,n)=>{if(e)return a(e);s({bytesRead:t,buffer:n})}))}))},t.write=function(e,t,...n){return"function"==typeof n[n.length-1]?i.write(e,t,...n):new Promise(((r,o)=>{i.write(e,t,...n,((e,t,n)=>{if(e)return o(e);r({bytesWritten:t,buffer:n})}))}))},t.readv=function(e,t,...n){return"function"==typeof n[n.length-1]?i.readv(e,t,...n):new Promise(((r,o)=>{i.readv(e,t,...n,((e,t,n)=>{if(e)return o(e);r({bytesRead:t,buffers:n})}))}))},t.writev=function(e,t,...n){return"function"==typeof n[n.length-1]?i.writev(e,t,...n):new Promise(((r,o)=>{i.writev(e,t,...n,((e,t,n)=>{if(e)return o(e);r({bytesWritten:t,buffers:n})}))}))},"function"==typeof i.realpath.native?t.realpath.native=r(i.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")},21605:(e,t,n)=>{"use strict";e.exports={...n(98737),...n(4423),...n(52591),...n(76288),...n(23376),...n(63798),...n(42455),...n(77024),...n(29288),...n(35422)}},23376:(e,t,n)=>{"use strict";const r=n(97500).fromPromise,i=n(12934);i.outputJson=r(n(6426)),i.outputJsonSync=n(32188),i.outputJSON=i.outputJson,i.outputJSONSync=i.outputJsonSync,i.writeJSON=i.writeJson,i.writeJSONSync=i.writeJsonSync,i.readJSON=i.readJson,i.readJSONSync=i.readJsonSync,e.exports=i},12934:(e,t,n)=>{"use strict";const r=n(53669);e.exports={readJson:r.readFile,readJsonSync:r.readFileSync,writeJson:r.writeFile,writeJsonSync:r.writeFileSync}},32188:(e,t,n)=>{"use strict";const{stringify:r}=n(53248),{outputFileSync:i}=n(77024);e.exports=function(e,t,n){const o=r(t,n);i(e,o,n)}},6426:(e,t,n)=>{"use strict";const{stringify:r}=n(53248),{outputFile:i}=n(77024);e.exports=async function(e,t,n={}){const o=r(t,n);await i(e,o,n)}},63798:(e,t,n)=>{"use strict";const r=n(97500).fromPromise,{makeDir:i,makeDirSync:o}=n(98916),s=r(i);e.exports={mkdirs:s,mkdirsSync:o,mkdirp:s,mkdirpSync:o,ensureDir:s,ensureDirSync:o}},98916:(e,t,n)=>{"use strict";const r=n(98737),{checkPath:i}=n(17111),o=e=>"number"==typeof e?e:{mode:511,...e}.mode;e.exports.makeDir=async(e,t)=>(i(e),r.mkdir(e,{mode:o(t),recursive:!0})),e.exports.makeDirSync=(e,t)=>(i(e),r.mkdirSync(e,{mode:o(t),recursive:!0}))},17111:(e,t,n)=>{"use strict";const r=n(16928);e.exports.checkPath=function(e){if("win32"===process.platform&&/[<>:"|?*]/.test(e.replace(r.parse(e).root,""))){const t=new Error(`Path contains invalid characters: ${e}`);throw t.code="EINVAL",t}}},42455:(e,t,n)=>{"use strict";const r=n(97500).fromPromise;e.exports={move:r(n(13314)),moveSync:n(86244)}},86244:(e,t,n)=>{"use strict";const r=n(63735),i=n(16928),o=n(4423).copySync,s=n(35422).removeSync,a=n(63798).mkdirpSync,c=n(66462);function l(e,t,n){try{r.renameSync(e,t)}catch(r){if("EXDEV"!==r.code)throw r;return function(e,t,n){return o(e,t,{overwrite:n,errorOnExist:!0,preserveTimestamps:!0}),s(e)}(e,t,n)}}e.exports=function(e,t,n){const o=(n=n||{}).overwrite||n.clobber||!1,{srcStat:u,isChangingCase:p=!1}=c.checkPathsSync(e,t,"move",n);return c.checkParentPathsSync(e,u,t,"move"),function(e){const t=i.dirname(e);return i.parse(t).root===t}(t)||a(i.dirname(t)),function(e,t,n,i){if(i)return l(e,t,n);if(n)return s(t),l(e,t,n);if(r.existsSync(t))throw new Error("dest already exists.");return l(e,t,n)}(e,t,o,p)}},13314:(e,t,n)=>{"use strict";const r=n(98737),i=n(16928),{copy:o}=n(4423),{remove:s}=n(35422),{mkdirp:a}=n(63798),{pathExists:c}=n(29288),l=n(66462);e.exports=async function(e,t,n={}){const u=n.overwrite||n.clobber||!1,{srcStat:p,isChangingCase:d=!1}=await l.checkPaths(e,t,"move",n);await l.checkParentPaths(e,p,t,"move");const h=i.dirname(t);return i.parse(h).root!==h&&await a(h),async function(e,t,n,i){if(!i)if(n)await s(t);else if(await c(t))throw new Error("dest already exists.");try{await r.rename(e,t)}catch(r){if("EXDEV"!==r.code)throw r;await async function(e,t,n){const r={overwrite:n,errorOnExist:!0,preserveTimestamps:!0};return await o(e,t,r),s(e)}(e,t,n)}}(e,t,u,d)}},77024:(e,t,n)=>{"use strict";const r=n(97500).fromPromise,i=n(98737),o=n(16928),s=n(63798),a=n(29288).pathExists;e.exports={outputFile:r((async function(e,t,n="utf-8"){const r=o.dirname(e);return await a(r)||await s.mkdirs(r),i.writeFile(e,t,n)})),outputFileSync:function(e,...t){const n=o.dirname(e);i.existsSync(n)||s.mkdirsSync(n),i.writeFileSync(e,...t)}}},29288:(e,t,n)=>{"use strict";const r=n(97500).fromPromise,i=n(98737);e.exports={pathExists:r((function(e){return i.access(e).then((()=>!0)).catch((()=>!1))})),pathExistsSync:i.existsSync}},35422:(e,t,n)=>{"use strict";const r=n(63735),i=n(97500).fromCallback;e.exports={remove:i((function(e,t){r.rm(e,{recursive:!0,force:!0},t)})),removeSync:function(e){r.rmSync(e,{recursive:!0,force:!0})}}},66462:(e,t,n)=>{"use strict";const r=n(98737),i=n(16928),o=n(97500).fromPromise;function s(e,t){return t.ino&&t.dev&&t.ino===e.ino&&t.dev===e.dev}function a(e,t){const n=i.resolve(e).split(i.sep).filter((e=>e)),r=i.resolve(t).split(i.sep).filter((e=>e));return n.every(((e,t)=>r[t]===e))}function c(e,t,n){return`Cannot ${n} '${e}' to a subdirectory of itself, '${t}'.`}e.exports={checkPaths:o((async function(e,t,n,o){const{srcStat:l,destStat:u}=await function(e,t,n){const i=n.dereference?e=>r.stat(e,{bigint:!0}):e=>r.lstat(e,{bigint:!0});return Promise.all([i(e),i(t).catch((e=>{if("ENOENT"===e.code)return null;throw e}))]).then((([e,t])=>({srcStat:e,destStat:t})))}(e,t,o);if(u){if(s(l,u)){const r=i.basename(e),o=i.basename(t);if("move"===n&&r!==o&&r.toLowerCase()===o.toLowerCase())return{srcStat:l,destStat:u,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(l.isDirectory()&&!u.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!l.isDirectory()&&u.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(l.isDirectory()&&a(e,t))throw new Error(c(e,t,n));return{srcStat:l,destStat:u}})),checkPathsSync:function(e,t,n,o){const{srcStat:l,destStat:u}=function(e,t,n){let i;const o=n.dereference?e=>r.statSync(e,{bigint:!0}):e=>r.lstatSync(e,{bigint:!0}),s=o(e);try{i=o(t)}catch(e){if("ENOENT"===e.code)return{srcStat:s,destStat:null};throw e}return{srcStat:s,destStat:i}}(e,t,o);if(u){if(s(l,u)){const r=i.basename(e),o=i.basename(t);if("move"===n&&r!==o&&r.toLowerCase()===o.toLowerCase())return{srcStat:l,destStat:u,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(l.isDirectory()&&!u.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!l.isDirectory()&&u.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(l.isDirectory()&&a(e,t))throw new Error(c(e,t,n));return{srcStat:l,destStat:u}},checkParentPaths:o((async function e(t,n,o,a){const l=i.resolve(i.dirname(t)),u=i.resolve(i.dirname(o));if(u===l||u===i.parse(u).root)return;let p;try{p=await r.stat(u,{bigint:!0})}catch(e){if("ENOENT"===e.code)return;throw e}if(s(n,p))throw new Error(c(t,o,a));return e(t,n,u,a)})),checkParentPathsSync:function e(t,n,o,a){const l=i.resolve(i.dirname(t)),u=i.resolve(i.dirname(o));if(u===l||u===i.parse(u).root)return;let p;try{p=r.statSync(u,{bigint:!0})}catch(e){if("ENOENT"===e.code)return;throw e}if(s(n,p))throw new Error(c(t,o,a));return e(t,n,u,a)},isSrcSubdir:a,areIdentical:s}},47211:(e,t,n)=>{"use strict";const r=n(98737),i=n(97500).fromPromise;e.exports={utimesMillis:i((async function(e,t,n){const i=await r.open(e,"r+");let o=null;try{await r.futimes(i,t,n)}finally{try{await r.close(i)}catch(e){o=e}}if(o)throw o})),utimesMillisSync:function(e,t,n){const i=r.openSync(e,"r+");return r.futimesSync(i,t,n),r.closeSync(i)}}},53669:(e,t,n)=>{let r;try{r=n(63735)}catch(e){r=n(79896)}const i=n(97500),{stringify:o,stripBom:s}=n(53248),a={readFile:i.fromPromise((async function(e,t={}){"string"==typeof t&&(t={encoding:t});const n=t.fs||r,o=!("throws"in t)||t.throws;let a,c=await i.fromCallback(n.readFile)(e,t);c=s(c);try{a=JSON.parse(c,t?t.reviver:null)}catch(t){if(o)throw t.message=`${e}: ${t.message}`,t;return null}return a})),readFileSync:function(e,t={}){"string"==typeof t&&(t={encoding:t});const n=t.fs||r,i=!("throws"in t)||t.throws;try{let r=n.readFileSync(e,t);return r=s(r),JSON.parse(r,t.reviver)}catch(t){if(i)throw t.message=`${e}: ${t.message}`,t;return null}},writeFile:i.fromPromise((async function(e,t,n={}){const s=n.fs||r,a=o(t,n);await i.fromCallback(s.writeFile)(e,a,n)})),writeFileSync:function(e,t,n={}){const i=n.fs||r,s=o(t,n);return i.writeFileSync(e,s,n)}};e.exports=a},53248:e=>{e.exports={stringify:function(e,{EOL:t="\n",finalEOL:n=!0,replacer:r=null,spaces:i}={}){const o=n?t:"";return JSON.stringify(e,r,i).replace(/\n/g,t)+o},stripBom:function(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e.replace(/^\uFEFF/,"")}}},97500:(e,t)=>{"use strict";t.fromCallback=function(e){return Object.defineProperty((function(...t){if("function"!=typeof t[t.length-1])return new Promise(((n,r)=>{e.call(this,...t,((e,t)=>null!=e?r(e):n(t)))}));e.apply(this,t)}),"name",{value:e.name})},t.fromPromise=function(e){return Object.defineProperty((function(...t){const n=t[t.length-1];if("function"!=typeof n)return e.apply(this,t);e.apply(this,t.slice(0,-1)).then((e=>n(null,e)),n)}),"name",{value:e.name})}},61455:(e,t,n)=>{e.exports=u,u.realpath=u,u.sync=p,u.realpathSync=p,u.monkeypatch=function(){r.realpath=u,r.realpathSync=p},u.unmonkeypatch=function(){r.realpath=i,r.realpathSync=o};var r=n(79896),i=r.realpath,o=r.realpathSync,s=process.version,a=/^v[0-5]\./.test(s),c=n(46674);function l(e){return e&&"realpath"===e.syscall&&("ELOOP"===e.code||"ENOMEM"===e.code||"ENAMETOOLONG"===e.code)}function u(e,t,n){if(a)return i(e,t,n);"function"==typeof t&&(n=t,t=null),i(e,t,(function(r,i){l(r)?c.realpath(e,t,n):n(r,i)}))}function p(e,t){if(a)return o(e,t);try{return o(e,t)}catch(n){if(l(n))return c.realpathSync(e,t);throw n}}},46674:(e,t,n)=>{var r=n(16928),i="win32"===process.platform,o=n(79896),s=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);if(r.normalize,i)var a=/(.*?)(?:[\/\\]+|$)/g;else a=/(.*?)(?:[\/]+|$)/g;if(i)var c=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/;else c=/^[\/]*/;t.realpathSync=function(e,t){if(e=r.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return t[e];var n,s,l,u,p=e,d={},h={};function f(){var t=c.exec(e);n=t[0].length,s=t[0],l=t[0],u="",i&&!h[l]&&(o.lstatSync(l),h[l]=!0)}for(f();n<e.length;){a.lastIndex=n;var v=a.exec(e);if(u=s,s+=v[0],l=u+v[1],n=a.lastIndex,!(h[l]||t&&t[l]===l)){var g;if(t&&Object.prototype.hasOwnProperty.call(t,l))g=t[l];else{var m=o.lstatSync(l);if(!m.isSymbolicLink()){h[l]=!0,t&&(t[l]=l);continue}var y=null;if(!i){var b=m.dev.toString(32)+":"+m.ino.toString(32);d.hasOwnProperty(b)&&(y=d[b])}null===y&&(o.statSync(l),y=o.readlinkSync(l)),g=r.resolve(u,y),t&&(t[l]=g),i||(d[b]=y)}e=r.resolve(g,e.slice(n)),f()}}return t&&(t[p]=e),e},t.realpath=function(e,t,n){if("function"!=typeof n&&(n=function(e){return"function"==typeof e?e:function(){var e;if(s){var t=new Error;e=function(e){e&&(t.message=e.message,n(e=t))}}else e=n;return e;function n(e){if(e){if(process.throwDeprecation)throw e;if(!process.noDeprecation){var t="fs: missing callback "+(e.stack||e.message);process.traceDeprecation?console.trace(t):console.error(t)}}}}()}(t),t=null),e=r.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return process.nextTick(n.bind(null,null,t[e]));var l,u,p,d,h=e,f={},v={};function g(){var t=c.exec(e);l=t[0].length,u=t[0],p=t[0],d="",i&&!v[p]?o.lstat(p,(function(e){if(e)return n(e);v[p]=!0,m()})):process.nextTick(m)}function m(){if(l>=e.length)return t&&(t[h]=e),n(null,e);a.lastIndex=l;var r=a.exec(e);return d=u,u+=r[0],p=d+r[1],l=a.lastIndex,v[p]||t&&t[p]===p?process.nextTick(m):t&&Object.prototype.hasOwnProperty.call(t,p)?_(t[p]):o.lstat(p,y)}function y(e,r){if(e)return n(e);if(!r.isSymbolicLink())return v[p]=!0,t&&(t[p]=p),process.nextTick(m);if(!i){var s=r.dev.toString(32)+":"+r.ino.toString(32);if(f.hasOwnProperty(s))return b(null,f[s],p)}o.stat(p,(function(e){if(e)return n(e);o.readlink(p,(function(e,t){i||(f[s]=t),b(e,t)}))}))}function b(e,i,o){if(e)return n(e);var s=r.resolve(d,i);t&&(t[o]=s),_(s)}function _(t){e=r.resolve(t,e.slice(l)),g()}g()}},61198:(e,t,n)=>{function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.setopts=function(e,t,n){if(n||(n={}),n.matchBase&&-1===t.indexOf("/")){if(n.noglobstar)throw new Error("base matching requires globstar");t="**/"+t}e.silent=!!n.silent,e.pattern=t,e.strict=!1!==n.strict,e.realpath=!!n.realpath,e.realpathCache=n.realpathCache||Object.create(null),e.follow=!!n.follow,e.dot=!!n.dot,e.mark=!!n.mark,e.nodir=!!n.nodir,e.nodir&&(e.mark=!0),e.sync=!!n.sync,e.nounique=!!n.nounique,e.nonull=!!n.nonull,e.nosort=!!n.nosort,e.nocase=!!n.nocase,e.stat=!!n.stat,e.noprocess=!!n.noprocess,e.absolute=!!n.absolute,e.fs=n.fs||i,e.maxLength=n.maxLength||1/0,e.cache=n.cache||Object.create(null),e.statCache=n.statCache||Object.create(null),e.symlinks=n.symlinks||Object.create(null),function(e,t){e.ignore=t.ignore||[],Array.isArray(e.ignore)||(e.ignore=[e.ignore]),e.ignore.length&&(e.ignore=e.ignore.map(u))}(e,n),e.changedCwd=!1;var s=process.cwd();r(n,"cwd")?(e.cwd=o.resolve(n.cwd),e.changedCwd=e.cwd!==s):e.cwd=s,e.root=n.root||o.resolve(e.cwd,"/"),e.root=o.resolve(e.root),"win32"===process.platform&&(e.root=e.root.replace(/\\/g,"/")),e.cwdAbs=a(e.cwd)?e.cwd:p(e,e.cwd),"win32"===process.platform&&(e.cwdAbs=e.cwdAbs.replace(/\\/g,"/")),e.nomount=!!n.nomount,n.nonegate=!0,n.nocomment=!0,e.minimatch=new c(t,n),e.options=e.minimatch.options},t.ownProp=r,t.makeAbs=p,t.finish=function(e){for(var t=e.nounique,n=t?[]:Object.create(null),r=0,i=e.matches.length;r<i;r++){var o=e.matches[r];if(o&&0!==Object.keys(o).length){var s=Object.keys(o);t?n.push.apply(n,s):s.forEach((function(e){n[e]=!0}))}else if(e.nonull){var a=e.minimatch.globSet[r];t?n.push(a):n[a]=!0}}if(t||(n=Object.keys(n)),e.nosort||(n=n.sort(l)),e.mark){for(r=0;r<n.length;r++)n[r]=e._mark(n[r]);e.nodir&&(n=n.filter((function(t){var n=!/\/$/.test(t),r=e.cache[t]||e.cache[p(e,t)];return n&&r&&(n="DIR"!==r&&!Array.isArray(r)),n})))}e.ignore.length&&(n=n.filter((function(t){return!d(e,t)}))),e.found=n},t.mark=function(e,t){var n=p(e,t),r=e.cache[n],i=t;if(r){var o="DIR"===r||Array.isArray(r),s="/"===t.slice(-1);if(o&&!s?i+="/":!o&&s&&(i=i.slice(0,-1)),i!==t){var a=p(e,i);e.statCache[a]=e.statCache[n],e.cache[a]=e.cache[n]}}return i},t.isIgnored=d,t.childrenIgnored=function(e,t){return!!e.ignore.length&&e.ignore.some((function(e){return!(!e.gmatcher||!e.gmatcher.match(t))}))};var i=n(79896),o=n(16928),s=n(577),a=n(52641),c=s.Minimatch;function l(e,t){return e.localeCompare(t,"en")}function u(e){var t=null;if("/**"===e.slice(-3)){var n=e.replace(/(\/\*\*)+$/,"");t=new c(n,{dot:!0})}return{matcher:new c(e,{dot:!0}),gmatcher:t}}function p(e,t){var n=t;return n="/"===t.charAt(0)?o.join(e.root,t):a(t)||""===t?t:e.changedCwd?o.resolve(e.cwd,t):o.resolve(t),"win32"===process.platform&&(n=n.replace(/\\/g,"/")),n}function d(e,t){return!!e.ignore.length&&e.ignore.some((function(e){return e.matcher.match(t)||!(!e.gmatcher||!e.gmatcher.match(t))}))}},53577:(e,t,n)=>{e.exports=y;var r=n(61455),i=n(577),o=(i.Minimatch,n(72017)),s=n(24434).EventEmitter,a=n(16928),c=n(42613),l=n(52641),u=n(34700),p=n(61198),d=p.setopts,h=p.ownProp,f=n(53423),v=(n(39023),p.childrenIgnored),g=p.isIgnored,m=n(83519);function y(e,t,n){if("function"==typeof t&&(n=t,t={}),t||(t={}),t.sync){if(n)throw new TypeError("callback provided to sync glob");return u(e,t)}return new _(e,t,n)}y.sync=u;var b=y.GlobSync=u.GlobSync;function _(e,t,n){if("function"==typeof t&&(n=t,t=null),t&&t.sync){if(n)throw new TypeError("callback provided to sync glob");return new b(e,t)}if(!(this instanceof _))return new _(e,t,n);d(this,e,t),this._didRealPath=!1;var r=this.minimatch.set.length;this.matches=new Array(r),"function"==typeof n&&(n=m(n),this.on("error",n),this.on("end",(function(e){n(null,e)})));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===r)return a();for(var o=!0,s=0;s<r;s++)this._process(this.minimatch.set[s],s,!1,a);function a(){--i._processing,i._processing<=0&&(o?process.nextTick((function(){i._finish()})):i._finish())}o=!1}y.glob=y,y.hasMagic=function(e,t){var n=function(e,t){if(null===t||"object"!=typeof t)return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}({},t);n.noprocess=!0;var r=new _(e,n).minimatch.set;if(!e)return!1;if(r.length>1)return!0;for(var i=0;i<r[0].length;i++)if("string"!=typeof r[0][i])return!0;return!1},y.Glob=_,o(_,s),_.prototype._finish=function(){if(c(this instanceof _),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();p.finish(this),this.emit("end",this.found)}},_.prototype._realpath=function(){if(!this._didRealpath){this._didRealpath=!0;var e=this.matches.length;if(0===e)return this._finish();for(var t=this,n=0;n<this.matches.length;n++)this._realpathSet(n,r)}function r(){0==--e&&t._finish()}},_.prototype._realpathSet=function(e,t){var n=this.matches[e];if(!n)return t();var i=Object.keys(n),o=this,s=i.length;if(0===s)return t();var a=this.matches[e]=Object.create(null);i.forEach((function(n,i){n=o._makeAbs(n),r.realpath(n,o.realpathCache,(function(r,i){r?"stat"===r.syscall?a[n]=!0:o.emit("error",r):a[i]=!0,0==--s&&(o.matches[e]=a,t())}))}))},_.prototype._mark=function(e){return p.mark(this,e)},_.prototype._makeAbs=function(e){return p.makeAbs(this,e)},_.prototype.abort=function(){this.aborted=!0,this.emit("abort")},_.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))},_.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var e=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<e.length;t++){var n=e[t];this._emitMatch(n[0],n[1])}}if(this._processQueue.length){var r=this._processQueue.slice(0);for(this._processQueue.length=0,t=0;t<r.length;t++){var i=r[t];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}},_.prototype._process=function(e,t,n,r){if(c(this instanceof _),c("function"==typeof r),!this.aborted)if(this._processing++,this.paused)this._processQueue.push([e,t,n,r]);else{for(var o,s=0;"string"==typeof e[s];)s++;switch(s){case e.length:return void this._processSimple(e.join("/"),t,r);case 0:o=null;break;default:o=e.slice(0,s).join("/")}var a,u=e.slice(s);null===o?a=".":l(o)||l(e.join("/"))?(o&&l(o)||(o="/"+o),a=o):a=o;var p=this._makeAbs(a);if(v(this,a))return r();u[0]===i.GLOBSTAR?this._processGlobStar(o,a,p,u,t,n,r):this._processReaddir(o,a,p,u,t,n,r)}},_.prototype._processReaddir=function(e,t,n,r,i,o,s){var a=this;this._readdir(n,o,(function(c,l){return a._processReaddir2(e,t,n,r,i,o,l,s)}))},_.prototype._processReaddir2=function(e,t,n,r,i,o,s,c){if(!s)return c();for(var l=r[0],u=!!this.minimatch.negate,p=l._glob,d=this.dot||"."===p.charAt(0),h=[],f=0;f<s.length;f++)("."!==(g=s[f]).charAt(0)||d)&&(u&&!e?!g.match(l):g.match(l))&&h.push(g);var v=h.length;if(0===v)return c();if(1===r.length&&!this.mark&&!this.stat){for(this.matches[i]||(this.matches[i]=Object.create(null)),f=0;f<v;f++){var g=h[f];e&&(g="/"!==e?e+"/"+g:e+g),"/"!==g.charAt(0)||this.nomount||(g=a.join(this.root,g)),this._emitMatch(i,g)}return c()}for(r.shift(),f=0;f<v;f++)g=h[f],e&&(g="/"!==e?e+"/"+g:e+g),this._process([g].concat(r),i,o,c);c()},_.prototype._emitMatch=function(e,t){if(!this.aborted&&!g(this,t))if(this.paused)this._emitQueue.push([e,t]);else{var n=l(t)?t:this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=n),!this.matches[e][t]){if(this.nodir){var r=this.cache[n];if("DIR"===r||Array.isArray(r))return}this.matches[e][t]=!0;var i=this.statCache[n];i&&this.emit("stat",t,i),this.emit("match",t)}}},_.prototype._readdirInGlobStar=function(e,t){if(!this.aborted){if(this.follow)return this._readdir(e,!1,t);var n=this,r=f("lstat\0"+e,(function(r,i){if(r&&"ENOENT"===r.code)return t();var o=i&&i.isSymbolicLink();n.symlinks[e]=o,o||!i||i.isDirectory()?n._readdir(e,!1,t):(n.cache[e]="FILE",t())}));r&&n.fs.lstat(e,r)}},_.prototype._readdir=function(e,t,n){if(!this.aborted&&(n=f("readdir\0"+e+"\0"+t,n))){if(t&&!h(this.symlinks,e))return this._readdirInGlobStar(e,n);if(h(this.cache,e)){var r=this.cache[e];if(!r||"FILE"===r)return n();if(Array.isArray(r))return n(null,r)}this.fs.readdir(e,function(e,t,n){return function(r,i){r?e._readdirError(t,r,n):e._readdirEntries(t,i,n)}}(this,e,n))}},_.prototype._readdirEntries=function(e,t,n){if(!this.aborted){if(!this.mark&&!this.stat)for(var r=0;r<t.length;r++){var i=t[r];i="/"===e?e+i:e+"/"+i,this.cache[i]=!0}return this.cache[e]=t,n(null,t)}},_.prototype._readdirError=function(e,t,n){if(!this.aborted){switch(t.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(e);if(this.cache[r]="FILE",r===this.cwdAbs){var i=new Error(t.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=t.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:this.cache[this._makeAbs(e)]=!1,this.strict&&(this.emit("error",t),this.abort()),this.silent||console.error("glob error",t)}return n()}},_.prototype._processGlobStar=function(e,t,n,r,i,o,s){var a=this;this._readdir(n,o,(function(c,l){a._processGlobStar2(e,t,n,r,i,o,l,s)}))},_.prototype._processGlobStar2=function(e,t,n,r,i,o,s,a){if(!s)return a();var c=r.slice(1),l=e?[e]:[],u=l.concat(c);this._process(u,i,!1,a);var p=this.symlinks[n],d=s.length;if(p&&o)return a();for(var h=0;h<d;h++)if("."!==s[h].charAt(0)||this.dot){var f=l.concat(s[h],c);this._process(f,i,!0,a);var v=l.concat(s[h],r);this._process(v,i,!0,a)}a()},_.prototype._processSimple=function(e,t,n){var r=this;this._stat(e,(function(i,o){r._processSimple2(e,t,i,o,n)}))},_.prototype._processSimple2=function(e,t,n,r,i){if(this.matches[t]||(this.matches[t]=Object.create(null)),!r)return i();if(e&&l(e)&&!this.nomount){var o=/[\/\\]$/.test(e);"/"===e.charAt(0)?e=a.join(this.root,e):(e=a.resolve(this.root,e),o&&(e+="/"))}"win32"===process.platform&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e),i()},_.prototype._stat=function(e,t){var n=this._makeAbs(e),r="/"===e.slice(-1);if(e.length>this.maxLength)return t();if(!this.stat&&h(this.cache,n)){var i=this.cache[n];if(Array.isArray(i)&&(i="DIR"),!r||"DIR"===i)return t(null,i);if(r&&"FILE"===i)return t()}var o=this.statCache[n];if(void 0!==o){if(!1===o)return t(null,o);var s=o.isDirectory()?"DIR":"FILE";return r&&"FILE"===s?t():t(null,s,o)}var a=this,c=f("stat\0"+n,(function(r,i){if(i&&i.isSymbolicLink())return a.fs.stat(n,(function(r,o){r?a._stat2(e,n,null,i,t):a._stat2(e,n,r,o,t)}));a._stat2(e,n,r,i,t)}));c&&a.fs.lstat(n,c)},_.prototype._stat2=function(e,t,n,r,i){if(n&&("ENOENT"===n.code||"ENOTDIR"===n.code))return this.statCache[t]=!1,i();var o="/"===e.slice(-1);if(this.statCache[t]=r,"/"===t.slice(-1)&&r&&!r.isDirectory())return i(null,!1,r);var s=!0;return r&&(s=r.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||s,o&&"FILE"===s?i():i(null,s,r)}},577:(e,t,n)=>{e.exports=d,d.Minimatch=h;var r=function(){try{return n(16928)}catch(e){}}()||{sep:"/"};d.sep=r.sep;var i=d.GLOBSTAR=h.GLOBSTAR={},o=n(68928),s={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},a="[^/]",c=a+"*?",l="().*{}+?[]^$\\!".split("").reduce((function(e,t){return e[t]=!0,e}),{}),u=/\/+/;function p(e,t){t=t||{};var n={};return Object.keys(e).forEach((function(t){n[t]=e[t]})),Object.keys(t).forEach((function(e){n[e]=t[e]})),n}function d(e,t,n){return v(t),n||(n={}),!(!n.nocomment&&"#"===t.charAt(0))&&new h(t,n).match(e)}function h(e,t){if(!(this instanceof h))return new h(e,t);v(e),t||(t={}),e=e.trim(),t.allowWindowsEscape||"/"===r.sep||(e=e.split(r.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.make()}function f(e,t){return t||(t=this instanceof h?this.options:{}),e=void 0===e?this.pattern:e,v(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:o(e)}d.filter=function(e,t){return t=t||{},function(n,r,i){return d(n,e,t)}},d.defaults=function(e){if(!e||"object"!=typeof e||!Object.keys(e).length)return d;var t=d,n=function(n,r,i){return t(n,r,p(e,i))};return(n.Minimatch=function(n,r){return new t.Minimatch(n,p(e,r))}).defaults=function(n){return t.defaults(p(e,n)).Minimatch},n.filter=function(n,r){return t.filter(n,p(e,r))},n.defaults=function(n){return t.defaults(p(e,n))},n.makeRe=function(n,r){return t.makeRe(n,p(e,r))},n.braceExpand=function(n,r){return t.braceExpand(n,p(e,r))},n.match=function(n,r,i){return t.match(n,r,p(e,i))},n},h.defaults=function(e){return d.defaults(e).Minimatch},h.prototype.debug=function(){},h.prototype.make=function(){var e=this.pattern,t=this.options;if(t.nocomment||"#"!==e.charAt(0))if(e){this.parseNegate();var n=this.globSet=this.braceExpand();t.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,n),n=this.globParts=n.map((function(e){return e.split(u)})),this.debug(this.pattern,n),n=n.map((function(e,t,n){return e.map(this.parse,this)}),this),this.debug(this.pattern,n),n=n.filter((function(e){return-1===e.indexOf(!1)})),this.debug(this.pattern,n),this.set=n}else this.empty=!0;else this.comment=!0},h.prototype.parseNegate=function(){var e=this.pattern,t=!1,n=0;if(!this.options.nonegate){for(var r=0,i=e.length;r<i&&"!"===e.charAt(r);r++)t=!t,n++;n&&(this.pattern=e.substr(n)),this.negate=t}},d.braceExpand=function(e,t){return f(e,t)},h.prototype.braceExpand=f;var v=function(e){if("string"!=typeof e)throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")};h.prototype.parse=function(e,t){v(e);var n=this.options;if("**"===e){if(!n.noglobstar)return i;e="*"}if(""===e)return"";var r,o="",u=!!n.nocase,p=!1,d=[],h=[],f=!1,m=-1,y=-1,b="."===e.charAt(0)?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",_=this;function E(){if(r){switch(r){case"*":o+=c,u=!0;break;case"?":o+=a,u=!0;break;default:o+="\\"+r}_.debug("clearStateChar %j %j",r,o),r=!1}}for(var S,w=0,P=e.length;w<P&&(S=e.charAt(w));w++)if(this.debug("%s\t%s %s %j",e,w,o,S),p&&l[S])o+="\\"+S,p=!1;else switch(S){case"/":return!1;case"\\":E(),p=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,w,o,S),f){this.debug("  in class"),"!"===S&&w===y+1&&(S="^"),o+=S;continue}_.debug("call clearStateChar %j",r),E(),r=S,n.noext&&E();continue;case"(":if(f){o+="(";continue}if(!r){o+="\\(";continue}d.push({type:r,start:w-1,reStart:o.length,open:s[r].open,close:s[r].close}),o+="!"===r?"(?:(?!(?:":"(?:",this.debug("plType %j %j",r,o),r=!1;continue;case")":if(f||!d.length){o+="\\)";continue}E(),u=!0;var T=d.pop();o+=T.close,"!"===T.type&&h.push(T),T.reEnd=o.length;continue;case"|":if(f||!d.length||p){o+="\\|",p=!1;continue}E(),o+="|";continue;case"[":if(E(),f){o+="\\"+S;continue}f=!0,y=w,m=o.length,o+=S;continue;case"]":if(w===y+1||!f){o+="\\"+S,p=!1;continue}var C=e.substring(y+1,w);try{RegExp("["+C+"]")}catch(e){var x=this.parse(C,g);o=o.substr(0,m)+"\\["+x[0]+"\\]",u=u||x[1],f=!1;continue}u=!0,f=!1,o+=S;continue;default:E(),p?p=!1:!l[S]||"^"===S&&f||(o+="\\"),o+=S}for(f&&(C=e.substr(y+1),x=this.parse(C,g),o=o.substr(0,m)+"\\["+x[0],u=u||x[1]),T=d.pop();T;T=d.pop()){var I=o.slice(T.reStart+T.open.length);this.debug("setting tail",o,T),I=I.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(e,t,n){return n||(n="\\"),t+t+n+"|"})),this.debug("tail=%j\n   %s",I,I,T,o);var O="*"===T.type?c:"?"===T.type?a:"\\"+T.type;u=!0,o=o.slice(0,T.reStart)+O+"\\("+I}E(),p&&(o+="\\\\");var R=!1;switch(o.charAt(0)){case"[":case".":case"(":R=!0}for(var D=h.length-1;D>-1;D--){var k=h[D],A=o.slice(0,k.reStart),N=o.slice(k.reStart,k.reEnd-8),j=o.slice(k.reEnd-8,k.reEnd),M=o.slice(k.reEnd);j+=M;var L=A.split("(").length-1,F=M;for(w=0;w<L;w++)F=F.replace(/\)[+*?]?/,"");var V="";""===(M=F)&&t!==g&&(V="$"),o=A+N+M+V+j}if(""!==o&&u&&(o="(?=.)"+o),R&&(o=b+o),t===g)return[o,u];if(!u)return e.replace(/\\(.)/g,"$1");var U=n.nocase?"i":"";try{var H=new RegExp("^"+o+"$",U)}catch(e){return new RegExp("$.")}return H._glob=e,H._src=o,H};var g={};d.makeRe=function(e,t){return new h(e,t||{}).makeRe()},h.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,n=t.noglobstar?c:t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",r=t.nocase?"i":"",o=e.map((function(e){return e.map((function(e){return e===i?n:"string"==typeof e?e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):e._src})).join("\\/")})).join("|");o="^(?:"+o+")$",this.negate&&(o="^(?!"+o+").*$");try{this.regexp=new RegExp(o,r)}catch(e){this.regexp=!1}return this.regexp},d.match=function(e,t,n){var r=new h(t,n=n||{});return e=e.filter((function(e){return r.match(e)})),r.options.nonull&&!e.length&&e.push(t),e},h.prototype.match=function(e,t){if(void 0===t&&(t=this.partial),this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var n=this.options;"/"!==r.sep&&(e=e.split(r.sep).join("/")),e=e.split(u),this.debug(this.pattern,"split",e);var i,o,s=this.set;for(this.debug(this.pattern,"set",s),o=e.length-1;o>=0&&!(i=e[o]);o--);for(o=0;o<s.length;o++){var a=s[o],c=e;if(n.matchBase&&1===a.length&&(c=[i]),this.matchOne(c,a,t))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate},h.prototype.matchOne=function(e,t,n){var r=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var o=0,s=0,a=e.length,c=t.length;o<a&&s<c;o++,s++){this.debug("matchOne loop");var l,u=t[s],p=e[o];if(this.debug(t,u,p),!1===u)return!1;if(u===i){this.debug("GLOBSTAR",[t,u,p]);var d=o,h=s+1;if(h===c){for(this.debug("** at the end");o<a;o++)if("."===e[o]||".."===e[o]||!r.dot&&"."===e[o].charAt(0))return!1;return!0}for(;d<a;){var f=e[d];if(this.debug("\nglobstar while",e,d,t,h,f),this.matchOne(e.slice(d),t.slice(h),n))return this.debug("globstar found match!",d,a,f),!0;if("."===f||".."===f||!r.dot&&"."===f.charAt(0)){this.debug("dot detected!",e,d,t,h);break}this.debug("globstar swallow a segment, and continue"),d++}return!(!n||(this.debug("\n>>> no match, partial?",e,d,t,h),d!==a))}if("string"==typeof u?(l=p===u,this.debug("string match",u,p,l)):(l=p.match(u),this.debug("pattern match",u,p,l)),!l)return!1}if(o===a&&s===c)return!0;if(o===a)return n;if(s===c)return o===a-1&&""===e[o];throw new Error("wtf?")}},34700:(e,t,n)=>{e.exports=h,h.GlobSync=f;var r=n(61455),i=n(577),o=(i.Minimatch,n(53577).Glob,n(39023),n(16928)),s=n(42613),a=n(52641),c=n(61198),l=c.setopts,u=c.ownProp,p=c.childrenIgnored,d=c.isIgnored;function h(e,t){if("function"==typeof t||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");return new f(e,t).found}function f(e,t){if(!e)throw new Error("must provide pattern");if("function"==typeof t||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");if(!(this instanceof f))return new f(e,t);if(l(this,e,t),this.noprocess)return this;var n=this.minimatch.set.length;this.matches=new Array(n);for(var r=0;r<n;r++)this._process(this.minimatch.set[r],r,!1);this._finish()}f.prototype._finish=function(){if(s(this instanceof f),this.realpath){var e=this;this.matches.forEach((function(t,n){var i=e.matches[n]=Object.create(null);for(var o in t)try{o=e._makeAbs(o),i[r.realpathSync(o,e.realpathCache)]=!0}catch(t){if("stat"!==t.syscall)throw t;i[e._makeAbs(o)]=!0}}))}c.finish(this)},f.prototype._process=function(e,t,n){s(this instanceof f);for(var r,o=0;"string"==typeof e[o];)o++;switch(o){case e.length:return void this._processSimple(e.join("/"),t);case 0:r=null;break;default:r=e.slice(0,o).join("/")}var c,l=e.slice(o);null===r?c=".":a(r)||a(e.join("/"))?(r&&a(r)||(r="/"+r),c=r):c=r;var u=this._makeAbs(c);p(this,c)||(l[0]===i.GLOBSTAR?this._processGlobStar(r,c,u,l,t,n):this._processReaddir(r,c,u,l,t,n))},f.prototype._processReaddir=function(e,t,n,r,i,s){var a=this._readdir(n,s);if(a){for(var c=r[0],l=!!this.minimatch.negate,u=c._glob,p=this.dot||"."===u.charAt(0),d=[],h=0;h<a.length;h++)("."!==(g=a[h]).charAt(0)||p)&&(l&&!e?!g.match(c):g.match(c))&&d.push(g);var f=d.length;if(0!==f)if(1!==r.length||this.mark||this.stat)for(r.shift(),h=0;h<f;h++){var v;g=d[h],v=e?[e,g]:[g],this._process(v.concat(r),i,s)}else{this.matches[i]||(this.matches[i]=Object.create(null));for(h=0;h<f;h++){var g=d[h];e&&(g="/"!==e.slice(-1)?e+"/"+g:e+g),"/"!==g.charAt(0)||this.nomount||(g=o.join(this.root,g)),this._emitMatch(i,g)}}}},f.prototype._emitMatch=function(e,t){if(!d(this,t)){var n=this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=n),!this.matches[e][t]){if(this.nodir){var r=this.cache[n];if("DIR"===r||Array.isArray(r))return}this.matches[e][t]=!0,this.stat&&this._stat(t)}}},f.prototype._readdirInGlobStar=function(e){if(this.follow)return this._readdir(e,!1);var t,n;try{n=this.fs.lstatSync(e)}catch(e){if("ENOENT"===e.code)return null}var r=n&&n.isSymbolicLink();return this.symlinks[e]=r,r||!n||n.isDirectory()?t=this._readdir(e,!1):this.cache[e]="FILE",t},f.prototype._readdir=function(e,t){if(t&&!u(this.symlinks,e))return this._readdirInGlobStar(e);if(u(this.cache,e)){var n=this.cache[e];if(!n||"FILE"===n)return null;if(Array.isArray(n))return n}try{return this._readdirEntries(e,this.fs.readdirSync(e))}catch(t){return this._readdirError(e,t),null}},f.prototype._readdirEntries=function(e,t){if(!this.mark&&!this.stat)for(var n=0;n<t.length;n++){var r=t[n];r="/"===e?e+r:e+"/"+r,this.cache[r]=!0}return this.cache[e]=t,t},f.prototype._readdirError=function(e,t){switch(t.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(e);if(this.cache[n]="FILE",n===this.cwdAbs){var r=new Error(t.code+" invalid cwd "+this.cwd);throw r.path=this.cwd,r.code=t.code,r}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:if(this.cache[this._makeAbs(e)]=!1,this.strict)throw t;this.silent||console.error("glob error",t)}},f.prototype._processGlobStar=function(e,t,n,r,i,o){var s=this._readdir(n,o);if(s){var a=r.slice(1),c=e?[e]:[],l=c.concat(a);this._process(l,i,!1);var u=s.length;if(!this.symlinks[n]||!o)for(var p=0;p<u;p++)if("."!==s[p].charAt(0)||this.dot){var d=c.concat(s[p],a);this._process(d,i,!0);var h=c.concat(s[p],r);this._process(h,i,!0)}}},f.prototype._processSimple=function(e,t){var n=this._stat(e);if(this.matches[t]||(this.matches[t]=Object.create(null)),n){if(e&&a(e)&&!this.nomount){var r=/[\/\\]$/.test(e);"/"===e.charAt(0)?e=o.join(this.root,e):(e=o.resolve(this.root,e),r&&(e+="/"))}"win32"===process.platform&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e)}},f.prototype._stat=function(e){var t=this._makeAbs(e),n="/"===e.slice(-1);if(e.length>this.maxLength)return!1;if(!this.stat&&u(this.cache,t)){var r=this.cache[t];if(Array.isArray(r)&&(r="DIR"),!n||"DIR"===r)return r;if(n&&"FILE"===r)return!1}var i=this.statCache[t];if(!i){var o;try{o=this.fs.lstatSync(t)}catch(e){if(e&&("ENOENT"===e.code||"ENOTDIR"===e.code))return this.statCache[t]=!1,!1}if(o&&o.isSymbolicLink())try{i=this.fs.statSync(t)}catch(e){i=o}else i=o}return this.statCache[t]=i,r=!0,i&&(r=i.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||r,(!n||"FILE"!==r)&&r},f.prototype._mark=function(e){return c.mark(this,e)},f.prototype._makeAbs=function(e){return c.makeAbs(this,e)}},1283:e=>{"use strict";e.exports=function(e){if(null===e||"object"!=typeof e)return e;if(e instanceof Object)var n={__proto__:t(e)};else n=Object.create(null);return Object.getOwnPropertyNames(e).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))})),n};var t=Object.getPrototypeOf||function(e){return e.__proto__}},63735:(e,t,n)=>{var r,i,o=n(79896),s=n(69106),a=n(11995),c=n(1283),l=n(39023);function u(e,t){Object.defineProperty(e,r,{get:function(){return t}})}"function"==typeof Symbol&&"function"==typeof Symbol.for?(r=Symbol.for("graceful-fs.queue"),i=Symbol.for("graceful-fs.previous")):(r="___graceful-fs.queue",i="___graceful-fs.previous");var p,d=function(){};if(l.debuglog?d=l.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(d=function(){var e=l.format.apply(l,arguments);e="GFS4: "+e.split(/\n/).join("\nGFS4: "),console.error(e)}),!o[r]){var h=global[r]||[];u(o,h),o.close=function(e){function t(t,n){return e.call(o,t,(function(e){e||g(),"function"==typeof n&&n.apply(this,arguments)}))}return Object.defineProperty(t,i,{value:e}),t}(o.close),o.closeSync=function(e){function t(t){e.apply(o,arguments),g()}return Object.defineProperty(t,i,{value:e}),t}(o.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",(function(){d(o[r]),n(42613).equal(o[r].length,0)}))}function f(e){s(e),e.gracefulify=f,e.createReadStream=function(t,n){return new e.ReadStream(t,n)},e.createWriteStream=function(t,n){return new e.WriteStream(t,n)};var t=e.readFile;e.readFile=function(e,n,r){return"function"==typeof n&&(r=n,n=null),function e(n,r,i,o){return t(n,r,(function(t){!t||"EMFILE"!==t.code&&"ENFILE"!==t.code?"function"==typeof i&&i.apply(this,arguments):v([e,[n,r,i],t,o||Date.now(),Date.now()])}))}(e,n,r)};var n=e.writeFile;e.writeFile=function(e,t,r,i){return"function"==typeof r&&(i=r,r=null),function e(t,r,i,o,s){return n(t,r,i,(function(n){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?"function"==typeof o&&o.apply(this,arguments):v([e,[t,r,i,o],n,s||Date.now(),Date.now()])}))}(e,t,r,i)};var r=e.appendFile;r&&(e.appendFile=function(e,t,n,i){return"function"==typeof n&&(i=n,n=null),function e(t,n,i,o,s){return r(t,n,i,(function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?"function"==typeof o&&o.apply(this,arguments):v([e,[t,n,i,o],r,s||Date.now(),Date.now()])}))}(e,t,n,i)});var i=e.copyFile;i&&(e.copyFile=function(e,t,n,r){return"function"==typeof n&&(r=n,n=0),function e(t,n,r,o,s){return i(t,n,r,(function(i){!i||"EMFILE"!==i.code&&"ENFILE"!==i.code?"function"==typeof o&&o.apply(this,arguments):v([e,[t,n,r,o],i,s||Date.now(),Date.now()])}))}(e,t,n,r)});var o=e.readdir;e.readdir=function(e,t,n){"function"==typeof t&&(n=t,t=null);var r=c.test(process.version)?function(e,t,n,r){return o(e,i(e,t,n,r))}:function(e,t,n,r){return o(e,t,i(e,t,n,r))};return r(e,t,n);function i(e,t,n,i){return function(o,s){!o||"EMFILE"!==o.code&&"ENFILE"!==o.code?(s&&s.sort&&s.sort(),"function"==typeof n&&n.call(this,o,s)):v([r,[e,t,n],o,i||Date.now(),Date.now()])}}};var c=/^v[0-5]\./;if("v0.8"===process.version.substr(0,4)){var l=a(e);g=l.ReadStream,m=l.WriteStream}var u=e.ReadStream;u&&(g.prototype=Object.create(u.prototype),g.prototype.open=function(){var e=this;b(e.path,e.flags,e.mode,(function(t,n){t?(e.autoClose&&e.destroy(),e.emit("error",t)):(e.fd=n,e.emit("open",n),e.read())}))});var p=e.WriteStream;p&&(m.prototype=Object.create(p.prototype),m.prototype.open=function(){var e=this;b(e.path,e.flags,e.mode,(function(t,n){t?(e.destroy(),e.emit("error",t)):(e.fd=n,e.emit("open",n))}))}),Object.defineProperty(e,"ReadStream",{get:function(){return g},set:function(e){g=e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return m},set:function(e){m=e},enumerable:!0,configurable:!0});var d=g;Object.defineProperty(e,"FileReadStream",{get:function(){return d},set:function(e){d=e},enumerable:!0,configurable:!0});var h=m;function g(e,t){return this instanceof g?(u.apply(this,arguments),this):g.apply(Object.create(g.prototype),arguments)}function m(e,t){return this instanceof m?(p.apply(this,arguments),this):m.apply(Object.create(m.prototype),arguments)}Object.defineProperty(e,"FileWriteStream",{get:function(){return h},set:function(e){h=e},enumerable:!0,configurable:!0});var y=e.open;function b(e,t,n,r){return"function"==typeof n&&(r=n,n=null),function e(t,n,r,i,o){return y(t,n,r,(function(s,a){!s||"EMFILE"!==s.code&&"ENFILE"!==s.code?"function"==typeof i&&i.apply(this,arguments):v([e,[t,n,r,i],s,o||Date.now(),Date.now()])}))}(e,t,n,r)}return e.open=b,e}function v(e){d("ENQUEUE",e[0].name,e[1]),o[r].push(e),m()}function g(){for(var e=Date.now(),t=0;t<o[r].length;++t)o[r][t].length>2&&(o[r][t][3]=e,o[r][t][4]=e);m()}function m(){if(clearTimeout(p),p=void 0,0!==o[r].length){var e=o[r].shift(),t=e[0],n=e[1],i=e[2],s=e[3],a=e[4];if(void 0===s)d("RETRY",t.name,n),t.apply(null,n);else if(Date.now()-s>=6e4){d("TIMEOUT",t.name,n);var c=n.pop();"function"==typeof c&&c.call(null,i)}else{var l=Date.now()-a,u=Math.max(a-s,1);l>=Math.min(1.2*u,100)?(d("RETRY",t.name,n),t.apply(null,n.concat([s]))):o[r].push(e)}void 0===p&&(p=setTimeout(m,0))}}global[r]||u(global,o[r]),e.exports=f(c(o)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!o.__patched&&(e.exports=f(o),o.__patched=!0)},11995:(e,t,n)=>{var r=n(2203).Stream;e.exports=function(e){return{ReadStream:function t(n,i){if(!(this instanceof t))return new t(n,i);r.call(this);var o=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,i=i||{};for(var s=Object.keys(i),a=0,c=s.length;a<c;a++){var l=s[a];this[l]=i[l]}if(this.encoding&&this.setEncoding(this.encoding),void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}null===this.fd?e.open(this.path,this.flags,this.mode,(function(e,t){if(e)return o.emit("error",e),void(o.readable=!1);o.fd=t,o.emit("open",t),o._read()})):process.nextTick((function(){o._read()}))},WriteStream:function t(n,i){if(!(this instanceof t))return new t(n,i);r.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var o=Object.keys(i),s=0,a=o.length;s<a;s++){var c=o[s];this[c]=i[c]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}},69106:(e,t,n)=>{var r=n(49140),i=process.cwd,o=null,s=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return o||(o=i.call(process)),o};try{process.cwd()}catch(e){}if("function"==typeof process.chdir){var a=process.chdir;process.chdir=function(e){o=null,a.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,a)}e.exports=function(e){function t(t){return t?function(n,r,i){return t.call(e,n,r,(function(e){l(e)&&(e=null),i&&i.apply(this,arguments)}))}:t}function n(t){return t?function(n,r){try{return t.call(e,n,r)}catch(e){if(!l(e))throw e}}:t}function i(t){return t?function(n,r,i,o){return t.call(e,n,r,i,(function(e){l(e)&&(e=null),o&&o.apply(this,arguments)}))}:t}function o(t){return t?function(n,r,i){try{return t.call(e,n,r,i)}catch(e){if(!l(e))throw e}}:t}function a(t){return t?function(n,r,i){function o(e,t){t&&(t.uid<0&&(t.uid+=4294967296),t.gid<0&&(t.gid+=4294967296)),i&&i.apply(this,arguments)}return"function"==typeof r&&(i=r,r=null),r?t.call(e,n,r,o):t.call(e,n,o)}:t}function c(t){return t?function(n,r){var i=r?t.call(e,n,r):t.call(e,n);return i&&(i.uid<0&&(i.uid+=4294967296),i.gid<0&&(i.gid+=4294967296)),i}:t}function l(e){return!e||"ENOSYS"===e.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==e.code&&"EPERM"!==e.code)}var u;r.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(e){e.lchmod=function(t,n,i){e.open(t,r.O_WRONLY|r.O_SYMLINK,n,(function(t,r){t?i&&i(t):e.fchmod(r,n,(function(t){e.close(r,(function(e){i&&i(t||e)}))}))}))},e.lchmodSync=function(t,n){var i,o=e.openSync(t,r.O_WRONLY|r.O_SYMLINK,n),s=!0;try{i=e.fchmodSync(o,n),s=!1}finally{if(s)try{e.closeSync(o)}catch(e){}else e.closeSync(o)}return i}}(e),e.lutimes||function(e){r.hasOwnProperty("O_SYMLINK")&&e.futimes?(e.lutimes=function(t,n,i,o){e.open(t,r.O_SYMLINK,(function(t,r){t?o&&o(t):e.futimes(r,n,i,(function(t){e.close(r,(function(e){o&&o(t||e)}))}))}))},e.lutimesSync=function(t,n,i){var o,s=e.openSync(t,r.O_SYMLINK),a=!0;try{o=e.futimesSync(s,n,i),a=!1}finally{if(a)try{e.closeSync(s)}catch(e){}else e.closeSync(s)}return o}):e.futimes&&(e.lutimes=function(e,t,n,r){r&&process.nextTick(r)},e.lutimesSync=function(){})}(e),e.chown=i(e.chown),e.fchown=i(e.fchown),e.lchown=i(e.lchown),e.chmod=t(e.chmod),e.fchmod=t(e.fchmod),e.lchmod=t(e.lchmod),e.chownSync=o(e.chownSync),e.fchownSync=o(e.fchownSync),e.lchownSync=o(e.lchownSync),e.chmodSync=n(e.chmodSync),e.fchmodSync=n(e.fchmodSync),e.lchmodSync=n(e.lchmodSync),e.stat=a(e.stat),e.fstat=a(e.fstat),e.lstat=a(e.lstat),e.statSync=c(e.statSync),e.fstatSync=c(e.fstatSync),e.lstatSync=c(e.lstatSync),e.chmod&&!e.lchmod&&(e.lchmod=function(e,t,n){n&&process.nextTick(n)},e.lchmodSync=function(){}),e.chown&&!e.lchown&&(e.lchown=function(e,t,n,r){r&&process.nextTick(r)},e.lchownSync=function(){}),"win32"===s&&(e.rename="function"!=typeof e.rename?e.rename:function(t){function n(n,r,i){var o=Date.now(),s=0;t(n,r,(function a(c){if(c&&("EACCES"===c.code||"EPERM"===c.code||"EBUSY"===c.code)&&Date.now()-o<6e4)return setTimeout((function(){e.stat(r,(function(e,o){e&&"ENOENT"===e.code?t(n,r,a):i(c)}))}),s),void(s<100&&(s+=10));i&&i(c)}))}return Object.setPrototypeOf&&Object.setPrototypeOf(n,t),n}(e.rename)),e.read="function"!=typeof e.read?e.read:function(t){function n(n,r,i,o,s,a){var c;if(a&&"function"==typeof a){var l=0;c=function(u,p,d){if(u&&"EAGAIN"===u.code&&l<10)return l++,t.call(e,n,r,i,o,s,c);a.apply(this,arguments)}}return t.call(e,n,r,i,o,s,c)}return Object.setPrototypeOf&&Object.setPrototypeOf(n,t),n}(e.read),e.readSync="function"!=typeof e.readSync?e.readSync:(u=e.readSync,function(t,n,r,i,o){for(var s=0;;)try{return u.call(e,t,n,r,i,o)}catch(e){if("EAGAIN"===e.code&&s<10){s++;continue}throw e}})}},25884:e=>{"use strict";e.exports=(e,t)=>{t=t||process.argv;const n=e.startsWith("-")?"":1===e.length?"-":"--",r=t.indexOf(n+e),i=t.indexOf("--");return-1!==r&&(-1===i||r<i)}},46329:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(69278)),s=i(n(64756)),a=i(n(87016)),c=i(n(42613)),l=i(n(62135)),u=n(9724),p=i(n(63868)),d=l.default("https-proxy-agent:agent");class h extends u.Agent{constructor(e){let t;if(t="string"==typeof e?a.default.parse(e):e,!t)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");d("creating new HttpsProxyAgent instance: %o",t),super(t);const n=Object.assign({},t);var r;this.secureProxy=t.secureProxy||"string"==typeof(r=n.protocol)&&/^https:?$/i.test(r),n.host=n.hostname||n.host,"string"==typeof n.port&&(n.port=parseInt(n.port,10)),!n.port&&n.host&&(n.port=this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in n)&&(n.ALPNProtocols=["http 1.1"]),n.host&&n.path&&(delete n.path,delete n.pathname),this.proxy=n}callback(e,t){return r(this,void 0,void 0,(function*(){const{proxy:n,secureProxy:r}=this;let i;r?(d("Creating `tls.Socket`: %o",n),i=s.default.connect(n)):(d("Creating `net.Socket`: %o",n),i=o.default.connect(n));const a=Object.assign({},n.headers);let l=`CONNECT ${t.host}:${t.port} HTTP/1.1\r\n`;n.auth&&(a["Proxy-Authorization"]=`Basic ${Buffer.from(n.auth).toString("base64")}`);let{host:u,port:h,secureEndpoint:v}=t;(function(e,t){return Boolean(!t&&80===e||t&&443===e)})(h,v)||(u+=`:${h}`),a.Host=u,a.Connection="close";for(const e of Object.keys(a))l+=`${e}: ${a[e]}\r\n`;const g=p.default(i);i.write(`${l}\r\n`);const{statusCode:m,buffered:y}=yield g;if(200===m){if(e.once("socket",f),t.secureEndpoint){const e=t.servername||t.host;if(!e)throw new Error('Could not determine "servername"');return d("Upgrading socket connection to TLS"),s.default.connect(Object.assign(Object.assign({},function(e,...t){const n={};let r;for(r in e)t.includes(r)||(n[r]=e[r]);return n}(t,"host","hostname","path","port")),{socket:i,servername:e}))}return i}i.destroy();const b=new o.default.Socket;return b.readable=!0,e.once("socket",(e=>{d("replaying proxy buffer for failed request"),c.default(e.listenerCount("data")>0),e.push(y),e.push(null)})),b}))}}function f(e){e.resume()}t.default=h},62288:function(e,t,n){"use strict";const r=(this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(n(46329));function i(e){return new r.default(e)}!function(e){e.HttpsProxyAgent=r.default,e.prototype=r.default.prototype}(i||(i={})),e.exports=i},63868:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(62135)).default("https-proxy-agent:parse-proxy-response");t.default=function(e){return new Promise(((t,n)=>{let r=0;const o=[];function s(){const n=e.read();n?function(e){o.push(e),r+=e.length;const n=Buffer.concat(o,r);if(-1===n.indexOf("\r\n\r\n"))return i("have not received end of HTTP headers yet..."),void s();const a=n.toString("ascii",0,n.indexOf("\r\n")),c=+a.split(" ")[1];i("got proxy server response: %o",a),t({statusCode:c,buffered:n})}(n):e.once("readable",s)}function a(e){i("onclose had error %o",e)}function c(){i("onend")}e.on("error",(function t(r){e.removeListener("end",c),e.removeListener("error",t),e.removeListener("close",a),e.removeListener("readable",s),i("onerror %o",r),n(r)})),e.on("close",a),e.on("end",c),s()}))}},21419:(e,t,n)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(r++,"%c"===e&&(i=r))})),t.splice(i,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(56726)(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},56726:(e,t,n)=>{e.exports=function(e){function t(e){let n,i,o,s=null;function a(...e){if(!a.enabled)return;const r=a,i=Number(new Date),o=i-(n||i);r.diff=o,r.prev=n,r.curr=i,n=i,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((n,i)=>{if("%%"===n)return"%";s++;const o=t.formatters[i];if("function"==typeof o){const t=e[s];n=o.call(r,t),e.splice(s,1),s--}return n})),t.formatArgs.call(r,e),(r.log||t.log).apply(r,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=r,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(i!==t.namespaces&&(i=t.namespaces,o=t.enabled(e)),o),set:e=>{s=e}}),"function"==typeof t.init&&t.init(a),a}function r(e,n){const r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(i),...t.skips.map(i).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(6585),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((n=>{t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},62135:(e,t,n)=>{"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=n(21419):e.exports=n(63047)},63047:(e,t,n)=>{const r=n(52018),i=n(39023);t.init=function(e){e.inspectOpts={};const n=Object.keys(t.inspectOpts);for(let r=0;r<n.length;r++)e.inspectOpts[n[r]]=t.inspectOpts[n[r]]},t.log=function(...e){return process.stderr.write(i.format(...e)+"\n")},t.formatArgs=function(n){const{namespace:r,useColors:i}=this;if(i){const t=this.color,i="[3"+(t<8?t:"8;5;"+t),o=`  ${i};1m${r} [0m`;n[0]=o+n[0].split("\n").join("\n"+o),n.push(i+"m+"+e.exports.humanize(this.diff)+"[0m")}else n[0]=(t.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+r+" "+n[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):r.isatty(process.stderr.fd)},t.destroy=i.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const e=n(27687);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter((e=>/^debug_/i.test(e))).reduce(((e,t)=>{const n=t.substring(6).toLowerCase().replace(/_([a-z])/g,((e,t)=>t.toUpperCase()));let r=process.env[t];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),e[n]=r,e}),{}),e.exports=n(56726)(t);const{formatters:o}=e.exports;o.o=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts).split("\n").map((e=>e.trim())).join(" ")},o.O=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts)}},47161:(e,t,n)=>{"use strict";var r=n(54774).Buffer;t._dbcs=u;for(var i=-1,o=-2,s=-10,a=-1e3,c=new Array(256),l=0;l<256;l++)c[l]=i;function u(e,t){if(this.encodingName=e.encodingName,!e)throw new Error("DBCS codec is called without the data.");if(!e.table)throw new Error("Encoding '"+this.encodingName+"' has no data.");var n=e.table();this.decodeTables=[],this.decodeTables[0]=c.slice(0),this.decodeTableSeq=[];for(var r=0;r<n.length;r++)this._addDecodeChunk(n[r]);if("function"==typeof e.gb18030){this.gb18030=e.gb18030();var s=this.decodeTables.length;this.decodeTables.push(c.slice(0));var l=this.decodeTables.length;this.decodeTables.push(c.slice(0));var u=this.decodeTables[0];for(r=129;r<=254;r++)for(var p=this.decodeTables[a-u[r]],d=48;d<=57;d++){if(p[d]===i)p[d]=a-s;else if(p[d]>a)throw new Error("gb18030 decode tables conflict at byte 2");for(var h=this.decodeTables[a-p[d]],f=129;f<=254;f++){if(h[f]===i)h[f]=a-l;else{if(h[f]===a-l)continue;if(h[f]>a)throw new Error("gb18030 decode tables conflict at byte 3")}for(var v=this.decodeTables[a-h[f]],g=48;g<=57;g++)v[g]===i&&(v[g]=o)}}}this.defaultCharUnicode=t.defaultCharUnicode,this.encodeTable=[],this.encodeTableSeq=[];var m={};if(e.encodeSkipVals)for(r=0;r<e.encodeSkipVals.length;r++){var y=e.encodeSkipVals[r];if("number"==typeof y)m[y]=!0;else for(d=y.from;d<=y.to;d++)m[d]=!0}if(this._fillEncodeTable(0,0,m),e.encodeAdd)for(var b in e.encodeAdd)Object.prototype.hasOwnProperty.call(e.encodeAdd,b)&&this._setEncodeChar(b.charCodeAt(0),e.encodeAdd[b]);this.defCharSB=this.encodeTable[0][t.defaultCharSingleByte.charCodeAt(0)],this.defCharSB===i&&(this.defCharSB=this.encodeTable[0]["?"]),this.defCharSB===i&&(this.defCharSB="?".charCodeAt(0))}function p(e,t){this.leadSurrogate=-1,this.seqObj=void 0,this.encodeTable=t.encodeTable,this.encodeTableSeq=t.encodeTableSeq,this.defaultCharSingleByte=t.defCharSB,this.gb18030=t.gb18030}function d(e,t){this.nodeIdx=0,this.prevBytes=[],this.decodeTables=t.decodeTables,this.decodeTableSeq=t.decodeTableSeq,this.defaultCharUnicode=t.defaultCharUnicode,this.gb18030=t.gb18030}function h(e,t){if(e[0]>t)return-1;for(var n=0,r=e.length;n<r-1;){var i=n+(r-n+1>>1);e[i]<=t?n=i:r=i}return n}u.prototype.encoder=p,u.prototype.decoder=d,u.prototype._getDecodeTrieNode=function(e){for(var t=[];e>0;e>>>=8)t.push(255&e);0==t.length&&t.push(0);for(var n=this.decodeTables[0],r=t.length-1;r>0;r--){var o=n[t[r]];if(o==i)n[t[r]]=a-this.decodeTables.length,this.decodeTables.push(n=c.slice(0));else{if(!(o<=a))throw new Error("Overwrite byte in "+this.encodingName+", addr: "+e.toString(16));n=this.decodeTables[a-o]}}return n},u.prototype._addDecodeChunk=function(e){var t=parseInt(e[0],16),n=this._getDecodeTrieNode(t);t&=255;for(var r=1;r<e.length;r++){var i=e[r];if("string"==typeof i)for(var o=0;o<i.length;){var a=i.charCodeAt(o++);if(55296<=a&&a<56320){var c=i.charCodeAt(o++);if(!(56320<=c&&c<57344))throw new Error("Incorrect surrogate pair in "+this.encodingName+" at chunk "+e[0]);n[t++]=65536+1024*(a-55296)+(c-56320)}else if(4080<a&&a<=4095){for(var l=4095-a+2,u=[],p=0;p<l;p++)u.push(i.charCodeAt(o++));n[t++]=s-this.decodeTableSeq.length,this.decodeTableSeq.push(u)}else n[t++]=a}else{if("number"!=typeof i)throw new Error("Incorrect type '"+typeof i+"' given in "+this.encodingName+" at chunk "+e[0]);var d=n[t-1]+1;for(o=0;o<i;o++)n[t++]=d++}}if(t>255)throw new Error("Incorrect chunk in "+this.encodingName+" at addr "+e[0]+": too long"+t)},u.prototype._getEncodeBucket=function(e){var t=e>>8;return void 0===this.encodeTable[t]&&(this.encodeTable[t]=c.slice(0)),this.encodeTable[t]},u.prototype._setEncodeChar=function(e,t){var n=this._getEncodeBucket(e),r=255&e;n[r]<=s?this.encodeTableSeq[s-n[r]][-1]=t:n[r]==i&&(n[r]=t)},u.prototype._setEncodeSequence=function(e,t){var n,r=e[0],o=this._getEncodeBucket(r),a=255&r;o[a]<=s?n=this.encodeTableSeq[s-o[a]]:(n={},o[a]!==i&&(n[-1]=o[a]),o[a]=s-this.encodeTableSeq.length,this.encodeTableSeq.push(n));for(var c=1;c<e.length-1;c++){var l=n[r];"object"==typeof l?n=l:(n=n[r]={},void 0!==l&&(n[-1]=l))}n[r=e[e.length-1]]=t},u.prototype._fillEncodeTable=function(e,t,n){for(var r=this.decodeTables[e],i=!1,o={},c=0;c<256;c++){var l=r[c],u=t+c;if(!n[u])if(l>=0)this._setEncodeChar(l,u),i=!0;else if(l<=a){var p=a-l;if(!o[p]){var d=u<<8>>>0;this._fillEncodeTable(p,d,n)?i=!0:o[p]=!0}}else l<=s&&(this._setEncodeSequence(this.decodeTableSeq[s-l],u),i=!0)}return i},p.prototype.write=function(e){for(var t=r.alloc(e.length*(this.gb18030?4:3)),n=this.leadSurrogate,o=this.seqObj,a=-1,c=0,l=0;;){if(-1===a){if(c==e.length)break;var u=e.charCodeAt(c++)}else u=a,a=-1;if(55296<=u&&u<57344)if(u<56320){if(-1===n){n=u;continue}n=u,u=i}else-1!==n?(u=65536+1024*(n-55296)+(u-56320),n=-1):u=i;else-1!==n&&(a=u,u=i,n=-1);var p=i;if(void 0!==o&&u!=i){var d=o[u];if("object"==typeof d){o=d;continue}"number"==typeof d?p=d:null==d&&void 0!==(d=o[-1])&&(p=d,a=u),o=void 0}else if(u>=0){var f=this.encodeTable[u>>8];if(void 0!==f&&(p=f[255&u]),p<=s){o=this.encodeTableSeq[s-p];continue}if(p==i&&this.gb18030){var v=h(this.gb18030.uChars,u);if(-1!=v){p=this.gb18030.gbChars[v]+(u-this.gb18030.uChars[v]),t[l++]=129+Math.floor(p/12600),p%=12600,t[l++]=48+Math.floor(p/1260),p%=1260,t[l++]=129+Math.floor(p/10),p%=10,t[l++]=48+p;continue}}}p===i&&(p=this.defaultCharSingleByte),p<256?t[l++]=p:p<65536?(t[l++]=p>>8,t[l++]=255&p):p<16777216?(t[l++]=p>>16,t[l++]=p>>8&255,t[l++]=255&p):(t[l++]=p>>>24,t[l++]=p>>>16&255,t[l++]=p>>>8&255,t[l++]=255&p)}return this.seqObj=o,this.leadSurrogate=n,t.slice(0,l)},p.prototype.end=function(){if(-1!==this.leadSurrogate||void 0!==this.seqObj){var e=r.alloc(10),t=0;if(this.seqObj){var n=this.seqObj[-1];void 0!==n&&(n<256?e[t++]=n:(e[t++]=n>>8,e[t++]=255&n)),this.seqObj=void 0}return-1!==this.leadSurrogate&&(e[t++]=this.defaultCharSingleByte,this.leadSurrogate=-1),e.slice(0,t)}},p.prototype.findIdx=h,d.prototype.write=function(e){for(var t=r.alloc(2*e.length),n=this.nodeIdx,c=this.prevBytes,l=this.prevBytes.length,u=-this.prevBytes.length,p=0,d=0;p<e.length;p++){var f,v=p>=0?e[p]:c[p+l];if((f=this.decodeTables[n][v])>=0);else if(f===i)f=this.defaultCharUnicode.charCodeAt(0),p=u;else if(f===o){if(p>=3)var g=12600*(e[p-3]-129)+1260*(e[p-2]-48)+10*(e[p-1]-129)+(v-48);else g=12600*(c[p-3+l]-129)+1260*((p-2>=0?e[p-2]:c[p-2+l])-48)+10*((p-1>=0?e[p-1]:c[p-1+l])-129)+(v-48);var m=h(this.gb18030.gbChars,g);f=this.gb18030.uChars[m]+g-this.gb18030.gbChars[m]}else{if(f<=a){n=a-f;continue}if(!(f<=s))throw new Error("iconv-lite internal error: invalid decoding table value "+f+" at "+n+"/"+v);for(var y=this.decodeTableSeq[s-f],b=0;b<y.length-1;b++)f=y[b],t[d++]=255&f,t[d++]=f>>8;f=y[y.length-1]}if(f>=65536){var _=55296|(f-=65536)>>10;t[d++]=255&_,t[d++]=_>>8,f=56320|1023&f}t[d++]=255&f,t[d++]=f>>8,n=0,u=p+1}return this.nodeIdx=n,this.prevBytes=u>=0?Array.prototype.slice.call(e,u):c.slice(u+l).concat(Array.prototype.slice.call(e)),t.slice(0,d).toString("ucs2")},d.prototype.end=function(){for(var e="";this.prevBytes.length>0;){e+=this.defaultCharUnicode;var t=this.prevBytes.slice(1);this.prevBytes=[],this.nodeIdx=0,t.length>0&&(e+=this.write(t))}return this.prevBytes=[],this.nodeIdx=0,e}},37003:(e,t,n)=>{"use strict";e.exports={shiftjis:{type:"_dbcs",table:function(){return n(40679)},encodeAdd:{"":92,"":126},encodeSkipVals:[{from:60736,to:63808}]},csshiftjis:"shiftjis",mskanji:"shiftjis",sjis:"shiftjis",windows31j:"shiftjis",ms31j:"shiftjis",xsjis:"shiftjis",windows932:"shiftjis",ms932:"shiftjis",932:"shiftjis",cp932:"shiftjis",eucjp:{type:"_dbcs",table:function(){return n(56406)},encodeAdd:{"":92,"":126}},gb2312:"cp936",gb231280:"cp936",gb23121980:"cp936",csgb2312:"cp936",csiso58gb231280:"cp936",euccn:"cp936",windows936:"cp936",ms936:"cp936",936:"cp936",cp936:{type:"_dbcs",table:function(){return n(74488)}},gbk:{type:"_dbcs",table:function(){return n(74488).concat(n(55914))}},xgbk:"gbk",isoir58:"gbk",gb18030:{type:"_dbcs",table:function(){return n(74488).concat(n(55914))},gb18030:function(){return n(99129)},encodeSkipVals:[128],encodeAdd:{"":41699}},chinese:"gb18030",windows949:"cp949",ms949:"cp949",949:"cp949",cp949:{type:"_dbcs",table:function(){return n(21166)}},cseuckr:"cp949",csksc56011987:"cp949",euckr:"cp949",isoir149:"cp949",korean:"cp949",ksc56011987:"cp949",ksc56011989:"cp949",ksc5601:"cp949",windows950:"cp950",ms950:"cp950",950:"cp950",cp950:{type:"_dbcs",table:function(){return n(72324)}},big5:"big5hkscs",big5hkscs:{type:"_dbcs",table:function(){return n(72324).concat(n(43267))},encodeSkipVals:[36457,36463,36478,36523,36532,36557,36560,36695,36713,36718,36811,36862,36973,36986,37060,37084,37105,37311,37551,37552,37553,37554,37585,37959,38090,38361,38652,39285,39798,39800,39803,39878,39902,39916,39926,40002,40019,40034,40040,40043,40055,40124,40125,40144,40279,40282,40388,40431,40443,40617,40687,40701,40800,40907,41079,41180,41183,36812,37576,38468,38637,41636,41637,41639,41638,41676,41678]},cnbig5:"big5hkscs",csbig5:"big5hkscs",xxbig5:"big5hkscs"}},43336:(e,t,n)=>{"use strict";for(var r=[n(42911),n(65172),n(15082),n(71336),n(43770),n(38698),n(67446),n(47161),n(37003)],i=0;i<r.length;i++){var o=r[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}},42911:(e,t,n)=>{"use strict";var r=n(54774).Buffer;function i(e,t){this.enc=e.encodingName,this.bomAware=e.bomAware,"base64"===this.enc?this.encoder=c:"cesu8"===this.enc&&(this.enc="utf8",this.encoder=l,""!==r.from("eda0bdedb2a9","hex").toString()&&(this.decoder=u,this.defaultCharUnicode=t.defaultCharUnicode))}e.exports={utf8:{type:"_internal",bomAware:!0},cesu8:{type:"_internal",bomAware:!0},unicode11utf8:"utf8",ucs2:{type:"_internal",bomAware:!0},utf16le:"ucs2",binary:{type:"_internal"},base64:{type:"_internal"},hex:{type:"_internal"},_internal:i},i.prototype.encoder=a,i.prototype.decoder=s;var o=n(13193).StringDecoder;function s(e,t){this.decoder=new o(t.enc)}function a(e,t){this.enc=t.enc}function c(e,t){this.prevStr=""}function l(e,t){}function u(e,t){this.acc=0,this.contBytes=0,this.accBytes=0,this.defaultCharUnicode=t.defaultCharUnicode}o.prototype.end||(o.prototype.end=function(){}),s.prototype.write=function(e){return r.isBuffer(e)||(e=r.from(e)),this.decoder.write(e)},s.prototype.end=function(){return this.decoder.end()},a.prototype.write=function(e){return r.from(e,this.enc)},a.prototype.end=function(){},c.prototype.write=function(e){var t=(e=this.prevStr+e).length-e.length%4;return this.prevStr=e.slice(t),e=e.slice(0,t),r.from(e,"base64")},c.prototype.end=function(){return r.from(this.prevStr,"base64")},l.prototype.write=function(e){for(var t=r.alloc(3*e.length),n=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?t[n++]=o:o<2048?(t[n++]=192+(o>>>6),t[n++]=128+(63&o)):(t[n++]=224+(o>>>12),t[n++]=128+(o>>>6&63),t[n++]=128+(63&o))}return t.slice(0,n)},l.prototype.end=function(){},u.prototype.write=function(e){for(var t=this.acc,n=this.contBytes,r=this.accBytes,i="",o=0;o<e.length;o++){var s=e[o];128!=(192&s)?(n>0&&(i+=this.defaultCharUnicode,n=0),s<128?i+=String.fromCharCode(s):s<224?(t=31&s,n=1,r=1):s<240?(t=15&s,n=2,r=1):i+=this.defaultCharUnicode):n>0?(t=t<<6|63&s,r++,0==--n&&(i+=2===r&&t<128&&t>0||3===r&&t<2048?this.defaultCharUnicode:String.fromCharCode(t))):i+=this.defaultCharUnicode}return this.acc=t,this.contBytes=n,this.accBytes=r,i},u.prototype.end=function(){var e=0;return this.contBytes>0&&(e+=this.defaultCharUnicode),e}},43770:(e,t,n)=>{"use strict";var r=n(54774).Buffer;function i(e,t){if(!e)throw new Error("SBCS codec is called without the data.");if(!e.chars||128!==e.chars.length&&256!==e.chars.length)throw new Error("Encoding '"+e.type+"' has incorrect 'chars' (must be of len 128 or 256)");if(128===e.chars.length){for(var n="",i=0;i<128;i++)n+=String.fromCharCode(i);e.chars=n+e.chars}this.decodeBuf=r.from(e.chars,"ucs2");var o=r.alloc(65536,t.defaultCharSingleByte.charCodeAt(0));for(i=0;i<e.chars.length;i++)o[e.chars.charCodeAt(i)]=i;this.encodeBuf=o}function o(e,t){this.encodeBuf=t.encodeBuf}function s(e,t){this.decodeBuf=t.decodeBuf}t._sbcs=i,i.prototype.encoder=o,i.prototype.decoder=s,o.prototype.write=function(e){for(var t=r.alloc(e.length),n=0;n<e.length;n++)t[n]=this.encodeBuf[e.charCodeAt(n)];return t},o.prototype.end=function(){},s.prototype.write=function(e){for(var t=this.decodeBuf,n=r.alloc(2*e.length),i=0,o=0,s=0;s<e.length;s++)i=2*e[s],n[o=2*s]=t[i],n[o+1]=t[i+1];return n.toString("ucs2")},s.prototype.end=function(){}},67446:e=>{"use strict";e.exports={437:"cp437",737:"cp737",775:"cp775",850:"cp850",852:"cp852",855:"cp855",856:"cp856",857:"cp857",858:"cp858",860:"cp860",861:"cp861",862:"cp862",863:"cp863",864:"cp864",865:"cp865",866:"cp866",869:"cp869",874:"windows874",922:"cp922",1046:"cp1046",1124:"cp1124",1125:"cp1125",1129:"cp1129",1133:"cp1133",1161:"cp1161",1162:"cp1162",1163:"cp1163",1250:"windows1250",1251:"windows1251",1252:"windows1252",1253:"windows1253",1254:"windows1254",1255:"windows1255",1256:"windows1256",1257:"windows1257",1258:"windows1258",28591:"iso88591",28592:"iso88592",28593:"iso88593",28594:"iso88594",28595:"iso88595",28596:"iso88596",28597:"iso88597",28598:"iso88598",28599:"iso88599",28600:"iso885910",28601:"iso885911",28603:"iso885913",28604:"iso885914",28605:"iso885915",28606:"iso885916",windows874:{type:"_sbcs",chars:""},win874:"windows874",cp874:"windows874",windows1250:{type:"_sbcs",chars:""},win1250:"windows1250",cp1250:"windows1250",windows1251:{type:"_sbcs",chars:""},win1251:"windows1251",cp1251:"windows1251",windows1252:{type:"_sbcs",chars:""},win1252:"windows1252",cp1252:"windows1252",windows1253:{type:"_sbcs",chars:""},win1253:"windows1253",cp1253:"windows1253",windows1254:{type:"_sbcs",chars:""},win1254:"windows1254",cp1254:"windows1254",windows1255:{type:"_sbcs",chars:""},win1255:"windows1255",cp1255:"windows1255",windows1256:{type:"_sbcs",chars:""},win1256:"windows1256",cp1256:"windows1256",windows1257:{type:"_sbcs",chars:""},win1257:"windows1257",cp1257:"windows1257",windows1258:{type:"_sbcs",chars:""},win1258:"windows1258",cp1258:"windows1258",iso88591:{type:"_sbcs",chars:""},cp28591:"iso88591",iso88592:{type:"_sbcs",chars:""},cp28592:"iso88592",iso88593:{type:"_sbcs",chars:""},cp28593:"iso88593",iso88594:{type:"_sbcs",chars:""},cp28594:"iso88594",iso88595:{type:"_sbcs",chars:""},cp28595:"iso88595",iso88596:{type:"_sbcs",chars:""},cp28596:"iso88596",iso88597:{type:"_sbcs",chars:""},cp28597:"iso88597",iso88598:{type:"_sbcs",chars:""},cp28598:"iso88598",iso88599:{type:"_sbcs",chars:""},cp28599:"iso88599",iso885910:{type:"_sbcs",chars:""},cp28600:"iso885910",iso885911:{type:"_sbcs",chars:""},cp28601:"iso885911",iso885913:{type:"_sbcs",chars:""},cp28603:"iso885913",iso885914:{type:"_sbcs",chars:""},cp28604:"iso885914",iso885915:{type:"_sbcs",chars:""},cp28605:"iso885915",iso885916:{type:"_sbcs",chars:""},cp28606:"iso885916",cp437:{type:"_sbcs",chars:""},ibm437:"cp437",csibm437:"cp437",cp737:{type:"_sbcs",chars:""},ibm737:"cp737",csibm737:"cp737",cp775:{type:"_sbcs",chars:""},ibm775:"cp775",csibm775:"cp775",cp850:{type:"_sbcs",chars:""},ibm850:"cp850",csibm850:"cp850",cp852:{type:"_sbcs",chars:""},ibm852:"cp852",csibm852:"cp852",cp855:{type:"_sbcs",chars:""},ibm855:"cp855",csibm855:"cp855",cp856:{type:"_sbcs",chars:""},ibm856:"cp856",csibm856:"cp856",cp857:{type:"_sbcs",chars:""},ibm857:"cp857",csibm857:"cp857",cp858:{type:"_sbcs",chars:""},ibm858:"cp858",csibm858:"cp858",cp860:{type:"_sbcs",chars:""},ibm860:"cp860",csibm860:"cp860",cp861:{type:"_sbcs",chars:""},ibm861:"cp861",csibm861:"cp861",cp862:{type:"_sbcs",chars:""},ibm862:"cp862",csibm862:"cp862",cp863:{type:"_sbcs",chars:""},ibm863:"cp863",csibm863:"cp863",cp864:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},ibm864:"cp864",csibm864:"cp864",cp865:{type:"_sbcs",chars:""},ibm865:"cp865",csibm865:"cp865",cp866:{type:"_sbcs",chars:""},ibm866:"cp866",csibm866:"cp866",cp869:{type:"_sbcs",chars:""},ibm869:"cp869",csibm869:"cp869",cp922:{type:"_sbcs",chars:""},ibm922:"cp922",csibm922:"cp922",cp1046:{type:"_sbcs",chars:""},ibm1046:"cp1046",csibm1046:"cp1046",cp1124:{type:"_sbcs",chars:""},ibm1124:"cp1124",csibm1124:"cp1124",cp1125:{type:"_sbcs",chars:""},ibm1125:"cp1125",csibm1125:"cp1125",cp1129:{type:"_sbcs",chars:""},ibm1129:"cp1129",csibm1129:"cp1129",cp1133:{type:"_sbcs",chars:""},ibm1133:"cp1133",csibm1133:"cp1133",cp1161:{type:"_sbcs",chars:""},ibm1161:"cp1161",csibm1161:"cp1161",cp1162:{type:"_sbcs",chars:""},ibm1162:"cp1162",csibm1162:"cp1162",cp1163:{type:"_sbcs",chars:""},ibm1163:"cp1163",csibm1163:"cp1163",maccroatian:{type:"_sbcs",chars:""},maccyrillic:{type:"_sbcs",chars:""},macgreek:{type:"_sbcs",chars:""},maciceland:{type:"_sbcs",chars:""},macroman:{type:"_sbcs",chars:""},macromania:{type:"_sbcs",chars:""},macthai:{type:"_sbcs",chars:"\ufeff"},macturkish:{type:"_sbcs",chars:""},macukraine:{type:"_sbcs",chars:""},koi8r:{type:"_sbcs",chars:""},koi8u:{type:"_sbcs",chars:""},koi8ru:{type:"_sbcs",chars:""},koi8t:{type:"_sbcs",chars:""},armscii8:{type:"_sbcs",chars:")(.,-"},rk1048:{type:"_sbcs",chars:""},tcvn:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},georgianacademy:{type:"_sbcs",chars:""},georgianps:{type:"_sbcs",chars:""},pt154:{type:"_sbcs",chars:""},viscii:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},iso646cn:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}"},iso646jp:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_`abcdefghijklmnopqrstuvwxyz{|}"},hproman8:{type:"_sbcs",chars:""},macintosh:{type:"_sbcs",chars:""},ascii:{type:"_sbcs",chars:""},tis620:{type:"_sbcs",chars:""}}},38698:e=>{"use strict";e.exports={10029:"maccenteuro",maccenteuro:{type:"_sbcs",chars:""},808:"cp808",ibm808:"cp808",cp808:{type:"_sbcs",chars:""},mik:{type:"_sbcs",chars:""},cp720:{type:"_sbcs",chars:""},ascii8bit:"ascii",usascii:"ascii",ansix34:"ascii",ansix341968:"ascii",ansix341986:"ascii",csascii:"ascii",cp367:"ascii",ibm367:"ascii",isoir6:"ascii",iso646us:"ascii",iso646irv:"ascii",us:"ascii",latin1:"iso88591",latin2:"iso88592",latin3:"iso88593",latin4:"iso88594",latin5:"iso88599",latin6:"iso885910",latin7:"iso885913",latin8:"iso885914",latin9:"iso885915",latin10:"iso885916",csisolatin1:"iso88591",csisolatin2:"iso88592",csisolatin3:"iso88593",csisolatin4:"iso88594",csisolatincyrillic:"iso88595",csisolatinarabic:"iso88596",csisolatingreek:"iso88597",csisolatinhebrew:"iso88598",csisolatin5:"iso88599",csisolatin6:"iso885910",l1:"iso88591",l2:"iso88592",l3:"iso88593",l4:"iso88594",l5:"iso88599",l6:"iso885910",l7:"iso885913",l8:"iso885914",l9:"iso885915",l10:"iso885916",isoir14:"iso646jp",isoir57:"iso646cn",isoir100:"iso88591",isoir101:"iso88592",isoir109:"iso88593",isoir110:"iso88594",isoir144:"iso88595",isoir127:"iso88596",isoir126:"iso88597",isoir138:"iso88598",isoir148:"iso88599",isoir157:"iso885910",isoir166:"tis620",isoir179:"iso885913",isoir199:"iso885914",isoir203:"iso885915",isoir226:"iso885916",cp819:"iso88591",ibm819:"iso88591",cyrillic:"iso88595",arabic:"iso88596",arabic8:"iso88596",ecma114:"iso88596",asmo708:"iso88596",greek:"iso88597",greek8:"iso88597",ecma118:"iso88597",elot928:"iso88597",hebrew:"iso88598",hebrew8:"iso88598",turkish:"iso88599",turkish8:"iso88599",thai:"iso885911",thai8:"iso885911",celtic:"iso885914",celtic8:"iso885914",isoceltic:"iso885914",tis6200:"tis620",tis62025291:"tis620",tis62025330:"tis620",1e4:"macroman",10006:"macgreek",10007:"maccyrillic",10079:"maciceland",10081:"macturkish",cspc8codepage437:"cp437",cspc775baltic:"cp775",cspc850multilingual:"cp850",cspcp852:"cp852",cspc862latinhebrew:"cp862",cpgr:"cp869",msee:"cp1250",mscyrl:"cp1251",msansi:"cp1252",msgreek:"cp1253",msturk:"cp1254",mshebr:"cp1255",msarab:"cp1256",winbaltrim:"cp1257",cp20866:"koi8r",20866:"koi8r",ibm878:"koi8r",cskoi8r:"koi8r",cp21866:"koi8u",21866:"koi8u",ibm1168:"koi8u",strk10482002:"rk1048",tcvn5712:"tcvn",tcvn57121:"tcvn",gb198880:"iso646cn",cn:"iso646cn",csiso14jisc6220ro:"iso646jp",jisc62201969ro:"iso646jp",jp:"iso646jp",cshproman8:"hproman8",r8:"hproman8",roman8:"hproman8",xroman8:"hproman8",ibm1051:"hproman8",mac:"macintosh",csmacintosh:"macintosh"}},15082:(e,t,n)=>{"use strict";var r=n(54774).Buffer;function i(){}function o(){}function s(){this.overflowByte=-1}function a(e,t){this.iconv=t}function c(e,t){void 0===(e=e||{}).addBOM&&(e.addBOM=!0),this.encoder=t.iconv.getEncoder("utf-16le",e)}function l(e,t){this.decoder=null,this.initialBufs=[],this.initialBufsLen=0,this.options=e||{},this.iconv=t.iconv}function u(e,t){var n=[],r=0,i=0,o=0;e:for(var s=0;s<e.length;s++)for(var a=e[s],c=0;c<a.length;c++)if(n.push(a[c]),2===n.length){if(0===r){if(255===n[0]&&254===n[1])return"utf-16le";if(254===n[0]&&255===n[1])return"utf-16be"}if(0===n[0]&&0!==n[1]&&o++,0!==n[0]&&0===n[1]&&i++,n.length=0,++r>=100)break e}return o>i?"utf-16be":o<i?"utf-16le":t||"utf-16le"}t.utf16be=i,i.prototype.encoder=o,i.prototype.decoder=s,i.prototype.bomAware=!0,o.prototype.write=function(e){for(var t=r.from(e,"ucs2"),n=0;n<t.length;n+=2){var i=t[n];t[n]=t[n+1],t[n+1]=i}return t},o.prototype.end=function(){},s.prototype.write=function(e){if(0==e.length)return"";var t=r.alloc(e.length+1),n=0,i=0;for(-1!==this.overflowByte&&(t[0]=e[0],t[1]=this.overflowByte,n=1,i=2);n<e.length-1;n+=2,i+=2)t[i]=e[n+1],t[i+1]=e[n];return this.overflowByte=n==e.length-1?e[e.length-1]:-1,t.slice(0,i).toString("ucs2")},s.prototype.end=function(){this.overflowByte=-1},t.utf16=a,a.prototype.encoder=c,a.prototype.decoder=l,c.prototype.write=function(e){return this.encoder.write(e)},c.prototype.end=function(){return this.encoder.end()},l.prototype.write=function(e){if(!this.decoder){if(this.initialBufs.push(e),this.initialBufsLen+=e.length,this.initialBufsLen<16)return"";var t=u(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(t,this.options);for(var n="",r=0;r<this.initialBufs.length;r++)n+=this.decoder.write(this.initialBufs[r]);return this.initialBufs.length=this.initialBufsLen=0,n}return this.decoder.write(e)},l.prototype.end=function(){if(!this.decoder){var e=u(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(e,this.options);for(var t="",n=0;n<this.initialBufs.length;n++)t+=this.decoder.write(this.initialBufs[n]);var r=this.decoder.end();return r&&(t+=r),this.initialBufs.length=this.initialBufsLen=0,t}return this.decoder.end()}},65172:(e,t,n)=>{"use strict";var r=n(54774).Buffer;function i(e,t){this.iconv=t,this.bomAware=!0,this.isLE=e.isLE}function o(e,t){this.isLE=t.isLE,this.highSurrogate=0}function s(e,t){this.isLE=t.isLE,this.badChar=t.iconv.defaultCharUnicode.charCodeAt(0),this.overflow=[]}function a(e,t,n,r){if((n<0||n>1114111)&&(n=r),n>=65536){var i=55296|(n-=65536)>>10;e[t++]=255&i,e[t++]=i>>8,n=56320|1023&n}return e[t++]=255&n,e[t++]=n>>8,t}function c(e,t){this.iconv=t}function l(e,t){void 0===(e=e||{}).addBOM&&(e.addBOM=!0),this.encoder=t.iconv.getEncoder(e.defaultEncoding||"utf-32le",e)}function u(e,t){this.decoder=null,this.initialBufs=[],this.initialBufsLen=0,this.options=e||{},this.iconv=t.iconv}function p(e,t){var n=[],r=0,i=0,o=0,s=0,a=0;e:for(var c=0;c<e.length;c++)for(var l=e[c],u=0;u<l.length;u++)if(n.push(l[u]),4===n.length){if(0===r){if(255===n[0]&&254===n[1]&&0===n[2]&&0===n[3])return"utf-32le";if(0===n[0]&&0===n[1]&&254===n[2]&&255===n[3])return"utf-32be"}if((0!==n[0]||n[1]>16)&&o++,(0!==n[3]||n[2]>16)&&i++,0!==n[0]||0!==n[1]||0===n[2]&&0===n[3]||a++,0===n[0]&&0===n[1]||0!==n[2]||0!==n[3]||s++,n.length=0,++r>=100)break e}return a-o>s-i?"utf-32be":a-o<s-i?"utf-32le":t||"utf-32le"}t._utf32=i,t.utf32le={type:"_utf32",isLE:!0},t.utf32be={type:"_utf32",isLE:!1},t.ucs4le="utf32le",t.ucs4be="utf32be",i.prototype.encoder=o,i.prototype.decoder=s,o.prototype.write=function(e){for(var t=r.from(e,"ucs2"),n=r.alloc(2*t.length),i=this.isLE?n.writeUInt32LE:n.writeUInt32BE,o=0,s=0;s<t.length;s+=2){var a=t.readUInt16LE(s),c=55296<=a&&a<56320,l=56320<=a&&a<57344;if(this.highSurrogate){if(!c&&l){var u=65536+(this.highSurrogate-55296<<10|a-56320);i.call(n,u,o),o+=4,this.highSurrogate=0;continue}i.call(n,this.highSurrogate,o),o+=4}c?this.highSurrogate=a:(i.call(n,a,o),o+=4,this.highSurrogate=0)}return o<n.length&&(n=n.slice(0,o)),n},o.prototype.end=function(){if(this.highSurrogate){var e=r.alloc(4);return this.isLE?e.writeUInt32LE(this.highSurrogate,0):e.writeUInt32BE(this.highSurrogate,0),this.highSurrogate=0,e}},s.prototype.write=function(e){if(0===e.length)return"";var t=0,n=0,i=r.alloc(e.length+4),o=0,s=this.isLE,c=this.overflow,l=this.badChar;if(c.length>0){for(;t<e.length&&c.length<4;t++)c.push(e[t]);4===c.length&&(n=s?c[t]|c[t+1]<<8|c[t+2]<<16|c[t+3]<<24:c[t+3]|c[t+2]<<8|c[t+1]<<16|c[t]<<24,c.length=0,o=a(i,o,n,l))}for(;t<e.length-3;t+=4)o=a(i,o,n=s?e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24:e[t+3]|e[t+2]<<8|e[t+1]<<16|e[t]<<24,l);for(;t<e.length;t++)c.push(e[t]);return i.slice(0,o).toString("ucs2")},s.prototype.end=function(){this.overflow.length=0},t.utf32=c,t.ucs4="utf32",c.prototype.encoder=l,c.prototype.decoder=u,l.prototype.write=function(e){return this.encoder.write(e)},l.prototype.end=function(){return this.encoder.end()},u.prototype.write=function(e){if(!this.decoder){if(this.initialBufs.push(e),this.initialBufsLen+=e.length,this.initialBufsLen<32)return"";var t=p(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(t,this.options);for(var n="",r=0;r<this.initialBufs.length;r++)n+=this.decoder.write(this.initialBufs[r]);return this.initialBufs.length=this.initialBufsLen=0,n}return this.decoder.write(e)},u.prototype.end=function(){if(!this.decoder){var e=p(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(e,this.options);for(var t="",n=0;n<this.initialBufs.length;n++)t+=this.decoder.write(this.initialBufs[n]);var r=this.decoder.end();return r&&(t+=r),this.initialBufs.length=this.initialBufsLen=0,t}return this.decoder.end()}},71336:(e,t,n)=>{"use strict";var r=n(54774).Buffer;function i(e,t){this.iconv=t}t.utf7=i,t.unicode11utf7="utf7",i.prototype.encoder=s,i.prototype.decoder=a,i.prototype.bomAware=!0;var o=/[^A-Za-z0-9'\(\),-\.\/:\? \n\r\t]+/g;function s(e,t){this.iconv=t.iconv}function a(e,t){this.iconv=t.iconv,this.inBase64=!1,this.base64Accum=""}s.prototype.write=function(e){return r.from(e.replace(o,function(e){return"+"+("+"===e?"":this.iconv.encode(e,"utf16-be").toString("base64").replace(/=+$/,""))+"-"}.bind(this)))},s.prototype.end=function(){};for(var c=/[A-Za-z0-9\/+]/,l=[],u=0;u<256;u++)l[u]=c.test(String.fromCharCode(u));var p="+".charCodeAt(0),d="-".charCodeAt(0),h="&".charCodeAt(0);function f(e,t){this.iconv=t}function v(e,t){this.iconv=t.iconv,this.inBase64=!1,this.base64Accum=r.alloc(6),this.base64AccumIdx=0}function g(e,t){this.iconv=t.iconv,this.inBase64=!1,this.base64Accum=""}a.prototype.write=function(e){for(var t="",n=0,i=this.inBase64,o=this.base64Accum,s=0;s<e.length;s++)if(i){if(!l[e[s]]){if(s==n&&e[s]==d)t+="+";else{var a=o+this.iconv.decode(e.slice(n,s),"ascii");t+=this.iconv.decode(r.from(a,"base64"),"utf16-be")}e[s]!=d&&s--,n=s+1,i=!1,o=""}}else e[s]==p&&(t+=this.iconv.decode(e.slice(n,s),"ascii"),n=s+1,i=!0);if(i){var c=(a=o+this.iconv.decode(e.slice(n),"ascii")).length-a.length%8;o=a.slice(c),a=a.slice(0,c),t+=this.iconv.decode(r.from(a,"base64"),"utf16-be")}else t+=this.iconv.decode(e.slice(n),"ascii");return this.inBase64=i,this.base64Accum=o,t},a.prototype.end=function(){var e="";return this.inBase64&&this.base64Accum.length>0&&(e=this.iconv.decode(r.from(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",e},t.utf7imap=f,f.prototype.encoder=v,f.prototype.decoder=g,f.prototype.bomAware=!0,v.prototype.write=function(e){for(var t=this.inBase64,n=this.base64Accum,i=this.base64AccumIdx,o=r.alloc(5*e.length+10),s=0,a=0;a<e.length;a++){var c=e.charCodeAt(a);32<=c&&c<=126?(t&&(i>0&&(s+=o.write(n.slice(0,i).toString("base64").replace(/\//g,",").replace(/=+$/,""),s),i=0),o[s++]=d,t=!1),t||(o[s++]=c,c===h&&(o[s++]=d))):(t||(o[s++]=h,t=!0),t&&(n[i++]=c>>8,n[i++]=255&c,i==n.length&&(s+=o.write(n.toString("base64").replace(/\//g,","),s),i=0)))}return this.inBase64=t,this.base64AccumIdx=i,o.slice(0,s)},v.prototype.end=function(){var e=r.alloc(10),t=0;return this.inBase64&&(this.base64AccumIdx>0&&(t+=e.write(this.base64Accum.slice(0,this.base64AccumIdx).toString("base64").replace(/\//g,",").replace(/=+$/,""),t),this.base64AccumIdx=0),e[t++]=d,this.inBase64=!1),e.slice(0,t)};var m=l.slice();m[",".charCodeAt(0)]=!0,g.prototype.write=function(e){for(var t="",n=0,i=this.inBase64,o=this.base64Accum,s=0;s<e.length;s++)if(i){if(!m[e[s]]){if(s==n&&e[s]==d)t+="&";else{var a=o+this.iconv.decode(e.slice(n,s),"ascii").replace(/,/g,"/");t+=this.iconv.decode(r.from(a,"base64"),"utf16-be")}e[s]!=d&&s--,n=s+1,i=!1,o=""}}else e[s]==h&&(t+=this.iconv.decode(e.slice(n,s),"ascii"),n=s+1,i=!0);if(i){var c=(a=o+this.iconv.decode(e.slice(n),"ascii").replace(/,/g,"/")).length-a.length%8;o=a.slice(c),a=a.slice(0,c),t+=this.iconv.decode(r.from(a,"base64"),"utf16-be")}else t+=this.iconv.decode(e.slice(n),"ascii");return this.inBase64=i,this.base64Accum=o,t},g.prototype.end=function(){var e="";return this.inBase64&&this.base64Accum.length>0&&(e=this.iconv.decode(r.from(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",e}},40557:(e,t)=>{"use strict";function n(e,t){this.encoder=e,this.addBOM=!0}function r(e,t){this.decoder=e,this.pass=!1,this.options=t||{}}t.PrependBOM=n,n.prototype.write=function(e){return this.addBOM&&(e="\ufeff"+e,this.addBOM=!1),this.encoder.write(e)},n.prototype.end=function(){return this.encoder.end()},t.StripBOM=r,r.prototype.write=function(e){var t=this.decoder.write(e);return this.pass||!t||("\ufeff"===t[0]&&(t=t.slice(1),"function"==typeof this.options.stripBOM&&this.options.stripBOM()),this.pass=!0),t},r.prototype.end=function(){return this.decoder.end()}},95249:(e,t,n)=>{"use strict";var r,i=n(54774).Buffer,o=n(40557),s=e.exports;s.encodings=null,s.defaultCharUnicode="",s.defaultCharSingleByte="?",s.encode=function(e,t,n){e=""+(e||"");var r=s.getEncoder(t,n),o=r.write(e),a=r.end();return a&&a.length>0?i.concat([o,a]):o},s.decode=function(e,t,n){"string"==typeof e&&(s.skipDecodeWarning||(console.error("Iconv-lite warning: decode()-ing strings is deprecated. Refer to https://github.com/ashtuchkin/iconv-lite/wiki/Use-Buffers-when-decoding"),s.skipDecodeWarning=!0),e=i.from(""+(e||""),"binary"));var r=s.getDecoder(t,n),o=r.write(e),a=r.end();return a?o+a:o},s.encodingExists=function(e){try{return s.getCodec(e),!0}catch(e){return!1}},s.toEncoding=s.encode,s.fromEncoding=s.decode,s._codecDataCache={},s.getCodec=function(e){s.encodings||(s.encodings=n(43336));for(var t=s._canonicalizeEncoding(e),r={};;){var i=s._codecDataCache[t];if(i)return i;var o=s.encodings[t];switch(typeof o){case"string":t=o;break;case"object":for(var a in o)r[a]=o[a];r.encodingName||(r.encodingName=t),t=o.type;break;case"function":return r.encodingName||(r.encodingName=t),i=new o(r,s),s._codecDataCache[r.encodingName]=i,i;default:throw new Error("Encoding not recognized: '"+e+"' (searched as: '"+t+"')")}}},s._canonicalizeEncoding=function(e){return(""+e).toLowerCase().replace(/:\d{4}$|[^0-9a-z]/g,"")},s.getEncoder=function(e,t){var n=s.getCodec(e),r=new n.encoder(t,n);return n.bomAware&&t&&t.addBOM&&(r=new o.PrependBOM(r,t)),r},s.getDecoder=function(e,t){var n=s.getCodec(e),r=new n.decoder(t,n);return!n.bomAware||t&&!1===t.stripBOM||(r=new o.StripBOM(r,t)),r},s.enableStreamingAPI=function(e){if(!s.supportsStreams){var t=n(77792)(e);s.IconvLiteEncoderStream=t.IconvLiteEncoderStream,s.IconvLiteDecoderStream=t.IconvLiteDecoderStream,s.encodeStream=function(e,t){return new s.IconvLiteEncoderStream(s.getEncoder(e,t),t)},s.decodeStream=function(e,t){return new s.IconvLiteDecoderStream(s.getDecoder(e,t),t)},s.supportsStreams=!0}};try{r=n(2203)}catch(e){}r&&r.Transform?s.enableStreamingAPI(r):s.encodeStream=s.decodeStream=function(){throw new Error("iconv-lite Streaming API is not enabled. Use iconv.enableStreamingAPI(require('stream')); to enable it.")}},77792:(e,t,n)=>{"use strict";var r=n(54774).Buffer;e.exports=function(e){var t=e.Transform;function n(e,n){this.conv=e,(n=n||{}).decodeStrings=!1,t.call(this,n)}function i(e,n){this.conv=e,(n=n||{}).encoding=this.encoding="utf8",t.call(this,n)}return n.prototype=Object.create(t.prototype,{constructor:{value:n}}),n.prototype._transform=function(e,t,n){if("string"!=typeof e)return n(new Error("Iconv encoding stream needs strings as its input."));try{var r=this.conv.write(e);r&&r.length&&this.push(r),n()}catch(e){n(e)}},n.prototype._flush=function(e){try{var t=this.conv.end();t&&t.length&&this.push(t),e()}catch(t){e(t)}},n.prototype.collect=function(e){var t=[];return this.on("error",e),this.on("data",(function(e){t.push(e)})),this.on("end",(function(){e(null,r.concat(t))})),this},i.prototype=Object.create(t.prototype,{constructor:{value:i}}),i.prototype._transform=function(e,t,n){if(!(r.isBuffer(e)||e instanceof Uint8Array))return n(new Error("Iconv decoding stream needs buffers as its input."));try{var i=this.conv.write(e);i&&i.length&&this.push(i,this.encoding),n()}catch(e){n(e)}},i.prototype._flush=function(e){try{var t=this.conv.end();t&&t.length&&this.push(t,this.encoding),e()}catch(t){e(t)}},i.prototype.collect=function(e){var t="";return this.on("error",e),this.on("data",(function(e){t+=e})),this.on("end",(function(){e(null,t)})),this},{IconvLiteEncoderStream:n,IconvLiteDecoderStream:i}}},53423:(e,t,n)=>{var r=n(86587),i=Object.create(null),o=n(83519);e.exports=r((function(e,t){return i[e]?(i[e].push(t),null):(i[e]=[t],function(e){return o((function t(){var n=i[e],r=n.length,o=function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r]=e[r];return n}(arguments);try{for(var s=0;s<r;s++)n[s].apply(null,o)}finally{n.length>r?(n.splice(0,r),process.nextTick((function(){t.apply(null,o)}))):delete i[e]}}))}(e))}))},72017:(e,t,n)=>{try{var r=n(39023);if("function"!=typeof r.inherits)throw"";e.exports=r.inherits}catch(t){e.exports=n(56698)}},56698:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},25891:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AsyncContainerModule:()=>Ye,BindingScopeEnum:()=>m,BindingTypeEnum:()=>y,Container:()=>Ge,ContainerModule:()=>ze,LazyServiceIdentifer:()=>G,LazyServiceIdentifier:()=>G,METADATA_KEY:()=>vt,MetadataReader:()=>M,TargetTypeEnum:()=>b,createTaggedDecorator:()=>Qe,decorate:()=>tt,getServiceIdentifierAsString:()=>V,id:()=>E,inject:()=>st,injectable:()=>nt,interfaces:()=>dt,multiBindToService:()=>de,multiInject:()=>lt,named:()=>it,namedConstraint:()=>Ae,optional:()=>at,postConstruct:()=>ht,preDestroy:()=>ft,tagged:()=>rt,taggedConstraint:()=>ke,targetName:()=>ut,traverseAncerstors:()=>De,typeConstraint:()=>Ne,unmanaged:()=>ct});var r={};n.r(r),n.d(r,{DESIGN_PARAM_TYPES:()=>h,INJECT_TAG:()=>c,MULTI_INJECT_TAG:()=>l,NAMED_TAG:()=>i,NAME_TAG:()=>o,NON_CUSTOM_TAG_KEYS:()=>g,OPTIONAL_TAG:()=>a,PARAM_TYPES:()=>d,POST_CONSTRUCT:()=>f,PRE_DESTROY:()=>v,TAGGED:()=>u,TAGGED_PROP:()=>p,UNMANAGED_TAG:()=>s});var i="named",o="name",s="unmanaged",a="optional",c="inject",l="multi_inject",u="inversify:tagged",p="inversify:tagged_props",d="inversify:paramtypes",h="design:paramtypes",f="post_construct",v="pre_destroy",g=[c,l,o,s,i,a],m={Request:"Request",Singleton:"Singleton",Transient:"Transient"},y={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"},b={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"},_=0;function E(){return _++}var S=function(){function e(e,t){this.id=E(),this.activated=!1,this.serviceIdentifier=e,this.scope=t,this.type=y.Invalid,this.constraint=function(e){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.onDeactivation=null,this.dynamicValue=null}return e.prototype.clone=function(){var t=new e(this.serviceIdentifier,this.scope);return t.activated=t.scope===m.Singleton&&this.activated,t.implementationType=this.implementationType,t.dynamicValue=this.dynamicValue,t.scope=this.scope,t.type=this.type,t.factory=this.factory,t.provider=this.provider,t.constraint=this.constraint,t.onActivation=this.onActivation,t.onDeactivation=this.onDeactivation,t.cache=this.cache,t},e}(),w="Cannot apply @injectable decorator multiple times.",P="Metadata key was used more than once in a parameter:",T="NULL argument",C="Key Not Found",x="Ambiguous match found for serviceIdentifier:",I="No matching bindings found for serviceIdentifier:",O="Missing required @injectable annotation in:",R="Missing required @inject or @multiInject annotation in:",D="Circular dependency found:",k="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.",A=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"The number of constructor arguments in the derived class "+e[0]+" must be >= than the number of constructor arguments of its base class."},N=function(e,t){return"onDeactivation() error in class "+e+": "+t},j="Maximum call stack size exceeded",M=function(){function e(){}return e.prototype.getConstructorMetadata=function(e){return{compilerGeneratedMetadata:Reflect.getMetadata(d,e),userGeneratedMetadata:Reflect.getMetadata(u,e)||{}}},e.prototype.getPropertiesMetadata=function(e){return Reflect.getMetadata(p,e)||[]},e}(),L={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1};function F(e){return e instanceof RangeError||e.message===j}function V(e){return"function"==typeof e?e.name:"symbol"==typeof e?e.toString():e}function U(e,t,n){var r="",i=n(e,t);return 0!==i.length&&(r="\nRegistered bindings:",i.forEach((function(e){var t="Object";null!==e.implementationType&&(t=q(e.implementationType)),r=r+"\n "+t,e.constraint.metaData&&(r=r+" - "+e.constraint.metaData)}))),r}function H(e,t){return null!==e.parentRequest&&(e.parentRequest.serviceIdentifier===t||H(e.parentRequest,t))}function W(e){e.childRequests.forEach((function(e){if(H(e,e.serviceIdentifier)){var t=function(e){return function e(t,n){void 0===n&&(n=[]);var r=V(t.serviceIdentifier);return n.push(r),null!==t.parentRequest?e(t.parentRequest,n):n}(e).reverse().join(" --\x3e ")}(e);throw new Error(D+" "+t)}W(e)}))}function q(e){if(e.name)return e.name;var t=e.toString(),n=t.match(/^function\s*([^\s(]+)/);return n?n[1]:"Anonymous function: "+t}var B=function(){function e(e){this.id=E(),this.container=e}return e.prototype.addPlan=function(e){this.plan=e},e.prototype.setCurrentRequest=function(e){this.currentRequest=e},e}(),$=function(){function e(e,t){this.key=e,this.value=t}return e.prototype.toString=function(){return this.key===i?"named: "+String(this.value).toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+String(this.value)+" }"},e}(),K=function(e,t){this.parentContext=e,this.rootRequest=t},G=function(){function e(e){this._cb=e}return e.prototype.unwrap=function(){return this._cb()},e}(),z=function(){function e(e){this.str=e}return e.prototype.startsWith=function(e){return 0===this.str.indexOf(e)},e.prototype.endsWith=function(e){var t,n=e.split("").reverse().join("");return t=this.str.split("").reverse().join(""),this.startsWith.call({str:t},n)},e.prototype.contains=function(e){return-1!==this.str.indexOf(e)},e.prototype.equals=function(e){return this.str===e},e.prototype.value=function(){return this.str},e}(),Y=function(){function e(e,t,n,r){this.id=E(),this.type=e,this.serviceIdentifier=n;var o="symbol"==typeof t?t.toString().slice(7,-1):t;this.name=new z(o||""),this.identifier=t,this.metadata=new Array;var s=null;"string"==typeof r?s=new $(i,r):r instanceof $&&(s=r),null!==s&&this.metadata.push(s)}return e.prototype.hasTag=function(e){for(var t=0,n=this.metadata;t<n.length;t++)if(n[t].key===e)return!0;return!1},e.prototype.isArray=function(){return this.hasTag(l)},e.prototype.matchesArray=function(e){return this.matchesTag(l)(e)},e.prototype.isNamed=function(){return this.hasTag(i)},e.prototype.isTagged=function(){return this.metadata.some((function(e){return g.every((function(t){return e.key!==t}))}))},e.prototype.isOptional=function(){return this.matchesTag(a)(!0)},e.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter((function(e){return e.key===i}))[0]:null},e.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter((function(e){return g.every((function(t){return e.key!==t}))})):null},e.prototype.matchesNamedTag=function(e){return this.matchesTag(i)(e)},e.prototype.matchesTag=function(e){var t=this;return function(n){for(var r=0,i=t.metadata;r<i.length;r++){var o=i[r];if(o.key===e&&o.value===n)return!0}return!1}},e}(),X=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};function J(e,t,n,r){var i=e.getConstructorMetadata(n),o=i.compilerGeneratedMetadata;if(void 0===o)throw new Error(O+" "+t+".");var s=i.userGeneratedMetadata,a=Object.keys(s),c=0===n.length&&a.length>0,l=a.length>n.length,u=function(e,t,n,r,i){for(var o=[],s=0;s<i;s++){var a=Q(s,e,t,n,r);null!==a&&o.push(a)}return o}(r,t,o,s,c||l?a.length:n.length),p=ee(e,n,t);return X(X([],u,!0),p,!0)}function Q(e,t,n,r,i){var o=i[e.toString()]||[],s=ne(o),a=!0!==s.unmanaged,c=r[e];if((c=s.inject||s.multiInject||c)instanceof G&&(c=c.unwrap()),a){if(!t&&(c===Object||c===Function||void 0===c))throw new Error(R+" argument "+e+" in class "+n+".");var l=new Y(b.ConstructorArgument,s.targetName,c);return l.metadata=o,l}return null}function Z(e,t,n,r){var i=e||t;if(void 0===i){var o=O+" for property "+String(n)+" in class "+r+".";throw new Error(o)}return i}function ee(e,t,n){for(var r=e.getPropertiesMetadata(t),i=[],o=Object.getOwnPropertySymbols(r),s=0,a=Object.keys(r).concat(o);s<a.length;s++){var c=a[s],l=r[c],u=ne(l),p=u.targetName||c,d=Z(u.inject,u.multiInject,c,n),h=new Y(b.ClassProperty,p,d);h.metadata=l,i.push(h)}var f=Object.getPrototypeOf(t.prototype).constructor;if(f!==Object){var v=ee(e,f,n);i=X(X([],i,!0),v,!0)}return i}function te(e,t){var n=Object.getPrototypeOf(t.prototype).constructor;if(n!==Object){var r=J(e,q(n),n,!0),i=r.map((function(e){return e.metadata.filter((function(e){return e.key===s}))})),o=[].concat.apply([],i).length,a=r.length-o;return a>0?a:te(e,n)}return 0}function ne(e){var t={};return e.forEach((function(e){t[e.key.toString()]=e.value})),{inject:t[c],multiInject:t[l],targetName:t[o],unmanaged:t[s]}}var re=function(){function e(e,t,n,r,i){this.id=E(),this.serviceIdentifier=e,this.parentContext=t,this.parentRequest=n,this.target=i,this.childRequests=[],this.bindings=Array.isArray(r)?r:[r],this.requestScope=null===n?new Map:null}return e.prototype.addChildRequest=function(t,n,r){var i=new e(t,this.parentContext,this,n,r);return this.childRequests.push(i),i},e}();function ie(e){return e._bindingDictionary}function oe(e,t,n,r,i){var o,s=ae(n.container,i.serviceIdentifier);return s.length===L.NoBindingsAvailable&&n.container.options.autoBindInjectable&&"function"==typeof i.serviceIdentifier&&e.getConstructorMetadata(i.serviceIdentifier).compilerGeneratedMetadata&&(n.container.bind(i.serviceIdentifier).toSelf(),s=ae(n.container,i.serviceIdentifier)),o=t?s:s.filter((function(e){var t=new re(e.serviceIdentifier,n,r,e,i);return e.constraint(t)})),function(e,t,n,r){switch(t.length){case L.NoBindingsAvailable:if(n.isOptional())return t;var i=V(e),o=I;throw o+=function(e,t){if(t.isTagged()||t.isNamed()){var n="",r=t.getNamedTag(),i=t.getCustomTags();return null!==r&&(n+=r.toString()+"\n"),null!==i&&i.forEach((function(e){n+=e.toString()+"\n"}))," "+e+"\n "+e+" - "+n}return" "+e}(i,n),o+=U(r,i,ae),new Error(o);case L.OnlyOneBindingAvailable:return t;case L.MultipleBindingsAvailable:default:if(n.isArray())return t;throw i=V(e),o=x+" "+i,o+=U(r,i,ae),new Error(o)}}(i.serviceIdentifier,o,i,n.container),o}function se(e,t,n,r,i,o){var s,a;if(null===i){s=oe(e,t,r,null,o),a=new re(n,r,null,s,o);var c=new K(r,a);r.addPlan(c)}else s=oe(e,t,r,i,o),a=i.addChildRequest(o.serviceIdentifier,s,o);s.forEach((function(t){var n=null;if(o.isArray())n=a.addChildRequest(t.serviceIdentifier,t,o);else{if(t.cache)return;n=a}if(t.type===y.Instance&&null!==t.implementationType){var i=function(e,t){return J(e,q(t),t,!1)}(e,t.implementationType);if(!r.container.options.skipBaseClassChecks){var s=te(e,t.implementationType);if(i.length<s){var c=A(q(t.implementationType));throw new Error(c)}}i.forEach((function(t){se(e,!1,t.serviceIdentifier,r,n,t)}))}}))}function ae(e,t){var n=[],r=ie(e);return r.hasKey(t)?n=r.get(t):null!==e.parent&&(n=ae(e.parent,t)),n}function ce(e){return("object"==typeof e&&null!==e||"function"==typeof e)&&"function"==typeof e.then}function le(e){return!!ce(e)||Array.isArray(e)&&e.some(ce)}var ue,pe=function(e,t){return n=void 0,r=void 0,o=function(){var n,r;return function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,t];case 1:return n=i.sent(),e.cache=n,[3,3];case 2:throw r=i.sent(),e.cache=null,e.activated=!1,r;case 3:return[2]}}))},new((i=void 0)||(i=Promise))((function(e,t){function s(e){try{c(o.next(e))}catch(e){t(e)}}function a(e){try{c(o.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(s,a)}c((o=o.apply(n,r||[])).next())}));var n,r,i,o};!function(e){e.DynamicValue="toDynamicValue",e.Factory="toFactory",e.Provider="toProvider"}(ue||(ue={}));var de=function(e){return function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.forEach((function(n){return e.bind(n).toService(t)}))}}},he=function(){return he=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},he.apply(this,arguments)},fe=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},ve=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},ge=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};function me(e){var t,n=new((t=e.constr).bind.apply(t,ge([void 0],e.constructorInjections,!1)));return e.propertyRequests.forEach((function(t,r){var i=t.target.identifier,o=e.propertyInjections[r];t.target.isOptional()&&void 0===o||(n[i]=o)})),n}function ye(e){return fe(this,void 0,void 0,(function(){var t,n,r,i;return ve(this,(function(o){for(t=[],n=0,r=e;n<r.length;n++)i=r[n],Array.isArray(i)?t.push(Promise.all(i)):t.push(i);return[2,Promise.all(t)]}))}))}function be(e,t){var n=function(e,t){var n,r,i,o;if(Reflect.hasMetadata(f,e)){var s=Reflect.getMetadata(f,e);try{return null===(r=(n=t)[s.value])||void 0===r?void 0:r.call(n)}catch(t){if(t instanceof Error)throw new Error((i=e.name,o=t.message,"@postConstruct error in class "+i+": "+o))}}}(e,t);return ce(n)?n.then((function(){return t})):t}var _e=function(e){return function(t){t.parentContext.setCurrentRequest(t);var n=t.bindings,r=t.childRequests,i=t.target&&t.target.isArray(),o=!(t.parentRequest&&t.parentRequest.target&&t.target&&t.parentRequest.target.matchesArray(t.target.serviceIdentifier));if(i&&o)return r.map((function(t){return _e(e)(t)}));if(!t.target.isOptional()||0!==n.length){var s=n[0];return Pe(e,t,s)}}},Ee=function(e,t){var n=function(e){switch(e.type){case y.Factory:return{factory:e.factory,factoryType:ue.Factory};case y.Provider:return{factory:e.provider,factoryType:ue.Provider};case y.DynamicValue:return{factory:e.dynamicValue,factoryType:ue.DynamicValue};default:throw new Error("Unexpected factory type "+e.type)}}(e);return function(){try{return n.factory.bind(e)(t)}catch(e){throw F(e)&&(e=new Error((r=n.factoryType,i=t.currentRequest.serviceIdentifier.toString(),"It looks like there is a circular dependency in one of the '"+r+"' bindings. Please investigate bindings with service identifier '"+i+"'."))),e}var r,i}()},Se=function(e,t,n){var r,i=t.childRequests;switch(function(e){var t=null;switch(e.type){case y.ConstantValue:case y.Function:t=e.cache;break;case y.Constructor:case y.Instance:t=e.implementationType;break;case y.DynamicValue:t=e.dynamicValue;break;case y.Provider:t=e.provider;break;case y.Factory:t=e.factory}if(null===t){var n=V(e.serviceIdentifier);throw new Error("Invalid binding type: "+n)}}(n),n.type){case y.ConstantValue:case y.Function:r=n.cache;break;case y.Constructor:r=n.implementationType;break;case y.Instance:r=function(e,t,n,r){!function(e,t){e.scope!==m.Singleton&&function(e,t){var n="Class cannot be instantiated in "+(e.scope===m.Request?"request":"transient")+" scope.";if("function"==typeof e.onDeactivation)throw new Error(N(t.name,n));if(Reflect.hasMetadata(v,t))throw new Error("@preDestroy error in class "+t.name+": "+n)}(e,t)}(e,t);var i=function(e,t,n){var r;if(t.length>0){var i=function(e,t){return e.reduce((function(e,n){var r=t(n);return n.target.type===b.ConstructorArgument?e.constructorInjections.push(r):(e.propertyRequests.push(n),e.propertyInjections.push(r)),e.isAsync||(e.isAsync=le(r)),e}),{constructorInjections:[],propertyInjections:[],propertyRequests:[],isAsync:!1})}(t,n),o=he(he({},i),{constr:e});r=i.isAsync?function(e){return fe(this,void 0,void 0,(function(){var t,n;return ve(this,(function(r){switch(r.label){case 0:return[4,ye(e.constructorInjections)];case 1:return t=r.sent(),[4,ye(e.propertyInjections)];case 2:return n=r.sent(),[2,me(he(he({},e),{constructorInjections:t,propertyInjections:n}))]}}))}))}(o):me(o)}else r=new e;return r}(t,n,r);return ce(i)?i.then((function(e){return be(t,e)})):be(t,i)}(n,n.implementationType,i,_e(e));break;default:r=Ee(n,t.parentContext)}return r},we=function(e,t,n){var r=function(e,t){return t.scope===m.Singleton&&t.activated?t.cache:t.scope===m.Request&&e.has(t.id)?e.get(t.id):null}(e,t);return null!==r||function(e,t,n){t.scope===m.Singleton&&function(e,t){e.cache=t,e.activated=!0,ce(t)&&pe(e,t)}(t,n),t.scope===m.Request&&function(e,t,n){e.has(t.id)||e.set(t.id,n)}(e,t,n)}(e,t,r=n()),r},Pe=function(e,t,n){return we(e,n,(function(){var r=Se(e,t,n);return ce(r)?r.then((function(e){return Te(t,n,e)})):Te(t,n,r)}))};function Te(e,t,n){var r,i=Ce(e.parentContext,t,n),o=Re(e.parentContext.container),s=o.next();do{r=s.value;var a=e.parentContext,c=e.serviceIdentifier,l=Oe(r,c);i=ce(i)?Ie(l,a,i):xe(l,a,i),s=o.next()}while(!0!==s.done&&!ie(r).hasKey(e.serviceIdentifier));return i}var Ce=function(e,t,n){return"function"==typeof t.onActivation?t.onActivation(e,n):n},xe=function(e,t,n){for(var r=e.next();!r.done;){if(ce(n=r.value(t,n)))return Ie(e,t,n);r=e.next()}return n},Ie=function(e,t,n){return r=void 0,i=void 0,s=function(){var r,i;return function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(o){switch(o.label){case 0:return[4,n];case 1:r=o.sent(),i=e.next(),o.label=2;case 2:return i.done?[3,4]:[4,i.value(t,r)];case 3:return r=o.sent(),i=e.next(),[3,2];case 4:return[2,r]}}))},new((o=void 0)||(o=Promise))((function(e,t){function n(e){try{c(s.next(e))}catch(e){t(e)}}function a(e){try{c(s.throw(e))}catch(e){t(e)}}function c(t){var r;t.done?e(t.value):(r=t.value,r instanceof o?r:new o((function(e){e(r)}))).then(n,a)}c((s=s.apply(r,i||[])).next())}));var r,i,o,s},Oe=function(e,t){var n=e._activations;return n.hasKey(t)?n.get(t).values():[].values()},Re=function(e){for(var t=[e],n=e.parent;null!==n;)t.push(n),n=n.parent;return{next:function(){var e=t.pop();return void 0!==e?{done:!1,value:e}:{done:!0,value:void 0}}}},De=function(e,t){var n=e.parentRequest;return null!==n&&(!!t(n)||De(n,t))},ke=function(e){return function(t){var n=function(n){return null!==n&&null!==n.target&&n.target.matchesTag(e)(t)};return n.metaData=new $(e,t),n}},Ae=ke(i),Ne=function(e){return function(t){var n=null;if(null!==t){if(n=t.bindings[0],"string"==typeof e)return n.serviceIdentifier===e;var r=t.bindings[0].implementationType;return e===r}return!1}},je=function(){function e(e){this._binding=e}return e.prototype.when=function(e){return this._binding.constraint=e,new Me(this._binding)},e.prototype.whenTargetNamed=function(e){return this._binding.constraint=Ae(e),new Me(this._binding)},e.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(e){return null!==e&&null!==e.target&&!e.target.isNamed()&&!e.target.isTagged()},new Me(this._binding)},e.prototype.whenTargetTagged=function(e,t){return this._binding.constraint=ke(e)(t),new Me(this._binding)},e.prototype.whenInjectedInto=function(e){return this._binding.constraint=function(t){return null!==t&&Ne(e)(t.parentRequest)},new Me(this._binding)},e.prototype.whenParentNamed=function(e){return this._binding.constraint=function(t){return null!==t&&Ae(e)(t.parentRequest)},new Me(this._binding)},e.prototype.whenParentTagged=function(e,t){return this._binding.constraint=function(n){return null!==n&&ke(e)(t)(n.parentRequest)},new Me(this._binding)},e.prototype.whenAnyAncestorIs=function(e){return this._binding.constraint=function(t){return null!==t&&De(t,Ne(e))},new Me(this._binding)},e.prototype.whenNoAncestorIs=function(e){return this._binding.constraint=function(t){return null!==t&&!De(t,Ne(e))},new Me(this._binding)},e.prototype.whenAnyAncestorNamed=function(e){return this._binding.constraint=function(t){return null!==t&&De(t,Ae(e))},new Me(this._binding)},e.prototype.whenNoAncestorNamed=function(e){return this._binding.constraint=function(t){return null!==t&&!De(t,Ae(e))},new Me(this._binding)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._binding.constraint=function(n){return null!==n&&De(n,ke(e)(t))},new Me(this._binding)},e.prototype.whenNoAncestorTagged=function(e,t){return this._binding.constraint=function(n){return null!==n&&!De(n,ke(e)(t))},new Me(this._binding)},e.prototype.whenAnyAncestorMatches=function(e){return this._binding.constraint=function(t){return null!==t&&De(t,e)},new Me(this._binding)},e.prototype.whenNoAncestorMatches=function(e){return this._binding.constraint=function(t){return null!==t&&!De(t,e)},new Me(this._binding)},e}(),Me=function(){function e(e){this._binding=e}return e.prototype.onActivation=function(e){return this._binding.onActivation=e,new je(this._binding)},e.prototype.onDeactivation=function(e){return this._binding.onDeactivation=e,new je(this._binding)},e}(),Le=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new je(this._binding),this._bindingOnSyntax=new Me(this._binding)}return e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e.prototype.onDeactivation=function(e){return this._bindingOnSyntax.onDeactivation(e)},e}(),Fe=function(){function e(e){this._binding=e}return e.prototype.inRequestScope=function(){return this._binding.scope=m.Request,new Le(this._binding)},e.prototype.inSingletonScope=function(){return this._binding.scope=m.Singleton,new Le(this._binding)},e.prototype.inTransientScope=function(){return this._binding.scope=m.Transient,new Le(this._binding)},e}(),Ve=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new je(this._binding),this._bindingOnSyntax=new Me(this._binding),this._bindingInSyntax=new Fe(e)}return e.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},e.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},e.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e.prototype.onDeactivation=function(e){return this._bindingOnSyntax.onDeactivation(e)},e}(),Ue=function(){function e(e){this._binding=e}return e.prototype.to=function(e){return this._binding.type=y.Instance,this._binding.implementationType=e,new Ve(this._binding)},e.prototype.toSelf=function(){if("function"!=typeof this._binding.serviceIdentifier)throw new Error("The toSelf function can only be applied when a constructor is used as service identifier");var e=this._binding.serviceIdentifier;return this.to(e)},e.prototype.toConstantValue=function(e){return this._binding.type=y.ConstantValue,this._binding.cache=e,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=m.Singleton,new Le(this._binding)},e.prototype.toDynamicValue=function(e){return this._binding.type=y.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=e,this._binding.implementationType=null,new Ve(this._binding)},e.prototype.toConstructor=function(e){return this._binding.type=y.Constructor,this._binding.implementationType=e,this._binding.scope=m.Singleton,new Le(this._binding)},e.prototype.toFactory=function(e){return this._binding.type=y.Factory,this._binding.factory=e,this._binding.scope=m.Singleton,new Le(this._binding)},e.prototype.toFunction=function(e){if("function"!=typeof e)throw new Error("Value provided to function binding must be a function!");var t=this.toConstantValue(e);return this._binding.type=y.Function,this._binding.scope=m.Singleton,t},e.prototype.toAutoFactory=function(e){return this._binding.type=y.Factory,this._binding.factory=function(t){return function(){return t.container.get(e)}},this._binding.scope=m.Singleton,new Le(this._binding)},e.prototype.toAutoNamedFactory=function(e){return this._binding.type=y.Factory,this._binding.factory=function(t){return function(n){return t.container.getNamed(e,n)}},new Le(this._binding)},e.prototype.toProvider=function(e){return this._binding.type=y.Provider,this._binding.provider=e,this._binding.scope=m.Singleton,new Le(this._binding)},e.prototype.toService=function(e){this.toDynamicValue((function(t){return t.container.get(e)}))},e}(),He=function(){function e(){}return e.of=function(t,n,r,i,o){var s=new e;return s.bindings=t,s.middleware=n,s.deactivations=i,s.activations=r,s.moduleActivationStore=o,s},e}(),We=function(){function e(){this._map=new Map}return e.prototype.getMap=function(){return this._map},e.prototype.add=function(e,t){if(null==e)throw new Error(T);if(null==t)throw new Error(T);var n=this._map.get(e);void 0!==n?n.push(t):this._map.set(e,[t])},e.prototype.get=function(e){if(null==e)throw new Error(T);var t=this._map.get(e);if(void 0!==t)return t;throw new Error(C)},e.prototype.remove=function(e){if(null==e)throw new Error(T);if(!this._map.delete(e))throw new Error(C)},e.prototype.removeIntersection=function(e){var t=this;this.traverse((function(n,r){var i=e.hasKey(n)?e.get(n):void 0;if(void 0!==i){var o=r.filter((function(e){return!i.some((function(t){return e===t}))}));t._setValue(n,o)}}))},e.prototype.removeByCondition=function(e){var t=this,n=[];return this._map.forEach((function(r,i){for(var o=[],s=0,a=r;s<a.length;s++){var c=a[s];e(c)?n.push(c):o.push(c)}t._setValue(i,o)})),n},e.prototype.hasKey=function(e){if(null==e)throw new Error(T);return this._map.has(e)},e.prototype.clone=function(){var t=new e;return this._map.forEach((function(e,n){e.forEach((function(e){return t.add(n,"object"==typeof(r=e)&&null!==r&&"clone"in r&&"function"==typeof r.clone?e.clone():e);var r}))})),t},e.prototype.traverse=function(e){this._map.forEach((function(t,n){e(n,t)}))},e.prototype._setValue=function(e,t){t.length>0?this._map.set(e,t):this._map.delete(e)},e}(),qe=function(){function e(){this._map=new Map}return e.prototype.remove=function(e){if(this._map.has(e)){var t=this._map.get(e);return this._map.delete(e),t}return this._getEmptyHandlersStore()},e.prototype.addDeactivation=function(e,t,n){this._getModuleActivationHandlers(e).onDeactivations.add(t,n)},e.prototype.addActivation=function(e,t,n){this._getModuleActivationHandlers(e).onActivations.add(t,n)},e.prototype.clone=function(){var t=new e;return this._map.forEach((function(e,n){t._map.set(n,{onActivations:e.onActivations.clone(),onDeactivations:e.onDeactivations.clone()})})),t},e.prototype._getModuleActivationHandlers=function(e){var t=this._map.get(e);return void 0===t&&(t=this._getEmptyHandlersStore(),this._map.set(e,t)),t},e.prototype._getEmptyHandlersStore=function(){return{onActivations:new We,onDeactivations:new We}},e}(),Be=function(){return Be=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Be.apply(this,arguments)},$e=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},Ke=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},Ge=function(){function e(e){var t=e||{};if("object"!=typeof t)throw new Error("Invalid Container constructor argument. Container options must be an object.");if(void 0===t.defaultScope)t.defaultScope=m.Transient;else if(t.defaultScope!==m.Singleton&&t.defaultScope!==m.Transient&&t.defaultScope!==m.Request)throw new Error('Invalid Container option. Default scope must be a string ("singleton" or "transient").');if(void 0===t.autoBindInjectable)t.autoBindInjectable=!1;else if("boolean"!=typeof t.autoBindInjectable)throw new Error("Invalid Container option. Auto bind injectable must be a boolean");if(void 0===t.skipBaseClassChecks)t.skipBaseClassChecks=!1;else if("boolean"!=typeof t.skipBaseClassChecks)throw new Error("Invalid Container option. Skip base check must be a boolean");this.options={autoBindInjectable:t.autoBindInjectable,defaultScope:t.defaultScope,skipBaseClassChecks:t.skipBaseClassChecks},this.id=E(),this._bindingDictionary=new We,this._snapshots=[],this._middleware=null,this._activations=new We,this._deactivations=new We,this.parent=null,this._metadataReader=new M,this._moduleActivationStore=new qe}return e.merge=function(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var o=new e,s=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([t,n],r,!0).map((function(e){return ie(e)})),a=ie(o);return s.forEach((function(e){var t;t=a,e.traverse((function(e,n){n.forEach((function(e){t.add(e.serviceIdentifier,e.clone())}))}))})),o},e.prototype.load=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=this._getContainerModuleHelpersFactory(),r=0,i=e;r<i.length;r++){var o=i[r],s=n(o.id);o.registry(s.bindFunction,s.unbindFunction,s.isboundFunction,s.rebindFunction,s.unbindAsyncFunction,s.onActivationFunction,s.onDeactivationFunction)}},e.prototype.loadAsync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return $e(this,void 0,void 0,(function(){var t,n,r,i,o;return Ke(this,(function(s){switch(s.label){case 0:t=this._getContainerModuleHelpersFactory(),n=0,r=e,s.label=1;case 1:return n<r.length?(i=r[n],o=t(i.id),[4,i.registry(o.bindFunction,o.unbindFunction,o.isboundFunction,o.rebindFunction,o.unbindAsyncFunction,o.onActivationFunction,o.onDeactivationFunction)]):[3,4];case 2:s.sent(),s.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))},e.prototype.unload=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];t.forEach((function(t){var n=e._removeModuleBindings(t.id);e._deactivateSingletons(n),e._removeModuleHandlers(t.id)}))},e.prototype.unloadAsync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return $e(this,void 0,void 0,(function(){var t,n,r,i;return Ke(this,(function(o){switch(o.label){case 0:t=0,n=e,o.label=1;case 1:return t<n.length?(r=n[t],i=this._removeModuleBindings(r.id),[4,this._deactivateSingletonsAsync(i)]):[3,4];case 2:o.sent(),this._removeModuleHandlers(r.id),o.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))},e.prototype.bind=function(e){var t=this.options.defaultScope||m.Transient,n=new S(e,t);return this._bindingDictionary.add(e,n),new Ue(n)},e.prototype.rebind=function(e){return this.unbind(e),this.bind(e)},e.prototype.rebindAsync=function(e){return $e(this,void 0,void 0,(function(){return Ke(this,(function(t){switch(t.label){case 0:return[4,this.unbindAsync(e)];case 1:return t.sent(),[2,this.bind(e)]}}))}))},e.prototype.unbind=function(e){if(this._bindingDictionary.hasKey(e)){var t=this._bindingDictionary.get(e);this._deactivateSingletons(t)}this._removeServiceFromDictionary(e)},e.prototype.unbindAsync=function(e){return $e(this,void 0,void 0,(function(){var t;return Ke(this,(function(n){switch(n.label){case 0:return this._bindingDictionary.hasKey(e)?(t=this._bindingDictionary.get(e),[4,this._deactivateSingletonsAsync(t)]):[3,2];case 1:n.sent(),n.label=2;case 2:return this._removeServiceFromDictionary(e),[2]}}))}))},e.prototype.unbindAll=function(){var e=this;this._bindingDictionary.traverse((function(t,n){e._deactivateSingletons(n)})),this._bindingDictionary=new We},e.prototype.unbindAllAsync=function(){return $e(this,void 0,void 0,(function(){var e,t=this;return Ke(this,(function(n){switch(n.label){case 0:return e=[],this._bindingDictionary.traverse((function(n,r){e.push(t._deactivateSingletonsAsync(r))})),[4,Promise.all(e)];case 1:return n.sent(),this._bindingDictionary=new We,[2]}}))}))},e.prototype.onActivation=function(e,t){this._activations.add(e,t)},e.prototype.onDeactivation=function(e,t){this._deactivations.add(e,t)},e.prototype.isBound=function(e){var t=this._bindingDictionary.hasKey(e);return!t&&this.parent&&(t=this.parent.isBound(e)),t},e.prototype.isCurrentBound=function(e){return this._bindingDictionary.hasKey(e)},e.prototype.isBoundNamed=function(e,t){return this.isBoundTagged(e,i,t)},e.prototype.isBoundTagged=function(e,t,n){var r=!1;if(this._bindingDictionary.hasKey(e)){var i=this._bindingDictionary.get(e),o=function(e,t,n,r){var i=new Y(b.Variable,"",t,new $(n,r)),o=new B(e);return new re(t,o,null,[],i)}(this,e,t,n);r=i.some((function(e){return e.constraint(o)}))}return!r&&this.parent&&(r=this.parent.isBoundTagged(e,t,n)),r},e.prototype.snapshot=function(){this._snapshots.push(He.of(this._bindingDictionary.clone(),this._middleware,this._activations.clone(),this._deactivations.clone(),this._moduleActivationStore.clone()))},e.prototype.restore=function(){var e=this._snapshots.pop();if(void 0===e)throw new Error("No snapshot available to restore.");this._bindingDictionary=e.bindings,this._activations=e.activations,this._deactivations=e.deactivations,this._middleware=e.middleware,this._moduleActivationStore=e.moduleActivationStore},e.prototype.createChild=function(t){var n=new e(t||this.options);return n.parent=this,n},e.prototype.applyMiddleware=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._middleware?this._middleware:this._planAndResolve();this._middleware=e.reduce((function(e,t){return t(e)}),n)},e.prototype.applyCustomMetadataReader=function(e){this._metadataReader=e},e.prototype.get=function(e){var t=this._getNotAllArgs(e,!1);return this._getButThrowIfAsync(t)},e.prototype.getAsync=function(e){return $e(this,void 0,void 0,(function(){var t;return Ke(this,(function(n){return t=this._getNotAllArgs(e,!1),[2,this._get(t)]}))}))},e.prototype.getTagged=function(e,t,n){var r=this._getNotAllArgs(e,!1,t,n);return this._getButThrowIfAsync(r)},e.prototype.getTaggedAsync=function(e,t,n){return $e(this,void 0,void 0,(function(){var r;return Ke(this,(function(i){return r=this._getNotAllArgs(e,!1,t,n),[2,this._get(r)]}))}))},e.prototype.getNamed=function(e,t){return this.getTagged(e,i,t)},e.prototype.getNamedAsync=function(e,t){return this.getTaggedAsync(e,i,t)},e.prototype.getAll=function(e){var t=this._getAllArgs(e);return this._getButThrowIfAsync(t)},e.prototype.getAllAsync=function(e){var t=this._getAllArgs(e);return this._getAll(t)},e.prototype.getAllTagged=function(e,t,n){var r=this._getNotAllArgs(e,!0,t,n);return this._getButThrowIfAsync(r)},e.prototype.getAllTaggedAsync=function(e,t,n){var r=this._getNotAllArgs(e,!0,t,n);return this._getAll(r)},e.prototype.getAllNamed=function(e,t){return this.getAllTagged(e,i,t)},e.prototype.getAllNamedAsync=function(e,t){return this.getAllTaggedAsync(e,i,t)},e.prototype.resolve=function(e){var t=this.isBound(e);t||this.bind(e).toSelf();var n=this.get(e);return t||this.unbind(e),n},e.prototype._preDestroy=function(e,t){var n,r;if(Reflect.hasMetadata(v,e))return null===(r=(n=t)[Reflect.getMetadata(v,e).value])||void 0===r?void 0:r.call(n)},e.prototype._removeModuleHandlers=function(e){var t=this._moduleActivationStore.remove(e);this._activations.removeIntersection(t.onActivations),this._deactivations.removeIntersection(t.onDeactivations)},e.prototype._removeModuleBindings=function(e){return this._bindingDictionary.removeByCondition((function(t){return t.moduleId===e}))},e.prototype._deactivate=function(e,t){var n=this,r=Object.getPrototypeOf(t).constructor;try{if(this._deactivations.hasKey(e.serviceIdentifier)){var i=this._deactivateContainer(t,this._deactivations.get(e.serviceIdentifier).values());if(ce(i))return this._handleDeactivationError(i.then((function(){return n._propagateContainerDeactivationThenBindingAndPreDestroyAsync(e,t,r)})),r)}var o=this._propagateContainerDeactivationThenBindingAndPreDestroy(e,t,r);if(ce(o))return this._handleDeactivationError(o,r)}catch(e){if(e instanceof Error)throw new Error(N(r.name,e.message))}},e.prototype._handleDeactivationError=function(e,t){return $e(this,void 0,void 0,(function(){var n;return Ke(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,e];case 1:return r.sent(),[3,3];case 2:if((n=r.sent())instanceof Error)throw new Error(N(t.name,n.message));return[3,3];case 3:return[2]}}))}))},e.prototype._deactivateContainer=function(e,t){for(var n=this,r=t.next();r.value;){var i=r.value(e);if(ce(i))return i.then((function(){return n._deactivateContainerAsync(e,t)}));r=t.next()}},e.prototype._deactivateContainerAsync=function(e,t){return $e(this,void 0,void 0,(function(){var n;return Ke(this,(function(r){switch(r.label){case 0:n=t.next(),r.label=1;case 1:return n.value?[4,n.value(e)]:[3,3];case 2:return r.sent(),n=t.next(),[3,1];case 3:return[2]}}))}))},e.prototype._getContainerModuleHelpersFactory=function(){var e=this,t=function(e,t){e._binding.moduleId=t},n=function(n){return function(r){var i=e.rebind(r);return t(i,n),i}},r=function(t){return function(n,r){e._moduleActivationStore.addActivation(t,n,r),e.onActivation(n,r)}},i=function(t){return function(n,r){e._moduleActivationStore.addDeactivation(t,n,r),e.onDeactivation(n,r)}};return function(o){return{bindFunction:(s=o,function(n){var r=e.bind(n);return t(r,s),r}),isboundFunction:function(t){return e.isBound(t)},onActivationFunction:r(o),onDeactivationFunction:i(o),rebindFunction:n(o),unbindFunction:function(t){return e.unbind(t)},unbindAsyncFunction:function(t){return e.unbindAsync(t)}};var s}},e.prototype._getAll=function(e){return Promise.all(this._get(e))},e.prototype._get=function(e){var t=Be(Be({},e),{contextInterceptor:function(e){return e},targetType:b.Variable});if(this._middleware){var n=this._middleware(t);if(null==n)throw new Error("Invalid return type in middleware. Middleware must return!");return n}return this._planAndResolve()(t)},e.prototype._getButThrowIfAsync=function(e){var t=this._get(e);if(le(t))throw new Error("You are attempting to construct '"+e.serviceIdentifier+"' in a synchronous way\n but it has asynchronous dependencies.");return t},e.prototype._getAllArgs=function(e){return{avoidConstraints:!0,isMultiInject:!0,serviceIdentifier:e}},e.prototype._getNotAllArgs=function(e,t,n,r){return{avoidConstraints:!1,isMultiInject:t,serviceIdentifier:e,key:n,value:r}},e.prototype._planAndResolve=function(){var e=this;return function(t){var n=function(e,t,n,r,i,o,s,a){void 0===a&&(a=!1);var u=new B(t),p=function(e,t,n,r,i,o){var s=new $(e?l:c,n),a=new Y(t,"",n,s);if(void 0!==i){var u=new $(i,o);a.metadata.push(u)}return a}(n,r,i,0,o,s);try{return se(e,a,i,u,null,p),u}catch(e){throw F(e)&&W(u.plan.rootRequest),e}}(e._metadataReader,e,t.isMultiInject,t.targetType,t.serviceIdentifier,t.key,t.value,t.avoidConstraints);return function(e){return _e(e.plan.rootRequest.requestScope)(e.plan.rootRequest)}(n=t.contextInterceptor(n))}},e.prototype._deactivateIfSingleton=function(e){var t=this;if(e.activated)return ce(e.cache)?e.cache.then((function(n){return t._deactivate(e,n)})):this._deactivate(e,e.cache)},e.prototype._deactivateSingletons=function(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(ce(this._deactivateIfSingleton(r)))throw new Error("Attempting to unbind dependency with asynchronous destruction (@preDestroy or onDeactivation)")}},e.prototype._deactivateSingletonsAsync=function(e){return $e(this,void 0,void 0,(function(){var t=this;return Ke(this,(function(n){switch(n.label){case 0:return[4,Promise.all(e.map((function(e){return t._deactivateIfSingleton(e)})))];case 1:return n.sent(),[2]}}))}))},e.prototype._propagateContainerDeactivationThenBindingAndPreDestroy=function(e,t,n){return this.parent?this._deactivate.bind(this.parent)(e,t):this._bindingDeactivationAndPreDestroy(e,t,n)},e.prototype._propagateContainerDeactivationThenBindingAndPreDestroyAsync=function(e,t,n){return $e(this,void 0,void 0,(function(){return Ke(this,(function(r){switch(r.label){case 0:return this.parent?[4,this._deactivate.bind(this.parent)(e,t)]:[3,2];case 1:return r.sent(),[3,4];case 2:return[4,this._bindingDeactivationAndPreDestroyAsync(e,t,n)];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))},e.prototype._removeServiceFromDictionary=function(e){try{this._bindingDictionary.remove(e)}catch(t){throw new Error("Could not unbind serviceIdentifier: "+V(e))}},e.prototype._bindingDeactivationAndPreDestroy=function(e,t,n){var r=this;if("function"==typeof e.onDeactivation){var i=e.onDeactivation(t);if(ce(i))return i.then((function(){return r._preDestroy(n,t)}))}return this._preDestroy(n,t)},e.prototype._bindingDeactivationAndPreDestroyAsync=function(e,t,n){return $e(this,void 0,void 0,(function(){return Ke(this,(function(r){switch(r.label){case 0:return"function"!=typeof e.onDeactivation?[3,2]:[4,e.onDeactivation(t)];case 1:r.sent(),r.label=2;case 2:return[4,this._preDestroy(n,t)];case 3:return r.sent(),[2]}}))}))},e}(),ze=function(e){this.id=E(),this.registry=e},Ye=function(e){this.id=E(),this.registry=e};function Xe(e,t,n,r){!function(e){if(void 0!==e)throw new Error(k)}(t),Je(u,e,n.toString(),r)}function Je(e,t,n,r){var i=function(e){var t=[];if(Array.isArray(e)){var n=function(e){for(var t=new Set,n=0,r=e;n<r.length;n++){var i=r[n];if(t.has(i))return i;t.add(i)}}((t=e).map((function(e){return e.key})));if(void 0!==n)throw new Error(P+" "+n.toString())}else t=[e];return t}(r),o={};Reflect.hasOwnMetadata(e,t)&&(o=Reflect.getMetadata(e,t));var s=o[n];if(void 0===s)s=[];else for(var a=function(e){if(i.some((function(t){return t.key===e.key})))throw new Error(P+" "+e.key.toString())},c=0,l=s;c<l.length;c++)a(l[c]);s.push.apply(s,i),o[n]=s,Reflect.defineMetadata(e,o,t)}function Qe(e){return function(t,n,r){"number"==typeof r?Xe(t,n,r,e):function(e,t,n){if(void 0!==e.prototype)throw new Error(k);Je(p,e.constructor,t,n)}(t,n,e)}}function Ze(e,t){Reflect.decorate(e,t)}function et(e,t){return function(n,r){t(n,r,e)}}function tt(e,t,n){"number"==typeof n?Ze([et(n,e)],t):"string"==typeof n?Reflect.decorate([e],t,n):Ze([e],t)}function nt(){return function(e){if(Reflect.hasOwnMetadata(d,e))throw new Error(w);var t=Reflect.getMetadata(h,e)||[];return Reflect.defineMetadata(d,t,e),e}}function rt(e,t){return Qe(new $(e,t))}function it(e){return Qe(new $(i,e))}function ot(e){return function(t){return function(n,r,i){if(void 0===t){var o="function"==typeof n?n.name:n.constructor.name;throw new Error("@inject called with undefined this could mean that the class "+o+" has a circular dependency problem. You can use a LazyServiceIdentifier to  overcome this limitation.")}return Qe(new $(e,t))(n,r,i)}}}var st=ot(c);function at(){return Qe(new $(a,!0))}function ct(){return function(e,t,n){Xe(e,t,n,new $(s,!0))}}var lt=ot(l);function ut(e){return function(t,n,r){Xe(t,n,r,new $(o,e))}}function pt(e,t){return function(){return function(n,r){var i=new $(e,r);if(Reflect.hasOwnMetadata(e,n.constructor))throw new Error(t);Reflect.defineMetadata(e,i,n.constructor)}}}var dt,ht=pt(f,"Cannot apply @postConstruct decorator multiple times in the same class"),ft=pt(v,"Cannot apply @preDestroy decorator multiple times in the same class");dt||(dt={});var vt=r},41147:(e,t,n)=>{var r;function i(e,t,n){if("function"==typeof t&&(n=t,t={}),!n){if("function"!=typeof Promise)throw new TypeError("callback not provided");return new Promise((function(n,r){i(e,t||{},(function(e,t){e?r(e):n(t)}))}))}r(e,t||{},(function(e,r){e&&("EACCES"===e.code||t&&t.ignoreErrors)&&(e=null,r=!1),n(e,r)}))}n(79896),r="win32"===process.platform||global.TESTING_WINDOWS?n(60438):n(90096),e.exports=i,i.sync=function(e,t){try{return r.sync(e,t||{})}catch(e){if(t&&t.ignoreErrors||"EACCES"===e.code)return!1;throw e}}},90096:(e,t,n)=>{e.exports=i,i.sync=function(e,t){return o(r.statSync(e),t)};var r=n(79896);function i(e,t,n){r.stat(e,(function(e,r){n(e,!e&&o(r,t))}))}function o(e,t){return e.isFile()&&function(e,t){var n=e.mode,r=e.uid,i=e.gid,o=void 0!==t.uid?t.uid:process.getuid&&process.getuid(),s=void 0!==t.gid?t.gid:process.getgid&&process.getgid(),a=parseInt("100",8),c=parseInt("010",8);return n&parseInt("001",8)||n&c&&i===s||n&a&&r===o||n&(a|c)&&0===o}(e,t)}},60438:(e,t,n)=>{e.exports=o,o.sync=function(e,t){return i(r.statSync(e),e,t)};var r=n(79896);function i(e,t,n){return!(!e.isSymbolicLink()&&!e.isFile())&&function(e,t){var n=void 0!==t.pathExt?t.pathExt:process.env.PATHEXT;if(!n)return!0;if(-1!==(n=n.split(";")).indexOf(""))return!0;for(var r=0;r<n.length;r++){var i=n[r].toLowerCase();if(i&&e.substr(-i.length).toLowerCase()===i)return!0}return!1}(t,n)}function o(e,t,n){r.stat(e,(function(r,o){n(r,!r&&i(o,e,t))}))}},25887:(e,t,n)=>{"use strict";function r(e,t=!1){const n=e.length;let r=0,a="",c=0,l=16,u=0,p=0,d=0,h=0,f=0;function v(t,n){let i=0,o=0;for(;i<t||!n;){let t=e.charCodeAt(r);if(t>=48&&t<=57)o=16*o+t-48;else if(t>=65&&t<=70)o=16*o+t-65+10;else{if(!(t>=97&&t<=102))break;o=16*o+t-97+10}r++,i++}return i<t&&(o=-1),o}function g(){if(a="",f=0,c=r,p=u,h=d,r>=n)return c=n,l=17;let t=e.charCodeAt(r);if(i(t)){do{r++,a+=String.fromCharCode(t),t=e.charCodeAt(r)}while(i(t));return l=15}if(o(t))return r++,a+=String.fromCharCode(t),13===t&&10===e.charCodeAt(r)&&(r++,a+="\n"),u++,d=r,l=14;switch(t){case 123:return r++,l=1;case 125:return r++,l=2;case 91:return r++,l=3;case 93:return r++,l=4;case 58:return r++,l=6;case 44:return r++,l=5;case 34:return r++,a=function(){let t="",i=r;for(;;){if(r>=n){t+=e.substring(i,r),f=2;break}const s=e.charCodeAt(r);if(34===s){t+=e.substring(i,r),r++;break}if(92!==s){if(s>=0&&s<=31){if(o(s)){t+=e.substring(i,r),f=2;break}f=6}r++}else{if(t+=e.substring(i,r),r++,r>=n){f=2;break}switch(e.charCodeAt(r++)){case 34:t+='"';break;case 92:t+="\\";break;case 47:t+="/";break;case 98:t+="\b";break;case 102:t+="\f";break;case 110:t+="\n";break;case 114:t+="\r";break;case 116:t+="\t";break;case 117:const e=v(4,!0);e>=0?t+=String.fromCharCode(e):f=4;break;default:f=5}i=r}}return t}(),l=10;case 47:const i=r-1;if(47===e.charCodeAt(r+1)){for(r+=2;r<n&&!o(e.charCodeAt(r));)r++;return a=e.substring(i,r),l=12}if(42===e.charCodeAt(r+1)){r+=2;const t=n-1;let s=!1;for(;r<t;){const t=e.charCodeAt(r);if(42===t&&47===e.charCodeAt(r+1)){r+=2,s=!0;break}r++,o(t)&&(13===t&&10===e.charCodeAt(r)&&r++,u++,d=r)}return s||(r++,f=1),a=e.substring(i,r),l=13}return a+=String.fromCharCode(t),r++,l=16;case 45:if(a+=String.fromCharCode(t),r++,r===n||!s(e.charCodeAt(r)))return l=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return a+=function(){let t=r;if(48===e.charCodeAt(r))r++;else for(r++;r<e.length&&s(e.charCodeAt(r));)r++;if(r<e.length&&46===e.charCodeAt(r)){if(r++,!(r<e.length&&s(e.charCodeAt(r))))return f=3,e.substring(t,r);for(r++;r<e.length&&s(e.charCodeAt(r));)r++}let n=r;if(r<e.length&&(69===e.charCodeAt(r)||101===e.charCodeAt(r)))if(r++,(r<e.length&&43===e.charCodeAt(r)||45===e.charCodeAt(r))&&r++,r<e.length&&s(e.charCodeAt(r))){for(r++;r<e.length&&s(e.charCodeAt(r));)r++;n=r}else f=3;return e.substring(t,n)}(),l=11;default:for(;r<n&&m(t);)r++,t=e.charCodeAt(r);if(c!==r){switch(a=e.substring(c,r),a){case"true":return l=8;case"false":return l=9;case"null":return l=7}return l=16}return a+=String.fromCharCode(t),r++,l=16}}function m(e){if(i(e)||o(e))return!1;switch(e){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}return{setPosition:function(e){r=e,a="",c=0,l=16,f=0},getPosition:()=>r,scan:t?function(){let e;do{e=g()}while(e>=12&&e<=15);return e}:g,getToken:()=>l,getTokenValue:()=>a,getTokenOffset:()=>c,getTokenLength:()=>r-c,getTokenStartLine:()=>p,getTokenStartCharacter:()=>c-h,getTokenError:()=>f}}function i(e){return 32===e||9===e}function o(e){return 10===e||13===e}function s(e){return e>=48&&e<=57}var a,c;function l(e,t,n){let i,o,s,a,c;if(t){for(a=t.offset,c=a+t.length,s=a;s>0&&!p(e,s-1);)s--;let r=c;for(;r<e.length&&!p(e,r);)r++;o=e.substring(s,r),i=function(e,t){let n=0,r=0;const i=t.tabSize||4;for(;n<e.length;){let t=e.charAt(n);if(" "===t)r++;else{if("\t"!==t)break;r+=i}n++}return Math.floor(r/i)}(o,n)}else o=e,i=0,s=0,a=0,c=e.length;const l=function(e,t){for(let e=0;e<t.length;e++){const n=t.charAt(e);if("\r"===n)return e+1<t.length&&"\n"===t.charAt(e+1)?"\r\n":"\r";if("\n"===n)return"\n"}return e&&e.eol||"\n"}(n,e);let d,h=0,f=0;d=n.insertSpaces?u(" ",n.tabSize||4):"\t";let v=r(o,!1),g=!1;function m(){return h>1?u(l,h)+u(d,i+f):l+u(d,i+f)}function y(){let e=v.scan();for(h=0;15===e||14===e;)14===e&&n.keepLines?h+=1:14===e&&(h=1),e=v.scan();return g=16===e||0!==v.getTokenError(),e}const b=[];function _(n,r,i){g||t&&!(r<c&&i>a)||e.substring(r,i)===n||b.push({offset:r,length:i-r,content:n})}let E=y();if(n.keepLines&&h>0&&_(u(l,h),0,0),17!==E){let e=v.getTokenOffset()+s;_(u(d,i),s,e)}for(;17!==E;){let e=v.getTokenOffset()+v.getTokenLength()+s,t=y(),r="",i=!1;for(;0===h&&(12===t||13===t);)_(" ",e,v.getTokenOffset()+s),e=v.getTokenOffset()+v.getTokenLength()+s,i=12===t,r=i?m():"",t=y();if(2===t)1!==E&&f--,n.keepLines&&h>0||!n.keepLines&&1!==E?r=m():n.keepLines&&(r=" ");else if(4===t)3!==E&&f--,n.keepLines&&h>0||!n.keepLines&&3!==E?r=m():n.keepLines&&(r=" ");else{switch(E){case 3:case 1:f++,r=n.keepLines&&h>0||!n.keepLines?m():" ";break;case 5:r=n.keepLines&&h>0||!n.keepLines?m():" ";break;case 12:r=m();break;case 13:h>0?r=m():i||(r=" ");break;case 6:n.keepLines&&h>0?r=m():i||(r=" ");break;case 10:n.keepLines&&h>0?r=m():6!==t||i||(r="");break;case 7:case 8:case 9:case 11:case 2:case 4:n.keepLines&&h>0?r=m():12!==t&&13!==t||i?5!==t&&17!==t&&(g=!0):r=" ";break;case 16:g=!0}h>0&&(12===t||13===t)&&(r=m())}17===t&&(r=n.keepLines&&h>0?m():n.insertFinalNewline?l:""),_(r,e,v.getTokenOffset()+s),E=t}return b}function u(e,t){let n="";for(let r=0;r<t;r++)n+=e;return n}function p(e,t){return-1!=="\r\n".indexOf(e.charAt(t))}function d(e,t=[],n=c.DEFAULT){let r={type:"array",offset:-1,length:-1,children:[],parent:void 0};function i(e){"property"===r.type&&(r.length=e-r.offset,r=r.parent)}function o(e){return r.children.push(e),e}f(e,{onObjectBegin:e=>{r=o({type:"object",offset:e,length:-1,parent:r,children:[]})},onObjectProperty:(e,t,n)=>{r=o({type:"property",offset:t,length:-1,parent:r,children:[]}),r.children.push({type:"string",value:e,offset:t,length:n,parent:r})},onObjectEnd:(e,t)=>{i(e+t),r.length=e+t-r.offset,r=r.parent,i(e+t)},onArrayBegin:(e,t)=>{r=o({type:"array",offset:e,length:-1,parent:r,children:[]})},onArrayEnd:(e,t)=>{r.length=e+t-r.offset,r=r.parent,i(e+t)},onLiteralValue:(e,t,n)=>{o({type:v(e),offset:t,length:n,parent:r,value:e}),i(t+n)},onSeparator:(e,t,n)=>{"property"===r.type&&(":"===e?r.colonOffset=t:","===e&&i(t))},onError:(e,n,r)=>{t.push({error:e,offset:n,length:r})}},n);const s=r.children[0];return s&&delete s.parent,s}function h(e,t){if(!e)return;let n=e;for(let e of t)if("string"==typeof e){if("object"!==n.type||!Array.isArray(n.children))return;let t=!1;for(const r of n.children)if(Array.isArray(r.children)&&r.children[0].value===e&&2===r.children.length){n=r.children[1],t=!0;break}if(!t)return}else{const t=e;if("array"!==n.type||t<0||!Array.isArray(n.children)||t>=n.children.length)return;n=n.children[t]}return n}function f(e,t,n=c.DEFAULT){const i=r(e,!1),o=[];function s(e){return e?()=>e(i.getTokenOffset(),i.getTokenLength(),i.getTokenStartLine(),i.getTokenStartCharacter()):()=>!0}function a(e){return e?()=>e(i.getTokenOffset(),i.getTokenLength(),i.getTokenStartLine(),i.getTokenStartCharacter(),(()=>o.slice())):()=>!0}function l(e){return e?t=>e(t,i.getTokenOffset(),i.getTokenLength(),i.getTokenStartLine(),i.getTokenStartCharacter()):()=>!0}function u(e){return e?t=>e(t,i.getTokenOffset(),i.getTokenLength(),i.getTokenStartLine(),i.getTokenStartCharacter(),(()=>o.slice())):()=>!0}const p=a(t.onObjectBegin),d=u(t.onObjectProperty),h=s(t.onObjectEnd),f=a(t.onArrayBegin),v=s(t.onArrayEnd),g=u(t.onLiteralValue),m=l(t.onSeparator),y=s(t.onComment),b=l(t.onError),_=n&&n.disallowComments,E=n&&n.allowTrailingComma;function S(){for(;;){const e=i.scan();switch(i.getTokenError()){case 4:w(14);break;case 5:w(15);break;case 3:w(13);break;case 1:_||w(11);break;case 2:w(12);break;case 6:w(16)}switch(e){case 12:case 13:_?w(10):y();break;case 16:w(1);break;case 15:case 14:break;default:return e}}}function w(e,t=[],n=[]){if(b(e),t.length+n.length>0){let e=i.getToken();for(;17!==e;){if(-1!==t.indexOf(e)){S();break}if(-1!==n.indexOf(e))break;e=S()}}}function P(e){const t=i.getTokenValue();return e?g(t):(d(t),o.push(t)),S(),!0}return S(),17===i.getToken()?!!n.allowEmptyContent||(w(4,[],[]),!1):function e(){switch(i.getToken()){case 3:return function(){f(),S();let t=!0,n=!1;for(;4!==i.getToken()&&17!==i.getToken();){if(5===i.getToken()){if(n||w(4,[],[]),m(","),S(),4===i.getToken()&&E)break}else n&&w(6,[],[]);t?(o.push(0),t=!1):o[o.length-1]++,e()||w(4,[],[4,5]),n=!0}return v(),t||o.pop(),4!==i.getToken()?w(8,[4],[]):S(),!0}();case 1:return function(){p(),S();let t=!1;for(;2!==i.getToken()&&17!==i.getToken();){if(5===i.getToken()){if(t||w(4,[],[]),m(","),S(),2===i.getToken()&&E)break}else t&&w(6,[],[]);(10!==i.getToken()?(w(3,[],[2,5]),0):(P(!1),6===i.getToken()?(m(":"),S(),e()||w(4,[],[2,5])):w(5,[],[2,5]),o.pop(),1))||w(4,[],[2,5]),t=!0}return h(),2!==i.getToken()?w(7,[2],[]):S(),!0}();case 10:return P(!0);default:return function(){switch(i.getToken()){case 11:const e=i.getTokenValue();let t=Number(e);isNaN(t)&&(w(2),t=0),g(t);break;case 7:g(null);break;case 8:g(!0);break;case 9:g(!1);break;default:return!1}return S(),!0}()}}()?(17!==i.getToken()&&w(9,[],[]),!0):(w(4,[],[]),!1)}function v(e){switch(typeof e){case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"object":return e?Array.isArray(e)?"array":"object":"null";default:return"null"}}function g(e,t,n){if(!n.formattingOptions)return[t];let r=m(e,t),i=t.offset,o=t.offset+t.content.length;if(0===t.length||0===t.content.length){for(;i>0&&!p(r,i-1);)i--;for(;o<r.length&&!p(r,o);)o++}const s=l(r,{offset:i,length:o-i},{...n.formattingOptions,keepLines:!1});for(let e=s.length-1;e>=0;e--){const t=s[e];r=m(r,t),i=Math.min(i,t.offset),o=Math.max(o,t.offset+t.length),o+=t.content.length-t.length}return[{offset:i,length:e.length-(r.length-o)-i,content:r.substring(i,o)}]}function m(e,t){return e.substring(0,t.offset)+t.content+e.substring(t.offset+t.length)}n.r(t),n.d(t,{ParseErrorCode:()=>R,ScanError:()=>b,SyntaxKind:()=>_,applyEdits:()=>N,createScanner:()=>y,findNodeAtLocation:()=>P,findNodeAtOffset:()=>T,format:()=>k,getLocation:()=>E,getNodePath:()=>C,getNodeValue:()=>x,modify:()=>A,parse:()=>S,parseTree:()=>w,printParseErrorCode:()=>D,stripComments:()=>O,visit:()=>I}),function(e){e[e.lineFeed=10]="lineFeed",e[e.carriageReturn=13]="carriageReturn",e[e.space=32]="space",e[e._0=48]="_0",e[e._1=49]="_1",e[e._2=50]="_2",e[e._3=51]="_3",e[e._4=52]="_4",e[e._5=53]="_5",e[e._6=54]="_6",e[e._7=55]="_7",e[e._8=56]="_8",e[e._9=57]="_9",e[e.a=97]="a",e[e.b=98]="b",e[e.c=99]="c",e[e.d=100]="d",e[e.e=101]="e",e[e.f=102]="f",e[e.g=103]="g",e[e.h=104]="h",e[e.i=105]="i",e[e.j=106]="j",e[e.k=107]="k",e[e.l=108]="l",e[e.m=109]="m",e[e.n=110]="n",e[e.o=111]="o",e[e.p=112]="p",e[e.q=113]="q",e[e.r=114]="r",e[e.s=115]="s",e[e.t=116]="t",e[e.u=117]="u",e[e.v=118]="v",e[e.w=119]="w",e[e.x=120]="x",e[e.y=121]="y",e[e.z=122]="z",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.asterisk=42]="asterisk",e[e.backslash=92]="backslash",e[e.closeBrace=125]="closeBrace",e[e.closeBracket=93]="closeBracket",e[e.colon=58]="colon",e[e.comma=44]="comma",e[e.dot=46]="dot",e[e.doubleQuote=34]="doubleQuote",e[e.minus=45]="minus",e[e.openBrace=123]="openBrace",e[e.openBracket=91]="openBracket",e[e.plus=43]="plus",e[e.slash=47]="slash",e[e.formFeed=12]="formFeed",e[e.tab=9]="tab"}(a||(a={})),function(e){e.DEFAULT={allowTrailingComma:!1}}(c||(c={}));const y=r;var b,_;!function(e){e[e.None=0]="None",e[e.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",e[e.UnexpectedEndOfString=2]="UnexpectedEndOfString",e[e.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",e[e.InvalidUnicode=4]="InvalidUnicode",e[e.InvalidEscapeCharacter=5]="InvalidEscapeCharacter",e[e.InvalidCharacter=6]="InvalidCharacter"}(b||(b={})),function(e){e[e.OpenBraceToken=1]="OpenBraceToken",e[e.CloseBraceToken=2]="CloseBraceToken",e[e.OpenBracketToken=3]="OpenBracketToken",e[e.CloseBracketToken=4]="CloseBracketToken",e[e.CommaToken=5]="CommaToken",e[e.ColonToken=6]="ColonToken",e[e.NullKeyword=7]="NullKeyword",e[e.TrueKeyword=8]="TrueKeyword",e[e.FalseKeyword=9]="FalseKeyword",e[e.StringLiteral=10]="StringLiteral",e[e.NumericLiteral=11]="NumericLiteral",e[e.LineCommentTrivia=12]="LineCommentTrivia",e[e.BlockCommentTrivia=13]="BlockCommentTrivia",e[e.LineBreakTrivia=14]="LineBreakTrivia",e[e.Trivia=15]="Trivia",e[e.Unknown=16]="Unknown",e[e.EOF=17]="EOF"}(_||(_={}));const E=function(e,t){const n=[],r=new Object;let i;const o={value:{},offset:0,length:0,type:"object",parent:void 0};let s=!1;function a(e,t,n,r){o.value=e,o.offset=t,o.length=n,o.type=r,o.colonOffset=void 0,i=o}try{f(e,{onObjectBegin:(e,o)=>{if(t<=e)throw r;i=void 0,s=t>e,n.push("")},onObjectProperty:(e,i,o)=>{if(t<i)throw r;if(a(e,i,o,"property"),n[n.length-1]=e,t<=i+o)throw r},onObjectEnd:(e,o)=>{if(t<=e)throw r;i=void 0,n.pop()},onArrayBegin:(e,o)=>{if(t<=e)throw r;i=void 0,n.push(0)},onArrayEnd:(e,o)=>{if(t<=e)throw r;i=void 0,n.pop()},onLiteralValue:(e,n,i)=>{if(t<n)throw r;if(a(e,n,i,v(e)),t<=n+i)throw r},onSeparator:(e,o,a)=>{if(t<=o)throw r;if(":"===e&&i&&"property"===i.type)i.colonOffset=o,s=!1,i=void 0;else if(","===e){const e=n[n.length-1];"number"==typeof e?n[n.length-1]=e+1:(s=!0,n[n.length-1]=""),i=void 0}}})}catch(e){if(e!==r)throw e}return{path:n,previousNode:i,isAtPropertyKey:s,matches:e=>{let t=0;for(let r=0;t<e.length&&r<n.length;r++)if(e[t]===n[r]||"*"===e[t])t++;else if("**"!==e[t])return!1;return t===e.length}}},S=function(e,t=[],n=c.DEFAULT){let r=null,i=[];const o=[];function s(e){Array.isArray(i)?i.push(e):null!==r&&(i[r]=e)}return f(e,{onObjectBegin:()=>{const e={};s(e),o.push(i),i=e,r=null},onObjectProperty:e=>{r=e},onObjectEnd:()=>{i=o.pop()},onArrayBegin:()=>{const e=[];s(e),o.push(i),i=e,r=null},onArrayEnd:()=>{i=o.pop()},onLiteralValue:s,onError:(e,n,r)=>{t.push({error:e,offset:n,length:r})}},n),i[0]},w=d,P=h,T=function e(t,n,r=!1){if(function(e,t,n=!1){return t>=e.offset&&t<e.offset+e.length||n&&t===e.offset+e.length}(t,n,r)){const i=t.children;if(Array.isArray(i))for(let t=0;t<i.length&&i[t].offset<=n;t++){const o=e(i[t],n,r);if(o)return o}return t}},C=function e(t){if(!t.parent||!t.parent.children)return[];const n=e(t.parent);if("property"===t.parent.type){const e=t.parent.children[0].value;n.push(e)}else if("array"===t.parent.type){const e=t.parent.children.indexOf(t);-1!==e&&n.push(e)}return n},x=function e(t){switch(t.type){case"array":return t.children.map(e);case"object":const n=Object.create(null);for(let r of t.children){const t=r.children[1];t&&(n[r.children[0].value]=e(t))}return n;case"null":case"string":case"number":case"boolean":return t.value;default:return}},I=f,O=function(e,t){let n,i,o=r(e),s=[],a=0;do{switch(i=o.getPosition(),n=o.scan(),n){case 12:case 13:case 17:a!==i&&s.push(e.substring(a,i)),void 0!==t&&s.push(o.getTokenValue().replace(/[^\r\n]/g,t)),a=o.getPosition()}}while(17!==n);return s.join("")};var R;function D(e){switch(e){case 1:return"InvalidSymbol";case 2:return"InvalidNumberFormat";case 3:return"PropertyNameExpected";case 4:return"ValueExpected";case 5:return"ColonExpected";case 6:return"CommaExpected";case 7:return"CloseBraceExpected";case 8:return"CloseBracketExpected";case 9:return"EndOfFileExpected";case 10:return"InvalidCommentToken";case 11:return"UnexpectedEndOfComment";case 12:return"UnexpectedEndOfString";case 13:return"UnexpectedEndOfNumber";case 14:return"InvalidUnicode";case 15:return"InvalidEscapeCharacter";case 16:return"InvalidCharacter"}return"<unknown ParseErrorCode>"}function k(e,t,n){return l(e,t,n)}function A(e,t,n,r){return function(e,t,n,r){const i=t.slice(),o=d(e,[]);let s,a;for(;i.length>0&&(a=i.pop(),s=h(o,i),void 0===s&&void 0!==n);)n="string"==typeof a?{[a]:n}:[n];if(s){if("object"===s.type&&"string"==typeof a&&Array.isArray(s.children)){const t=h(s,[a]);if(void 0!==t){if(void 0===n){if(!t.parent)throw new Error("Malformed AST");const n=s.children.indexOf(t.parent);let i,o=t.parent.offset+t.parent.length;if(n>0){let e=s.children[n-1];i=e.offset+e.length}else i=s.offset+1,s.children.length>1&&(o=s.children[1].offset);return g(e,{offset:i,length:o-i,content:""},r)}return g(e,{offset:t.offset,length:t.length,content:JSON.stringify(n)},r)}{if(void 0===n)return[];const t=`${JSON.stringify(a)}: ${JSON.stringify(n)}`,i=r.getInsertionIndex?r.getInsertionIndex(s.children.map((e=>e.children[0].value))):s.children.length;let o;if(i>0){let e=s.children[i-1];o={offset:e.offset+e.length,length:0,content:","+t}}else o=0===s.children.length?{offset:s.offset+1,length:0,content:t}:{offset:s.offset+1,length:0,content:t+","};return g(e,o,r)}}if("array"===s.type&&"number"==typeof a&&Array.isArray(s.children)){const t=a;if(-1===t){const t=`${JSON.stringify(n)}`;let i;if(0===s.children.length)i={offset:s.offset+1,length:0,content:t};else{const e=s.children[s.children.length-1];i={offset:e.offset+e.length,length:0,content:","+t}}return g(e,i,r)}if(void 0===n&&s.children.length>=0){const t=a,n=s.children[t];let i;if(1===s.children.length)i={offset:s.offset+1,length:s.length-2,content:""};else if(s.children.length-1===t){let e=s.children[t-1],n=e.offset+e.length;i={offset:n,length:s.offset+s.length-2-n,content:""}}else i={offset:n.offset,length:s.children[t+1].offset-n.offset,content:""};return g(e,i,r)}if(void 0!==n){let t;const i=`${JSON.stringify(n)}`;if(!r.isArrayInsertion&&s.children.length>a){const e=s.children[a];t={offset:e.offset,length:e.length,content:i}}else if(0===s.children.length||0===a)t={offset:s.offset+1,length:0,content:0===s.children.length?i:i+","};else{const e=a>s.children.length?s.children.length:a,n=s.children[e-1];t={offset:n.offset+n.length,length:0,content:","+i}}return g(e,t,r)}throw new Error(`Can not ${void 0===n?"remove":r.isArrayInsertion?"insert":"modify"} Array index ${t} as length is not sufficient`)}throw new Error(`Can not add ${"number"!=typeof a?"index":"property"} to parent of type ${s.type}`)}if(void 0===n)throw new Error("Can not delete in empty document");return g(e,{offset:o?o.offset:0,length:o?o.length:0,content:JSON.stringify(n)},r)}(e,t,n,r)}function N(e,t){let n=t.slice(0).sort(((e,t)=>{const n=e.offset-t.offset;return 0===n?e.length-t.length:n})),r=e.length;for(let t=n.length-1;t>=0;t--){let i=n[t];if(!(i.offset+i.length<=r))throw new Error("Overlapping edit");e=m(e,i),r=i.offset}return e}!function(e){e[e.InvalidSymbol=1]="InvalidSymbol",e[e.InvalidNumberFormat=2]="InvalidNumberFormat",e[e.PropertyNameExpected=3]="PropertyNameExpected",e[e.ValueExpected=4]="ValueExpected",e[e.ColonExpected=5]="ColonExpected",e[e.CommaExpected=6]="CommaExpected",e[e.CloseBraceExpected=7]="CloseBraceExpected",e[e.CloseBracketExpected=8]="CloseBracketExpected",e[e.EndOfFileExpected=9]="EndOfFileExpected",e[e.InvalidCommentToken=10]="InvalidCommentToken",e[e.UnexpectedEndOfComment=11]="UnexpectedEndOfComment",e[e.UnexpectedEndOfString=12]="UnexpectedEndOfString",e[e.UnexpectedEndOfNumber=13]="UnexpectedEndOfNumber",e[e.InvalidUnicode=14]="InvalidUnicode",e[e.InvalidEscapeCharacter=15]="InvalidEscapeCharacter",e[e.InvalidCharacter=16]="InvalidCharacter"}(R||(R={}))},51873:(e,t,n)=>{var r=n(9325).Symbol;e.exports=r},72552:(e,t,n)=>{var r=n(51873),i=n(659),o=n(59350),s=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?i(e):o(e)}},54128:(e,t,n)=>{var r=n(31800),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},34840:e=>{var t="object"==typeof global&&global&&global.Object===Object&&global;e.exports=t},659:(e,t,n)=>{var r=n(51873),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,a),n=e[a];try{e[a]=void 0;var r=!0}catch(e){}var i=s.call(e);return r&&(t?e[a]=n:delete e[a]),i}},59350:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},9325:(e,t,n)=>{var r=n(34840),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},31800:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},38221:(e,t,n)=>{var r=n(23805),i=n(10124),o=n(99374),s=Math.max,a=Math.min;e.exports=function(e,t,n){var c,l,u,p,d,h,f=0,v=!1,g=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=c,r=l;return c=l=void 0,f=t,p=e.apply(r,n)}function b(e){var n=e-h;return void 0===h||n>=t||n<0||g&&e-f>=u}function _(){var e=i();if(b(e))return E(e);d=setTimeout(_,function(e){var n=t-(e-h);return g?a(n,u-(e-f)):n}(e))}function E(e){return d=void 0,m&&c?y(e):(c=l=void 0,p)}function S(){var e=i(),n=b(e);if(c=arguments,l=this,h=e,n){if(void 0===d)return function(e){return f=e,d=setTimeout(_,t),v?y(e):p}(h);if(g)return clearTimeout(d),d=setTimeout(_,t),y(h)}return void 0===d&&(d=setTimeout(_,t)),p}return t=o(t)||0,r(n)&&(v=!!n.leading,u=(g="maxWait"in n)?s(o(n.maxWait)||0,t):u,m="trailing"in n?!!n.trailing:m),S.cancel=function(){void 0!==d&&clearTimeout(d),f=0,c=h=l=d=void 0},S.flush=function(){return void 0===d?p:E(i())},S}},23805:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},40346:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},44394:(e,t,n)=>{var r=n(72552),i=n(40346);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},2543:function(e,t,n){var r;e=n.nmd(e),function(){var i,o="Expected a function",s="__lodash_hash_undefined__",a="__lodash_placeholder__",c=32,l=128,u=1/0,p=9007199254740991,d=NaN,h=4294967295,f=[["ary",l],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",c],["partialRight",64],["rearg",256]],v="[object Arguments]",g="[object Array]",m="[object Boolean]",y="[object Date]",b="[object Error]",_="[object Function]",E="[object GeneratorFunction]",S="[object Map]",w="[object Number]",P="[object Object]",T="[object Promise]",C="[object RegExp]",x="[object Set]",I="[object String]",O="[object Symbol]",R="[object WeakMap]",D="[object ArrayBuffer]",k="[object DataView]",A="[object Float32Array]",N="[object Float64Array]",j="[object Int8Array]",M="[object Int16Array]",L="[object Int32Array]",F="[object Uint8Array]",V="[object Uint8ClampedArray]",U="[object Uint16Array]",H="[object Uint32Array]",W=/\b__p \+= '';/g,q=/\b(__p \+=) '' \+/g,B=/(__e\(.*?\)|\b__t\)) \+\n'';/g,$=/&(?:amp|lt|gt|quot|#39);/g,K=/[&<>"']/g,G=RegExp($.source),z=RegExp(K.source),Y=/<%-([\s\S]+?)%>/g,X=/<%([\s\S]+?)%>/g,J=/<%=([\s\S]+?)%>/g,Q=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Z=/^\w*$/,ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,te=/[\\^$.*+?()[\]{}|]/g,ne=RegExp(te.source),re=/^\s+/,ie=/\s/,oe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,se=/\{\n\/\* \[wrapped with (.+)\] \*/,ae=/,? & /,ce=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,le=/[()=,{}\[\]\/\s]/,ue=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,de=/\w*$/,he=/^[-+]0x[0-9a-f]+$/i,fe=/^0b[01]+$/i,ve=/^\[object .+?Constructor\]$/,ge=/^0o[0-7]+$/i,me=/^(?:0|[1-9]\d*)$/,ye=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,be=/($^)/,_e=/['\n\r\u2028\u2029\\]/g,Ee="\\ud800-\\udfff",Se="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",we="\\u2700-\\u27bf",Pe="a-z\\xdf-\\xf6\\xf8-\\xff",Te="A-Z\\xc0-\\xd6\\xd8-\\xde",Ce="\\ufe0e\\ufe0f",xe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ie="["+Ee+"]",Oe="["+xe+"]",Re="["+Se+"]",De="\\d+",ke="["+we+"]",Ae="["+Pe+"]",Ne="[^"+Ee+xe+De+we+Pe+Te+"]",je="\\ud83c[\\udffb-\\udfff]",Me="[^"+Ee+"]",Le="(?:\\ud83c[\\udde6-\\uddff]){2}",Fe="[\\ud800-\\udbff][\\udc00-\\udfff]",Ve="["+Te+"]",Ue="\\u200d",He="(?:"+Ae+"|"+Ne+")",We="(?:"+Ve+"|"+Ne+")",qe="(?:['](?:d|ll|m|re|s|t|ve))?",Be="(?:['](?:D|LL|M|RE|S|T|VE))?",$e="(?:"+Re+"|"+je+")?",Ke="["+Ce+"]?",Ge=Ke+$e+"(?:"+Ue+"(?:"+[Me,Le,Fe].join("|")+")"+Ke+$e+")*",ze="(?:"+[ke,Le,Fe].join("|")+")"+Ge,Ye="(?:"+[Me+Re+"?",Re,Le,Fe,Ie].join("|")+")",Xe=RegExp("[']","g"),Je=RegExp(Re,"g"),Qe=RegExp(je+"(?="+je+")|"+Ye+Ge,"g"),Ze=RegExp([Ve+"?"+Ae+"+"+qe+"(?="+[Oe,Ve,"$"].join("|")+")",We+"+"+Be+"(?="+[Oe,Ve+He,"$"].join("|")+")",Ve+"?"+He+"+"+qe,Ve+"+"+Be,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",De,ze].join("|"),"g"),et=RegExp("["+Ue+Ee+Se+Ce+"]"),tt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,nt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],rt=-1,it={};it[A]=it[N]=it[j]=it[M]=it[L]=it[F]=it[V]=it[U]=it[H]=!0,it[v]=it[g]=it[D]=it[m]=it[k]=it[y]=it[b]=it[_]=it[S]=it[w]=it[P]=it[C]=it[x]=it[I]=it[R]=!1;var ot={};ot[v]=ot[g]=ot[D]=ot[k]=ot[m]=ot[y]=ot[A]=ot[N]=ot[j]=ot[M]=ot[L]=ot[S]=ot[w]=ot[P]=ot[C]=ot[x]=ot[I]=ot[O]=ot[F]=ot[V]=ot[U]=ot[H]=!0,ot[b]=ot[_]=ot[R]=!1;var st={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},at=parseFloat,ct=parseInt,lt="object"==typeof global&&global&&global.Object===Object&&global,ut="object"==typeof self&&self&&self.Object===Object&&self,pt=lt||ut||Function("return this")(),dt=t&&!t.nodeType&&t,ht=dt&&e&&!e.nodeType&&e,ft=ht&&ht.exports===dt,vt=ft&&lt.process,gt=function(){try{return ht&&ht.require&&ht.require("util").types||vt&&vt.binding&&vt.binding("util")}catch(e){}}(),mt=gt&&gt.isArrayBuffer,yt=gt&&gt.isDate,bt=gt&&gt.isMap,_t=gt&&gt.isRegExp,Et=gt&&gt.isSet,St=gt&&gt.isTypedArray;function wt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Pt(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var s=e[i];t(r,s,n(s),e)}return r}function Tt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Ct(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function xt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function It(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function Ot(e,t){return!(null==e||!e.length)&&Vt(e,t,0)>-1}function Rt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Dt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function kt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function At(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function Nt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function jt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Mt=qt("length");function Lt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function Ft(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Vt(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Ft(e,Ht,n)}function Ut(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function Ht(e){return e!=e}function Wt(e,t){var n=null==e?0:e.length;return n?Kt(e,t)/n:d}function qt(e){return function(t){return null==t?i:t[e]}}function Bt(e){return function(t){return null==e?i:e[t]}}function $t(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function Kt(e,t){for(var n,r=-1,o=e.length;++r<o;){var s=t(e[r]);s!==i&&(n=n===i?s:n+s)}return n}function Gt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function zt(e){return e?e.slice(0,dn(e)+1).replace(re,""):e}function Yt(e){return function(t){return e(t)}}function Xt(e,t){return Dt(t,(function(t){return e[t]}))}function Jt(e,t){return e.has(t)}function Qt(e,t){for(var n=-1,r=e.length;++n<r&&Vt(t,e[n],0)>-1;);return n}function Zt(e,t){for(var n=e.length;n--&&Vt(t,e[n],0)>-1;);return n}var en=Bt({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"}),tn=Bt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function nn(e){return"\\"+st[e]}function rn(e){return et.test(e)}function on(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function sn(e,t){return function(n){return e(t(n))}}function an(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n];s!==t&&s!==a||(e[n]=a,o[i++]=n)}return o}function cn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function ln(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function un(e){return rn(e)?function(e){for(var t=Qe.lastIndex=0;Qe.test(e);)++t;return t}(e):Mt(e)}function pn(e){return rn(e)?function(e){return e.match(Qe)||[]}(e):function(e){return e.split("")}(e)}function dn(e){for(var t=e.length;t--&&ie.test(e.charAt(t)););return t}var hn=Bt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),fn=function e(t){var n,r=(t=null==t?pt:fn.defaults(pt.Object(),t,fn.pick(pt,nt))).Array,ie=t.Date,Ee=t.Error,Se=t.Function,we=t.Math,Pe=t.Object,Te=t.RegExp,Ce=t.String,xe=t.TypeError,Ie=r.prototype,Oe=Se.prototype,Re=Pe.prototype,De=t["__core-js_shared__"],ke=Oe.toString,Ae=Re.hasOwnProperty,Ne=0,je=(n=/[^.]+$/.exec(De&&De.keys&&De.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Me=Re.toString,Le=ke.call(Pe),Fe=pt._,Ve=Te("^"+ke.call(Ae).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ue=ft?t.Buffer:i,He=t.Symbol,We=t.Uint8Array,qe=Ue?Ue.allocUnsafe:i,Be=sn(Pe.getPrototypeOf,Pe),$e=Pe.create,Ke=Re.propertyIsEnumerable,Ge=Ie.splice,ze=He?He.isConcatSpreadable:i,Ye=He?He.iterator:i,Qe=He?He.toStringTag:i,et=function(){try{var e=co(Pe,"defineProperty");return e({},"",{}),e}catch(e){}}(),st=t.clearTimeout!==pt.clearTimeout&&t.clearTimeout,lt=ie&&ie.now!==pt.Date.now&&ie.now,ut=t.setTimeout!==pt.setTimeout&&t.setTimeout,dt=we.ceil,ht=we.floor,vt=Pe.getOwnPropertySymbols,gt=Ue?Ue.isBuffer:i,Mt=t.isFinite,Bt=Ie.join,vn=sn(Pe.keys,Pe),gn=we.max,mn=we.min,yn=ie.now,bn=t.parseInt,_n=we.random,En=Ie.reverse,Sn=co(t,"DataView"),wn=co(t,"Map"),Pn=co(t,"Promise"),Tn=co(t,"Set"),Cn=co(t,"WeakMap"),xn=co(Pe,"create"),In=Cn&&new Cn,On={},Rn=Lo(Sn),Dn=Lo(wn),kn=Lo(Pn),An=Lo(Tn),Nn=Lo(Cn),jn=He?He.prototype:i,Mn=jn?jn.valueOf:i,Ln=jn?jn.toString:i;function Fn(e){if(ea(e)&&!qs(e)&&!(e instanceof Wn)){if(e instanceof Hn)return e;if(Ae.call(e,"__wrapped__"))return Fo(e)}return new Hn(e)}var Vn=function(){function e(){}return function(t){if(!Zs(t))return{};if($e)return $e(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function Un(){}function Hn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Wn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=h,this.__views__=[]}function qn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Bn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function $n(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new $n;++t<n;)this.add(e[t])}function Gn(e){var t=this.__data__=new Bn(e);this.size=t.size}function zn(e,t){var n=qs(e),r=!n&&Ws(e),i=!n&&!r&&Gs(e),o=!n&&!r&&!i&&ca(e),s=n||r||i||o,a=s?Gt(e.length,Ce):[],c=a.length;for(var l in e)!t&&!Ae.call(e,l)||s&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||go(l,c))||a.push(l);return a}function Yn(e){var t=e.length;return t?e[$r(0,t-1)]:i}function Xn(e,t){return ko(Ci(e),or(t,0,e.length))}function Jn(e){return ko(Ci(e))}function Qn(e,t,n){(n!==i&&!Vs(e[t],n)||n===i&&!(t in e))&&rr(e,t,n)}function Zn(e,t,n){var r=e[t];Ae.call(e,t)&&Vs(r,n)&&(n!==i||t in e)||rr(e,t,n)}function er(e,t){for(var n=e.length;n--;)if(Vs(e[n][0],t))return n;return-1}function tr(e,t,n,r){return ur(e,(function(e,i,o){t(r,e,n(e),o)})),r}function nr(e,t){return e&&xi(t,Ra(t),e)}function rr(e,t,n){"__proto__"==t&&et?et(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ir(e,t){for(var n=-1,o=t.length,s=r(o),a=null==e;++n<o;)s[n]=a?i:Ta(e,t[n]);return s}function or(e,t,n){return e==e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function sr(e,t,n,r,o,s){var a,c=1&t,l=2&t,u=4&t;if(n&&(a=o?n(e,r,o,s):n(e)),a!==i)return a;if(!Zs(e))return e;var p=qs(e);if(p){if(a=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Ae.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!c)return Ci(e,a)}else{var d=po(e),h=d==_||d==E;if(Gs(e))return _i(e,c);if(d==P||d==v||h&&!o){if(a=l||h?{}:fo(e),!c)return l?function(e,t){return xi(e,uo(e),t)}(e,function(e,t){return e&&xi(t,Da(t),e)}(a,e)):function(e,t){return xi(e,lo(e),t)}(e,nr(a,e))}else{if(!ot[d])return o?e:{};a=function(e,t,n){var r,i=e.constructor;switch(t){case D:return Ei(e);case m:case y:return new i(+e);case k:return function(e,t){var n=t?Ei(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case A:case N:case j:case M:case L:case F:case V:case U:case H:return Si(e,n);case S:return new i;case w:case I:return new i(e);case C:return function(e){var t=new e.constructor(e.source,de.exec(e));return t.lastIndex=e.lastIndex,t}(e);case x:return new i;case O:return r=e,Mn?Pe(Mn.call(r)):{}}}(e,d,c)}}s||(s=new Gn);var f=s.get(e);if(f)return f;s.set(e,a),oa(e)?e.forEach((function(r){a.add(sr(r,t,n,r,e,s))})):ta(e)&&e.forEach((function(r,i){a.set(i,sr(r,t,n,i,e,s))}));var g=p?i:(u?l?to:eo:l?Da:Ra)(e);return Tt(g||e,(function(r,i){g&&(r=e[i=r]),Zn(a,i,sr(r,t,n,i,e,s))})),a}function ar(e,t,n){var r=n.length;if(null==e)return!r;for(e=Pe(e);r--;){var o=n[r],s=t[o],a=e[o];if(a===i&&!(o in e)||!s(a))return!1}return!0}function cr(e,t,n){if("function"!=typeof e)throw new xe(o);return Io((function(){e.apply(i,n)}),t)}function lr(e,t,n,r){var i=-1,o=Ot,s=!0,a=e.length,c=[],l=t.length;if(!a)return c;n&&(t=Dt(t,Yt(n))),r?(o=Rt,s=!1):t.length>=200&&(o=Jt,s=!1,t=new Kn(t));e:for(;++i<a;){var u=e[i],p=null==n?u:n(u);if(u=r||0!==u?u:0,s&&p==p){for(var d=l;d--;)if(t[d]===p)continue e;c.push(u)}else o(t,p,r)||c.push(u)}return c}Fn.templateSettings={escape:Y,evaluate:X,interpolate:J,variable:"",imports:{_:Fn}},Fn.prototype=Un.prototype,Fn.prototype.constructor=Fn,Hn.prototype=Vn(Un.prototype),Hn.prototype.constructor=Hn,Wn.prototype=Vn(Un.prototype),Wn.prototype.constructor=Wn,qn.prototype.clear=function(){this.__data__=xn?xn(null):{},this.size=0},qn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},qn.prototype.get=function(e){var t=this.__data__;if(xn){var n=t[e];return n===s?i:n}return Ae.call(t,e)?t[e]:i},qn.prototype.has=function(e){var t=this.__data__;return xn?t[e]!==i:Ae.call(t,e)},qn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=xn&&t===i?s:t,this},Bn.prototype.clear=function(){this.__data__=[],this.size=0},Bn.prototype.delete=function(e){var t=this.__data__,n=er(t,e);return!(n<0||(n==t.length-1?t.pop():Ge.call(t,n,1),--this.size,0))},Bn.prototype.get=function(e){var t=this.__data__,n=er(t,e);return n<0?i:t[n][1]},Bn.prototype.has=function(e){return er(this.__data__,e)>-1},Bn.prototype.set=function(e,t){var n=this.__data__,r=er(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},$n.prototype.clear=function(){this.size=0,this.__data__={hash:new qn,map:new(wn||Bn),string:new qn}},$n.prototype.delete=function(e){var t=so(this,e).delete(e);return this.size-=t?1:0,t},$n.prototype.get=function(e){return so(this,e).get(e)},$n.prototype.has=function(e){return so(this,e).has(e)},$n.prototype.set=function(e,t){var n=so(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Kn.prototype.add=Kn.prototype.push=function(e){return this.__data__.set(e,s),this},Kn.prototype.has=function(e){return this.__data__.has(e)},Gn.prototype.clear=function(){this.__data__=new Bn,this.size=0},Gn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Gn.prototype.get=function(e){return this.__data__.get(e)},Gn.prototype.has=function(e){return this.__data__.has(e)},Gn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Bn){var r=n.__data__;if(!wn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new $n(r)}return n.set(e,t),this.size=n.size,this};var ur=Ri(yr),pr=Ri(br,!0);function dr(e,t){var n=!0;return ur(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function hr(e,t,n){for(var r=-1,o=e.length;++r<o;){var s=e[r],a=t(s);if(null!=a&&(c===i?a==a&&!aa(a):n(a,c)))var c=a,l=s}return l}function fr(e,t){var n=[];return ur(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function vr(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=vo),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?vr(a,t-1,n,r,i):kt(i,a):r||(i[i.length]=a)}return i}var gr=Di(),mr=Di(!0);function yr(e,t){return e&&gr(e,t,Ra)}function br(e,t){return e&&mr(e,t,Ra)}function _r(e,t){return It(t,(function(t){return Xs(e[t])}))}function Er(e,t){for(var n=0,r=(t=gi(t,e)).length;null!=e&&n<r;)e=e[Mo(t[n++])];return n&&n==r?e:i}function Sr(e,t,n){var r=t(e);return qs(e)?r:kt(r,n(e))}function wr(e){return null==e?e===i?"[object Undefined]":"[object Null]":Qe&&Qe in Pe(e)?function(e){var t=Ae.call(e,Qe),n=e[Qe];try{e[Qe]=i;var r=!0}catch(e){}var o=Me.call(e);return r&&(t?e[Qe]=n:delete e[Qe]),o}(e):function(e){return Me.call(e)}(e)}function Pr(e,t){return e>t}function Tr(e,t){return null!=e&&Ae.call(e,t)}function Cr(e,t){return null!=e&&t in Pe(e)}function xr(e,t,n){for(var o=n?Rt:Ot,s=e[0].length,a=e.length,c=a,l=r(a),u=1/0,p=[];c--;){var d=e[c];c&&t&&(d=Dt(d,Yt(t))),u=mn(d.length,u),l[c]=!n&&(t||s>=120&&d.length>=120)?new Kn(c&&d):i}d=e[0];var h=-1,f=l[0];e:for(;++h<s&&p.length<u;){var v=d[h],g=t?t(v):v;if(v=n||0!==v?v:0,!(f?Jt(f,g):o(p,g,n))){for(c=a;--c;){var m=l[c];if(!(m?Jt(m,g):o(e[c],g,n)))continue e}f&&f.push(g),p.push(v)}}return p}function Ir(e,t,n){var r=null==(e=To(e,t=gi(t,e)))?e:e[Mo(Yo(t))];return null==r?i:wt(r,e,n)}function Or(e){return ea(e)&&wr(e)==v}function Rr(e,t,n,r,o){return e===t||(null==e||null==t||!ea(e)&&!ea(t)?e!=e&&t!=t:function(e,t,n,r,o,s){var a=qs(e),c=qs(t),l=a?g:po(e),u=c?g:po(t),p=(l=l==v?P:l)==P,d=(u=u==v?P:u)==P,h=l==u;if(h&&Gs(e)){if(!Gs(t))return!1;a=!0,p=!1}if(h&&!p)return s||(s=new Gn),a||ca(e)?Qi(e,t,n,r,o,s):function(e,t,n,r,i,o,s){switch(n){case k:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case D:return!(e.byteLength!=t.byteLength||!o(new We(e),new We(t)));case m:case y:case w:return Vs(+e,+t);case b:return e.name==t.name&&e.message==t.message;case C:case I:return e==t+"";case S:var a=on;case x:var c=1&r;if(a||(a=cn),e.size!=t.size&&!c)return!1;var l=s.get(e);if(l)return l==t;r|=2,s.set(e,t);var u=Qi(a(e),a(t),r,i,o,s);return s.delete(e),u;case O:if(Mn)return Mn.call(e)==Mn.call(t)}return!1}(e,t,l,n,r,o,s);if(!(1&n)){var f=p&&Ae.call(e,"__wrapped__"),_=d&&Ae.call(t,"__wrapped__");if(f||_){var E=f?e.value():e,T=_?t.value():t;return s||(s=new Gn),o(E,T,n,r,s)}}return!!h&&(s||(s=new Gn),function(e,t,n,r,o,s){var a=1&n,c=eo(e),l=c.length;if(l!=eo(t).length&&!a)return!1;for(var u=l;u--;){var p=c[u];if(!(a?p in t:Ae.call(t,p)))return!1}var d=s.get(e),h=s.get(t);if(d&&h)return d==t&&h==e;var f=!0;s.set(e,t),s.set(t,e);for(var v=a;++u<l;){var g=e[p=c[u]],m=t[p];if(r)var y=a?r(m,g,p,t,e,s):r(g,m,p,e,t,s);if(!(y===i?g===m||o(g,m,n,r,s):y)){f=!1;break}v||(v="constructor"==p)}if(f&&!v){var b=e.constructor,_=t.constructor;b==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _||(f=!1)}return s.delete(e),s.delete(t),f}(e,t,n,r,o,s))}(e,t,n,r,Rr,o))}function Dr(e,t,n,r){var o=n.length,s=o,a=!r;if(null==e)return!s;for(e=Pe(e);o--;){var c=n[o];if(a&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<s;){var l=(c=n[o])[0],u=e[l],p=c[1];if(a&&c[2]){if(u===i&&!(l in e))return!1}else{var d=new Gn;if(r)var h=r(u,p,l,e,t,d);if(!(h===i?Rr(p,u,3,r,d):h))return!1}}return!0}function kr(e){return!(!Zs(e)||(t=e,je&&je in t))&&(Xs(e)?Ve:ve).test(Lo(e));var t}function Ar(e){return"function"==typeof e?e:null==e?nc:"object"==typeof e?qs(e)?Fr(e[0],e[1]):Lr(e):pc(e)}function Nr(e){if(!Eo(e))return vn(e);var t=[];for(var n in Pe(e))Ae.call(e,n)&&"constructor"!=n&&t.push(n);return t}function jr(e,t){return e<t}function Mr(e,t){var n=-1,i=$s(e)?r(e.length):[];return ur(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}function Lr(e){var t=ao(e);return 1==t.length&&t[0][2]?wo(t[0][0],t[0][1]):function(n){return n===e||Dr(n,e,t)}}function Fr(e,t){return yo(e)&&So(t)?wo(Mo(e),t):function(n){var r=Ta(n,e);return r===i&&r===t?Ca(n,e):Rr(t,r,3)}}function Vr(e,t,n,r,o){e!==t&&gr(t,(function(s,a){if(o||(o=new Gn),Zs(s))!function(e,t,n,r,o,s,a){var c=Co(e,n),l=Co(t,n),u=a.get(l);if(u)Qn(e,n,u);else{var p=s?s(c,l,n+"",e,t,a):i,d=p===i;if(d){var h=qs(l),f=!h&&Gs(l),v=!h&&!f&&ca(l);p=l,h||f||v?qs(c)?p=c:Ks(c)?p=Ci(c):f?(d=!1,p=_i(l,!0)):v?(d=!1,p=Si(l,!0)):p=[]:ra(l)||Ws(l)?(p=c,Ws(c)?p=ga(c):Zs(c)&&!Xs(c)||(p=fo(l))):d=!1}d&&(a.set(l,p),o(p,l,r,s,a),a.delete(l)),Qn(e,n,p)}}(e,t,a,n,Vr,r,o);else{var c=r?r(Co(e,a),s,a+"",e,t,o):i;c===i&&(c=s),Qn(e,a,c)}}),Da)}function Ur(e,t){var n=e.length;if(n)return go(t+=t<0?n:0,n)?e[t]:i}function Hr(e,t,n){t=t.length?Dt(t,(function(e){return qs(e)?function(t){return Er(t,1===e.length?e[0]:e)}:e})):[nc];var r=-1;t=Dt(t,Yt(oo()));var i=Mr(e,(function(e,n,i){var o=Dt(t,(function(t){return t(e)}));return{criteria:o,index:++r,value:e}}));return function(e){var t=e.length;for(e.sort((function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,s=i.length,a=n.length;++r<s;){var c=wi(i[r],o[r]);if(c)return r>=a?c:c*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}));t--;)e[t]=e[t].value;return e}(i)}function Wr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var s=t[r],a=Er(e,s);n(a,s)&&Xr(o,gi(s,e),a)}return o}function qr(e,t,n,r){var i=r?Ut:Vt,o=-1,s=t.length,a=e;for(e===t&&(t=Ci(t)),n&&(a=Dt(e,Yt(n)));++o<s;)for(var c=0,l=t[o],u=n?n(l):l;(c=i(a,u,c,r))>-1;)a!==e&&Ge.call(a,c,1),Ge.call(e,c,1);return e}function Br(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;go(i)?Ge.call(e,i,1):ci(e,i)}}return e}function $r(e,t){return e+ht(_n()*(t-e+1))}function Kr(e,t){var n="";if(!e||t<1||t>p)return n;do{t%2&&(n+=e),(t=ht(t/2))&&(e+=e)}while(t);return n}function Gr(e,t){return Oo(Po(e,t,nc),e+"")}function zr(e){return Yn(Va(e))}function Yr(e,t){var n=Va(e);return ko(n,or(t,0,n.length))}function Xr(e,t,n,r){if(!Zs(e))return e;for(var o=-1,s=(t=gi(t,e)).length,a=s-1,c=e;null!=c&&++o<s;){var l=Mo(t[o]),u=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(o!=a){var p=c[l];(u=r?r(p,l,c):i)===i&&(u=Zs(p)?p:go(t[o+1])?[]:{})}Zn(c,l,u),c=c[l]}return e}var Jr=In?function(e,t){return In.set(e,t),e}:nc,Qr=et?function(e,t){return et(e,"toString",{configurable:!0,enumerable:!1,value:Za(t),writable:!0})}:nc;function Zr(e){return ko(Va(e))}function ei(e,t,n){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var s=r(o);++i<o;)s[i]=e[i+t];return s}function ti(e,t){var n;return ur(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function ni(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,s=e[o];null!==s&&!aa(s)&&(n?s<=t:s<t)?r=o+1:i=o}return i}return ri(e,t,nc,n)}function ri(e,t,n,r){var o=0,s=null==e?0:e.length;if(0===s)return 0;for(var a=(t=n(t))!=t,c=null===t,l=aa(t),u=t===i;o<s;){var p=ht((o+s)/2),d=n(e[p]),h=d!==i,f=null===d,v=d==d,g=aa(d);if(a)var m=r||v;else m=u?v&&(r||h):c?v&&h&&(r||!f):l?v&&h&&!f&&(r||!g):!f&&!g&&(r?d<=t:d<t);m?o=p+1:s=p}return mn(s,4294967294)}function ii(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n],a=t?t(s):s;if(!n||!Vs(a,c)){var c=a;o[i++]=0===s?0:s}}return o}function oi(e){return"number"==typeof e?e:aa(e)?d:+e}function si(e){if("string"==typeof e)return e;if(qs(e))return Dt(e,si)+"";if(aa(e))return Ln?Ln.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ai(e,t,n){var r=-1,i=Ot,o=e.length,s=!0,a=[],c=a;if(n)s=!1,i=Rt;else if(o>=200){var l=t?null:Ki(e);if(l)return cn(l);s=!1,i=Jt,c=new Kn}else c=t?[]:a;e:for(;++r<o;){var u=e[r],p=t?t(u):u;if(u=n||0!==u?u:0,s&&p==p){for(var d=c.length;d--;)if(c[d]===p)continue e;t&&c.push(p),a.push(u)}else i(c,p,n)||(c!==a&&c.push(p),a.push(u))}return a}function ci(e,t){return null==(e=To(e,t=gi(t,e)))||delete e[Mo(Yo(t))]}function li(e,t,n,r){return Xr(e,t,n(Er(e,t)),r)}function ui(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?ei(e,r?0:o,r?o+1:i):ei(e,r?o+1:0,r?i:o)}function pi(e,t){var n=e;return n instanceof Wn&&(n=n.value()),At(t,(function(e,t){return t.func.apply(t.thisArg,kt([e],t.args))}),n)}function di(e,t,n){var i=e.length;if(i<2)return i?ai(e[0]):[];for(var o=-1,s=r(i);++o<i;)for(var a=e[o],c=-1;++c<i;)c!=o&&(s[o]=lr(s[o]||a,e[c],t,n));return ai(vr(s,1),t,n)}function hi(e,t,n){for(var r=-1,o=e.length,s=t.length,a={};++r<o;){var c=r<s?t[r]:i;n(a,e[r],c)}return a}function fi(e){return Ks(e)?e:[]}function vi(e){return"function"==typeof e?e:nc}function gi(e,t){return qs(e)?e:yo(e,t)?[e]:jo(ma(e))}var mi=Gr;function yi(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:ei(e,t,n)}var bi=st||function(e){return pt.clearTimeout(e)};function _i(e,t){if(t)return e.slice();var n=e.length,r=qe?qe(n):new e.constructor(n);return e.copy(r),r}function Ei(e){var t=new e.constructor(e.byteLength);return new We(t).set(new We(e)),t}function Si(e,t){var n=t?Ei(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function wi(e,t){if(e!==t){var n=e!==i,r=null===e,o=e==e,s=aa(e),a=t!==i,c=null===t,l=t==t,u=aa(t);if(!c&&!u&&!s&&e>t||s&&a&&l&&!c&&!u||r&&a&&l||!n&&l||!o)return 1;if(!r&&!s&&!u&&e<t||u&&n&&o&&!r&&!s||c&&n&&o||!a&&o||!l)return-1}return 0}function Pi(e,t,n,i){for(var o=-1,s=e.length,a=n.length,c=-1,l=t.length,u=gn(s-a,0),p=r(l+u),d=!i;++c<l;)p[c]=t[c];for(;++o<a;)(d||o<s)&&(p[n[o]]=e[o]);for(;u--;)p[c++]=e[o++];return p}function Ti(e,t,n,i){for(var o=-1,s=e.length,a=-1,c=n.length,l=-1,u=t.length,p=gn(s-c,0),d=r(p+u),h=!i;++o<p;)d[o]=e[o];for(var f=o;++l<u;)d[f+l]=t[l];for(;++a<c;)(h||o<s)&&(d[f+n[a]]=e[o++]);return d}function Ci(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function xi(e,t,n,r){var o=!n;n||(n={});for(var s=-1,a=t.length;++s<a;){var c=t[s],l=r?r(n[c],e[c],c,n,e):i;l===i&&(l=e[c]),o?rr(n,c,l):Zn(n,c,l)}return n}function Ii(e,t){return function(n,r){var i=qs(n)?Pt:tr,o=t?t():{};return i(n,e,oo(r,2),o)}}function Oi(e){return Gr((function(t,n){var r=-1,o=n.length,s=o>1?n[o-1]:i,a=o>2?n[2]:i;for(s=e.length>3&&"function"==typeof s?(o--,s):i,a&&mo(n[0],n[1],a)&&(s=o<3?i:s,o=1),t=Pe(t);++r<o;){var c=n[r];c&&e(t,c,r,s)}return t}))}function Ri(e,t){return function(n,r){if(null==n)return n;if(!$s(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=Pe(n);(t?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function Di(e){return function(t,n,r){for(var i=-1,o=Pe(t),s=r(t),a=s.length;a--;){var c=s[e?a:++i];if(!1===n(o[c],c,o))break}return t}}function ki(e){return function(t){var n=rn(t=ma(t))?pn(t):i,r=n?n[0]:t.charAt(0),o=n?yi(n,1).join(""):t.slice(1);return r[e]()+o}}function Ai(e){return function(t){return At(Xa(Wa(t).replace(Xe,"")),e,"")}}function Ni(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Vn(e.prototype),r=e.apply(n,t);return Zs(r)?r:n}}function ji(e){return function(t,n,r){var o=Pe(t);if(!$s(t)){var s=oo(n,3);t=Ra(t),n=function(e){return s(o[e],e,o)}}var a=e(t,n,r);return a>-1?o[s?t[a]:a]:i}}function Mi(e){return Zi((function(t){var n=t.length,r=n,s=Hn.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new xe(o);if(s&&!c&&"wrapper"==ro(a))var c=new Hn([],!0)}for(r=c?r:n;++r<n;){var l=ro(a=t[r]),u="wrapper"==l?no(a):i;c=u&&bo(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?c[ro(u[0])].apply(c,u[3]):1==a.length&&bo(a)?c[l]():c.thru(a)}return function(){var e=arguments,r=e[0];if(c&&1==e.length&&qs(r))return c.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function Li(e,t,n,o,s,a,c,u,p,d){var h=t&l,f=1&t,v=2&t,g=24&t,m=512&t,y=v?i:Ni(e);return function l(){for(var b=arguments.length,_=r(b),E=b;E--;)_[E]=arguments[E];if(g)var S=io(l),w=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(_,S);if(o&&(_=Pi(_,o,s,g)),a&&(_=Ti(_,a,c,g)),b-=w,g&&b<d){var P=an(_,S);return Bi(e,t,Li,l.placeholder,n,_,P,u,p,d-b)}var T=f?n:this,C=v?T[e]:e;return b=_.length,u?_=function(e,t){for(var n=e.length,r=mn(t.length,n),o=Ci(e);r--;){var s=t[r];e[r]=go(s,n)?o[s]:i}return e}(_,u):m&&b>1&&_.reverse(),h&&p<b&&(_.length=p),this&&this!==pt&&this instanceof l&&(C=y||Ni(C)),C.apply(T,_)}}function Fi(e,t){return function(n,r){return function(e,t,n,r){return yr(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function Vi(e,t){return function(n,r){var o;if(n===i&&r===i)return t;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=si(n),r=si(r)):(n=oi(n),r=oi(r)),o=e(n,r)}return o}}function Ui(e){return Zi((function(t){return t=Dt(t,Yt(oo())),Gr((function(n){var r=this;return e(t,(function(e){return wt(e,r,n)}))}))}))}function Hi(e,t){var n=(t=t===i?" ":si(t)).length;if(n<2)return n?Kr(t,e):t;var r=Kr(t,dt(e/un(t)));return rn(t)?yi(pn(r),0,e).join(""):r.slice(0,e)}function Wi(e){return function(t,n,o){return o&&"number"!=typeof o&&mo(t,n,o)&&(n=o=i),t=da(t),n===i?(n=t,t=0):n=da(n),function(e,t,n,i){for(var o=-1,s=gn(dt((t-e)/(n||1)),0),a=r(s);s--;)a[i?s:++o]=e,e+=n;return a}(t,n,o=o===i?t<n?1:-1:da(o),e)}}function qi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=va(t),n=va(n)),e(t,n)}}function Bi(e,t,n,r,o,s,a,l,u,p){var d=8&t;t|=d?c:64,4&(t&=~(d?64:c))||(t&=-4);var h=[e,t,o,d?s:i,d?a:i,d?i:s,d?i:a,l,u,p],f=n.apply(i,h);return bo(e)&&xo(f,h),f.placeholder=r,Ro(f,e,t)}function $i(e){var t=we[e];return function(e,n){if(e=va(e),(n=null==n?0:mn(ha(n),292))&&Mt(e)){var r=(ma(e)+"e").split("e");return+((r=(ma(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Ki=Tn&&1/cn(new Tn([,-0]))[1]==u?function(e){return new Tn(e)}:ac;function Gi(e){return function(t){var n=po(t);return n==S?on(t):n==x?ln(t):function(e,t){return Dt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function zi(e,t,n,s,u,p,d,h){var f=2&t;if(!f&&"function"!=typeof e)throw new xe(o);var v=s?s.length:0;if(v||(t&=-97,s=u=i),d=d===i?d:gn(ha(d),0),h=h===i?h:ha(h),v-=u?u.length:0,64&t){var g=s,m=u;s=u=i}var y=f?i:no(e),b=[e,t,n,s,u,g,m,p,d,h];if(y&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,s=r==l&&8==n||r==l&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!s)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var c=t[3];if(c){var u=e[3];e[3]=u?Pi(u,c,t[4]):c,e[4]=u?an(e[3],a):t[4]}(c=t[5])&&(u=e[5],e[5]=u?Ti(u,c,t[6]):c,e[6]=u?an(e[5],a):t[6]),(c=t[7])&&(e[7]=c),r&l&&(e[8]=null==e[8]?t[8]:mn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(b,y),e=b[0],t=b[1],n=b[2],s=b[3],u=b[4],!(h=b[9]=b[9]===i?f?0:e.length:gn(b[9]-v,0))&&24&t&&(t&=-25),t&&1!=t)_=8==t||16==t?function(e,t,n){var o=Ni(e);return function s(){for(var a=arguments.length,c=r(a),l=a,u=io(s);l--;)c[l]=arguments[l];var p=a<3&&c[0]!==u&&c[a-1]!==u?[]:an(c,u);return(a-=p.length)<n?Bi(e,t,Li,s.placeholder,i,c,p,i,i,n-a):wt(this&&this!==pt&&this instanceof s?o:e,this,c)}}(e,t,h):t!=c&&33!=t||u.length?Li.apply(i,b):function(e,t,n,i){var o=1&t,s=Ni(e);return function t(){for(var a=-1,c=arguments.length,l=-1,u=i.length,p=r(u+c),d=this&&this!==pt&&this instanceof t?s:e;++l<u;)p[l]=i[l];for(;c--;)p[l++]=arguments[++a];return wt(d,o?n:this,p)}}(e,t,n,s);else var _=function(e,t,n){var r=1&t,i=Ni(e);return function t(){return(this&&this!==pt&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,n);return Ro((y?Jr:xo)(_,b),e,t)}function Yi(e,t,n,r){return e===i||Vs(e,Re[n])&&!Ae.call(r,n)?t:e}function Xi(e,t,n,r,o,s){return Zs(e)&&Zs(t)&&(s.set(t,e),Vr(e,t,i,Xi,s),s.delete(t)),e}function Ji(e){return ra(e)?i:e}function Qi(e,t,n,r,o,s){var a=1&n,c=e.length,l=t.length;if(c!=l&&!(a&&l>c))return!1;var u=s.get(e),p=s.get(t);if(u&&p)return u==t&&p==e;var d=-1,h=!0,f=2&n?new Kn:i;for(s.set(e,t),s.set(t,e);++d<c;){var v=e[d],g=t[d];if(r)var m=a?r(g,v,d,t,e,s):r(v,g,d,e,t,s);if(m!==i){if(m)continue;h=!1;break}if(f){if(!jt(t,(function(e,t){if(!Jt(f,t)&&(v===e||o(v,e,n,r,s)))return f.push(t)}))){h=!1;break}}else if(v!==g&&!o(v,g,n,r,s)){h=!1;break}}return s.delete(e),s.delete(t),h}function Zi(e){return Oo(Po(e,i,Bo),e+"")}function eo(e){return Sr(e,Ra,lo)}function to(e){return Sr(e,Da,uo)}var no=In?function(e){return In.get(e)}:ac;function ro(e){for(var t=e.name+"",n=On[t],r=Ae.call(On,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function io(e){return(Ae.call(Fn,"placeholder")?Fn:e).placeholder}function oo(){var e=Fn.iteratee||rc;return e=e===rc?Ar:e,arguments.length?e(arguments[0],arguments[1]):e}function so(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function ao(e){for(var t=Ra(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,So(i)]}return t}function co(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return kr(n)?n:i}var lo=vt?function(e){return null==e?[]:(e=Pe(e),It(vt(e),(function(t){return Ke.call(e,t)})))}:fc,uo=vt?function(e){for(var t=[];e;)kt(t,lo(e)),e=Be(e);return t}:fc,po=wr;function ho(e,t,n){for(var r=-1,i=(t=gi(t,e)).length,o=!1;++r<i;){var s=Mo(t[r]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Qs(i)&&go(s,i)&&(qs(e)||Ws(e))}function fo(e){return"function"!=typeof e.constructor||Eo(e)?{}:Vn(Be(e))}function vo(e){return qs(e)||Ws(e)||!!(ze&&e&&e[ze])}function go(e,t){var n=typeof e;return!!(t=null==t?p:t)&&("number"==n||"symbol"!=n&&me.test(e))&&e>-1&&e%1==0&&e<t}function mo(e,t,n){if(!Zs(n))return!1;var r=typeof t;return!!("number"==r?$s(n)&&go(t,n.length):"string"==r&&t in n)&&Vs(n[t],e)}function yo(e,t){if(qs(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!aa(e))||Z.test(e)||!Q.test(e)||null!=t&&e in Pe(t)}function bo(e){var t=ro(e),n=Fn[t];if("function"!=typeof n||!(t in Wn.prototype))return!1;if(e===n)return!0;var r=no(n);return!!r&&e===r[0]}(Sn&&po(new Sn(new ArrayBuffer(1)))!=k||wn&&po(new wn)!=S||Pn&&po(Pn.resolve())!=T||Tn&&po(new Tn)!=x||Cn&&po(new Cn)!=R)&&(po=function(e){var t=wr(e),n=t==P?e.constructor:i,r=n?Lo(n):"";if(r)switch(r){case Rn:return k;case Dn:return S;case kn:return T;case An:return x;case Nn:return R}return t});var _o=De?Xs:vc;function Eo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Re)}function So(e){return e==e&&!Zs(e)}function wo(e,t){return function(n){return null!=n&&n[e]===t&&(t!==i||e in Pe(n))}}function Po(e,t,n){return t=gn(t===i?e.length-1:t,0),function(){for(var i=arguments,o=-1,s=gn(i.length-t,0),a=r(s);++o<s;)a[o]=i[t+o];o=-1;for(var c=r(t+1);++o<t;)c[o]=i[o];return c[t]=n(a),wt(e,this,c)}}function To(e,t){return t.length<2?e:Er(e,ei(t,0,-1))}function Co(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var xo=Do(Jr),Io=ut||function(e,t){return pt.setTimeout(e,t)},Oo=Do(Qr);function Ro(e,t,n){var r=t+"";return Oo(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(oe,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Tt(f,(function(n){var r="_."+n[0];t&n[1]&&!Ot(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(se);return t?t[1].split(ae):[]}(r),n)))}function Do(e){var t=0,n=0;return function(){var r=yn(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function ko(e,t){var n=-1,r=e.length,o=r-1;for(t=t===i?r:t;++n<t;){var s=$r(n,o),a=e[s];e[s]=e[n],e[n]=a}return e.length=t,e}var Ao,No,jo=(Ao=As((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ee,(function(e,n,r,i){t.push(r?i.replace(ue,"$1"):n||e)})),t}),(function(e){return 500===No.size&&No.clear(),e})),No=Ao.cache,Ao);function Mo(e){if("string"==typeof e||aa(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Lo(e){if(null!=e){try{return ke.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Fo(e){if(e instanceof Wn)return e.clone();var t=new Hn(e.__wrapped__,e.__chain__);return t.__actions__=Ci(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Vo=Gr((function(e,t){return Ks(e)?lr(e,vr(t,1,Ks,!0)):[]})),Uo=Gr((function(e,t){var n=Yo(t);return Ks(n)&&(n=i),Ks(e)?lr(e,vr(t,1,Ks,!0),oo(n,2)):[]})),Ho=Gr((function(e,t){var n=Yo(t);return Ks(n)&&(n=i),Ks(e)?lr(e,vr(t,1,Ks,!0),i,n):[]}));function Wo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ha(n);return i<0&&(i=gn(r+i,0)),Ft(e,oo(t,3),i)}function qo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return n!==i&&(o=ha(n),o=n<0?gn(r+o,0):mn(o,r-1)),Ft(e,oo(t,3),o,!0)}function Bo(e){return null!=e&&e.length?vr(e,1):[]}function $o(e){return e&&e.length?e[0]:i}var Ko=Gr((function(e){var t=Dt(e,fi);return t.length&&t[0]===e[0]?xr(t):[]})),Go=Gr((function(e){var t=Yo(e),n=Dt(e,fi);return t===Yo(n)?t=i:n.pop(),n.length&&n[0]===e[0]?xr(n,oo(t,2)):[]})),zo=Gr((function(e){var t=Yo(e),n=Dt(e,fi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?xr(n,i,t):[]}));function Yo(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Xo=Gr(Jo);function Jo(e,t){return e&&e.length&&t&&t.length?qr(e,t):e}var Qo=Zi((function(e,t){var n=null==e?0:e.length,r=ir(e,t);return Br(e,Dt(t,(function(e){return go(e,n)?+e:e})).sort(wi)),r}));function Zo(e){return null==e?e:En.call(e)}var es=Gr((function(e){return ai(vr(e,1,Ks,!0))})),ts=Gr((function(e){var t=Yo(e);return Ks(t)&&(t=i),ai(vr(e,1,Ks,!0),oo(t,2))})),ns=Gr((function(e){var t=Yo(e);return t="function"==typeof t?t:i,ai(vr(e,1,Ks,!0),i,t)}));function rs(e){if(!e||!e.length)return[];var t=0;return e=It(e,(function(e){if(Ks(e))return t=gn(e.length,t),!0})),Gt(t,(function(t){return Dt(e,qt(t))}))}function is(e,t){if(!e||!e.length)return[];var n=rs(e);return null==t?n:Dt(n,(function(e){return wt(t,i,e)}))}var os=Gr((function(e,t){return Ks(e)?lr(e,t):[]})),ss=Gr((function(e){return di(It(e,Ks))})),as=Gr((function(e){var t=Yo(e);return Ks(t)&&(t=i),di(It(e,Ks),oo(t,2))})),cs=Gr((function(e){var t=Yo(e);return t="function"==typeof t?t:i,di(It(e,Ks),i,t)})),ls=Gr(rs),us=Gr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,is(e,n)}));function ps(e){var t=Fn(e);return t.__chain__=!0,t}function ds(e,t){return t(e)}var hs=Zi((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return ir(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Wn&&go(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ds,args:[o],thisArg:i}),new Hn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(o)})),fs=Ii((function(e,t,n){Ae.call(e,n)?++e[n]:rr(e,n,1)})),vs=ji(Wo),gs=ji(qo);function ms(e,t){return(qs(e)?Tt:ur)(e,oo(t,3))}function ys(e,t){return(qs(e)?Ct:pr)(e,oo(t,3))}var bs=Ii((function(e,t,n){Ae.call(e,n)?e[n].push(t):rr(e,n,[t])})),_s=Gr((function(e,t,n){var i=-1,o="function"==typeof t,s=$s(e)?r(e.length):[];return ur(e,(function(e){s[++i]=o?wt(t,e,n):Ir(e,t,n)})),s})),Es=Ii((function(e,t,n){rr(e,n,t)}));function Ss(e,t){return(qs(e)?Dt:Mr)(e,oo(t,3))}var ws=Ii((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),Ps=Gr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&mo(e,t[0],t[1])?t=[]:n>2&&mo(t[0],t[1],t[2])&&(t=[t[0]]),Hr(e,vr(t,1),[])})),Ts=lt||function(){return pt.Date.now()};function Cs(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,zi(e,l,i,i,i,i,t)}function xs(e,t){var n;if("function"!=typeof t)throw new xe(o);return e=ha(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var Is=Gr((function(e,t,n){var r=1;if(n.length){var i=an(n,io(Is));r|=c}return zi(e,r,t,n,i)})),Os=Gr((function(e,t,n){var r=3;if(n.length){var i=an(n,io(Os));r|=c}return zi(t,r,e,n,i)}));function Rs(e,t,n){var r,s,a,c,l,u,p=0,d=!1,h=!1,f=!0;if("function"!=typeof e)throw new xe(o);function v(t){var n=r,o=s;return r=s=i,p=t,c=e.apply(o,n)}function g(e){var n=e-u;return u===i||n>=t||n<0||h&&e-p>=a}function m(){var e=Ts();if(g(e))return y(e);l=Io(m,function(e){var n=t-(e-u);return h?mn(n,a-(e-p)):n}(e))}function y(e){return l=i,f&&r?v(e):(r=s=i,c)}function b(){var e=Ts(),n=g(e);if(r=arguments,s=this,u=e,n){if(l===i)return function(e){return p=e,l=Io(m,t),d?v(e):c}(u);if(h)return bi(l),l=Io(m,t),v(u)}return l===i&&(l=Io(m,t)),c}return t=va(t)||0,Zs(n)&&(d=!!n.leading,a=(h="maxWait"in n)?gn(va(n.maxWait)||0,t):a,f="trailing"in n?!!n.trailing:f),b.cancel=function(){l!==i&&bi(l),p=0,r=u=s=l=i},b.flush=function(){return l===i?c:y(Ts())},b}var Ds=Gr((function(e,t){return cr(e,1,t)})),ks=Gr((function(e,t,n){return cr(e,va(t)||0,n)}));function As(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new xe(o);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(As.Cache||$n),n}function Ns(e){if("function"!=typeof e)throw new xe(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}As.Cache=$n;var js=mi((function(e,t){var n=(t=1==t.length&&qs(t[0])?Dt(t[0],Yt(oo())):Dt(vr(t,1),Yt(oo()))).length;return Gr((function(r){for(var i=-1,o=mn(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return wt(e,this,r)}))})),Ms=Gr((function(e,t){var n=an(t,io(Ms));return zi(e,c,i,t,n)})),Ls=Gr((function(e,t){var n=an(t,io(Ls));return zi(e,64,i,t,n)})),Fs=Zi((function(e,t){return zi(e,256,i,i,i,t)}));function Vs(e,t){return e===t||e!=e&&t!=t}var Us=qi(Pr),Hs=qi((function(e,t){return e>=t})),Ws=Or(function(){return arguments}())?Or:function(e){return ea(e)&&Ae.call(e,"callee")&&!Ke.call(e,"callee")},qs=r.isArray,Bs=mt?Yt(mt):function(e){return ea(e)&&wr(e)==D};function $s(e){return null!=e&&Qs(e.length)&&!Xs(e)}function Ks(e){return ea(e)&&$s(e)}var Gs=gt||vc,zs=yt?Yt(yt):function(e){return ea(e)&&wr(e)==y};function Ys(e){if(!ea(e))return!1;var t=wr(e);return t==b||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ra(e)}function Xs(e){if(!Zs(e))return!1;var t=wr(e);return t==_||t==E||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Js(e){return"number"==typeof e&&e==ha(e)}function Qs(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function Zs(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ea(e){return null!=e&&"object"==typeof e}var ta=bt?Yt(bt):function(e){return ea(e)&&po(e)==S};function na(e){return"number"==typeof e||ea(e)&&wr(e)==w}function ra(e){if(!ea(e)||wr(e)!=P)return!1;var t=Be(e);if(null===t)return!0;var n=Ae.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&ke.call(n)==Le}var ia=_t?Yt(_t):function(e){return ea(e)&&wr(e)==C},oa=Et?Yt(Et):function(e){return ea(e)&&po(e)==x};function sa(e){return"string"==typeof e||!qs(e)&&ea(e)&&wr(e)==I}function aa(e){return"symbol"==typeof e||ea(e)&&wr(e)==O}var ca=St?Yt(St):function(e){return ea(e)&&Qs(e.length)&&!!it[wr(e)]},la=qi(jr),ua=qi((function(e,t){return e<=t}));function pa(e){if(!e)return[];if($s(e))return sa(e)?pn(e):Ci(e);if(Ye&&e[Ye])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Ye]());var t=po(e);return(t==S?on:t==x?cn:Va)(e)}function da(e){return e?(e=va(e))===u||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ha(e){var t=da(e),n=t%1;return t==t?n?t-n:t:0}function fa(e){return e?or(ha(e),0,h):0}function va(e){if("number"==typeof e)return e;if(aa(e))return d;if(Zs(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Zs(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=zt(e);var n=fe.test(e);return n||ge.test(e)?ct(e.slice(2),n?2:8):he.test(e)?d:+e}function ga(e){return xi(e,Da(e))}function ma(e){return null==e?"":si(e)}var ya=Oi((function(e,t){if(Eo(t)||$s(t))xi(t,Ra(t),e);else for(var n in t)Ae.call(t,n)&&Zn(e,n,t[n])})),ba=Oi((function(e,t){xi(t,Da(t),e)})),_a=Oi((function(e,t,n,r){xi(t,Da(t),e,r)})),Ea=Oi((function(e,t,n,r){xi(t,Ra(t),e,r)})),Sa=Zi(ir),wa=Gr((function(e,t){e=Pe(e);var n=-1,r=t.length,o=r>2?t[2]:i;for(o&&mo(t[0],t[1],o)&&(r=1);++n<r;)for(var s=t[n],a=Da(s),c=-1,l=a.length;++c<l;){var u=a[c],p=e[u];(p===i||Vs(p,Re[u])&&!Ae.call(e,u))&&(e[u]=s[u])}return e})),Pa=Gr((function(e){return e.push(i,Xi),wt(Aa,i,e)}));function Ta(e,t,n){var r=null==e?i:Er(e,t);return r===i?n:r}function Ca(e,t){return null!=e&&ho(e,t,Cr)}var xa=Fi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Me.call(t)),e[t]=n}),Za(nc)),Ia=Fi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Me.call(t)),Ae.call(e,t)?e[t].push(n):e[t]=[n]}),oo),Oa=Gr(Ir);function Ra(e){return $s(e)?zn(e):Nr(e)}function Da(e){return $s(e)?zn(e,!0):function(e){if(!Zs(e))return function(e){var t=[];if(null!=e)for(var n in Pe(e))t.push(n);return t}(e);var t=Eo(e),n=[];for(var r in e)("constructor"!=r||!t&&Ae.call(e,r))&&n.push(r);return n}(e)}var ka=Oi((function(e,t,n){Vr(e,t,n)})),Aa=Oi((function(e,t,n,r){Vr(e,t,n,r)})),Na=Zi((function(e,t){var n={};if(null==e)return n;var r=!1;t=Dt(t,(function(t){return t=gi(t,e),r||(r=t.length>1),t})),xi(e,to(e),n),r&&(n=sr(n,7,Ji));for(var i=t.length;i--;)ci(n,t[i]);return n})),ja=Zi((function(e,t){return null==e?{}:function(e,t){return Wr(e,t,(function(t,n){return Ca(e,n)}))}(e,t)}));function Ma(e,t){if(null==e)return{};var n=Dt(to(e),(function(e){return[e]}));return t=oo(t),Wr(e,n,(function(e,n){return t(e,n[0])}))}var La=Gi(Ra),Fa=Gi(Da);function Va(e){return null==e?[]:Xt(e,Ra(e))}var Ua=Ai((function(e,t,n){return t=t.toLowerCase(),e+(n?Ha(t):t)}));function Ha(e){return Ya(ma(e).toLowerCase())}function Wa(e){return(e=ma(e))&&e.replace(ye,en).replace(Je,"")}var qa=Ai((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Ba=Ai((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),$a=ki("toLowerCase"),Ka=Ai((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),Ga=Ai((function(e,t,n){return e+(n?" ":"")+Ya(t)})),za=Ai((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Ya=ki("toUpperCase");function Xa(e,t,n){return e=ma(e),(t=n?i:t)===i?function(e){return tt.test(e)}(e)?function(e){return e.match(Ze)||[]}(e):function(e){return e.match(ce)||[]}(e):e.match(t)||[]}var Ja=Gr((function(e,t){try{return wt(e,i,t)}catch(e){return Ys(e)?e:new Ee(e)}})),Qa=Zi((function(e,t){return Tt(t,(function(t){t=Mo(t),rr(e,t,Is(e[t],e))})),e}));function Za(e){return function(){return e}}var ec=Mi(),tc=Mi(!0);function nc(e){return e}function rc(e){return Ar("function"==typeof e?e:sr(e,1))}var ic=Gr((function(e,t){return function(n){return Ir(n,e,t)}})),oc=Gr((function(e,t){return function(n){return Ir(e,n,t)}}));function sc(e,t,n){var r=Ra(t),i=_r(t,r);null!=n||Zs(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=_r(t,Ra(t)));var o=!(Zs(n)&&"chain"in n&&!n.chain),s=Xs(e);return Tt(i,(function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=Ci(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,kt([this.value()],arguments))})})),e}function ac(){}var cc=Ui(Dt),lc=Ui(xt),uc=Ui(jt);function pc(e){return yo(e)?qt(Mo(e)):function(e){return function(t){return Er(t,e)}}(e)}var dc=Wi(),hc=Wi(!0);function fc(){return[]}function vc(){return!1}var gc,mc=Vi((function(e,t){return e+t}),0),yc=$i("ceil"),bc=Vi((function(e,t){return e/t}),1),_c=$i("floor"),Ec=Vi((function(e,t){return e*t}),1),Sc=$i("round"),wc=Vi((function(e,t){return e-t}),0);return Fn.after=function(e,t){if("function"!=typeof t)throw new xe(o);return e=ha(e),function(){if(--e<1)return t.apply(this,arguments)}},Fn.ary=Cs,Fn.assign=ya,Fn.assignIn=ba,Fn.assignInWith=_a,Fn.assignWith=Ea,Fn.at=Sa,Fn.before=xs,Fn.bind=Is,Fn.bindAll=Qa,Fn.bindKey=Os,Fn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return qs(e)?e:[e]},Fn.chain=ps,Fn.chunk=function(e,t,n){t=(n?mo(e,t,n):t===i)?1:gn(ha(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var s=0,a=0,c=r(dt(o/t));s<o;)c[a++]=ei(e,s,s+=t);return c},Fn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},Fn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return kt(qs(n)?Ci(n):[n],vr(t,1))},Fn.cond=function(e){var t=null==e?0:e.length,n=oo();return e=t?Dt(e,(function(e){if("function"!=typeof e[1])throw new xe(o);return[n(e[0]),e[1]]})):[],Gr((function(n){for(var r=-1;++r<t;){var i=e[r];if(wt(i[0],this,n))return wt(i[1],this,n)}}))},Fn.conforms=function(e){return function(e){var t=Ra(e);return function(n){return ar(n,e,t)}}(sr(e,1))},Fn.constant=Za,Fn.countBy=fs,Fn.create=function(e,t){var n=Vn(e);return null==t?n:nr(n,t)},Fn.curry=function e(t,n,r){var o=zi(t,8,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Fn.curryRight=function e(t,n,r){var o=zi(t,16,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Fn.debounce=Rs,Fn.defaults=wa,Fn.defaultsDeep=Pa,Fn.defer=Ds,Fn.delay=ks,Fn.difference=Vo,Fn.differenceBy=Uo,Fn.differenceWith=Ho,Fn.drop=function(e,t,n){var r=null==e?0:e.length;return r?ei(e,(t=n||t===i?1:ha(t))<0?0:t,r):[]},Fn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ei(e,0,(t=r-(t=n||t===i?1:ha(t)))<0?0:t):[]},Fn.dropRightWhile=function(e,t){return e&&e.length?ui(e,oo(t,3),!0,!0):[]},Fn.dropWhile=function(e,t){return e&&e.length?ui(e,oo(t,3),!0):[]},Fn.fill=function(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&mo(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=ha(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:ha(r))<0&&(r+=o),r=n>r?0:fa(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Fn.filter=function(e,t){return(qs(e)?It:fr)(e,oo(t,3))},Fn.flatMap=function(e,t){return vr(Ss(e,t),1)},Fn.flatMapDeep=function(e,t){return vr(Ss(e,t),u)},Fn.flatMapDepth=function(e,t,n){return n=n===i?1:ha(n),vr(Ss(e,t),n)},Fn.flatten=Bo,Fn.flattenDeep=function(e){return null!=e&&e.length?vr(e,u):[]},Fn.flattenDepth=function(e,t){return null!=e&&e.length?vr(e,t=t===i?1:ha(t)):[]},Fn.flip=function(e){return zi(e,512)},Fn.flow=ec,Fn.flowRight=tc,Fn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Fn.functions=function(e){return null==e?[]:_r(e,Ra(e))},Fn.functionsIn=function(e){return null==e?[]:_r(e,Da(e))},Fn.groupBy=bs,Fn.initial=function(e){return null!=e&&e.length?ei(e,0,-1):[]},Fn.intersection=Ko,Fn.intersectionBy=Go,Fn.intersectionWith=zo,Fn.invert=xa,Fn.invertBy=Ia,Fn.invokeMap=_s,Fn.iteratee=rc,Fn.keyBy=Es,Fn.keys=Ra,Fn.keysIn=Da,Fn.map=Ss,Fn.mapKeys=function(e,t){var n={};return t=oo(t,3),yr(e,(function(e,r,i){rr(n,t(e,r,i),e)})),n},Fn.mapValues=function(e,t){var n={};return t=oo(t,3),yr(e,(function(e,r,i){rr(n,r,t(e,r,i))})),n},Fn.matches=function(e){return Lr(sr(e,1))},Fn.matchesProperty=function(e,t){return Fr(e,sr(t,1))},Fn.memoize=As,Fn.merge=ka,Fn.mergeWith=Aa,Fn.method=ic,Fn.methodOf=oc,Fn.mixin=sc,Fn.negate=Ns,Fn.nthArg=function(e){return e=ha(e),Gr((function(t){return Ur(t,e)}))},Fn.omit=Na,Fn.omitBy=function(e,t){return Ma(e,Ns(oo(t)))},Fn.once=function(e){return xs(2,e)},Fn.orderBy=function(e,t,n,r){return null==e?[]:(qs(t)||(t=null==t?[]:[t]),qs(n=r?i:n)||(n=null==n?[]:[n]),Hr(e,t,n))},Fn.over=cc,Fn.overArgs=js,Fn.overEvery=lc,Fn.overSome=uc,Fn.partial=Ms,Fn.partialRight=Ls,Fn.partition=ws,Fn.pick=ja,Fn.pickBy=Ma,Fn.property=pc,Fn.propertyOf=function(e){return function(t){return null==e?i:Er(e,t)}},Fn.pull=Xo,Fn.pullAll=Jo,Fn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?qr(e,t,oo(n,2)):e},Fn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?qr(e,t,i,n):e},Fn.pullAt=Qo,Fn.range=dc,Fn.rangeRight=hc,Fn.rearg=Fs,Fn.reject=function(e,t){return(qs(e)?It:fr)(e,Ns(oo(t,3)))},Fn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=oo(t,3);++r<o;){var s=e[r];t(s,r,e)&&(n.push(s),i.push(r))}return Br(e,i),n},Fn.rest=function(e,t){if("function"!=typeof e)throw new xe(o);return Gr(e,t=t===i?t:ha(t))},Fn.reverse=Zo,Fn.sampleSize=function(e,t,n){return t=(n?mo(e,t,n):t===i)?1:ha(t),(qs(e)?Xn:Yr)(e,t)},Fn.set=function(e,t,n){return null==e?e:Xr(e,t,n)},Fn.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:Xr(e,t,n,r)},Fn.shuffle=function(e){return(qs(e)?Jn:Zr)(e)},Fn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&mo(e,t,n)?(t=0,n=r):(t=null==t?0:ha(t),n=n===i?r:ha(n)),ei(e,t,n)):[]},Fn.sortBy=Ps,Fn.sortedUniq=function(e){return e&&e.length?ii(e):[]},Fn.sortedUniqBy=function(e,t){return e&&e.length?ii(e,oo(t,2)):[]},Fn.split=function(e,t,n){return n&&"number"!=typeof n&&mo(e,t,n)&&(t=n=i),(n=n===i?h:n>>>0)?(e=ma(e))&&("string"==typeof t||null!=t&&!ia(t))&&!(t=si(t))&&rn(e)?yi(pn(e),0,n):e.split(t,n):[]},Fn.spread=function(e,t){if("function"!=typeof e)throw new xe(o);return t=null==t?0:gn(ha(t),0),Gr((function(n){var r=n[t],i=yi(n,0,t);return r&&kt(i,r),wt(e,this,i)}))},Fn.tail=function(e){var t=null==e?0:e.length;return t?ei(e,1,t):[]},Fn.take=function(e,t,n){return e&&e.length?ei(e,0,(t=n||t===i?1:ha(t))<0?0:t):[]},Fn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ei(e,(t=r-(t=n||t===i?1:ha(t)))<0?0:t,r):[]},Fn.takeRightWhile=function(e,t){return e&&e.length?ui(e,oo(t,3),!1,!0):[]},Fn.takeWhile=function(e,t){return e&&e.length?ui(e,oo(t,3)):[]},Fn.tap=function(e,t){return t(e),e},Fn.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new xe(o);return Zs(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Rs(e,t,{leading:r,maxWait:t,trailing:i})},Fn.thru=ds,Fn.toArray=pa,Fn.toPairs=La,Fn.toPairsIn=Fa,Fn.toPath=function(e){return qs(e)?Dt(e,Mo):aa(e)?[e]:Ci(jo(ma(e)))},Fn.toPlainObject=ga,Fn.transform=function(e,t,n){var r=qs(e),i=r||Gs(e)||ca(e);if(t=oo(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:Zs(e)&&Xs(o)?Vn(Be(e)):{}}return(i?Tt:yr)(e,(function(e,r,i){return t(n,e,r,i)})),n},Fn.unary=function(e){return Cs(e,1)},Fn.union=es,Fn.unionBy=ts,Fn.unionWith=ns,Fn.uniq=function(e){return e&&e.length?ai(e):[]},Fn.uniqBy=function(e,t){return e&&e.length?ai(e,oo(t,2)):[]},Fn.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?ai(e,i,t):[]},Fn.unset=function(e,t){return null==e||ci(e,t)},Fn.unzip=rs,Fn.unzipWith=is,Fn.update=function(e,t,n){return null==e?e:li(e,t,vi(n))},Fn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:li(e,t,vi(n),r)},Fn.values=Va,Fn.valuesIn=function(e){return null==e?[]:Xt(e,Da(e))},Fn.without=os,Fn.words=Xa,Fn.wrap=function(e,t){return Ms(vi(t),e)},Fn.xor=ss,Fn.xorBy=as,Fn.xorWith=cs,Fn.zip=ls,Fn.zipObject=function(e,t){return hi(e||[],t||[],Zn)},Fn.zipObjectDeep=function(e,t){return hi(e||[],t||[],Xr)},Fn.zipWith=us,Fn.entries=La,Fn.entriesIn=Fa,Fn.extend=ba,Fn.extendWith=_a,sc(Fn,Fn),Fn.add=mc,Fn.attempt=Ja,Fn.camelCase=Ua,Fn.capitalize=Ha,Fn.ceil=yc,Fn.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=va(n))==n?n:0),t!==i&&(t=(t=va(t))==t?t:0),or(va(e),t,n)},Fn.clone=function(e){return sr(e,4)},Fn.cloneDeep=function(e){return sr(e,5)},Fn.cloneDeepWith=function(e,t){return sr(e,5,t="function"==typeof t?t:i)},Fn.cloneWith=function(e,t){return sr(e,4,t="function"==typeof t?t:i)},Fn.conformsTo=function(e,t){return null==t||ar(e,t,Ra(t))},Fn.deburr=Wa,Fn.defaultTo=function(e,t){return null==e||e!=e?t:e},Fn.divide=bc,Fn.endsWith=function(e,t,n){e=ma(e),t=si(t);var r=e.length,o=n=n===i?r:or(ha(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t},Fn.eq=Vs,Fn.escape=function(e){return(e=ma(e))&&z.test(e)?e.replace(K,tn):e},Fn.escapeRegExp=function(e){return(e=ma(e))&&ne.test(e)?e.replace(te,"\\$&"):e},Fn.every=function(e,t,n){var r=qs(e)?xt:dr;return n&&mo(e,t,n)&&(t=i),r(e,oo(t,3))},Fn.find=vs,Fn.findIndex=Wo,Fn.findKey=function(e,t){return Lt(e,oo(t,3),yr)},Fn.findLast=gs,Fn.findLastIndex=qo,Fn.findLastKey=function(e,t){return Lt(e,oo(t,3),br)},Fn.floor=_c,Fn.forEach=ms,Fn.forEachRight=ys,Fn.forIn=function(e,t){return null==e?e:gr(e,oo(t,3),Da)},Fn.forInRight=function(e,t){return null==e?e:mr(e,oo(t,3),Da)},Fn.forOwn=function(e,t){return e&&yr(e,oo(t,3))},Fn.forOwnRight=function(e,t){return e&&br(e,oo(t,3))},Fn.get=Ta,Fn.gt=Us,Fn.gte=Hs,Fn.has=function(e,t){return null!=e&&ho(e,t,Tr)},Fn.hasIn=Ca,Fn.head=$o,Fn.identity=nc,Fn.includes=function(e,t,n,r){e=$s(e)?e:Va(e),n=n&&!r?ha(n):0;var i=e.length;return n<0&&(n=gn(i+n,0)),sa(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Vt(e,t,n)>-1},Fn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ha(n);return i<0&&(i=gn(r+i,0)),Vt(e,t,i)},Fn.inRange=function(e,t,n){return t=da(t),n===i?(n=t,t=0):n=da(n),function(e,t,n){return e>=mn(t,n)&&e<gn(t,n)}(e=va(e),t,n)},Fn.invoke=Oa,Fn.isArguments=Ws,Fn.isArray=qs,Fn.isArrayBuffer=Bs,Fn.isArrayLike=$s,Fn.isArrayLikeObject=Ks,Fn.isBoolean=function(e){return!0===e||!1===e||ea(e)&&wr(e)==m},Fn.isBuffer=Gs,Fn.isDate=zs,Fn.isElement=function(e){return ea(e)&&1===e.nodeType&&!ra(e)},Fn.isEmpty=function(e){if(null==e)return!0;if($s(e)&&(qs(e)||"string"==typeof e||"function"==typeof e.splice||Gs(e)||ca(e)||Ws(e)))return!e.length;var t=po(e);if(t==S||t==x)return!e.size;if(Eo(e))return!Nr(e).length;for(var n in e)if(Ae.call(e,n))return!1;return!0},Fn.isEqual=function(e,t){return Rr(e,t)},Fn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Rr(e,t,i,n):!!r},Fn.isError=Ys,Fn.isFinite=function(e){return"number"==typeof e&&Mt(e)},Fn.isFunction=Xs,Fn.isInteger=Js,Fn.isLength=Qs,Fn.isMap=ta,Fn.isMatch=function(e,t){return e===t||Dr(e,t,ao(t))},Fn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Dr(e,t,ao(t),n)},Fn.isNaN=function(e){return na(e)&&e!=+e},Fn.isNative=function(e){if(_o(e))throw new Ee("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return kr(e)},Fn.isNil=function(e){return null==e},Fn.isNull=function(e){return null===e},Fn.isNumber=na,Fn.isObject=Zs,Fn.isObjectLike=ea,Fn.isPlainObject=ra,Fn.isRegExp=ia,Fn.isSafeInteger=function(e){return Js(e)&&e>=-9007199254740991&&e<=p},Fn.isSet=oa,Fn.isString=sa,Fn.isSymbol=aa,Fn.isTypedArray=ca,Fn.isUndefined=function(e){return e===i},Fn.isWeakMap=function(e){return ea(e)&&po(e)==R},Fn.isWeakSet=function(e){return ea(e)&&"[object WeakSet]"==wr(e)},Fn.join=function(e,t){return null==e?"":Bt.call(e,t)},Fn.kebabCase=qa,Fn.last=Yo,Fn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=ha(n))<0?gn(r+o,0):mn(o,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):Ft(e,Ht,o,!0)},Fn.lowerCase=Ba,Fn.lowerFirst=$a,Fn.lt=la,Fn.lte=ua,Fn.max=function(e){return e&&e.length?hr(e,nc,Pr):i},Fn.maxBy=function(e,t){return e&&e.length?hr(e,oo(t,2),Pr):i},Fn.mean=function(e){return Wt(e,nc)},Fn.meanBy=function(e,t){return Wt(e,oo(t,2))},Fn.min=function(e){return e&&e.length?hr(e,nc,jr):i},Fn.minBy=function(e,t){return e&&e.length?hr(e,oo(t,2),jr):i},Fn.stubArray=fc,Fn.stubFalse=vc,Fn.stubObject=function(){return{}},Fn.stubString=function(){return""},Fn.stubTrue=function(){return!0},Fn.multiply=Ec,Fn.nth=function(e,t){return e&&e.length?Ur(e,ha(t)):i},Fn.noConflict=function(){return pt._===this&&(pt._=Fe),this},Fn.noop=ac,Fn.now=Ts,Fn.pad=function(e,t,n){e=ma(e);var r=(t=ha(t))?un(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Hi(ht(i),n)+e+Hi(dt(i),n)},Fn.padEnd=function(e,t,n){e=ma(e);var r=(t=ha(t))?un(e):0;return t&&r<t?e+Hi(t-r,n):e},Fn.padStart=function(e,t,n){e=ma(e);var r=(t=ha(t))?un(e):0;return t&&r<t?Hi(t-r,n)+e:e},Fn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),bn(ma(e).replace(re,""),t||0)},Fn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&mo(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=da(e),t===i?(t=e,e=0):t=da(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=_n();return mn(e+o*(t-e+at("1e-"+((o+"").length-1))),t)}return $r(e,t)},Fn.reduce=function(e,t,n){var r=qs(e)?At:$t,i=arguments.length<3;return r(e,oo(t,4),n,i,ur)},Fn.reduceRight=function(e,t,n){var r=qs(e)?Nt:$t,i=arguments.length<3;return r(e,oo(t,4),n,i,pr)},Fn.repeat=function(e,t,n){return t=(n?mo(e,t,n):t===i)?1:ha(t),Kr(ma(e),t)},Fn.replace=function(){var e=arguments,t=ma(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Fn.result=function(e,t,n){var r=-1,o=(t=gi(t,e)).length;for(o||(o=1,e=i);++r<o;){var s=null==e?i:e[Mo(t[r])];s===i&&(r=o,s=n),e=Xs(s)?s.call(e):s}return e},Fn.round=Sc,Fn.runInContext=e,Fn.sample=function(e){return(qs(e)?Yn:zr)(e)},Fn.size=function(e){if(null==e)return 0;if($s(e))return sa(e)?un(e):e.length;var t=po(e);return t==S||t==x?e.size:Nr(e).length},Fn.snakeCase=Ka,Fn.some=function(e,t,n){var r=qs(e)?jt:ti;return n&&mo(e,t,n)&&(t=i),r(e,oo(t,3))},Fn.sortedIndex=function(e,t){return ni(e,t)},Fn.sortedIndexBy=function(e,t,n){return ri(e,t,oo(n,2))},Fn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ni(e,t);if(r<n&&Vs(e[r],t))return r}return-1},Fn.sortedLastIndex=function(e,t){return ni(e,t,!0)},Fn.sortedLastIndexBy=function(e,t,n){return ri(e,t,oo(n,2),!0)},Fn.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=ni(e,t,!0)-1;if(Vs(e[n],t))return n}return-1},Fn.startCase=Ga,Fn.startsWith=function(e,t,n){return e=ma(e),n=null==n?0:or(ha(n),0,e.length),t=si(t),e.slice(n,n+t.length)==t},Fn.subtract=wc,Fn.sum=function(e){return e&&e.length?Kt(e,nc):0},Fn.sumBy=function(e,t){return e&&e.length?Kt(e,oo(t,2)):0},Fn.template=function(e,t,n){var r=Fn.templateSettings;n&&mo(e,t,n)&&(t=i),e=ma(e),t=_a({},t,r,Yi);var o,s,a=_a({},t.imports,r.imports,Yi),c=Ra(a),l=Xt(a,c),u=0,p=t.interpolate||be,d="__p += '",h=Te((t.escape||be).source+"|"+p.source+"|"+(p===J?pe:be).source+"|"+(t.evaluate||be).source+"|$","g"),f="//# sourceURL="+(Ae.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++rt+"]")+"\n";e.replace(h,(function(t,n,r,i,a,c){return r||(r=i),d+=e.slice(u,c).replace(_e,nn),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),a&&(s=!0,d+="';\n"+a+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=c+t.length,t})),d+="';\n";var v=Ae.call(t,"variable")&&t.variable;if(v){if(le.test(v))throw new Ee("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(s?d.replace(W,""):d).replace(q,"$1").replace(B,"$1;"),d="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=Ja((function(){return Se(c,f+"return "+d).apply(i,l)}));if(g.source=d,Ys(g))throw g;return g},Fn.times=function(e,t){if((e=ha(e))<1||e>p)return[];var n=h,r=mn(e,h);t=oo(t),e-=h;for(var i=Gt(r,t);++n<e;)t(n);return i},Fn.toFinite=da,Fn.toInteger=ha,Fn.toLength=fa,Fn.toLower=function(e){return ma(e).toLowerCase()},Fn.toNumber=va,Fn.toSafeInteger=function(e){return e?or(ha(e),-9007199254740991,p):0===e?e:0},Fn.toString=ma,Fn.toUpper=function(e){return ma(e).toUpperCase()},Fn.trim=function(e,t,n){if((e=ma(e))&&(n||t===i))return zt(e);if(!e||!(t=si(t)))return e;var r=pn(e),o=pn(t);return yi(r,Qt(r,o),Zt(r,o)+1).join("")},Fn.trimEnd=function(e,t,n){if((e=ma(e))&&(n||t===i))return e.slice(0,dn(e)+1);if(!e||!(t=si(t)))return e;var r=pn(e);return yi(r,0,Zt(r,pn(t))+1).join("")},Fn.trimStart=function(e,t,n){if((e=ma(e))&&(n||t===i))return e.replace(re,"");if(!e||!(t=si(t)))return e;var r=pn(e);return yi(r,Qt(r,pn(t))).join("")},Fn.truncate=function(e,t){var n=30,r="...";if(Zs(t)){var o="separator"in t?t.separator:o;n="length"in t?ha(t.length):n,r="omission"in t?si(t.omission):r}var s=(e=ma(e)).length;if(rn(e)){var a=pn(e);s=a.length}if(n>=s)return e;var c=n-un(r);if(c<1)return r;var l=a?yi(a,0,c).join(""):e.slice(0,c);if(o===i)return l+r;if(a&&(c+=l.length-c),ia(o)){if(e.slice(c).search(o)){var u,p=l;for(o.global||(o=Te(o.source,ma(de.exec(o))+"g")),o.lastIndex=0;u=o.exec(p);)var d=u.index;l=l.slice(0,d===i?c:d)}}else if(e.indexOf(si(o),c)!=c){var h=l.lastIndexOf(o);h>-1&&(l=l.slice(0,h))}return l+r},Fn.unescape=function(e){return(e=ma(e))&&G.test(e)?e.replace($,hn):e},Fn.uniqueId=function(e){var t=++Ne;return ma(e)+t},Fn.upperCase=za,Fn.upperFirst=Ya,Fn.each=ms,Fn.eachRight=ys,Fn.first=$o,sc(Fn,(gc={},yr(Fn,(function(e,t){Ae.call(Fn.prototype,t)||(gc[t]=e)})),gc),{chain:!1}),Fn.VERSION="4.17.21",Tt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Fn[e].placeholder=Fn})),Tt(["drop","take"],(function(e,t){Wn.prototype[e]=function(n){n=n===i?1:gn(ha(n),0);var r=this.__filtered__&&!t?new Wn(this):this.clone();return r.__filtered__?r.__takeCount__=mn(n,r.__takeCount__):r.__views__.push({size:mn(n,h),type:e+(r.__dir__<0?"Right":"")}),r},Wn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Tt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Wn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:oo(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Tt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Wn.prototype[e]=function(){return this[n](1).value()[0]}})),Tt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Wn.prototype[e]=function(){return this.__filtered__?new Wn(this):this[n](1)}})),Wn.prototype.compact=function(){return this.filter(nc)},Wn.prototype.find=function(e){return this.filter(e).head()},Wn.prototype.findLast=function(e){return this.reverse().find(e)},Wn.prototype.invokeMap=Gr((function(e,t){return"function"==typeof e?new Wn(this):this.map((function(n){return Ir(n,e,t)}))})),Wn.prototype.reject=function(e){return this.filter(Ns(oo(e)))},Wn.prototype.slice=function(e,t){e=ha(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Wn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=ha(t))<0?n.dropRight(-t):n.take(t-e)),n)},Wn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Wn.prototype.toArray=function(){return this.take(h)},yr(Wn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=Fn[r?"take"+("last"==t?"Right":""):t],s=r||/^find/.test(t);o&&(Fn.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,c=t instanceof Wn,l=a[0],u=c||qs(t),p=function(e){var t=o.apply(Fn,kt([e],a));return r&&d?t[0]:t};u&&n&&"function"==typeof l&&1!=l.length&&(c=u=!1);var d=this.__chain__,h=!!this.__actions__.length,f=s&&!d,v=c&&!h;if(!s&&u){t=v?t:new Wn(this);var g=e.apply(t,a);return g.__actions__.push({func:ds,args:[p],thisArg:i}),new Hn(g,d)}return f&&v?e.apply(this,a):(g=this.thru(p),f?r?g.value()[0]:g.value():g)})})),Tt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ie[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Fn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(qs(i)?i:[],e)}return this[n]((function(n){return t.apply(qs(n)?n:[],e)}))}})),yr(Wn.prototype,(function(e,t){var n=Fn[t];if(n){var r=n.name+"";Ae.call(On,r)||(On[r]=[]),On[r].push({name:t,func:n})}})),On[Li(i,2).name]=[{name:"wrapper",func:i}],Wn.prototype.clone=function(){var e=new Wn(this.__wrapped__);return e.__actions__=Ci(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ci(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ci(this.__views__),e},Wn.prototype.reverse=function(){if(this.__filtered__){var e=new Wn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Wn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=qs(e),r=t<0,i=n?e.length:0,o=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=mn(t,e+s);break;case"takeRight":e=gn(e,t-s)}}return{start:e,end:t}}(0,i,this.__views__),s=o.start,a=o.end,c=a-s,l=r?a:s-1,u=this.__iteratees__,p=u.length,d=0,h=mn(c,this.__takeCount__);if(!n||!r&&i==c&&h==c)return pi(e,this.__actions__);var f=[];e:for(;c--&&d<h;){for(var v=-1,g=e[l+=t];++v<p;){var m=u[v],y=m.iteratee,b=m.type,_=y(g);if(2==b)g=_;else if(!_){if(1==b)continue e;break e}}f[d++]=g}return f},Fn.prototype.at=hs,Fn.prototype.chain=function(){return ps(this)},Fn.prototype.commit=function(){return new Hn(this.value(),this.__chain__)},Fn.prototype.next=function(){this.__values__===i&&(this.__values__=pa(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Fn.prototype.plant=function(e){for(var t,n=this;n instanceof Un;){var r=Fo(n);r.__index__=0,r.__values__=i,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t},Fn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Wn){var t=e;return this.__actions__.length&&(t=new Wn(this)),(t=t.reverse()).__actions__.push({func:ds,args:[Zo],thisArg:i}),new Hn(t,this.__chain__)}return this.thru(Zo)},Fn.prototype.toJSON=Fn.prototype.valueOf=Fn.prototype.value=function(){return pi(this.__wrapped__,this.__actions__)},Fn.prototype.first=Fn.prototype.head,Ye&&(Fn.prototype[Ye]=function(){return this}),Fn}();pt._=fn,(r=function(){return fn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},10124:(e,t,n)=>{var r=n(9325);e.exports=function(){return r.Date.now()}},99374:(e,t,n)=>{var r=n(54128),i=n(23805),o=n(44394),s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=a.test(e);return n||c.test(e)?l(e.slice(2),n?2:8):s.test(e)?NaN:+e}},69749:(e,t,n)=>{"use strict";const r=n(28799),i=Symbol("max"),o=Symbol("length"),s=Symbol("lengthCalculator"),a=Symbol("allowStale"),c=Symbol("maxAge"),l=Symbol("dispose"),u=Symbol("noDisposeOnSet"),p=Symbol("lruList"),d=Symbol("cache"),h=Symbol("updateAgeOnGet"),f=()=>1,v=(e,t,n)=>{const r=e[d].get(t);if(r){const t=r.value;if(g(e,t)){if(y(e,r),!e[a])return}else n&&(e[h]&&(r.value.now=Date.now()),e[p].unshiftNode(r));return t.value}},g=(e,t)=>{if(!t||!t.maxAge&&!e[c])return!1;const n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[c]&&n>e[c]},m=e=>{if(e[o]>e[i])for(let t=e[p].tail;e[o]>e[i]&&null!==t;){const n=t.prev;y(e,t),t=n}},y=(e,t)=>{if(t){const n=t.value;e[l]&&e[l](n.key,n.value),e[o]-=n.length,e[d].delete(n.key),e[p].removeNode(t)}};class b{constructor(e,t,n,r,i){this.key=e,this.value=t,this.length=n,this.now=r,this.maxAge=i||0}}const _=(e,t,n,r)=>{let i=n.value;g(e,i)&&(y(e,n),e[a]||(i=void 0)),i&&t.call(r,i.value,i.key,e)};e.exports=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[i]=e.max||1/0;const t=e.length||f;if(this[s]="function"!=typeof t?f:t,this[a]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[c]=e.maxAge||0,this[l]=e.dispose,this[u]=e.noDisposeOnSet||!1,this[h]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[i]=e||1/0,m(this)}get max(){return this[i]}set allowStale(e){this[a]=!!e}get allowStale(){return this[a]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[c]=e,m(this)}get maxAge(){return this[c]}set lengthCalculator(e){"function"!=typeof e&&(e=f),e!==this[s]&&(this[s]=e,this[o]=0,this[p].forEach((e=>{e.length=this[s](e.value,e.key),this[o]+=e.length}))),m(this)}get lengthCalculator(){return this[s]}get length(){return this[o]}get itemCount(){return this[p].length}rforEach(e,t){t=t||this;for(let n=this[p].tail;null!==n;){const r=n.prev;_(this,e,n,t),n=r}}forEach(e,t){t=t||this;for(let n=this[p].head;null!==n;){const r=n.next;_(this,e,n,t),n=r}}keys(){return this[p].toArray().map((e=>e.key))}values(){return this[p].toArray().map((e=>e.value))}reset(){this[l]&&this[p]&&this[p].length&&this[p].forEach((e=>this[l](e.key,e.value))),this[d]=new Map,this[p]=new r,this[o]=0}dump(){return this[p].map((e=>!g(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[p]}set(e,t,n){if((n=n||this[c])&&"number"!=typeof n)throw new TypeError("maxAge must be a number");const r=n?Date.now():0,a=this[s](t,e);if(this[d].has(e)){if(a>this[i])return y(this,this[d].get(e)),!1;const s=this[d].get(e).value;return this[l]&&(this[u]||this[l](e,s.value)),s.now=r,s.maxAge=n,s.value=t,this[o]+=a-s.length,s.length=a,this.get(e),m(this),!0}const h=new b(e,t,a,r,n);return h.length>this[i]?(this[l]&&this[l](e,t),!1):(this[o]+=h.length,this[p].unshift(h),this[d].set(e,this[p].head),m(this),!0)}has(e){if(!this[d].has(e))return!1;const t=this[d].get(e).value;return!g(this,t)}get(e){return v(this,e,!0)}peek(e){return v(this,e,!1)}pop(){const e=this[p].tail;return e?(y(this,e),e.value):null}del(e){y(this,this[d].get(e))}load(e){this.reset();const t=Date.now();for(let n=e.length-1;n>=0;n--){const r=e[n],i=r.e||0;if(0===i)this.set(r.k,r.v);else{const e=i-t;e>0&&this.set(r.k,r.v,e)}}}prune(){this[d].forEach(((e,t)=>v(this,t,!1)))}}},7598:(e,t,n)=>{e.exports=n(81813)},86049:(e,t,n)=>{"use strict";var r,i,o,s=n(7598),a=n(16928).extname,c=/^\s*([^;\s]*)(?:;|\s|$)/,l=/^text\//i;function u(e){if(!e||"string"!=typeof e)return!1;var t=c.exec(e),n=t&&s[t[1].toLowerCase()];return n&&n.charset?n.charset:!(!t||!l.test(t[1]))&&"UTF-8"}t.charset=u,t.charsets={lookup:u},t.contentType=function(e){if(!e||"string"!=typeof e)return!1;var n=-1===e.indexOf("/")?t.lookup(e):e;if(!n)return!1;if(-1===n.indexOf("charset")){var r=t.charset(n);r&&(n+="; charset="+r.toLowerCase())}return n},t.extension=function(e){if(!e||"string"!=typeof e)return!1;var n=c.exec(e),r=n&&t.extensions[n[1].toLowerCase()];return!(!r||!r.length)&&r[0]},t.extensions=Object.create(null),t.lookup=function(e){if(!e||"string"!=typeof e)return!1;var n=a("x."+e).toLowerCase().substr(1);return n&&t.types[n]||!1},t.types=Object.create(null),r=t.extensions,i=t.types,o=["nginx","apache",void 0,"iana"],Object.keys(s).forEach((function(e){var t=s[e],n=t.extensions;if(n&&n.length){r[e]=n;for(var a=0;a<n.length;a++){var c=n[a];if(i[c]){var l=o.indexOf(s[i[c]].source),u=o.indexOf(t.source);if("application/octet-stream"!==i[c]&&(l>u||l===u&&"application/"===i[c].substr(0,12)))continue}i[c]=e}}}))},73112:e=>{const t="object"==typeof process&&process&&"win32"===process.platform;e.exports=t?{sep:"\\"}:{sep:"/"}},94027:(e,t,n)=>{const r=e.exports=(e,t,n={})=>(g(t),!(!n.nocomment&&"#"===t.charAt(0))&&new y(t,n).match(e));e.exports=r;const i=n(73112);r.sep=i.sep;const o=Symbol("globstar **");r.GLOBSTAR=o;const s=n(7310),a={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},c="[^/]",l=c+"*?",u=e=>e.split("").reduce(((e,t)=>(e[t]=!0,e)),{}),p=u("().*{}+?[]^$\\!"),d=u("[.("),h=/\/+/;r.filter=(e,t={})=>(n,i,o)=>r(n,e,t);const f=(e,t={})=>{const n={};return Object.keys(e).forEach((t=>n[t]=e[t])),Object.keys(t).forEach((e=>n[e]=t[e])),n};r.defaults=e=>{if(!e||"object"!=typeof e||!Object.keys(e).length)return r;const t=r,n=(n,r,i)=>t(n,r,f(e,i));return(n.Minimatch=class extends t.Minimatch{constructor(t,n){super(t,f(e,n))}}).defaults=n=>t.defaults(f(e,n)).Minimatch,n.filter=(n,r)=>t.filter(n,f(e,r)),n.defaults=n=>t.defaults(f(e,n)),n.makeRe=(n,r)=>t.makeRe(n,f(e,r)),n.braceExpand=(n,r)=>t.braceExpand(n,f(e,r)),n.match=(n,r,i)=>t.match(n,r,f(e,i)),n},r.braceExpand=(e,t)=>v(e,t);const v=(e,t={})=>(g(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:s(e)),g=e=>{if("string"!=typeof e)throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")},m=Symbol("subparse");r.makeRe=(e,t)=>new y(e,t||{}).makeRe(),r.match=(e,t,n={})=>{const r=new y(t,n);return e=e.filter((e=>r.match(e))),r.options.nonull&&!e.length&&e.push(t),e};class y{constructor(e,t){g(e),t||(t={}),this.options=t,this.set=[],this.pattern=e,this.windowsPathsNoEscape=!!t.windowsPathsNoEscape||!1===t.allowWindowsEscape,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.make()}debug(){}make(){const e=this.pattern,t=this.options;if(!t.nocomment&&"#"===e.charAt(0))return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate();let n=this.globSet=this.braceExpand();t.debug&&(this.debug=(...e)=>console.error(...e)),this.debug(this.pattern,n),n=this.globParts=n.map((e=>e.split(h))),this.debug(this.pattern,n),n=n.map(((e,t,n)=>e.map(this.parse,this))),this.debug(this.pattern,n),n=n.filter((e=>-1===e.indexOf(!1))),this.debug(this.pattern,n),this.set=n}parseNegate(){if(this.options.nonegate)return;const e=this.pattern;let t=!1,n=0;for(let r=0;r<e.length&&"!"===e.charAt(r);r++)t=!t,n++;n&&(this.pattern=e.substr(n)),this.negate=t}matchOne(e,t,n){var r=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var i=0,s=0,a=e.length,c=t.length;i<a&&s<c;i++,s++){this.debug("matchOne loop");var l,u=t[s],p=e[i];if(this.debug(t,u,p),!1===u)return!1;if(u===o){this.debug("GLOBSTAR",[t,u,p]);var d=i,h=s+1;if(h===c){for(this.debug("** at the end");i<a;i++)if("."===e[i]||".."===e[i]||!r.dot&&"."===e[i].charAt(0))return!1;return!0}for(;d<a;){var f=e[d];if(this.debug("\nglobstar while",e,d,t,h,f),this.matchOne(e.slice(d),t.slice(h),n))return this.debug("globstar found match!",d,a,f),!0;if("."===f||".."===f||!r.dot&&"."===f.charAt(0)){this.debug("dot detected!",e,d,t,h);break}this.debug("globstar swallow a segment, and continue"),d++}return!(!n||(this.debug("\n>>> no match, partial?",e,d,t,h),d!==a))}if("string"==typeof u?(l=p===u,this.debug("string match",u,p,l)):(l=p.match(u),this.debug("pattern match",u,p,l)),!l)return!1}if(i===a&&s===c)return!0;if(i===a)return n;if(s===c)return i===a-1&&""===e[i];throw new Error("wtf?")}braceExpand(){return v(this.pattern,this.options)}parse(e,t){g(e);const n=this.options;if("**"===e){if(!n.noglobstar)return o;e="*"}if(""===e)return"";let r="",i=!!n.nocase,s=!1;const u=[],h=[];let f,v,y,b,_=!1,E=-1,S=-1;const w="."===e.charAt(0)?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",P=()=>{if(f){switch(f){case"*":r+=l,i=!0;break;case"?":r+=c,i=!0;break;default:r+="\\"+f}this.debug("clearStateChar %j %j",f,r),f=!1}};for(let t,o=0;o<e.length&&(t=e.charAt(o));o++)if(this.debug("%s\t%s %s %j",e,o,r,t),s){if("/"===t)return!1;p[t]&&(r+="\\"),r+=t,s=!1}else switch(t){case"/":return!1;case"\\":P(),s=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,o,r,t),_){this.debug("  in class"),"!"===t&&o===S+1&&(t="^"),r+=t;continue}this.debug("call clearStateChar %j",f),P(),f=t,n.noext&&P();continue;case"(":if(_){r+="(";continue}if(!f){r+="\\(";continue}u.push({type:f,start:o-1,reStart:r.length,open:a[f].open,close:a[f].close}),r+="!"===f?"(?:(?!(?:":"(?:",this.debug("plType %j %j",f,r),f=!1;continue;case")":if(_||!u.length){r+="\\)";continue}P(),i=!0,y=u.pop(),r+=y.close,"!"===y.type&&h.push(y),y.reEnd=r.length;continue;case"|":if(_||!u.length){r+="\\|";continue}P(),r+="|";continue;case"[":if(P(),_){r+="\\"+t;continue}_=!0,S=o,E=r.length,r+=t;continue;case"]":if(o===S+1||!_){r+="\\"+t;continue}v=e.substring(S+1,o);try{RegExp("["+v+"]")}catch(e){b=this.parse(v,m),r=r.substr(0,E)+"\\["+b[0]+"\\]",i=i||b[1],_=!1;continue}i=!0,_=!1,r+=t;continue;default:P(),!p[t]||"^"===t&&_||(r+="\\"),r+=t}for(_&&(v=e.substr(S+1),b=this.parse(v,m),r=r.substr(0,E)+"\\["+b[0],i=i||b[1]),y=u.pop();y;y=u.pop()){let e;e=r.slice(y.reStart+y.open.length),this.debug("setting tail",r,y),e=e.replace(/((?:\\{2}){0,64})(\\?)\|/g,((e,t,n)=>(n||(n="\\"),t+t+n+"|"))),this.debug("tail=%j\n   %s",e,e,y,r);const t="*"===y.type?l:"?"===y.type?c:"\\"+y.type;i=!0,r=r.slice(0,y.reStart)+t+"\\("+e}P(),s&&(r+="\\\\");const T=d[r.charAt(0)];for(let e=h.length-1;e>-1;e--){const n=h[e],i=r.slice(0,n.reStart),o=r.slice(n.reStart,n.reEnd-8);let s=r.slice(n.reEnd);const a=r.slice(n.reEnd-8,n.reEnd)+s,c=i.split("(").length-1;let l=s;for(let e=0;e<c;e++)l=l.replace(/\)[+*?]?/,"");s=l,r=i+o+s+(""===s&&t!==m?"$":"")+a}if(""!==r&&i&&(r="(?=.)"+r),T&&(r=w+r),t===m)return[r,i];if(!i)return e.replace(/\\(.)/g,"$1");const C=n.nocase?"i":"";try{return Object.assign(new RegExp("^"+r+"$",C),{_glob:e,_src:r})}catch(e){return new RegExp("$.")}}makeRe(){if(this.regexp||!1===this.regexp)return this.regexp;const e=this.set;if(!e.length)return this.regexp=!1,this.regexp;const t=this.options,n=t.noglobstar?l:t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",r=t.nocase?"i":"";let i=e.map((e=>(e=e.map((e=>"string"==typeof e?e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):e===o?o:e._src)).reduce(((e,t)=>(e[e.length-1]===o&&t===o||e.push(t),e)),[]),e.forEach(((t,r)=>{t===o&&e[r-1]!==o&&(0===r?e.length>1?e[r+1]="(?:\\/|"+n+"\\/)?"+e[r+1]:e[r]=n:r===e.length-1?e[r-1]+="(?:\\/|"+n+")?":(e[r-1]+="(?:\\/|\\/"+n+"\\/)"+e[r+1],e[r+1]=o))})),e.filter((e=>e!==o)).join("/")))).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,r)}catch(e){this.regexp=!1}return this.regexp}match(e,t=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;const n=this.options;"/"!==i.sep&&(e=e.split(i.sep).join("/")),e=e.split(h),this.debug(this.pattern,"split",e);const r=this.set;let o;this.debug(this.pattern,"set",r);for(let t=e.length-1;t>=0&&(o=e[t],!o);t--);for(let i=0;i<r.length;i++){const s=r[i];let a=e;if(n.matchBase&&1===s.length&&(a=[o]),this.matchOne(a,s,t))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate}static defaults(e){return r.defaults(e).Minimatch}}r.Minimatch=y},7310:(e,t,n)=>{var r=n(8505);e.exports=function(e){return e?("{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2)),g(function(e){return e.split("\\\\").join(i).split("\\{").join(o).split("\\}").join(s).split("\\,").join(a).split("\\.").join(c)}(e),!0).map(u)):[]};var i="\0SLASH"+Math.random()+"\0",o="\0OPEN"+Math.random()+"\0",s="\0CLOSE"+Math.random()+"\0",a="\0COMMA"+Math.random()+"\0",c="\0PERIOD"+Math.random()+"\0";function l(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function u(e){return e.split(i).join("\\").split(o).join("{").split(s).join("}").split(a).join(",").split(c).join(".")}function p(e){if(!e)return[""];var t=[],n=r("{","}",e);if(!n)return e.split(",");var i=n.pre,o=n.body,s=n.post,a=i.split(",");a[a.length-1]+="{"+o+"}";var c=p(s);return s.length&&(a[a.length-1]+=c.shift(),a.push.apply(a,c)),t.push.apply(t,a),t}function d(e){return"{"+e+"}"}function h(e){return/^-?0\d/.test(e)}function f(e,t){return e<=t}function v(e,t){return e>=t}function g(e,t){var n=[],i=r("{","}",e);if(!i)return[e];var o=i.pre,a=i.post.length?g(i.post,!1):[""];if(/\$$/.test(i.pre))for(var c=0;c<a.length;c++){var u=o+"{"+i.body+"}"+a[c];n.push(u)}else{var m,y,b=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(i.body),_=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(i.body),E=b||_,S=i.body.indexOf(",")>=0;if(!E&&!S)return i.post.match(/,.*\}/)?g(e=i.pre+"{"+i.body+s+i.post):[e];if(E)m=i.body.split(/\.\./);else if(1===(m=p(i.body)).length&&1===(m=g(m[0],!1).map(d)).length)return a.map((function(e){return i.pre+m[0]+e}));if(E){var w=l(m[0]),P=l(m[1]),T=Math.max(m[0].length,m[1].length),C=3==m.length?Math.abs(l(m[2])):1,x=f;P<w&&(C*=-1,x=v);var I=m.some(h);y=[];for(var O=w;x(O,P);O+=C){var R;if(_)"\\"===(R=String.fromCharCode(O))&&(R="");else if(R=String(O),I){var D=T-R.length;if(D>0){var k=new Array(D+1).join("0");R=O<0?"-"+k+R.slice(1):k+R}}y.push(R)}}else{y=[];for(var A=0;A<m.length;A++)y.push.apply(y,g(m[A],!1))}for(A=0;A<y.length;A++)for(c=0;c<a.length;c++)u=o+y[A]+a[c],(!t||E||u)&&n.push(u)}return n}},6585:e=>{var t=1e3,n=60*t,r=60*n,i=24*r,o=7*i;function s(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}e.exports=function(e,a){a=a||{};var c,l,u=typeof e;if("string"===u&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(s){var a=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return a*o;case"days":case"day":case"d":return a*i;case"hours":case"hour":case"hrs":case"hr":case"h":return a*r;case"minutes":case"minute":case"mins":case"min":case"m":return a*n;case"seconds":case"second":case"secs":case"sec":case"s":return a*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(e);if("number"===u&&isFinite(e))return a.long?(c=e,(l=Math.abs(c))>=i?s(c,l,i,"day"):l>=r?s(c,l,r,"hour"):l>=n?s(c,l,n,"minute"):l>=t?s(c,l,t,"second"):c+" ms"):function(e){var o=Math.abs(e);return o>=i?Math.round(e/i)+"d":o>=r?Math.round(e/r)+"h":o>=n?Math.round(e/n)+"m":o>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},83519:(e,t,n)=>{var r=n(86587);function i(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function o(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||"Function wrapped with `once`";return t.onceError=n+" shouldn't be called more than once",t.called=!1,t}e.exports=r(i),e.exports.strict=r(o),i.proto=i((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return i(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})}))},43726:e=>{"use strict";var t="win32"===process.platform,n=t?/[^:]\\$/:/.\/$/;e.exports=function(){var e;return e=t?process.env.TEMP||process.env.TMP||(process.env.SystemRoot||process.env.windir)+"\\temp":process.env.TMPDIR||process.env.TMP||process.env.TEMP||"/tmp",n.test(e)&&(e=e.slice(0,-1)),e}},52641:e=>{"use strict";function t(e){return"/"===e.charAt(0)}function n(e){var t=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/.exec(e),n=t[1]||"",r=Boolean(n&&":"!==n.charAt(1));return Boolean(t[2]||r)}e.exports="win32"===process.platform?n:t,e.exports.posix=t,e.exports.win32=n},71540:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(28695);t.Observable=r.Observable},29707:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(71540))},28695:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ArgumentOutOfRangeError:()=>j.k,AsyncSubject:()=>m,BehaviorSubject:()=>v,ConnectableObservable:()=>u,EMPTY:()=>ge.w,EmptyError:()=>M.G,GroupedObservable:()=>d.k,NEVER:()=>Ae,Notification:()=>R.E,NotificationKind:()=>R.I,ObjectUnsubscribedError:()=>f.P,Observable:()=>r.c,ReplaySubject:()=>g.m,Scheduler:()=>O._,Subject:()=>o.B7,Subscriber:()=>a.v,Subscription:()=>s.y,TimeoutError:()=>F.M,UnsubscriptionError:()=>L.Z,VirtualAction:()=>I,VirtualTimeScheduler:()=>x,animationFrame:()=>C,animationFrameScheduler:()=>T,asap:()=>y.I,asapScheduler:()=>y.$,async:()=>S,asyncScheduler:()=>E,bindCallback:()=>q,bindNodeCallback:()=>K,combineLatest:()=>X.zV,concat:()=>ve,config:()=>st.$,defer:()=>me,empty:()=>ge.I,forkJoin:()=>be,from:()=>ae,fromEvent:()=>Se,fromEventPattern:()=>Pe,generate:()=>Te,identity:()=>A.D,iif:()=>xe,interval:()=>Oe,isObservable:()=>N,merge:()=>ke,never:()=>Ne,noop:()=>k.l,observable:()=>h.s,of:()=>J.of,onErrorResumeNext:()=>je,pairs:()=>Me,partition:()=>We,pipe:()=>D.F,queue:()=>w.g,queueScheduler:()=>w.T,race:()=>$e,range:()=>ze.y,scheduled:()=>se,throwError:()=>Ye.$,timer:()=>Xe,using:()=>Qe,zip:()=>et});var r=n(5599),i=n(15215),o=n(16988),s=n(99147),a=n(2968),c=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var r=new l(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i},e}(),l=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return i.C6(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},t}(a.v),u=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return i.C6(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new s.y).add(this.source.subscribe(new p(this.getSubject(),this))),e.closed&&(this._connection=null,e=s.y.EMPTY)),e},t.prototype.refCount=function(){return(e=this).lift(new c(e));var e},t}(r.c),p=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return i.C6(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(o.PJ),d=n(53108),h=n(63656),f=n(10731),v=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return i.C6(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new f.P;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(o.B7),g=n(49305),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.value=null,t.hasNext=!1,t.hasCompleted=!1,t}return i.C6(t,e),t.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),s.y.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),s.y.EMPTY):e.prototype._subscribe.call(this,t)},t.prototype.next=function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)},t.prototype.error=function(t){this.hasCompleted||e.prototype.error.call(this,t)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&e.prototype.next.call(this,this.value),e.prototype.complete.call(this)},t}(o.B7),y=n(91335),b=n(46027),_=n(4881),E=new _.q(b.R),S=E,w=n(20464),P=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return i.C6(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame((function(){return t.flush(null)}))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(cancelAnimationFrame(n),t.scheduled=void 0)},t}(b.R),T=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.C6(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}},t}(_.q))(P),C=T,x=function(e){function t(t,n){void 0===t&&(t=I),void 0===n&&(n=Number.POSITIVE_INFINITY);var r=e.call(this,t,(function(){return r.frame}))||this;return r.maxFrames=n,r.frame=0,r.index=-1,r}return i.C6(t,e),t.prototype.flush=function(){for(var e,t,n=this.actions,r=this.maxFrames;(t=n[0])&&t.delay<=r&&(n.shift(),this.frame=t.delay,!(e=t.execute(t.state,t.delay))););if(e){for(;t=n.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10,t}(_.q),I=function(e){function t(t,n,r){void 0===r&&(r=t.index+=1);var i=e.call(this,t,n)||this;return i.scheduler=t,i.work=n,i.index=r,i.active=!0,i.index=t.index=r,i}return i.C6(t,e),t.prototype.schedule=function(n,r){if(void 0===r&&(r=0),!this.id)return e.prototype.schedule.call(this,n,r);this.active=!1;var i=new t(this.scheduler,this.work);return this.add(i),i.schedule(n,r)},t.prototype.requestAsyncId=function(e,n,r){void 0===r&&(r=0),this.delay=e.frame+r;var i=e.actions;return i.push(this),i.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(e,t,n){void 0===n&&(n=0)},t.prototype._execute=function(t,n){if(!0===this.active)return e.prototype._execute.call(this,t,n)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(b.R),O=n(80957),R=n(72281),D=n(16833),k=n(11193),A=n(11015);function N(e){return!!e&&(e instanceof r.c||"function"==typeof e.lift&&"function"==typeof e.subscribe)}var j=n(20692),M=n(93700),L=n(89857),F=n(50034),V=n(48100),U=n(11075),H=n(20252),W=n(4576);function q(e,t,n){if(t){if(!(0,W.m)(t))return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return q(e,n).apply(void 0,r).pipe((0,V.T)((function(e){return(0,H.c)(e)?t.apply(void 0,e):t(e)})))};n=t}return function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var o,s=this,a={context:s,subject:o,callbackFunc:e,scheduler:n};return new r.c((function(r){if(n){var i={args:t,subscriber:r,params:a};return n.schedule(B,0,i)}if(!o){o=new m;try{e.apply(s,t.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o.next(e.length<=1?e[0]:e),o.complete()}]))}catch(e){(0,U.H)(o)?o.error(e):console.warn(e)}}return o.subscribe(r)}))}}function B(e){var t=this,n=e.args,r=e.subscriber,i=e.params,o=i.callbackFunc,s=i.context,a=i.scheduler,c=i.subject;if(!c){c=i.subject=new m;try{o.apply(s,n.concat([function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.length<=1?e[0]:e;t.add(a.schedule($,0,{value:r,subject:c}))}]))}catch(e){c.error(e)}}this.add(c.subscribe(r))}function $(e){var t=e.value,n=e.subject;n.next(t),n.complete()}function K(e,t,n){if(t){if(!(0,W.m)(t))return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return K(e,n).apply(void 0,r).pipe((0,V.T)((function(e){return(0,H.c)(e)?t.apply(void 0,e):t(e)})))};n=t}return function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var o={subject:void 0,args:t,callbackFunc:e,scheduler:n,context:this};return new r.c((function(r){var i=o.context,s=o.subject;if(n)return n.schedule(G,0,{params:o,subscriber:r,context:i});if(!s){s=o.subject=new m;try{e.apply(i,t.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.shift();n?s.error(n):(s.next(e.length<=1?e[0]:e),s.complete())}]))}catch(e){(0,U.H)(s)?s.error(e):console.warn(e)}}return s.subscribe(r)}))}}function G(e){var t=this,n=e.params,r=e.subscriber,i=e.context,o=n.callbackFunc,s=n.args,a=n.scheduler,c=n.subject;if(!c){c=n.subject=new m;try{o.apply(i,s.concat([function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.shift();if(r)t.add(a.schedule(Y,0,{err:r,subject:c}));else{var i=e.length<=1?e[0]:e;t.add(a.schedule(z,0,{value:i,subject:c}))}}]))}catch(e){this.add(a.schedule(Y,0,{err:e,subject:c}))}}this.add(c.subscribe(r))}function z(e){var t=e.value,n=e.subject;n.next(t),n.complete()}function Y(e){var t=e.err;e.subject.error(t)}var X=n(48890),J=n(8927),Q=n(28120),Z=n(15142),ee=n(5890),te=n(84537),ne=n(24529),re=n(31164),ie=n(79923),oe=n(5143);function se(e,t){if(null!=e){if((0,ne.l)(e))return function(e,t){return new r.c((function(n){var r=new s.y;return r.add(t.schedule((function(){var i=e[h.s]();r.add(i.subscribe({next:function(e){r.add(t.schedule((function(){return n.next(e)})))},error:function(e){r.add(t.schedule((function(){return n.error(e)})))},complete:function(){r.add(t.schedule((function(){return n.complete()})))}}))}))),r}))}(e,t);if((0,re.y)(e))return(0,Z.P)(e,t);if((0,ie.X)(e))return(0,ee.V)(e,t);if((0,oe.x)(e)||"string"==typeof e)return(0,te.S)(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}function ae(e,t){return t?se(e,t):e instanceof r.c?e:new r.c((0,Q.i)(e))}var ce=function(e){function t(t){var n=e.call(this)||this;return n.parent=t,n}return i.C6(t,e),t.prototype._next=function(e){this.parent.notifyNext(e)},t.prototype._error=function(e){this.parent.notifyError(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},t}(a.v),le=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.C6(t,e),t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(){this.destination.complete()},t}(a.v);function ue(e,t){if(!t.closed){if(e instanceof r.c)return e.subscribe(t);var n;try{n=(0,Q.i)(e)(t)}catch(e){t.error(e)}return n}}function pe(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof t?function(r){return r.pipe(pe((function(n,r){return ae(e(n,r)).pipe((0,V.T)((function(e,i){return t(n,e,r,i)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new de(e,n))})}var de=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new he(e,this.project,this.concurrent))},e}(),he=function(e){function t(t,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=e.call(this,t)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return i.C6(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t)},t.prototype._innerSub=function(e){var t=new ce(this),n=this.destination;n.add(t);var r=ue(e,t);r!==t&&n.add(r)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(le);function fe(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),pe(A.D,e)}function ve(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return fe(1)(J.of.apply(void 0,e))}var ge=n(64833);function me(e){return new r.c((function(t){var n;try{n=e()}catch(e){return void t.error(e)}return(n?ae(n):(0,ge.I)()).subscribe(t)}))}var ye=n(50806);function be(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var n=e[0];if((0,H.c)(n))return _e(n,null);if((0,ye.G)(n)&&Object.getPrototypeOf(n)===Object.prototype){var r=Object.keys(n);return _e(r.map((function(e){return n[e]})),r)}}if("function"==typeof e[e.length-1]){var i=e.pop();return _e(e=1===e.length&&(0,H.c)(e[0])?e[0]:e,null).pipe((0,V.T)((function(e){return i.apply(void 0,e)})))}return _e(e,null)}function _e(e,t){return new r.c((function(n){var r=e.length;if(0!==r)for(var i=new Array(r),o=0,s=0,a=function(a){var c=ae(e[a]),l=!1;n.add(c.subscribe({next:function(e){l||(l=!0,s++),i[a]=e},error:function(e){return n.error(e)},complete:function(){++o!==r&&l||(s===r&&n.next(t?t.reduce((function(e,t,n){return e[t]=i[n],e}),{}):i),n.complete())}}))},c=0;c<r;c++)a(c);else n.complete()}))}var Ee=n(69029);function Se(e,t,n,i){return(0,Ee.T)(n)&&(i=n,n=void 0),i?Se(e,t,n).pipe((0,V.T)((function(e){return(0,H.c)(e)?i.apply(void 0,e):i(e)}))):new r.c((function(r){we(e,t,(function(e){arguments.length>1?r.next(Array.prototype.slice.call(arguments)):r.next(e)}),r,n)}))}function we(e,t,n,r,i){var o;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){var s=e;e.addEventListener(t,n,i),o=function(){return s.removeEventListener(t,n,i)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){var a=e;e.on(t,n),o=function(){return a.off(t,n)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e)){var c=e;e.addListener(t,n),o=function(){return c.removeListener(t,n)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var l=0,u=e.length;l<u;l++)we(e[l],t,n,r,i)}r.add(o)}function Pe(e,t,n){return n?Pe(e,t).pipe((0,V.T)((function(e){return(0,H.c)(e)?n.apply(void 0,e):n(e)}))):new r.c((function(n){var r,i=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.next(1===e.length?e[0]:e)};try{r=e(i)}catch(e){return void n.error(e)}if((0,Ee.T)(t))return function(){return t(i,r)}}))}function Te(e,t,n,i,o){var s,a;if(1==arguments.length){var c=e;a=c.initialState,t=c.condition,n=c.iterate,s=c.resultSelector||A.D,o=c.scheduler}else void 0===i||(0,W.m)(i)?(a=e,s=A.D,o=i):(a=e,s=i);return new r.c((function(e){var r=a;if(o)return o.schedule(Ce,0,{subscriber:e,iterate:n,condition:t,resultSelector:s,state:r});for(;;){if(t){var i=void 0;try{i=t(r)}catch(t){return void e.error(t)}if(!i){e.complete();break}}var c=void 0;try{c=s(r)}catch(t){return void e.error(t)}if(e.next(c),e.closed)break;try{r=n(r)}catch(t){return void e.error(t)}}}))}function Ce(e){var t=e.subscriber,n=e.condition;if(!t.closed){if(e.needIterate)try{e.state=e.iterate(e.state)}catch(e){return void t.error(e)}else e.needIterate=!0;if(n){var r=void 0;try{r=n(e.state)}catch(e){return void t.error(e)}if(!r)return void t.complete();if(t.closed)return}var i;try{i=e.resultSelector(e.state)}catch(e){return void t.error(e)}if(!t.closed&&(t.next(i),!t.closed))return this.schedule(e)}}function xe(e,t,n){return void 0===t&&(t=ge.w),void 0===n&&(n=ge.w),me((function(){return e()?t:n}))}var Ie=n(46290);function Oe(e,t){return void 0===e&&(e=0),void 0===t&&(t=S),(!(0,Ie.k)(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=S),new r.c((function(n){return n.add(t.schedule(Re,e,{subscriber:n,counter:0,period:e})),n}))}function Re(e){var t=e.subscriber,n=e.counter,r=e.period;t.next(n),this.schedule({subscriber:t,counter:n+1,period:r},r)}var De=n(74601);function ke(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Number.POSITIVE_INFINITY,i=null,o=e[e.length-1];return(0,W.m)(o)?(i=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(n=e.pop())):"number"==typeof o&&(n=e.pop()),null===i&&1===e.length&&e[0]instanceof r.c?e[0]:fe(n)((0,De.c)(e,i))}var Ae=new r.c(k.l);function Ne(){return Ae}function je(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)return ge.w;var n=e[0],i=e.slice(1);return 1===e.length&&(0,H.c)(n)?je.apply(void 0,n):new r.c((function(e){var t=function(){return e.add(je.apply(void 0,i).subscribe(e))};return ae(n).subscribe({next:function(t){e.next(t)},error:t,complete:t})}))}function Me(e,t){return t?new r.c((function(n){var r=Object.keys(e),i=new s.y;return i.add(t.schedule(Le,0,{keys:r,index:0,subscriber:n,subscription:i,obj:e})),i})):new r.c((function(t){for(var n=Object.keys(e),r=0;r<n.length&&!t.closed;r++){var i=n[r];e.hasOwnProperty(i)&&t.next([i,e[i]])}t.complete()}))}function Le(e){var t=e.keys,n=e.index,r=e.subscriber,i=e.subscription,o=e.obj;if(!r.closed)if(n<t.length){var s=t[n];r.next([s,o[s]]),i.add(this.schedule({keys:t,index:n+1,subscriber:r,subscription:i,obj:o}))}else r.complete()}var Fe=n(3428);function Ve(e,t){return function(n){return n.lift(new Ue(e,t))}}var Ue=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new He(e,this.predicate,this.thisArg))},e}(),He=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return i.C6(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(a.v);function We(e,t,n){return[Ve(t,n)(new r.c((0,Q.i)(e))),Ve((0,Fe.A)(t,n))(new r.c((0,Q.i)(e)))]}var qe=n(17069),Be=n(55693);function $e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){if(!(0,H.c)(e[0]))return e[0];e=e[0]}return(0,De.c)(e,void 0).lift(new Ke)}var Ke=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new Ge(e))},e}(),Ge=function(e){function t(t){var n=e.call(this,t)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return i.C6(t,e),t.prototype._next=function(e){this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var n=0;n<t&&!this.hasFirst;n++){var r=e[n],i=(0,Be.F)(this,r,void 0,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},t.prototype.notifyNext=function(e,t,n){if(!this.hasFirst){this.hasFirst=!0;for(var r=0;r<this.subscriptions.length;r++)if(r!==n){var i=this.subscriptions[r];i.unsubscribe(),this.remove(i)}this.subscriptions=null}this.destination.next(t)},t}(qe.E),ze=n(72157),Ye=n(47404);function Xe(e,t,n){void 0===e&&(e=0);var i=-1;return(0,Ie.k)(t)?i=Number(t)<1?1:Number(t):(0,W.m)(t)&&(n=t),(0,W.m)(n)||(n=S),new r.c((function(t){var r=(0,Ie.k)(e)?e:+e-n.now();return n.schedule(Je,r,{index:0,period:i,subscriber:t})}))}function Je(e){var t=e.index,n=e.period,r=e.subscriber;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}function Qe(e,t){return new r.c((function(n){var r,i;try{r=e()}catch(e){return void n.error(e)}try{i=t(r)}catch(e){return void n.error(e)}var o=(i?ae(i):ge.w).subscribe(n);return function(){o.unsubscribe(),r&&r.unsubscribe()}}))}var Ze=n(43991);function et(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return"function"==typeof n&&e.pop(),(0,De.c)(e,void 0).lift(new tt(n))}var tt=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new nt(e,this.resultSelector))},e}(),nt=function(e){function t(t,n,r){void 0===r&&(r=Object.create(null));var i=e.call(this,t)||this;return i.resultSelector=n,i.iterators=[],i.active=0,i.resultSelector="function"==typeof n?n:void 0,i}return i.C6(t,e),t.prototype._next=function(e){var t=this.iterators;(0,H.c)(e)?t.push(new it(e)):"function"==typeof e[Ze.lJ]?t.push(new rt(e[Ze.lJ]())):t.push(new ot(this.destination,this,e))},t.prototype._complete=function(){var e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(var n=0;n<t;n++){var r=e[n];r.stillUnsubscribed?this.destination.add(r.subscribe()):this.active--}}else this.destination.complete()},t.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,t=e.length,n=this.destination,r=0;r<t;r++)if("function"==typeof(s=e[r]).hasValue&&!s.hasValue())return;var i=!1,o=[];for(r=0;r<t;r++){var s,a=(s=e[r]).next();if(s.hasCompleted()&&(i=!0),a.done)return void n.complete();o.push(a.value)}this.resultSelector?this._tryresultSelector(o):n.next(o),i&&n.complete()},t.prototype._tryresultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(a.v),rt=function(){function e(e){this.iterator=e,this.nextResult=e.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},e.prototype.hasCompleted=function(){var e=this.nextResult;return Boolean(e&&e.done)},e}(),it=function(){function e(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return e.prototype[Ze.lJ]=function(){return this},e.prototype.next=function(e){var t=this.index++,n=this.array;return t<this.length?{value:n[t],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),ot=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.parent=n,i.observable=r,i.stillUnsubscribed=!0,i.buffer=[],i.isComplete=!1,i}return i.C6(t,e),t.prototype[Ze.lJ]=function(){return this},t.prototype.next=function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return this.buffer.length>0},t.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},t.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e){this.buffer.push(e),this.parent.checkIterators()},t.prototype.subscribe=function(){return ue(this.observable,new ce(this))},t}(le),st=n(81732)},24364:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AjaxError:()=>k,AjaxObservable:()=>O,AjaxResponse:()=>D,AjaxSubscriber:()=>R,AjaxTimeoutError:()=>N,AnonymousSubject:()=>a.kQ,ArgumentOutOfRangeError:()=>Z.k,CombineLatestOperator:()=>H.ZS,EmptyError:()=>ee.G,GroupedObservable:()=>z.k,Immediate:()=>te.G,InnerSubscriber:()=>i.R,ObjectUnsubscribedError:()=>ne.P,OuterSubscriber:()=>o.E,Scheduler:()=>s._,SubjectSubscription:()=>c.Y,SubscribeOnObservable:()=>$,Subscriber:()=>l.v,TimeInterval:()=>G,TimeoutError:()=>re.M,Timestamp:()=>K,UnsubscriptionError:()=>ie.Z,WebSocketSubject:()=>V,ajax:()=>j,ajaxDelete:()=>P,ajaxGet:()=>S,ajaxGetJSON:()=>I,ajaxPatch:()=>C,ajaxPost:()=>w,ajaxPut:()=>T,applyMixins:()=>oe,config:()=>r.$,defaultThrottleConfig:()=>Y,dispatch:()=>W.J,errorObject:()=>se,fromIterable:()=>g,fromPromise:()=>h,hostReportError:()=>ae.T,identity:()=>ce.D,isArray:()=>le.c,isArrayLike:()=>ue.X,isDate:()=>pe,isFunction:()=>he.T,isIterable:()=>fe.x,isNumeric:()=>B.k,isObject:()=>ve.G,isObservable:()=>ge.l,isPromise:()=>me.y,isScheduler:()=>ye.m,iterator:()=>J.lJ,noop:()=>be.l,not:()=>_e.A,observable:()=>Q.s,pipe:()=>Ee.F,root:()=>E,rxSubscriber:()=>X.D,subscribeTo:()=>Se.i,subscribeToArray:()=>we.v,subscribeToIterable:()=>f.S,subscribeToObservable:()=>Pe.X,subscribeToPromise:()=>p.F,subscribeToResult:()=>Te.F,toSubscriber:()=>Ce.u,tryCatch:()=>Ie,webSocket:()=>U});var r=n(81732),i=n(50138),o=n(17069),s=n(80957),a=n(16988),c=n(50293),l=n(2968),u=n(5599),p=n(11231),d=n(15142);function h(e,t){return t?(0,d.P)(e,t):new u.c((0,p.F)(e))}var f=n(98754),v=n(84537);function g(e,t){if(!e)throw new Error("Iterable cannot be null");return t?(0,v.S)(e,t):new u.c((0,f.S)(e))}var m=n(15215),y="undefined"!=typeof window&&window,b="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,_="undefined"!=typeof global&&global,E=y||_||b;function S(e,t){return void 0===t&&(t=null),new O({method:"GET",url:e,headers:t})}function w(e,t,n){return new O({method:"POST",url:e,body:t,headers:n})}function P(e,t){return new O({method:"DELETE",url:e,headers:t})}function T(e,t,n){return new O({method:"PUT",url:e,body:t,headers:n})}function C(e,t,n){return new O({method:"PATCH",url:e,body:t,headers:n})}var x=(0,n(48100).T)((function(e,t){return e.response}));function I(e,t){return x(new O({method:"GET",url:e,responseType:"json",headers:t}))}var O=function(e){function t(t){var n=e.call(this)||this,r={async:!0,createXHR:function(){return this.crossDomain?function(){if(E.XMLHttpRequest)return new E.XMLHttpRequest;if(E.XDomainRequest)return new E.XDomainRequest;throw new Error("CORS is not supported by your browser")}():function(){if(E.XMLHttpRequest)return new E.XMLHttpRequest;var e=void 0;try{for(var t=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],n=0;n<3;n++)try{if(e=t[n],new E.ActiveXObject(e))break}catch(e){}return new E.ActiveXObject(e)}catch(e){throw new Error("XMLHttpRequest is not supported by your browser")}}()},crossDomain:!0,withCredentials:!1,headers:{},method:"GET",responseType:"json",timeout:0};if("string"==typeof t)r.url=t;else for(var i in t)t.hasOwnProperty(i)&&(r[i]=t[i]);return n.request=r,n}var n;return m.C6(t,e),t.prototype._subscribe=function(e){return new R(e,this.request)},t.create=((n=function(e){return new t(e)}).get=S,n.post=w,n.delete=P,n.put=T,n.patch=C,n.getJSON=I,n),t}(u.c),R=function(e){function t(t,n){var r=e.call(this,t)||this;r.request=n,r.done=!1;var i=n.headers=n.headers||{};return n.crossDomain||r.getHeader(i,"X-Requested-With")||(i["X-Requested-With"]="XMLHttpRequest"),r.getHeader(i,"Content-Type")||E.FormData&&n.body instanceof E.FormData||void 0===n.body||(i["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"),n.body=r.serializeBody(n.body,r.getHeader(n.headers,"Content-Type")),r.send(),r}return m.C6(t,e),t.prototype.next=function(e){this.done=!0;var t,n=this,r=n.xhr,i=n.request,o=n.destination;try{t=new D(e,r,i)}catch(e){return o.error(e)}o.next(t)},t.prototype.send=function(){var e=this.request,t=this.request,n=t.user,r=t.method,i=t.url,o=t.async,s=t.password,a=t.headers,c=t.body;try{var l=this.xhr=e.createXHR();this.setupEvents(l,e),n?l.open(r,i,o,n,s):l.open(r,i,o),o&&(l.timeout=e.timeout,l.responseType=e.responseType),"withCredentials"in l&&(l.withCredentials=!!e.withCredentials),this.setHeaders(l,a),c?l.send(c):l.send()}catch(e){this.error(e)}},t.prototype.serializeBody=function(e,t){if(!e||"string"==typeof e)return e;if(E.FormData&&e instanceof E.FormData)return e;if(t){var n=t.indexOf(";");-1!==n&&(t=t.substring(0,n))}switch(t){case"application/x-www-form-urlencoded":return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&");case"application/json":return JSON.stringify(e);default:return e}},t.prototype.setHeaders=function(e,t){for(var n in t)t.hasOwnProperty(n)&&e.setRequestHeader(n,t[n])},t.prototype.getHeader=function(e,t){for(var n in e)if(n.toLowerCase()===t.toLowerCase())return e[n]},t.prototype.setupEvents=function(e,t){var n,r,i=t.progressSubscriber;function o(e){var t,n=o,r=n.subscriber,i=n.progressSubscriber,s=n.request;i&&i.error(e);try{t=new N(this,s)}catch(e){t=e}r.error(t)}(e.ontimeout=o,o.request=t,o.subscriber=this,o.progressSubscriber=i,e.upload&&"withCredentials"in e)&&(i&&(n=function(e){n.progressSubscriber.next(e)},E.XDomainRequest?e.onprogress=n:e.upload.onprogress=n,n.progressSubscriber=i),r=function(e){var t,n=r,i=n.progressSubscriber,o=n.subscriber,s=n.request;i&&i.error(e);try{t=new k("ajax error",this,s)}catch(e){t=e}o.error(t)},e.onerror=r,r.request=t,r.subscriber=this,r.progressSubscriber=i);function s(e){}function a(e){var t=a,n=t.subscriber,r=t.progressSubscriber,i=t.request;if(4===this.readyState){var o=1223===this.status?204:this.status,s="text"===this.responseType?this.response||this.responseText:this.response;if(0===o&&(o=s?200:0),o<400)r&&r.complete(),n.next(e),n.complete();else{r&&r.error(e);var c=void 0;try{c=new k("ajax error "+o,this,i)}catch(e){c=e}n.error(c)}}}e.onreadystatechange=s,s.subscriber=this,s.progressSubscriber=i,s.request=t,e.onload=a,a.subscriber=this,a.progressSubscriber=i,a.request=t},t.prototype.unsubscribe=function(){var t=this.done,n=this.xhr;!t&&n&&4!==n.readyState&&"function"==typeof n.abort&&n.abort(),e.prototype.unsubscribe.call(this)},t}(l.v),D=function(){return function(e,t,n){this.originalEvent=e,this.xhr=t,this.request=n,this.status=t.status,this.responseType=t.responseType||n.responseType,this.response=A(this.responseType,t)}}(),k=function(){function e(e,t,n){return Error.call(this),this.message=e,this.name="AjaxError",this.xhr=t,this.request=n,this.status=t.status,this.responseType=t.responseType||n.responseType,this.response=A(this.responseType,t),this}return e.prototype=Object.create(Error.prototype),e}();function A(e,t){switch(e){case"json":return function(e){return"response"in e?e.responseType?e.response:JSON.parse(e.response||e.responseText||"null"):JSON.parse(e.responseText||"null")}(t);case"xml":return t.responseXML;default:return"response"in t?t.response:t.responseText}}var N=function(e,t){return k.call(this,"ajax timeout",e,t),this.name="AjaxTimeoutError",this},j=function(){return O.create}(),M=n(99147),L=n(49305),F={url:"",deserializer:function(e){return JSON.parse(e.data)},serializer:function(e){return JSON.stringify(e)}},V=function(e){function t(t,n){var r=e.call(this)||this;if(t instanceof u.c)r.destination=n,r.source=t;else{var i=r._config=m.Cl({},F);if(r._output=new a.B7,"string"==typeof t)i.url=t;else for(var o in t)t.hasOwnProperty(o)&&(i[o]=t[o]);if(!i.WebSocketCtor&&WebSocket)i.WebSocketCtor=WebSocket;else if(!i.WebSocketCtor)throw new Error("no WebSocket constructor can be found");r.destination=new L.m}return r}return m.C6(t,e),t.prototype.lift=function(e){var n=new t(this._config,this.destination);return n.operator=e,n.source=this,n},t.prototype._resetState=function(){this._socket=null,this.source||(this.destination=new L.m),this._output=new a.B7},t.prototype.multiplex=function(e,t,n){var r=this;return new u.c((function(i){try{r.next(e())}catch(e){i.error(e)}var o=r.subscribe((function(e){try{n(e)&&i.next(e)}catch(e){i.error(e)}}),(function(e){return i.error(e)}),(function(){return i.complete()}));return function(){try{r.next(t())}catch(e){i.error(e)}o.unsubscribe()}}))},t.prototype._connectSocket=function(){var e=this,t=this._config,n=t.WebSocketCtor,r=t.protocol,i=t.url,o=t.binaryType,s=this._output,a=null;try{a=r?new n(i,r):new n(i),this._socket=a,o&&(this._socket.binaryType=o)}catch(e){return void s.error(e)}var c=new M.y((function(){e._socket=null,a&&1===a.readyState&&a.close()}));a.onopen=function(t){if(!e._socket)return a.close(),void e._resetState();var n=e._config.openObserver;n&&n.next(t);var r=e.destination;e.destination=l.v.create((function(t){if(1===a.readyState)try{var n=e._config.serializer;a.send(n(t))}catch(t){e.destination.error(t)}}),(function(t){var n=e._config.closingObserver;n&&n.next(void 0),t&&t.code?a.close(t.code,t.reason):s.error(new TypeError("WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }")),e._resetState()}),(function(){var t=e._config.closingObserver;t&&t.next(void 0),a.close(),e._resetState()})),r&&r instanceof L.m&&c.add(r.subscribe(e.destination))},a.onerror=function(t){e._resetState(),s.error(t)},a.onclose=function(t){e._resetState();var n=e._config.closeObserver;n&&n.next(t),t.wasClean?s.complete():s.error(t)},a.onmessage=function(t){try{var n=e._config.deserializer;s.next(n(t))}catch(e){s.error(e)}}},t.prototype._subscribe=function(e){var t=this,n=this.source;return n?n.subscribe(e):(this._socket||this._connectSocket(),this._output.subscribe(e),e.add((function(){var e=t._socket;0===t._output.observers.length&&(e&&1===e.readyState&&e.close(),t._resetState())})),e)},t.prototype.unsubscribe=function(){var t=this._socket;t&&1===t.readyState&&t.close(),this._resetState(),e.prototype.unsubscribe.call(this)},t}(a.kQ);function U(e){return new V(e)}var H=n(48890),W=n(72157),q=n(91335),B=n(46290),$=function(e){function t(t,n,r){void 0===n&&(n=0),void 0===r&&(r=q.I);var i=e.call(this)||this;return i.source=t,i.delayTime=n,i.scheduler=r,(!(0,B.k)(n)||n<0)&&(i.delayTime=0),r&&"function"==typeof r.schedule||(i.scheduler=q.I),i}return m.C6(t,e),t.create=function(e,n,r){return void 0===n&&(n=0),void 0===r&&(r=q.I),new t(e,n,r)},t.dispatch=function(e){var t=e.source,n=e.subscriber;return this.add(t.subscribe(n))},t.prototype._subscribe=function(e){var n=this.delayTime,r=this.source;return this.scheduler.schedule(t.dispatch,n,{source:r,subscriber:e})},t}(u.c),K=function(){return function(e,t){this.value=e,this.timestamp=t}}(),G=function(){return function(e,t){this.value=e,this.interval=t}}(),z=n(53108),Y={leading:!0,trailing:!1},X=n(23089),J=n(43991),Q=n(63656),Z=n(20692),ee=n(93700),te=n(67320),ne=n(10731),re=n(50034),ie=n(89857);function oe(e,t){for(var n=0,r=t.length;n<r;n++)for(var i=t[n],o=Object.getOwnPropertyNames(i.prototype),s=0,a=o.length;s<a;s++){var c=o[s];e.prototype[c]=i.prototype[c]}}var se={e:{}},ae=n(9199),ce=n(11015),le=n(20252),ue=n(79923);function pe(e){return e instanceof Date&&!isNaN(+e)}var de,he=n(69029),fe=n(5143),ve=n(50806),ge=n(24529),me=n(31164),ye=n(4576),be=n(11193),_e=n(3428),Ee=n(16833),Se=n(28120),we=n(66239),Pe=n(28905),Te=n(55693),Ce=n(49762);function xe(){se.e=void 0;try{return de.apply(this,arguments)}catch(e){return se.e=e,se}finally{de=void 0}}function Ie(e){return de=e,xe}},50138:(e,t,n)=>{"use strict";n.d(t,{R:()=>i});var r=n(15215),i=function(e){function t(t,n,r){var i=e.call(this)||this;return i.parent=t,i.outerValue=n,i.outerIndex=r,i.index=0,i}return r.C6(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(n(2968).v)},72281:(e,t,n)=>{"use strict";n.d(t,{E:()=>a,I:()=>r});var r,i=n(64833),o=n(8927),s=n(47404);r||(r={});var a=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},e.prototype.accept=function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){switch(this.kind){case"N":return(0,o.of)(this.value);case"E":return(0,s.$)(this.error);case"C":return(0,i.I)()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}()},5599:(e,t,n)=>{"use strict";n.d(t,{c:()=>c});var r=n(11075),i=n(49762),o=n(63656),s=n(16833),a=n(81732),c=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,o=(0,i.u)(e,t,n);if(r?o.add(r.call(o,this.source)):o.add(this.source||a.$.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),a.$.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){a.$.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),(0,r.H)(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=l(t))((function(t,r){var i;i=n.subscribe((function(t){try{e(t)}catch(e){r(e),i&&i.unsubscribe()}}),r,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[o.s]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:(0,s.m)(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=l(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function l(e){if(e||(e=a.$.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},16708:(e,t,n)=>{"use strict";n.d(t,{I:()=>o});var r=n(81732),i=n(9199),o={closed:!0,next:function(e){},error:function(e){if(r.$.useDeprecatedSynchronousErrorHandling)throw e;(0,i.T)(e)},complete:function(){}}},17069:(e,t,n)=>{"use strict";n.d(t,{E:()=>i});var r=n(15215),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.C6(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(n(2968).v)},49305:(e,t,n)=>{"use strict";n.d(t,{m:()=>h});var r=n(15215),i=n(16988),o=n(20464),s=n(99147),a=n(2968),c=n(72281),l=function(e){function t(t,n,r){void 0===r&&(r=0);var i=e.call(this,t)||this;return i.scheduler=n,i.delay=r,i}return r.C6(t,e),t.dispatch=function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.destination.add(this.scheduler.schedule(t.dispatch,this.delay,new u(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(c.E.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(c.E.createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(c.E.createComplete()),this.unsubscribe()},t}(a.v),u=function(){return function(e,t){this.notification=e,this.destination=t}}(),p=n(10731),d=n(50293),h=function(e){function t(t,n,r){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var i=e.call(this)||this;return i.scheduler=r,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=t<1?1:t,i._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return r.C6(t,e),t.prototype.nextInfiniteTimeWindow=function(t){if(!this.isStopped){var n=this._events;n.push(t),n.length>this._bufferSize&&n.shift()}e.prototype.next.call(this,t)},t.prototype.nextTimeWindow=function(t){this.isStopped||(this._events.push(new f(this._getNow(),t)),this._trimBufferThenGetEvents()),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new p.P;if(this.isStopped||this.hasError?t=s.y.EMPTY:(this.observers.push(e),t=new d.Y(this,e)),i&&e.add(e=new l(e,i)),n)for(var a=0;a<o&&!e.closed;a++)e.next(r[a]);else for(a=0;a<o&&!e.closed;a++)e.next(r[a].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||o.g).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(e-r[o].time<n);)o++;return i>t&&(o=Math.max(o,i-t)),o>0&&r.splice(0,o),r},t}(i.B7),f=function(){return function(e,t){this.time=e,this.value=t}}()},80957:(e,t,n)=>{"use strict";n.d(t,{_:()=>r});var r=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}()},16988:(e,t,n)=>{"use strict";n.d(t,{B7:()=>p,PJ:()=>u,kQ:()=>d});var r=n(15215),i=n(5599),o=n(2968),s=n(99147),a=n(10731),c=n(50293),l=n(23089),u=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return r.C6(t,e),t}(o.v),p=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return r.C6(t,e),t.prototype[l.D]=function(){return new u(this)},t.prototype.lift=function(e){var t=new d(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new a.P;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)},t.prototype.error=function(e){if(this.closed)throw new a.P;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new a.P;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new a.P;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new a.P;return this.hasError?(e.error(this.thrownError),s.y.EMPTY):this.isStopped?(e.complete(),s.y.EMPTY):(this.observers.push(e),new c.Y(this,e))},t.prototype.asObservable=function(){var e=new i.c;return e.source=this,e},t.create=function(e,t){return new d(e,t)},t}(i.c),d=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return r.C6(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):s.y.EMPTY},t}(p)},50293:(e,t,n)=>{"use strict";n.d(t,{Y:()=>i});var r=n(15215),i=function(e){function t(t,n){var r=e.call(this)||this;return r.subject=t,r.subscriber=n,r.closed=!1,r}return r.C6(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(n(99147).y)},2968:(e,t,n)=>{"use strict";n.d(t,{v:()=>u});var r=n(15215),i=n(69029),o=n(16708),s=n(99147),a=n(23089),c=n(81732),l=n(9199),u=function(e){function t(n,r,i){var s=e.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=o.I;break;case 1:if(!n){s.destination=o.I;break}if("object"==typeof n){n instanceof t?(s.syncErrorThrowable=n.syncErrorThrowable,s.destination=n,n.add(s)):(s.syncErrorThrowable=!0,s.destination=new p(s,n));break}default:s.syncErrorThrowable=!0,s.destination=new p(s,n,r,i)}return s}return r.C6(t,e),t.prototype[a.D]=function(){return this},t.create=function(e,n,r){var i=new t(e,n,r);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(s.y),p=function(e){function t(t,n,r,s){var a,c=e.call(this)||this;c._parentSubscriber=t;var l=c;return(0,i.T)(n)?a=n:n&&(a=n.next,r=n.error,s=n.complete,n!==o.I&&(l=Object.create(n),(0,i.T)(l.unsubscribe)&&c.add(l.unsubscribe.bind(l)),l.unsubscribe=c.unsubscribe.bind(c))),c._context=l,c._next=a,c._error=r,c._complete=s,c}return r.C6(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;c.$.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=c.$.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):(0,l.T)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;(0,l.T)(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};c.$.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),c.$.useDeprecatedSynchronousErrorHandling)throw e;(0,l.T)(e)}},t.prototype.__tryOrSetError=function(e,t,n){if(!c.$.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(t){return c.$.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):((0,l.T)(t),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(u)},99147:(e,t,n)=>{"use strict";n.d(t,{y:()=>a});var r=n(20252),i=n(50806),o=n(69029),s=n(89857),a=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n=this,a=n._parentOrParents,l=n._ctorUnsubscribe,u=n._unsubscribe,p=n._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,a instanceof e)a.remove(this);else if(null!==a)for(var d=0;d<a.length;++d)a[d].remove(this);if((0,o.T)(u)){l&&(this._unsubscribe=void 0);try{u.call(this)}catch(e){t=e instanceof s.Z?c(e.errors):[e]}}if((0,r.c)(p)){d=-1;for(var h=p.length;++d<h;){var f=p[d];if((0,i.G)(f))try{f.unsubscribe()}catch(e){t=t||[],e instanceof s.Z?t=t.concat(c(e.errors)):t.push(e)}}}if(t)throw new s.Z(t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.EMPTY=((t=new e).closed=!0,t),e}();function c(e){return e.reduce((function(e,t){return e.concat(t instanceof s.Z?t.errors:t)}),[])}},81732:(e,t,n)=>{"use strict";n.d(t,{$:()=>i});var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack,r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},48890:(e,t,n)=>{"use strict";n.d(t,{ZS:()=>p,zV:()=>u});var r=n(15215),i=n(4576),o=n(20252),s=n(17069),a=n(55693),c=n(74601),l={};function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=void 0,r=void 0;return(0,i.m)(e[e.length-1])&&(r=e.pop()),"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&(0,o.c)(e[0])&&(e=e[0]),(0,c.c)(e,r).lift(new p(n))}var p=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new d(e,this.resultSelector))},e}(),d=function(e){function t(t,n){var r=e.call(this,t)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return r.C6(t,e),t.prototype._next=function(e){this.values.push(l),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add((0,a.F)(this,r,void 0,n))}}},t.prototype.notifyComplete=function(e){0==(this.active-=1)&&this.destination.complete()},t.prototype.notifyNext=function(e,t,n){var r=this.values,i=r[n],o=this.toRespond?i===l?--this.toRespond:this.toRespond:0;r[n]=t,0===o&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))},t.prototype._tryResultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(s.E)},64833:(e,t,n)=>{"use strict";n.d(t,{I:()=>o,w:()=>i});var r=n(5599),i=new r.c((function(e){return e.complete()}));function o(e){return e?function(e){return new r.c((function(t){return e.schedule((function(){return t.complete()}))}))}(e):i}},74601:(e,t,n)=>{"use strict";n.d(t,{c:()=>s});var r=n(5599),i=n(66239),o=n(5890);function s(e,t){return t?(0,o.V)(e,t):new r.c((0,i.v)(e))}},8927:(e,t,n)=>{"use strict";n.d(t,{of:()=>s});var r=n(4576),i=n(74601),o=n(5890);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return(0,r.m)(n)?(e.pop(),(0,o.V)(e,n)):(0,i.c)(e)}},72157:(e,t,n)=>{"use strict";n.d(t,{J:()=>o,y:()=>i});var r=n(5599);function i(e,t,n){return void 0===e&&(e=0),new r.c((function(r){void 0===t&&(t=e,e=0);var i=0,s=e;if(n)return n.schedule(o,0,{index:i,count:t,start:e,subscriber:r});for(;;){if(i++>=t){r.complete();break}if(r.next(s++),r.closed)break}}))}function o(e){var t=e.start,n=e.index,r=e.count,i=e.subscriber;n>=r?i.complete():(i.next(t),i.closed||(e.index=n+1,e.start=t+1,this.schedule(e)))}},47404:(e,t,n)=>{"use strict";n.d(t,{$:()=>i});var r=n(5599);function i(e,t){return t?new r.c((function(n){return t.schedule(o,0,{error:e,subscriber:n})})):new r.c((function(t){return t.error(e)}))}function o(e){var t=e.error;e.subscriber.error(t)}},53108:(e,t,n)=>{"use strict";n.d(t,{k:()=>o});var r=n(15215),i=n(99147),o=function(e){function t(t,n,r){var i=e.call(this)||this;return i.key=t,i.groupSubject=n,i.refCountSubscription=r,i}return r.C6(t,e),t.prototype._subscribe=function(e){var t=new i.y,n=this.refCountSubscription,r=this.groupSubject;return n&&!n.closed&&t.add(new s(n)),t.add(r.subscribe(e)),t},t}(n(5599).c),s=function(e){function t(t){var n=e.call(this)||this;return n.parent=t,t.count++,n}return r.C6(t,e),t.prototype.unsubscribe=function(){var t=this.parent;t.closed||this.closed||(e.prototype.unsubscribe.call(this),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())},t}(i.y)},48100:(e,t,n)=>{"use strict";n.d(t,{T:()=>o});var r=n(15215),i=n(2968);function o(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(e,t))}}var s=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.project,this.thisArg))},e}(),a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return r.C6(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(i.v)},5890:(e,t,n)=>{"use strict";n.d(t,{V:()=>o});var r=n(5599),i=n(99147);function o(e,t){return new r.c((function(n){var r=new i.y,o=0;return r.add(t.schedule((function(){o!==e.length?(n.next(e[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}},84537:(e,t,n)=>{"use strict";n.d(t,{S:()=>s});var r=n(5599),i=n(99147),o=n(43991);function s(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.c((function(n){var r,s=new i.y;return s.add((function(){r&&"function"==typeof r.return&&r.return()})),s.add(t.schedule((function(){r=e[o.lJ](),s.add(t.schedule((function(){if(!n.closed){var e,t;try{var i=r.next();e=i.value,t=i.done}catch(e){return void n.error(e)}t?n.complete():(n.next(e),this.schedule())}})))}))),s}))}},15142:(e,t,n)=>{"use strict";n.d(t,{P:()=>o});var r=n(5599),i=n(99147);function o(e,t){return new r.c((function(n){var r=new i.y;return r.add(t.schedule((function(){return e.then((function(e){r.add(t.schedule((function(){n.next(e),r.add(t.schedule((function(){return n.complete()})))})))}),(function(e){r.add(t.schedule((function(){return n.error(e)})))}))}))),r}))}},46027:(e,t,n)=>{"use strict";n.d(t,{R:()=>i});var r=n(15215),i=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return r.C6(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(e){n=!0,r=!!e&&e||new Error(e)}if(n)return this.unsubscribe(),r},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(function(e){function t(t,n){return e.call(this)||this}return r.C6(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(n(99147).y))},4881:(e,t,n)=>{"use strict";n.d(t,{q:()=>o});var r=n(15215),i=n(80957),o=function(e){function t(n,r){void 0===r&&(r=i._.now);var o=e.call(this,n,(function(){return t.delegate&&t.delegate!==o?t.delegate.now():r()}))||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return r.C6(t,e),t.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,r,i):e.prototype.schedule.call(this,n,r,i)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(i._)},91335:(e,t,n)=>{"use strict";n.d(t,{I:()=>a,$:()=>s});var r=n(15215),i=n(67320),o=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return r.C6(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=i.G.setImmediate(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(i.G.clearImmediate(n),t.scheduled=void 0)},t}(n(46027).R),s=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.C6(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}},t}(n(4881).q))(o),a=s},20464:(e,t,n)=>{"use strict";n.d(t,{g:()=>s,T:()=>o});var r=n(15215),i=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return r.C6(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,r):t.flush(this)},t}(n(46027).R),o=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.C6(t,e),t}(n(4881).q))(i),s=o},43991:(e,t,n)=>{"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(t,{lJ:()=>i});var i=r()},63656:(e,t,n)=>{"use strict";n.d(t,{s:()=>r});var r=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}()},23089:(e,t,n)=>{"use strict";n.d(t,{D:()=>r});var r=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}()},20692:(e,t,n)=>{"use strict";n.d(t,{k:()=>r});var r=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}()},93700:(e,t,n)=>{"use strict";n.d(t,{G:()=>r});var r=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}()},67320:(e,t,n)=>{"use strict";n.d(t,{G:()=>a});var r=1,i=function(){return Promise.resolve()}(),o={};function s(e){return e in o&&(delete o[e],!0)}var a={setImmediate:function(e){var t=r++;return o[t]=!0,i.then((function(){return s(t)&&e()})),t},clearImmediate:function(e){s(e)}}},10731:(e,t,n)=>{"use strict";n.d(t,{P:()=>r});var r=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}()},50034:(e,t,n)=>{"use strict";n.d(t,{M:()=>r});var r=function(){function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e}()},89857:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var r=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}()},11075:(e,t,n)=>{"use strict";n.d(t,{H:()=>i});var r=n(2968);function i(e){for(;e;){var t=e,n=t.closed,i=t.destination,o=t.isStopped;if(n||o)return!1;e=i&&i instanceof r.v?i:null}return!0}},9199:(e,t,n)=>{"use strict";function r(e){setTimeout((function(){throw e}),0)}n.d(t,{T:()=>r})},11015:(e,t,n)=>{"use strict";function r(e){return e}n.d(t,{D:()=>r})},20252:(e,t,n)=>{"use strict";n.d(t,{c:()=>r});var r=function(){return Array.isArray||function(e){return e&&"number"==typeof e.length}}()},79923:(e,t,n)=>{"use strict";n.d(t,{X:()=>r});var r=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},69029:(e,t,n)=>{"use strict";function r(e){return"function"==typeof e}n.d(t,{T:()=>r})},24529:(e,t,n)=>{"use strict";n.d(t,{l:()=>i});var r=n(63656);function i(e){return e&&"function"==typeof e[r.s]}},5143:(e,t,n)=>{"use strict";n.d(t,{x:()=>i});var r=n(43991);function i(e){return e&&"function"==typeof e[r.lJ]}},46290:(e,t,n)=>{"use strict";n.d(t,{k:()=>i});var r=n(20252);function i(e){return!(0,r.c)(e)&&e-parseFloat(e)+1>=0}},50806:(e,t,n)=>{"use strict";function r(e){return null!==e&&"object"==typeof e}n.d(t,{G:()=>r})},31164:(e,t,n)=>{"use strict";function r(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,{y:()=>r})},4576:(e,t,n)=>{"use strict";function r(e){return e&&"function"==typeof e.schedule}n.d(t,{m:()=>r})},11193:(e,t,n)=>{"use strict";function r(){}n.d(t,{l:()=>r})},3428:(e,t,n)=>{"use strict";function r(e,t){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=e,n.thisArg=t,n}n.d(t,{A:()=>r})},16833:(e,t,n)=>{"use strict";n.d(t,{F:()=>i,m:()=>o});var r=n(11015);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o(e)}function o(e){return 0===e.length?r.D:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}},28120:(e,t,n)=>{"use strict";n.d(t,{i:()=>d});var r=n(66239),i=n(11231),o=n(98754),s=n(28905),a=n(79923),c=n(31164),l=n(50806),u=n(43991),p=n(63656),d=function(e){if(e&&"function"==typeof e[p.s])return(0,s.X)(e);if((0,a.X)(e))return(0,r.v)(e);if((0,c.y)(e))return(0,i.F)(e);if(e&&"function"==typeof e[u.lJ])return(0,o.S)(e);var t=(0,l.G)(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+t+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},66239:(e,t,n)=>{"use strict";n.d(t,{v:()=>r});var r=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}}},98754:(e,t,n)=>{"use strict";n.d(t,{S:()=>i});var r=n(43991),i=function(e){return function(t){for(var n=e[r.lJ]();;){var i=void 0;try{i=n.next()}catch(e){return t.error(e),t}if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t}}},28905:(e,t,n)=>{"use strict";n.d(t,{X:()=>i});var r=n(63656),i=function(e){return function(t){var n=e[r.s]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)}}},11231:(e,t,n)=>{"use strict";n.d(t,{F:()=>i});var r=n(9199),i=function(e){return function(t){return e.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,r.T),t}}},55693:(e,t,n)=>{"use strict";n.d(t,{F:()=>s});var r=n(50138),i=n(28120),o=n(5599);function s(e,t,n,s,a){if(void 0===a&&(a=new r.R(e,n,s)),!a.closed)return t instanceof o.c?t.subscribe(a):(0,i.i)(t)(a)}},49762:(e,t,n)=>{"use strict";n.d(t,{u:()=>s});var r=n(2968),i=n(23089),o=n(16708);function s(e,t,n){if(e){if(e instanceof r.v)return e;if(e[i.D])return e[i.D]()}return e||t||n?new r.v(e,t,n):new r.v(o.I)}},54774:(e,t,n)=>{"use strict";var r,i=n(20181),o=i.Buffer,s={};for(r in i)i.hasOwnProperty(r)&&"SlowBuffer"!==r&&"Buffer"!==r&&(s[r]=i[r]);var a=s.Buffer={};for(r in o)o.hasOwnProperty(r)&&"allocUnsafe"!==r&&"allocUnsafeSlow"!==r&&(a[r]=o[r]);if(s.Buffer.prototype=o.prototype,a.from&&a.from!==Uint8Array.from||(a.from=function(e,t,n){if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof e);if(e&&void 0===e.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);return o(e,t,n)}),a.alloc||(a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError('The "size" argument must be of type number. Received type '+typeof e);if(e<0||e>=2*(1<<30))throw new RangeError('The value "'+e+'" is invalid for option "size"');var r=o(e);return t&&0!==t.length?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r}),!s.kStringMaxLength)try{s.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch(e){}s.constants||(s.constants={MAX_LENGTH:s.kMaxLength},s.kStringMaxLength&&(s.constants.MAX_STRING_LENGTH=s.kStringMaxLength)),e.exports=s},93904:(e,t,n)=>{const r=Symbol("SemVer ANY");class i{static get ANY(){return r}constructor(e,t){if(t=o(t),e instanceof i){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),l("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===r?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}parse(e){const t=this.options.loose?s[a.COMPARATORLOOSE]:s[a.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new u(n[2],this.options.loose):this.semver=r}toString(){return this.value}test(e){if(l("Comparator.test",e,this.options.loose),this.semver===r||e===r)return!0;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}return c(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof i))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new p(e.value,t).test(this.value):""===e.operator?""===e.value||new p(this.value,t).test(e.semver):!((t=o(t)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))||(!this.operator.startsWith(">")||!e.operator.startsWith(">"))&&(!this.operator.startsWith("<")||!e.operator.startsWith("<"))&&(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))&&!(c(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))&&!(c(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}}e.exports=i;const o=n(98587),{safeRe:s,t:a}=n(99718),c=n(72111),l=n(57272),u=n(53908),p=n(78311)},78311:(e,t,n)=>{class r{constructor(e,t){if(t=o(t),e instanceof r)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new r(e.raw,t);if(e instanceof s)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!g(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&m(e[0])){this.set=[e];break}}this.format()}format(){return this.range=this.set.map((e=>e.join(" ").trim())).join("||").trim(),this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&f)|(this.options.loose&&v))+":"+e,n=i.get(t);if(n)return n;const r=this.options.loose,o=r?l[u.HYPHENRANGELOOSE]:l[u.HYPHENRANGE];e=e.replace(o,O(this.options.includePrerelease)),a("hyphen replace",e),e=e.replace(l[u.COMPARATORTRIM],p),a("comparator trim",e),e=e.replace(l[u.TILDETRIM],d),a("tilde trim",e),e=e.replace(l[u.CARETTRIM],h),a("caret trim",e);let c=e.split(" ").map((e=>b(e,this.options))).join(" ").split(/\s+/).map((e=>I(e,this.options)));r&&(c=c.filter((e=>(a("loose invalid filter",e,this.options),!!e.match(l[u.COMPARATORLOOSE]))))),a("range list",c);const m=new Map,y=c.map((e=>new s(e,this.options)));for(const e of y){if(g(e))return[e];m.set(e.value,e)}m.size>1&&m.has("")&&m.delete("");const _=[...m.values()];return i.set(t,_),_}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Range is required");return this.set.some((n=>y(n,t)&&e.set.some((e=>y(e,t)&&n.every((n=>e.every((e=>n.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new c(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(R(this.set[t],e,this.options))return!0;return!1}}e.exports=r;const i=new(n(69749))({max:1e3}),o=n(98587),s=n(93904),a=n(57272),c=n(53908),{safeRe:l,t:u,comparatorTrimReplace:p,tildeTrimReplace:d,caretTrimReplace:h}=n(99718),{FLAG_INCLUDE_PRERELEASE:f,FLAG_LOOSE:v}=n(16874),g=e=>"<0.0.0-0"===e.value,m=e=>""===e.value,y=(e,t)=>{let n=!0;const r=e.slice();let i=r.pop();for(;n&&r.length;)n=r.every((e=>i.intersects(e,t))),i=r.pop();return n},b=(e,t)=>(a("comp",e,t),e=w(e,t),a("caret",e),e=E(e,t),a("tildes",e),e=T(e,t),a("xrange",e),e=x(e,t),a("stars",e),e),_=e=>!e||"x"===e.toLowerCase()||"*"===e,E=(e,t)=>e.trim().split(/\s+/).map((e=>S(e,t))).join(" "),S=(e,t)=>{const n=t.loose?l[u.TILDELOOSE]:l[u.TILDE];return e.replace(n,((t,n,r,i,o)=>{let s;return a("tilde",e,t,n,r,i,o),_(n)?s="":_(r)?s=`>=${n}.0.0 <${+n+1}.0.0-0`:_(i)?s=`>=${n}.${r}.0 <${n}.${+r+1}.0-0`:o?(a("replaceTilde pr",o),s=`>=${n}.${r}.${i}-${o} <${n}.${+r+1}.0-0`):s=`>=${n}.${r}.${i} <${n}.${+r+1}.0-0`,a("tilde return",s),s}))},w=(e,t)=>e.trim().split(/\s+/).map((e=>P(e,t))).join(" "),P=(e,t)=>{a("caret",e,t);const n=t.loose?l[u.CARETLOOSE]:l[u.CARET],r=t.includePrerelease?"-0":"";return e.replace(n,((t,n,i,o,s)=>{let c;return a("caret",e,t,n,i,o,s),_(n)?c="":_(i)?c=`>=${n}.0.0${r} <${+n+1}.0.0-0`:_(o)?c="0"===n?`>=${n}.${i}.0${r} <${n}.${+i+1}.0-0`:`>=${n}.${i}.0${r} <${+n+1}.0.0-0`:s?(a("replaceCaret pr",s),c="0"===n?"0"===i?`>=${n}.${i}.${o}-${s} <${n}.${i}.${+o+1}-0`:`>=${n}.${i}.${o}-${s} <${n}.${+i+1}.0-0`:`>=${n}.${i}.${o}-${s} <${+n+1}.0.0-0`):(a("no pr"),c="0"===n?"0"===i?`>=${n}.${i}.${o}${r} <${n}.${i}.${+o+1}-0`:`>=${n}.${i}.${o}${r} <${n}.${+i+1}.0-0`:`>=${n}.${i}.${o} <${+n+1}.0.0-0`),a("caret return",c),c}))},T=(e,t)=>(a("replaceXRanges",e,t),e.split(/\s+/).map((e=>C(e,t))).join(" ")),C=(e,t)=>{e=e.trim();const n=t.loose?l[u.XRANGELOOSE]:l[u.XRANGE];return e.replace(n,((n,r,i,o,s,c)=>{a("xRange",e,n,r,i,o,s,c);const l=_(i),u=l||_(o),p=u||_(s),d=p;return"="===r&&d&&(r=""),c=t.includePrerelease?"-0":"",l?n=">"===r||"<"===r?"<0.0.0-0":"*":r&&d?(u&&(o=0),s=0,">"===r?(r=">=",u?(i=+i+1,o=0,s=0):(o=+o+1,s=0)):"<="===r&&(r="<",u?i=+i+1:o=+o+1),"<"===r&&(c="-0"),n=`${r+i}.${o}.${s}${c}`):u?n=`>=${i}.0.0${c} <${+i+1}.0.0-0`:p&&(n=`>=${i}.${o}.0${c} <${i}.${+o+1}.0-0`),a("xRange return",n),n}))},x=(e,t)=>(a("replaceStars",e,t),e.trim().replace(l[u.STAR],"")),I=(e,t)=>(a("replaceGTE0",e,t),e.trim().replace(l[t.includePrerelease?u.GTE0PRE:u.GTE0],"")),O=e=>(t,n,r,i,o,s,a,c,l,u,p,d,h)=>`${n=_(r)?"":_(i)?`>=${r}.0.0${e?"-0":""}`:_(o)?`>=${r}.${i}.0${e?"-0":""}`:s?`>=${n}`:`>=${n}${e?"-0":""}`} ${c=_(l)?"":_(u)?`<${+l+1}.0.0-0`:_(p)?`<${l}.${+u+1}.0-0`:d?`<=${l}.${u}.${p}-${d}`:e?`<${l}.${u}.${+p+1}-0`:`<=${c}`}`.trim(),R=(e,t,n)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(let n=0;n<e.length;n++)if(a(e[n].semver),e[n].semver!==s.ANY&&e[n].semver.prerelease.length>0){const r=e[n].semver;if(r.major===t.major&&r.minor===t.minor&&r.patch===t.patch)return!0}return!1}return!0}},53908:(e,t,n)=>{const r=n(57272),{MAX_LENGTH:i,MAX_SAFE_INTEGER:o}=n(16874),{safeRe:s,t:a}=n(99718),c=n(98587),{compareIdentifiers:l}=n(61123);class u{constructor(e,t){if(t=c(t),e instanceof u){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>i)throw new TypeError(`version is longer than ${i} characters`);r("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=e.trim().match(t.loose?s[a.LOOSE]:s[a.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>o||this.major<0)throw new TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<o)return t}return e})):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(r("SemVer.compare",this.version,this.options,e),!(e instanceof u)){if("string"==typeof e&&e===this.version)return 0;e=new u(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof u||(e=new u(e,this.options)),l(this.major,e.major)||l(this.minor,e.minor)||l(this.patch,e.patch)}comparePre(e){if(e instanceof u||(e=new u(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],i=e.prerelease[t];if(r("prerelease compare",t,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return l(n,i)}while(++t)}compareBuild(e){e instanceof u||(e=new u(e,this.options));let t=0;do{const n=this.build[t],i=e.build[t];if(r("prerelease compare",t,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return l(n,i)}while(++t)}inc(e,t,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(n)?1:0;if(!t&&!1===n)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let r=this.prerelease.length;for(;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);if(-1===r){if(t===this.prerelease.join(".")&&!1===n)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let r=[t,e];!1===n&&(r=[t]),0===l(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=r):this.prerelease=r}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=u},57414:(e,t,n)=>{const r=n(30144);e.exports=(e,t)=>{const n=r(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null}},72111:(e,t,n)=>{const r=n(94641),i=n(13999),o=n(35580),s=n(54089),a=n(7059),c=n(25200);e.exports=(e,t,n,l)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return r(e,n,l);case"!=":return i(e,n,l);case">":return o(e,n,l);case">=":return s(e,n,l);case"<":return a(e,n,l);case"<=":return c(e,n,l);default:throw new TypeError(`Invalid operator: ${t}`)}}},46170:(e,t,n)=>{const r=n(53908),i=n(30144),{safeRe:o,t:s}=n(99718);e.exports=(e,t)=>{if(e instanceof r)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let n=null;if((t=t||{}).rtl){const r=t.includePrerelease?o[s.COERCERTLFULL]:o[s.COERCERTL];let i;for(;(i=r.exec(e))&&(!n||n.index+n[0].length!==e.length);)n&&i.index+i[0].length===n.index+n[0].length||(n=i),r.lastIndex=i.index+i[1].length+i[2].length;r.lastIndex=-1}else n=e.match(t.includePrerelease?o[s.COERCEFULL]:o[s.COERCE]);if(null===n)return null;const a=n[2],c=n[3]||"0",l=n[4]||"0",u=t.includePrerelease&&n[5]?`-${n[5]}`:"",p=t.includePrerelease&&n[6]?`+${n[6]}`:"";return i(`${a}.${c}.${l}${u}${p}`,t)}},40909:(e,t,n)=>{const r=n(53908);e.exports=(e,t,n)=>{const i=new r(e,n),o=new r(t,n);return i.compare(o)||i.compareBuild(o)}},11763:(e,t,n)=>{const r=n(50560);e.exports=(e,t)=>r(e,t,!0)},50560:(e,t,n)=>{const r=n(53908);e.exports=(e,t,n)=>new r(e,n).compare(new r(t,n))},51832:(e,t,n)=>{const r=n(30144);e.exports=(e,t)=>{const n=r(e,null,!0),i=r(t,null,!0),o=n.compare(i);if(0===o)return null;const s=o>0,a=s?n:i,c=s?i:n,l=!!a.prerelease.length;if(c.prerelease.length&&!l)return c.patch||c.minor?a.patch?"patch":a.minor?"minor":"major":"major";const u=l?"pre":"";return n.major!==i.major?u+"major":n.minor!==i.minor?u+"minor":n.patch!==i.patch?u+"patch":"prerelease"}},94641:(e,t,n)=>{const r=n(50560);e.exports=(e,t,n)=>0===r(e,t,n)},35580:(e,t,n)=>{const r=n(50560);e.exports=(e,t,n)=>r(e,t,n)>0},54089:(e,t,n)=>{const r=n(50560);e.exports=(e,t,n)=>r(e,t,n)>=0},93007:(e,t,n)=>{const r=n(53908);e.exports=(e,t,n,i,o)=>{"string"==typeof n&&(o=i,i=n,n=void 0);try{return new r(e instanceof r?e.version:e,n).inc(t,i,o).version}catch(e){return null}}},7059:(e,t,n)=>{const r=n(50560);e.exports=(e,t,n)=>r(e,t,n)<0},25200:(e,t,n)=>{const r=n(50560);e.exports=(e,t,n)=>r(e,t,n)<=0},32938:(e,t,n)=>{const r=n(53908);e.exports=(e,t)=>new r(e,t).major},46254:(e,t,n)=>{const r=n(53908);e.exports=(e,t)=>new r(e,t).minor},13999:(e,t,n)=>{const r=n(50560);e.exports=(e,t,n)=>0!==r(e,t,n)},30144:(e,t,n)=>{const r=n(53908);e.exports=(e,t,n=!1)=>{if(e instanceof r)return e;try{return new r(e,t)}catch(e){if(!n)return null;throw e}}},24493:(e,t,n)=>{const r=n(53908);e.exports=(e,t)=>new r(e,t).patch},31729:(e,t,n)=>{const r=n(30144);e.exports=(e,t)=>{const n=r(e,t);return n&&n.prerelease.length?n.prerelease:null}},9970:(e,t,n)=>{const r=n(50560);e.exports=(e,t,n)=>r(t,e,n)},74277:(e,t,n)=>{const r=n(40909);e.exports=(e,t)=>e.sort(((e,n)=>r(n,e,t)))},97638:(e,t,n)=>{const r=n(78311);e.exports=(e,t,n)=>{try{t=new r(t,n)}catch(e){return!1}return t.test(e)}},43927:(e,t,n)=>{const r=n(40909);e.exports=(e,t)=>e.sort(((e,n)=>r(e,n,t)))},56953:(e,t,n)=>{const r=n(30144);e.exports=(e,t)=>{const n=r(e,t);return n?n.version:null}},99589:(e,t,n)=>{const r=n(99718),i=n(16874),o=n(53908),s=n(61123),a=n(30144),c=n(56953),l=n(57414),u=n(93007),p=n(51832),d=n(32938),h=n(46254),f=n(24493),v=n(31729),g=n(50560),m=n(9970),y=n(11763),b=n(40909),_=n(43927),E=n(74277),S=n(35580),w=n(7059),P=n(94641),T=n(13999),C=n(54089),x=n(25200),I=n(72111),O=n(46170),R=n(93904),D=n(78311),k=n(97638),A=n(77631),N=n(19628),j=n(270),M=n(41261),L=n(13874),F=n(97075),V=n(75571),U=n(5342),H=n(76780),W=n(72525),q=n(75032);e.exports={parse:a,valid:c,clean:l,inc:u,diff:p,major:d,minor:h,patch:f,prerelease:v,compare:g,rcompare:m,compareLoose:y,compareBuild:b,sort:_,rsort:E,gt:S,lt:w,eq:P,neq:T,gte:C,lte:x,cmp:I,coerce:O,Comparator:R,Range:D,satisfies:k,toComparators:A,maxSatisfying:N,minSatisfying:j,minVersion:M,validRange:L,outside:F,gtr:V,ltr:U,intersects:H,simplifyRange:W,subset:q,SemVer:o,re:r.re,src:r.src,tokens:r.t,SEMVER_SPEC_VERSION:i.SEMVER_SPEC_VERSION,RELEASE_TYPES:i.RELEASE_TYPES,compareIdentifiers:s.compareIdentifiers,rcompareIdentifiers:s.rcompareIdentifiers}},16874:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},57272:e=>{const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},61123:e=>{const t=/^[0-9]+$/,n=(e,n)=>{const r=t.test(e),i=t.test(n);return r&&i&&(e=+e,n=+n),e===n?0:r&&!i?-1:i&&!r?1:e<n?-1:1};e.exports={compareIdentifiers:n,rcompareIdentifiers:(e,t)=>n(t,e)}},98587:e=>{const t=Object.freeze({loose:!0}),n=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:n},99718:(e,t,n)=>{const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:i,MAX_LENGTH:o}=n(16874),s=n(57272),a=(t=e.exports={}).re=[],c=t.safeRe=[],l=t.src=[],u=t.t={};let p=0;const d="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",o],[d,i]],f=(e,t,n)=>{const r=(e=>{for(const[t,n]of h)e=e.split(`${t}*`).join(`${t}{0,${n}}`).split(`${t}+`).join(`${t}{1,${n}}`);return e})(t),i=p++;s(e,i,t),u[e]=i,l[i]=t,a[i]=new RegExp(t,n?"g":void 0),c[i]=new RegExp(r,n?"g":void 0)};f("NUMERICIDENTIFIER","0|[1-9]\\d*"),f("NUMERICIDENTIFIERLOOSE","\\d+"),f("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`),f("MAINVERSION",`(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})`),f("MAINVERSIONLOOSE",`(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})`),f("PRERELEASEIDENTIFIER",`(?:${l[u.NUMERICIDENTIFIER]}|${l[u.NONNUMERICIDENTIFIER]})`),f("PRERELEASEIDENTIFIERLOOSE",`(?:${l[u.NUMERICIDENTIFIERLOOSE]}|${l[u.NONNUMERICIDENTIFIER]})`),f("PRERELEASE",`(?:-(${l[u.PRERELEASEIDENTIFIER]}(?:\\.${l[u.PRERELEASEIDENTIFIER]})*))`),f("PRERELEASELOOSE",`(?:-?(${l[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[u.PRERELEASEIDENTIFIERLOOSE]})*))`),f("BUILDIDENTIFIER",`${d}+`),f("BUILD",`(?:\\+(${l[u.BUILDIDENTIFIER]}(?:\\.${l[u.BUILDIDENTIFIER]})*))`),f("FULLPLAIN",`v?${l[u.MAINVERSION]}${l[u.PRERELEASE]}?${l[u.BUILD]}?`),f("FULL",`^${l[u.FULLPLAIN]}$`),f("LOOSEPLAIN",`[v=\\s]*${l[u.MAINVERSIONLOOSE]}${l[u.PRERELEASELOOSE]}?${l[u.BUILD]}?`),f("LOOSE",`^${l[u.LOOSEPLAIN]}$`),f("GTLT","((?:<|>)?=?)"),f("XRANGEIDENTIFIERLOOSE",`${l[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),f("XRANGEIDENTIFIER",`${l[u.NUMERICIDENTIFIER]}|x|X|\\*`),f("XRANGEPLAIN",`[v=\\s]*(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:${l[u.PRERELEASE]})?${l[u.BUILD]}?)?)?`),f("XRANGEPLAINLOOSE",`[v=\\s]*(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:${l[u.PRERELEASELOOSE]})?${l[u.BUILD]}?)?)?`),f("XRANGE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAIN]}$`),f("XRANGELOOSE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAINLOOSE]}$`),f("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),f("COERCE",`${l[u.COERCEPLAIN]}(?:$|[^\\d])`),f("COERCEFULL",l[u.COERCEPLAIN]+`(?:${l[u.PRERELEASE]})?`+`(?:${l[u.BUILD]})?(?:$|[^\\d])`),f("COERCERTL",l[u.COERCE],!0),f("COERCERTLFULL",l[u.COERCEFULL],!0),f("LONETILDE","(?:~>?)"),f("TILDETRIM",`(\\s*)${l[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",f("TILDE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAIN]}$`),f("TILDELOOSE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAINLOOSE]}$`),f("LONECARET","(?:\\^)"),f("CARETTRIM",`(\\s*)${l[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",f("CARET",`^${l[u.LONECARET]}${l[u.XRANGEPLAIN]}$`),f("CARETLOOSE",`^${l[u.LONECARET]}${l[u.XRANGEPLAINLOOSE]}$`),f("COMPARATORLOOSE",`^${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]})$|^$`),f("COMPARATOR",`^${l[u.GTLT]}\\s*(${l[u.FULLPLAIN]})$|^$`),f("COMPARATORTRIM",`(\\s*)${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]}|${l[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",f("HYPHENRANGE",`^\\s*(${l[u.XRANGEPLAIN]})\\s+-\\s+(${l[u.XRANGEPLAIN]})\\s*$`),f("HYPHENRANGELOOSE",`^\\s*(${l[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[u.XRANGEPLAINLOOSE]})\\s*$`),f("STAR","(<|>)?=?\\s*\\*"),f("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),f("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},75571:(e,t,n)=>{const r=n(97075);e.exports=(e,t,n)=>r(e,t,">",n)},76780:(e,t,n)=>{const r=n(78311);e.exports=(e,t,n)=>(e=new r(e,n),t=new r(t,n),e.intersects(t,n))},5342:(e,t,n)=>{const r=n(97075);e.exports=(e,t,n)=>r(e,t,"<",n)},19628:(e,t,n)=>{const r=n(53908),i=n(78311);e.exports=(e,t,n)=>{let o=null,s=null,a=null;try{a=new i(t,n)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(o&&-1!==s.compare(e)||(o=e,s=new r(o,n)))})),o}},270:(e,t,n)=>{const r=n(53908),i=n(78311);e.exports=(e,t,n)=>{let o=null,s=null,a=null;try{a=new i(t,n)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(o&&1!==s.compare(e)||(o=e,s=new r(o,n)))})),o}},41261:(e,t,n)=>{const r=n(53908),i=n(78311),o=n(35580);e.exports=(e,t)=>{e=new i(e,t);let n=new r("0.0.0");if(e.test(n))return n;if(n=new r("0.0.0-0"),e.test(n))return n;n=null;for(let t=0;t<e.set.length;++t){const i=e.set[t];let s=null;i.forEach((e=>{const t=new r(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":s&&!o(t,s)||(s=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!s||n&&!o(n,s)||(n=s)}return n&&e.test(n)?n:null}},97075:(e,t,n)=>{const r=n(53908),i=n(93904),{ANY:o}=i,s=n(78311),a=n(97638),c=n(35580),l=n(7059),u=n(25200),p=n(54089);e.exports=(e,t,n,d)=>{let h,f,v,g,m;switch(e=new r(e,d),t=new s(t,d),n){case">":h=c,f=u,v=l,g=">",m=">=";break;case"<":h=l,f=p,v=c,g="<",m="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(e,t,d))return!1;for(let n=0;n<t.set.length;++n){const r=t.set[n];let s=null,a=null;if(r.forEach((e=>{e.semver===o&&(e=new i(">=0.0.0")),s=s||e,a=a||e,h(e.semver,s.semver,d)?s=e:v(e.semver,a.semver,d)&&(a=e)})),s.operator===g||s.operator===m)return!1;if((!a.operator||a.operator===g)&&f(e,a.semver))return!1;if(a.operator===m&&v(e,a.semver))return!1}return!0}},72525:(e,t,n)=>{const r=n(97638),i=n(50560);e.exports=(e,t,n)=>{const o=[];let s=null,a=null;const c=e.sort(((e,t)=>i(e,t,n)));for(const e of c)r(e,t,n)?(a=e,s||(s=e)):(a&&o.push([s,a]),a=null,s=null);s&&o.push([s,null]);const l=[];for(const[e,t]of o)e===t?l.push(e):t||e!==c[0]?t?e===c[0]?l.push(`<=${t}`):l.push(`${e} - ${t}`):l.push(`>=${e}`):l.push("*");const u=l.join(" || "),p="string"==typeof t.raw?t.raw:String(t);return u.length<p.length?u:t}},75032:(e,t,n)=>{const r=n(78311),i=n(93904),{ANY:o}=i,s=n(97638),a=n(50560),c=[new i(">=0.0.0-0")],l=[new i(">=0.0.0")],u=(e,t,n)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===o){if(1===t.length&&t[0].semver===o)return!0;e=n.includePrerelease?c:l}if(1===t.length&&t[0].semver===o){if(n.includePrerelease)return!0;t=l}const r=new Set;let i,u,h,f,v,g,m;for(const t of e)">"===t.operator||">="===t.operator?i=p(i,t,n):"<"===t.operator||"<="===t.operator?u=d(u,t,n):r.add(t.semver);if(r.size>1)return null;if(i&&u){if(h=a(i.semver,u.semver,n),h>0)return null;if(0===h&&(">="!==i.operator||"<="!==u.operator))return null}for(const e of r){if(i&&!s(e,String(i),n))return null;if(u&&!s(e,String(u),n))return null;for(const r of t)if(!s(e,String(r),n))return!1;return!0}let y=!(!u||n.includePrerelease||!u.semver.prerelease.length)&&u.semver,b=!(!i||n.includePrerelease||!i.semver.prerelease.length)&&i.semver;y&&1===y.prerelease.length&&"<"===u.operator&&0===y.prerelease[0]&&(y=!1);for(const e of t){if(m=m||">"===e.operator||">="===e.operator,g=g||"<"===e.operator||"<="===e.operator,i)if(b&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===b.major&&e.semver.minor===b.minor&&e.semver.patch===b.patch&&(b=!1),">"===e.operator||">="===e.operator){if(f=p(i,e,n),f===e&&f!==i)return!1}else if(">="===i.operator&&!s(i.semver,String(e),n))return!1;if(u)if(y&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===y.major&&e.semver.minor===y.minor&&e.semver.patch===y.patch&&(y=!1),"<"===e.operator||"<="===e.operator){if(v=d(u,e,n),v===e&&v!==u)return!1}else if("<="===u.operator&&!s(u.semver,String(e),n))return!1;if(!e.operator&&(u||i)&&0!==h)return!1}return!(i&&g&&!u&&0!==h||u&&m&&!i&&0!==h||b||y)},p=(e,t,n)=>{if(!e)return t;const r=a(e.semver,t.semver,n);return r>0?e:r<0||">"===t.operator&&">="===e.operator?t:e},d=(e,t,n)=>{if(!e)return t;const r=a(e.semver,t.semver,n);return r<0?e:r>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,n={})=>{if(e===t)return!0;e=new r(e,n),t=new r(t,n);let i=!1;e:for(const r of e.set){for(const e of t.set){const t=u(r,e,n);if(i=i||null!==t,t)continue e}if(i)return!1}return!0}},77631:(e,t,n)=>{const r=n(78311);e.exports=(e,t)=>new r(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")))},13874:(e,t,n)=>{const r=n(78311);e.exports=(e,t)=>{try{return new r(e,t).range||"*"}catch(e){return null}}},81132:e=>{"use strict";function t(e){return"function"==typeof e}var n=console.error.bind(console);function r(e,t,n){var r=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:r,writable:!0,value:n})}function i(e){e&&e.logger&&(t(e.logger)?n=e.logger:n("new logger isn't a function, not replacing"))}function o(e,i,o){if(e&&e[i]){if(!o)return n("no wrapper function"),void n((new Error).stack);if(t(e[i])&&t(o)){var s=e[i],a=o(s,i);return r(a,"__original",s),r(a,"__unwrap",(function(){e[i]===a&&r(e,i,s)})),r(a,"__wrapped",!0),r(e,i,a),a}n("original object and wrapper must be functions")}else n("no original function "+i+" to wrap")}function s(e,t){return e&&e[t]?e[t].__unwrap?e[t].__unwrap():void n("no original to unwrap to -- has "+t+" already been unwrapped?"):(n("no function to unwrap."),void n((new Error).stack))}i.wrap=o,i.massWrap=function(e,t,r){if(!e)return n("must provide one or more modules to patch"),void n((new Error).stack);Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){o(e,t,r)}))})):n("must provide one or more functions to wrap on modules")},i.unwrap=s,i.massUnwrap=function(e,t){if(!e)return n("must provide one or more modules to patch"),void n((new Error).stack);Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){s(e,t)}))})):n("must provide one or more functions to unwrap on modules")},e.exports=i},25212:e=>{e.exports=function(e,t){var n=[];n.push(function(e){try{return Error.prototype.toString.call(e)}catch(e){try{return"<error: "+e+">"}catch(e){return"<error>"}}}(e));for(var r=0;r<t.length;r++){var i,o=t[r];try{i=o.toString()}catch(e){try{i="<error: "+e+">"}catch(e){i="<error>"}}n.push("    at "+i)}return n.join("\n")}},52103:(e,t,n)=>{if(global._stackChain){if(global._stackChain.version!==n(93948).rE)throw new Error("Conflicting version of stack-chain found");e.exports=global._stackChain}else e.exports=global._stackChain=n(75503)},75503:(e,t,n)=>{var r=n(25212);function i(){this.extend=new a,this.filter=new a,this.format=new c,this.version=n(93948).rE}var o=!1;i.prototype.callSite=function e(t){t||(t={}),o=!0;var n={};Error.captureStackTrace(n,e);var r=n.stack;return o=!1,r=r.slice(t.slice||0),t.extend&&(r=this.extend._modify(n,r)),t.filter&&(r=this.filter._modify(n,r)),r};var s=new i;function a(){this._modifiers=[]}function c(){this._formater=r,this._previous=void 0}a.prototype._modify=function(e,t){for(var n=0,r=this._modifiers.length;n<r;n++)t=this._modifiers[n](e,t);return t},a.prototype.attach=function(e){this._modifiers.push(e)},a.prototype.deattach=function(e){var t=this._modifiers.indexOf(e);return-1!==t&&(this._modifiers.splice(t,1),!0)},c.prototype.replace=function(e){e?this._formater=e:this.restore()},c.prototype.restore=function(){this._formater=r,this._previous=void 0},c.prototype._backup=function(){this._previous=this._formater},c.prototype._roolback=function(){this._previous===r?this.replace(void 0):this.replace(this._previous),this._previous=void 0},Error.prepareStackTrace&&s.format.replace(Error.prepareStackTrace);var l=!1;function u(e,t){if(o)return t;if(l)return r(e,t);var n=t.concat();n=s.extend._modify(e,n),n=(n=s.filter._modify(e,n)).slice(0,Error.stackTraceLimit),Object.isExtensible(e)&&void 0===Object.getOwnPropertyDescriptor(e,"callSite")&&(e.callSite={original:t,mutated:n}),l=!0;var i=s.format._formater(e,n);return l=!1,i}Object.defineProperty(Error,"prepareStackTrace",{get:function(){return u},set:function(e){e===u?s.format._roolback():(s.format._backup(),s.format.replace(e))}}),Object.defineProperty(Error.prototype,"callSite",{get:function(){return this.stack,this.callSite},set:function(e){Object.defineProperty(this,"callSite",{value:e,writable:!0,configurable:!0})},configurable:!0}),e.exports=s},5031:(e,t)=>{function n(e){for(var t in e)this[t]=e[t]}t.get=function(e){var n=Error.stackTraceLimit;Error.stackTraceLimit=1/0;var r={},i=Error.prepareStackTrace;Error.prepareStackTrace=function(e,t){return t},Error.captureStackTrace(r,e||t.get);var o=r.stack;return Error.prepareStackTrace=i,Error.stackTraceLimit=n,o},t.parse=function(e){if(!e.stack)return[];var t=this;return e.stack.split("\n").slice(1).map((function(e){if(e.match(/^\s*[-]{4,}$/))return t._createParsedCallSite({fileName:e,lineNumber:null,functionName:null,typeName:null,methodName:null,columnNumber:null,native:null});var n=e.match(/at (?:(.+)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/);if(n){var r=null,i=null,o=null,s=null,a=null,c="native"===n[5];if(n[1]){var l=(o=n[1]).lastIndexOf(".");if("."==o[l-1]&&l--,l>0){r=o.substr(0,l),i=o.substr(l+1);var u=r.indexOf(".Module");u>0&&(o=o.substr(u+1),r=r.substr(0,u))}s=null}i&&(s=r,a=i),"<anonymous>"===i&&(a=null,o=null);var p={fileName:n[2]||null,lineNumber:parseInt(n[3],10)||null,functionName:o,typeName:s,methodName:a,columnNumber:parseInt(n[4],10)||null,native:c};return t._createParsedCallSite(p)}})).filter((function(e){return!!e}))},["this","typeName","functionName","methodName","fileName","lineNumber","columnNumber","function","evalOrigin"].forEach((function(e){n.prototype[e]=null,n.prototype["get"+e[0].toUpperCase()+e.substr(1)]=function(){return this[e]}})),["topLevel","eval","native","constructor"].forEach((function(e){n.prototype[e]=!1,n.prototype["is"+e[0].toUpperCase()+e.substr(1)]=function(){return this[e]}})),t._createParsedCallSite=function(e){return new n(e)}},27687:(e,t,n)=>{"use strict";const r=n(70857),i=n(25884),o=process.env;let s;function a(e){const t=function(e){if(!1===s)return 0;if(i("color=16m")||i("color=full")||i("color=truecolor"))return 3;if(i("color=256"))return 2;if(e&&!e.isTTY&&!0!==s)return 0;const t=s?1:0;if("win32"===process.platform){const e=r.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in o)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some((e=>e in o))||"codeship"===o.CI_NAME?1:t;if("TEAMCITY_VERSION"in o)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(o.TEAMCITY_VERSION)?1:0;if("truecolor"===o.COLORTERM)return 3;if("TERM_PROGRAM"in o){const e=parseInt((o.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(o.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(o.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(o.TERM)||"COLORTERM"in o?1:(o.TERM,t)}(e);return function(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}(t)}i("no-color")||i("no-colors")||i("color=false")?s=!1:(i("color")||i("colors")||i("color=true")||i("color=always"))&&(s=!0),"FORCE_COLOR"in o&&(s=0===o.FORCE_COLOR.length||0!==parseInt(o.FORCE_COLOR,10)),e.exports={supportsColor:a,stdout:a(process.stdout),stderr:a(process.stderr)}},32909:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExperimentationService=void 0;var r=n(67291);Object.defineProperty(t,"ExperimentationService",{enumerable:!0,get:function(){return r.ExperimentationService}})},67291:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExperimentationService=void 0;const r=n(32845),i=n(51924),o=n(45761);class s extends o.ExperimentationServiceAutoPolling{constructor(e){super(e.telemetry,e.filterProviders||[],null!=e.refetchInterval?e.refetchInterval:0,e.assignmentContextTelemetryPropertyName,e.telemetryEventName,e.storageKey,e.keyValueStorage),this.options=e,this.invokeInit()}init(){this.featureProviders=[],this.addFeatureProvider(new r.TasApiFeatureProvider(new i.HttpClient(this.options.endpoint),this.telemetry,this.filterProviders)),super.init()}}t.ExperimentationService=s,s.REFRESH_RATE_IN_MINUTES=30},45761:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExperimentationServiceAutoPolling=void 0;const r=n(1714),i=n(23257);class o extends r.ExperimentationServiceBase{constructor(e,t,n,r,o,s,a){if(super(e,r,o,s,a),this.telemetry=e,this.filterProviders=t,this.refreshRateMs=n,this.assignmentContextTelemetryPropertyName=r,this.telemetryEventName=o,this.storageKey=s,this.storage=a,n<1e3&&0!==n)throw new Error("The minimum refresh rate for polling is 1000 ms (1 second). If you wish to deactivate this auto-polling use value of 0.");n>0&&(this.pollingService=new i.PollingService(n),this.pollingService.OnPollTick((async()=>{await super.getFeaturesAsync()})))}init(){this.pollingService?this.pollingService.StartPolling(!0):super.getFeaturesAsync()}async getFeaturesAsync(e=!1){if(this.pollingService){this.pollingService.StopPolling();let t=await super.getFeaturesAsync(e);return this.pollingService.StartPolling(),t}return await super.getFeaturesAsync(e)}}t.ExperimentationServiceAutoPolling=o},1714:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExperimentationServiceBase=void 0;const r=n(48823);t.ExperimentationServiceBase=class{get features(){return this._features}set features(e){this._features=e,this.telemetry&&this.telemetry.setSharedProperty(this.assignmentContextTelemetryPropertyName,this.features.assignmentContext)}constructor(e,t,n,i,o){this.telemetry=e,this.assignmentContextTelemetryPropertyName=t,this.telemetryEventName=n,this.storageKey=i,this.storage=o,this.featuresConsumed=!1,this.cachedTelemetryEvents=[],this._features={features:[],assignmentContext:"",configs:[]},this.storageKey||(this.storageKey="ABExp.Features"),this.storage||(o=new r.MemoryKeyValueStorage),this.loadCachePromise=this.loadCachedFeatureData(),this.initializePromise=this.loadCachePromise,this.initialFetch=new Promise(((e,t)=>{this.resolveInitialFetchPromise=e}))}async getFeaturesAsync(e=!1){if(null!=this.fetchPromise){try{await this.fetchPromise}catch(e){}return this.features}if(!this.featureProviders||0===this.featureProviders.length)return Promise.resolve({features:[],assignmentContext:"",configs:[]});try{this.fetchPromise=Promise.all(this.featureProviders.map((async e=>await e.getFeatures())));const t=await this.fetchPromise;this.updateFeatures(t,e)}catch(e){}return this.fetchPromise=void 0,this.resolveInitialFetchPromise&&(this.resolveInitialFetchPromise(),this.resolveInitialFetchPromise=void 0),this.features}updateFeatures(e,t=!1){let n={features:[],assignmentContext:"",configs:[]};for(let t of e){for(let e of t.features)n.features.includes(e)||n.features.push(e);for(let e of t.configs){const t=n.configs.find((t=>t.Id===e.Id));t?t.Parameters=Object.assign(Object.assign({},t.Parameters),e.Parameters):n.configs.push(e)}n.assignmentContext+=t.assignmentContext}!t&&this.featuresConsumed||(this.features=n),this.storage&&this.storage.setValue(this.storageKey,n)}async loadCachedFeatureData(){let e;this.storage&&(e=await this.storage.getValue(this.storageKey),void 0!==e&&void 0===e.configs&&(e.configs=[])),0===this.features.features.length&&(this.features=e||{features:[],assignmentContext:"",configs:[]})}isFlightEnabled(e){return this.featuresConsumed=!0,this.PostEventToTelemetry(e),this.features.features.includes(e)}async isCachedFlightEnabled(e){return await this.loadCachePromise,this.featuresConsumed=!0,this.PostEventToTelemetry(e),this.features.features.includes(e)}async isFlightEnabledAsync(e){const t=await this.getFeaturesAsync(!0);return this.featuresConsumed=!0,this.PostEventToTelemetry(e),t.features.includes(e)}getTreatmentVariable(e,t){this.featuresConsumed=!0,this.PostEventToTelemetry(`${e}.${t}`);const n=this.features.configs.find((t=>t.Id===e));return null==n?void 0:n.Parameters[t]}async getTreatmentVariableAsync(e,t,n){if(n){const n=this.featuresConsumed,r=this.getTreatmentVariable(e,t);if(void 0!==r)return r;this.featuresConsumed=n}return await this.getFeaturesAsync(!0),this.getTreatmentVariable(e,t)}PostEventToTelemetry(e){this.cachedTelemetryEvents.includes(e)||(this.telemetry.postEvent(this.telemetryEventName,new Map([["ABExp.queriedFeature",e]])),this.cachedTelemetryEvents.push(e))}invokeInit(){this.init()}addFeatureProvider(...e){if(null!=e&&null!=this.featureProviders)for(let t of e)this.featureProviders.push(t)}}},96790:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseFeatureProvider=void 0,t.BaseFeatureProvider=class{constructor(e){this.telemetry=e,this.isFetching=!1}async getFeatures(){if(this.isFetching&&this.fetchPromise)return this.fetchPromise;this.fetchPromise=this.fetch();let e=await this.fetchPromise;return this.isFetching=!1,this.fetchPromise=void 0,e}}},54111:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FilteredFeatureProvider=void 0;const r=n(96790);class i extends r.BaseFeatureProvider{constructor(e,t){super(e),this.telemetry=e,this.filterProviders=t,this.cachedTelemetryEvents=[]}getFilters(){let e=new Map;for(let t of this.filterProviders){let n=t.getFilters();for(let t of n.keys()){let r=n.get(t);e.set(t,r)}}return e}PostEventToTelemetry(e){if(this.cachedTelemetryEvents.includes(e))return;const t=JSON.stringify(e);this.telemetry.postEvent("report-headers",new Map([["ABExp.headers",t]])),this.cachedTelemetryEvents.push(e)}}t.FilteredFeatureProvider=i},32845:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TasApiFeatureProvider=t.TASAPI_FETCHERROR_EVENTNAME=void 0;const r=n(54111);t.TASAPI_FETCHERROR_EVENTNAME="call-tas-error";const i="ErrorType";class o extends r.FilteredFeatureProvider{constructor(e,t,n){super(t,n),this.httpClient=e,this.telemetry=t,this.filterProviders=n}async fetch(){let e,n=this.getFilters(),r={};for(let e of n.keys()){const t=n.get(e);r[e]=t}try{e=await this.httpClient.get({headers:r})}catch(e){const n=e,r=new Map;n.responseReceived&&!n.responseOk?r.set(i,"ServerError"):!1===n.responseReceived?r.set(i,"NoResponse"):r.set(i,"GenericError"),this.telemetry.postEvent(t.TASAPI_FETCHERROR_EVENTNAME,r)}if(!e)throw Error(t.TASAPI_FETCHERROR_EVENTNAME);n.keys.length>0&&this.PostEventToTelemetry(r);const o=e.data;let s=o.Configs,a=[];for(let e of s)if(e.Parameters)for(let t of Object.keys(e.Parameters)){const n=t+(e.Parameters[t]?"":"cf");a.includes(n)||a.push(n)}return{features:a,assignmentContext:o.AssignmentContext,configs:s}}}t.TasApiFeatureProvider=o},51924:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HttpClient=t.FetchError=void 0;class n extends Error{constructor(e,t,n){super(e),this.responseReceived=t,this.responseOk=n}}t.FetchError=n,t.HttpClient=class{constructor(e){this.endpoint=e}async get(e){const t=await fetch(this.endpoint,{method:"GET",headers:null==e?void 0:e.headers});if(!t)throw new n("No response received",!1);if(!t.ok)throw new n("Response not ok",!0,!1);const r=await t.json();if(!r)throw new n("No data received",!1);return{data:r}}}},48823:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MemoryKeyValueStorage=void 0,t.MemoryKeyValueStorage=class{constructor(){this.storage=new Map}async getValue(e,t){return this.storage.has(e)?await Promise.resolve(this.storage.get(e)):await Promise.resolve(t||void 0)}setValue(e,t){this.storage.set(e,t)}}},23257:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PollingService=void 0,t.PollingService=class{constructor(e){this.fetchInterval=e}StopPolling(){clearInterval(this.intervalHandle),this.intervalHandle=void 0}OnPollTick(e){this.onTick=e}StartPolling(e=!1){this.intervalHandle&&this.StopPolling(),null!=this.onTick&&(e&&this.onTick().then((()=>{})).catch((()=>{})),this.intervalHandle=setInterval((async()=>{await this.onTick()}),this.fetchInterval),this.intervalHandle.unref&&this.intervalHandle.unref())}}},35083:(e,t,n)=>{const r=n(79896),i=n(16928),o=n(76982),s=n(43726),a=process.binding("constants"),c=s(),l="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",u=/XXXXXX/,p=(a.O_CREAT||a.fs.O_CREAT)|(a.O_EXCL||a.fs.O_EXCL)|(a.O_RDWR||a.fs.O_RDWR),d=a.EBADF||a.os.errno.EBADF,h=a.ENOENT||a.os.errno.ENOENT,f=[];var v=!1,g=!1;function m(e){var t=[],n=null;try{n=o.randomBytes(e)}catch(t){n=o.pseudoRandomBytes(e)}for(var r=0;r<e;r++)t.push(l[n[r]%l.length]);return t.join("")}function y(e){return void 0===e}function b(e,t){return"function"==typeof e?[t||{},e]:y(e)?[{},t]:[e,t]}function _(e){if(e.name)return i.join(e.dir||c,e.name);if(e.template)return e.template.replace(u,m(6));const t=[e.prefix||"tmp-",process.pid,m(12),e.postfix||""].join("");return i.join(e.dir||c,t)}function E(e,t){var n=b(e,t),i=n[0],o=n[1],s=i.name?1:i.tries||3;return isNaN(s)||s<0?o(new Error("Invalid tries")):i.template&&!i.template.match(u)?o(new Error("Invalid template provided")):void function e(){const t=_(i);r.stat(t,(function(n){if(!n)return s-- >0?e():o(new Error("Could not get a unique tmp filename, max tries reached "+t));o(null,t)}))}()}function S(e){var t=b(e)[0],n=t.name?1:t.tries||3;if(isNaN(n)||n<0)throw new Error("Invalid tries");if(t.template&&!t.template.match(u))throw new Error("Invalid template provided");do{const e=_(t);try{r.statSync(e)}catch(t){return e}}while(n-- >0);throw new Error("Could not get a unique tmp filename, max tries reached")}function w(e){const t=[e];do{for(var n=t.pop(),o=!1,s=r.readdirSync(n),a=0,c=s.length;a<c;a++){var l=i.join(n,s[a]);r.lstatSync(l).isDirectory()?(o||(o=!0,t.push(n)),t.push(l)):r.unlinkSync(l)}o||r.rmdirSync(n)}while(0!==t.length)}function P(e,t,n){const i=C((function(e){try{0<=e[0]&&r.closeSync(e[0])}catch(e){if(!O(e,-d,"EBADF")&&!I(e))throw e}try{r.unlinkSync(e[1])}catch(e){if(!I(e))throw e}}),[t,e]);return n.keep||f.unshift(i),i}function T(e,t){const n=C(t.unsafeCleanup?w:r.rmdirSync.bind(r),e);return t.keep||f.unshift(n),n}function C(e,t){var n=!1;return function r(i){if(!n){const i=f.indexOf(r);i>=0&&f.splice(i,1),n=!0,e(t)}i&&i(null)}}function x(){if(!g||v)for(;f.length;)try{f[0].call(null)}catch(e){}}function I(e){return O(e,-h,"ENOENT")}function O(e,t,n){return e.code==t||e.code==n}const R=process.versions.node.split(".").map((function(e){return parseInt(e,10)}));0===R[0]&&(R[1]<9||9===R[1]&&R[2]<5)&&process.addListener("uncaughtException",(function(e){throw g=!0,x(),e})),process.addListener("exit",(function(e){e&&(g=!0),x()})),e.exports.tmpdir=c,e.exports.dir=function(e,t){var n=b(e,t),i=n[0],o=n[1];E(i,(function(e,t){if(e)return o(e);r.mkdir(t,i.mode||448,(function(e){if(e)return o(e);o(null,t,T(t,i))}))}))},e.exports.dirSync=function(e){var t=b(e)[0];const n=S(t);return r.mkdirSync(n,t.mode||448),{name:n,removeCallback:T(n,t)}},e.exports.file=function(e,t){var n=b(e,t),i=n[0],o=n[1];i.postfix=y(i.postfix)?".tmp":i.postfix,E(i,(function(e,t){if(e)return o(e);r.open(t,p,i.mode||384,(function(e,n){return e?o(e):i.discardDescriptor?r.close(n,(function(e){if(e){try{r.unlinkSync(t)}catch(t){I(t)||(e=t)}return o(e)}o(null,t,void 0,P(t,-1,i))})):i.detachDescriptor?o(null,t,n,P(t,-1,i)):void o(null,t,n,P(t,n,i))}))}))},e.exports.fileSync=function(e){var t=b(e)[0];t.postfix=t.postfix||".tmp";const n=t.discardDescriptor||t.detachDescriptor,i=S(t);var o=r.openSync(i,p,t.mode||384);return t.discardDescriptor&&(r.closeSync(o),o=void 0),{name:i,fd:o,removeCallback:P(i,n?-1:o,t)}},e.exports.tmpName=E,e.exports.tmpNameSync=S,e.exports.setGracefulCleanup=function(){v=!0}},15215:(e,t,n)=>{"use strict";n.d(t,{C6:()=>i,Cl:()=>o});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)}},52107:(e,t,n)=>{"use strict";Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return r.default}});i(n(28610)),i(n(33208));var r=i(n(74061));i(n(13358)),i(n(26348)),i(n(70051)),i(n(20129)),i(n(12298)),i(n(42356));function i(e){return e&&e.__esModule?e:{default:e}}},18435:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(76982))&&r.__esModule?r:{default:r};t.default=function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),i.default.createHash("md5").update(e).digest()}},26348:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default="00000000-0000-0000-0000-000000000000"},42356:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(20129))&&r.__esModule?r:{default:r};t.default=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");let t;const n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n}},996:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},9614:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return s>o.length-16&&(i.default.randomFillSync(o),s=0),o.slice(s,s+=16)};var r,i=(r=n(76982))&&r.__esModule?r:{default:r};const o=new Uint8Array(256);let s=o.length},622:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(76982))&&r.__esModule?r:{default:r};t.default=function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),i.default.createHash("sha1").update(e).digest()}},12298:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(20129))&&r.__esModule?r:{default:r};const o=[];for(let e=0;e<256;++e)o.push((e+256).toString(16).substr(1));t.default=function(e,t=0){const n=(o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]).toLowerCase();if(!(0,i.default)(n))throw TypeError("Stringified UUID is invalid");return n}},28610:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(9614)),i=o(n(12298));function o(e){return e&&e.__esModule?e:{default:e}}let s,a,c=0,l=0;t.default=function(e,t,n){let o=t&&n||0;const u=t||new Array(16);let p=(e=e||{}).node||s,d=void 0!==e.clockseq?e.clockseq:a;if(null==p||null==d){const t=e.random||(e.rng||r.default)();null==p&&(p=s=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==d&&(d=a=16383&(t[6]<<8|t[7]))}let h=void 0!==e.msecs?e.msecs:Date.now(),f=void 0!==e.nsecs?e.nsecs:l+1;const v=h-c+(f-l)/1e4;if(v<0&&void 0===e.clockseq&&(d=d+1&16383),(v<0||h>c)&&void 0===e.nsecs&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=h,l=f,a=d,h+=122192928e5;const g=(1e4*(268435455&h)+f)%4294967296;u[o++]=g>>>24&255,u[o++]=g>>>16&255,u[o++]=g>>>8&255,u[o++]=255&g;const m=h/4294967296*1e4&268435455;u[o++]=m>>>8&255,u[o++]=255&m,u[o++]=m>>>24&15|16,u[o++]=m>>>16&255,u[o++]=d>>>8|128,u[o++]=255&d;for(let e=0;e<6;++e)u[o+e]=p[e];return t||(0,i.default)(u)}},33208:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(31525)),i=o(n(18435));function o(e){return e&&e.__esModule?e:{default:e}}var s=(0,r.default)("v3",48,i.default);t.default=s},31525:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){function o(e,o,s,a){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof o&&(o=(0,i.default)(o)),16!==o.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+e.length);if(c.set(o),c.set(e,o.length),c=n(c),c[6]=15&c[6]|t,c[8]=63&c[8]|128,s){a=a||0;for(let e=0;e<16;++e)s[a+e]=c[e];return s}return(0,r.default)(c)}try{o.name=e}catch(e){}return o.DNS=s,o.URL=a,o},t.URL=t.DNS=void 0;var r=o(n(12298)),i=o(n(42356));function o(e){return e&&e.__esModule?e:{default:e}}const s="6ba7b810-9dad-11d1-80b4-00c04fd430c8";t.DNS=s;const a="6ba7b811-9dad-11d1-80b4-00c04fd430c8";t.URL=a},74061:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(9614)),i=o(n(12298));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t,n){const o=(e=e||{}).random||(e.rng||r.default)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=o[e];return t}return(0,i.default)(o)}},13358:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(31525)),i=o(n(622));function o(e){return e&&e.__esModule?e:{default:e}}var s=(0,r.default)("v5",80,i.default);t.default=s},20129:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(996))&&r.__esModule?r:{default:r};t.default=function(e){return"string"==typeof e&&i.default.test(e)}},70051:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(20129))&&r.__esModule?r:{default:r};t.default=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}},53281:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressType=t.ProgressToken=t.createMessageConnection=t.NullLogger=t.ConnectionOptions=t.ConnectionStrategy=t.AbstractMessageBuffer=t.WriteableStreamMessageWriter=t.AbstractMessageWriter=t.MessageWriter=t.ReadableStreamMessageReader=t.AbstractMessageReader=t.MessageReader=t.SharedArrayReceiverStrategy=t.SharedArraySenderStrategy=t.CancellationToken=t.CancellationTokenSource=t.Emitter=t.Event=t.Disposable=t.LRUCache=t.Touch=t.LinkedMap=t.ParameterStructures=t.NotificationType9=t.NotificationType8=t.NotificationType7=t.NotificationType6=t.NotificationType5=t.NotificationType4=t.NotificationType3=t.NotificationType2=t.NotificationType1=t.NotificationType0=t.NotificationType=t.ErrorCodes=t.ResponseError=t.RequestType9=t.RequestType8=t.RequestType7=t.RequestType6=t.RequestType5=t.RequestType4=t.RequestType3=t.RequestType2=t.RequestType1=t.RequestType0=t.RequestType=t.Message=t.RAL=void 0,t.MessageStrategy=t.CancellationStrategy=t.CancellationSenderStrategy=t.CancellationReceiverStrategy=t.ConnectionError=t.ConnectionErrors=t.LogTraceNotification=t.SetTraceNotification=t.TraceFormat=t.TraceValues=t.TraceValue=t.Trace=void 0;const i=n(96177);Object.defineProperty(t,"Message",{enumerable:!0,get:function(){return i.Message}}),Object.defineProperty(t,"RequestType",{enumerable:!0,get:function(){return i.RequestType}}),Object.defineProperty(t,"RequestType0",{enumerable:!0,get:function(){return i.RequestType0}}),Object.defineProperty(t,"RequestType1",{enumerable:!0,get:function(){return i.RequestType1}}),Object.defineProperty(t,"RequestType2",{enumerable:!0,get:function(){return i.RequestType2}}),Object.defineProperty(t,"RequestType3",{enumerable:!0,get:function(){return i.RequestType3}}),Object.defineProperty(t,"RequestType4",{enumerable:!0,get:function(){return i.RequestType4}}),Object.defineProperty(t,"RequestType5",{enumerable:!0,get:function(){return i.RequestType5}}),Object.defineProperty(t,"RequestType6",{enumerable:!0,get:function(){return i.RequestType6}}),Object.defineProperty(t,"RequestType7",{enumerable:!0,get:function(){return i.RequestType7}}),Object.defineProperty(t,"RequestType8",{enumerable:!0,get:function(){return i.RequestType8}}),Object.defineProperty(t,"RequestType9",{enumerable:!0,get:function(){return i.RequestType9}}),Object.defineProperty(t,"ResponseError",{enumerable:!0,get:function(){return i.ResponseError}}),Object.defineProperty(t,"ErrorCodes",{enumerable:!0,get:function(){return i.ErrorCodes}}),Object.defineProperty(t,"NotificationType",{enumerable:!0,get:function(){return i.NotificationType}}),Object.defineProperty(t,"NotificationType0",{enumerable:!0,get:function(){return i.NotificationType0}}),Object.defineProperty(t,"NotificationType1",{enumerable:!0,get:function(){return i.NotificationType1}}),Object.defineProperty(t,"NotificationType2",{enumerable:!0,get:function(){return i.NotificationType2}}),Object.defineProperty(t,"NotificationType3",{enumerable:!0,get:function(){return i.NotificationType3}}),Object.defineProperty(t,"NotificationType4",{enumerable:!0,get:function(){return i.NotificationType4}}),Object.defineProperty(t,"NotificationType5",{enumerable:!0,get:function(){return i.NotificationType5}}),Object.defineProperty(t,"NotificationType6",{enumerable:!0,get:function(){return i.NotificationType6}}),Object.defineProperty(t,"NotificationType7",{enumerable:!0,get:function(){return i.NotificationType7}}),Object.defineProperty(t,"NotificationType8",{enumerable:!0,get:function(){return i.NotificationType8}}),Object.defineProperty(t,"NotificationType9",{enumerable:!0,get:function(){return i.NotificationType9}}),Object.defineProperty(t,"ParameterStructures",{enumerable:!0,get:function(){return i.ParameterStructures}});const o=n(93352);Object.defineProperty(t,"LinkedMap",{enumerable:!0,get:function(){return o.LinkedMap}}),Object.defineProperty(t,"LRUCache",{enumerable:!0,get:function(){return o.LRUCache}}),Object.defineProperty(t,"Touch",{enumerable:!0,get:function(){return o.Touch}});const s=n(34019);Object.defineProperty(t,"Disposable",{enumerable:!0,get:function(){return s.Disposable}});const a=n(62676);Object.defineProperty(t,"Event",{enumerable:!0,get:function(){return a.Event}}),Object.defineProperty(t,"Emitter",{enumerable:!0,get:function(){return a.Emitter}});const c=n(59850);Object.defineProperty(t,"CancellationTokenSource",{enumerable:!0,get:function(){return c.CancellationTokenSource}}),Object.defineProperty(t,"CancellationToken",{enumerable:!0,get:function(){return c.CancellationToken}});const l=n(74996);Object.defineProperty(t,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return l.SharedArraySenderStrategy}}),Object.defineProperty(t,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return l.SharedArrayReceiverStrategy}});const u=n(59085);Object.defineProperty(t,"MessageReader",{enumerable:!0,get:function(){return u.MessageReader}}),Object.defineProperty(t,"AbstractMessageReader",{enumerable:!0,get:function(){return u.AbstractMessageReader}}),Object.defineProperty(t,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return u.ReadableStreamMessageReader}});const p=n(23193);Object.defineProperty(t,"MessageWriter",{enumerable:!0,get:function(){return p.MessageWriter}}),Object.defineProperty(t,"AbstractMessageWriter",{enumerable:!0,get:function(){return p.AbstractMessageWriter}}),Object.defineProperty(t,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return p.WriteableStreamMessageWriter}});const d=n(89244);Object.defineProperty(t,"AbstractMessageBuffer",{enumerable:!0,get:function(){return d.AbstractMessageBuffer}});const h=n(90577);Object.defineProperty(t,"ConnectionStrategy",{enumerable:!0,get:function(){return h.ConnectionStrategy}}),Object.defineProperty(t,"ConnectionOptions",{enumerable:!0,get:function(){return h.ConnectionOptions}}),Object.defineProperty(t,"NullLogger",{enumerable:!0,get:function(){return h.NullLogger}}),Object.defineProperty(t,"createMessageConnection",{enumerable:!0,get:function(){return h.createMessageConnection}}),Object.defineProperty(t,"ProgressToken",{enumerable:!0,get:function(){return h.ProgressToken}}),Object.defineProperty(t,"ProgressType",{enumerable:!0,get:function(){return h.ProgressType}}),Object.defineProperty(t,"Trace",{enumerable:!0,get:function(){return h.Trace}}),Object.defineProperty(t,"TraceValue",{enumerable:!0,get:function(){return h.TraceValue}}),Object.defineProperty(t,"TraceFormat",{enumerable:!0,get:function(){return h.TraceFormat}}),Object.defineProperty(t,"SetTraceNotification",{enumerable:!0,get:function(){return h.SetTraceNotification}}),Object.defineProperty(t,"LogTraceNotification",{enumerable:!0,get:function(){return h.LogTraceNotification}}),Object.defineProperty(t,"ConnectionErrors",{enumerable:!0,get:function(){return h.ConnectionErrors}}),Object.defineProperty(t,"ConnectionError",{enumerable:!0,get:function(){return h.ConnectionError}}),Object.defineProperty(t,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return h.CancellationReceiverStrategy}}),Object.defineProperty(t,"CancellationSenderStrategy",{enumerable:!0,get:function(){return h.CancellationSenderStrategy}}),Object.defineProperty(t,"CancellationStrategy",{enumerable:!0,get:function(){return h.CancellationStrategy}}),Object.defineProperty(t,"MessageStrategy",{enumerable:!0,get:function(){return h.MessageStrategy}}),Object.defineProperty(t,"TraceValues",{enumerable:!0,get:function(){return h.TraceValues}});const f=r(n(69590));t.RAL=f.default},59850:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationTokenSource=t.CancellationToken=void 0;const a=s(n(69590)),c=o(n(78585)),l=n(62676);var u;!function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:l.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:l.Event.None}),e.is=function(t){const n=t;return n&&(n===e.None||n===e.Cancelled||c.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}}(u||(t.CancellationToken=u={}));const p=Object.freeze((function(e,t){const n=(0,a.default)().timer.setTimeout(e.bind(t),0);return{dispose(){n.dispose()}}}));class d{_isCancelled=!1;_emitter;cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?p:(this._emitter||(this._emitter=new l.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}t.CancellationTokenSource=class{_token;get token(){return this._token||(this._token=new d),this._token}cancel(){this._token?this._token.cancel():this._token=u.Cancelled}dispose(){this._token?this._token instanceof d&&this._token.dispose():this._token=u.None}}},90577:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createMessageConnection=t.ConnectionOptions=t.MessageStrategy=t.CancellationStrategy=t.CancellationSenderStrategy=t.CancellationReceiverStrategy=t.RequestCancellationReceiverStrategy=t.IdCancellationReceiverStrategy=t.ConnectionStrategy=t.ConnectionError=t.ConnectionErrors=t.LogTraceNotification=t.SetTraceNotification=t.TraceFormat=t.TraceValues=t.TraceValue=t.Trace=t.NullLogger=t.ProgressType=t.ProgressToken=void 0;const a=s(n(69590)),c=o(n(78585)),l=n(96177),u=n(93352),p=n(62676),d=n(59850);var h,f,v,g,m,y,b,_,E,S,w,P,T,C,x,I,O,R,D;!function(e){e.type=new l.NotificationType("$/cancelRequest")}(h||(h={})),function(e){e.is=function(e){return"string"==typeof e||"number"==typeof e}}(f||(t.ProgressToken=f={})),function(e){e.type=new l.NotificationType("$/progress")}(v||(v={})),t.ProgressType=class{__;_pr;constructor(){}},function(e){e.is=function(e){return c.func(e)}}(g||(g={})),t.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}}),function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Compact=2]="Compact",e[e.Verbose=3]="Verbose"}(m||(t.Trace=m={})),function(e){e.Off="off",e.Messages="messages",e.Compact="compact",e.Verbose="verbose"}(y||(t.TraceValue=y={})),t.TraceValues=y,function(e){e.fromString=function(t){if(!c.string(t))return e.Off;switch(t=t.toLowerCase()){case"off":default:return e.Off;case"messages":return e.Messages;case"compact":return e.Compact;case"verbose":return e.Verbose}},e.toString=function(t){switch(t){case e.Off:return"off";case e.Messages:return"messages";case e.Compact:return"compact";case e.Verbose:return"verbose";default:return"off"}}}(m||(t.Trace=m={})),function(e){e.Text="text",e.JSON="json"}(b||(t.TraceFormat=b={})),function(e){e.fromString=function(t){return c.string(t)&&"json"===(t=t.toLowerCase())?e.JSON:e.Text}}(b||(t.TraceFormat=b={})),function(e){e.type=new l.NotificationType("$/setTrace")}(_||(t.SetTraceNotification=_={})),function(e){e.type=new l.NotificationType("$/logTrace")}(E||(t.LogTraceNotification=E={})),function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"}(S||(t.ConnectionErrors=S={}));class k extends Error{code;constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,k.prototype)}}t.ConnectionError=k,function(e){e.is=function(e){const t=e;return t&&c.func(t.cancelUndispatched)}}(w||(t.ConnectionStrategy=w={})),function(e){e.is=function(e){const t=e;return t&&(void 0===t.kind||"id"===t.kind)&&c.func(t.createCancellationTokenSource)&&(void 0===t.dispose||c.func(t.dispose))}}(P||(t.IdCancellationReceiverStrategy=P={})),function(e){e.is=function(e){const t=e;return t&&"request"===t.kind&&c.func(t.createCancellationTokenSource)&&(void 0===t.dispose||c.func(t.dispose))}}(T||(t.RequestCancellationReceiverStrategy=T={})),function(e){e.Message=Object.freeze({createCancellationTokenSource:e=>new d.CancellationTokenSource}),e.is=function(e){return P.is(e)||T.is(e)}}(C||(t.CancellationReceiverStrategy=C={})),function(e){e.Message=Object.freeze({sendCancellation:(e,t)=>e.sendNotification(h.type,{id:t}),cleanup(e){}}),e.is=function(e){const t=e;return t&&c.func(t.sendCancellation)&&c.func(t.cleanup)}}(x||(t.CancellationSenderStrategy=x={})),function(e){e.Message=Object.freeze({receiver:C.Message,sender:x.Message}),e.is=function(e){const t=e;return t&&C.is(t.receiver)&&x.is(t.sender)}}(I||(t.CancellationStrategy=I={})),function(e){e.is=function(e){const t=e;return t&&c.func(t.handleMessage)}}(O||(t.MessageStrategy=O={})),function(e){e.is=function(e){const t=e;return t&&(I.is(t.cancellationStrategy)||w.is(t.connectionStrategy)||O.is(t.messageStrategy)||c.number(t.maxParallelism))}}(R||(t.ConnectionOptions=R={})),function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"}(D||(D={})),t.createMessageConnection=function(e,n,r,i){const o=void 0!==r?r:t.NullLogger;let s=0,y=0,w=0;const T="2.0",C=i?.maxParallelism??-1;let x,R=0;const A=new Map;let N;const j=new Map,M=new Map;let L,F,V=new u.LinkedMap,U=new Map,H=new Set,W=new Map,q=m.Off,B=b.Text,$=D.New;const K=new p.Emitter,G=new p.Emitter,z=new p.Emitter,Y=new p.Emitter,X=new p.Emitter,J=i&&i.cancellationStrategy?i.cancellationStrategy:I.Message;function Q(e){}function Z(){return $===D.Listening}function ee(){return $===D.Closed}function te(){return $===D.Disposed}function ne(){$!==D.New&&$!==D.Listening||($=D.Closed,G.fire(void 0))}function re(e){if(null===e)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+e.toString()}function ie(){L||0===V.size||-1!==C&&R>=C||(L=(0,a.default)().timer.setImmediate((async()=>{if(L=void 0,0===V.size)return;if(-1!==C&&R>=C)return;const e=V.shift();let t;try{R++;const n=i?.messageStrategy;t=O.is(n)?n.handleMessage(e,oe):oe(e)}catch(e){o.error(`Processing message queue failed: ${e.toString()}`)}finally{t instanceof Promise?t.then((()=>{R--,ie()})).catch((e=>{o.error(`Processing message queue failed: ${e.toString()}`)})):R--,ie()}})))}async function oe(e){return l.Message.isRequest(e)?async function(e){if(te())return Promise.resolve();function t(t,r,i){const o={jsonrpc:T,id:e.id};return t instanceof l.ResponseError?o.error=t.toJson():o.result=void 0===t?null:t,le(o,r,i),n.write(o)}function r(t,r,i){const o={jsonrpc:T,id:e.id,error:t.toJson()};return le(o,r,i),n.write(o)}!function(e){if(q!==m.Off&&F)if(B===b.Text){let t;q!==m.Verbose&&q!==m.Compact||!e.params||(t=`Params: ${ce(e.params)}\n\n`),F.log(`Received request '${e.method} - (${e.id})'.`,t)}else pe("receive-request",e)}(e);const i=A.get(e.method);let o,s;i&&(o=i.type,s=i.handler);const a=Date.now();if(s||x){const n=e.id??String(Date.now()),i=P.is(J.receiver)?J.receiver.createCancellationTokenSource(n):J.receiver.createCancellationTokenSource(e);null!==e.id&&H.has(e.id)&&i.cancel(),null!==e.id&&W.set(n,i);try{let n;if(s)if(void 0===e.params){if(void 0!==o&&0!==o.numberOfParams)return r(new l.ResponseError(l.ErrorCodes.InvalidParams,`Request ${e.method} defines ${o.numberOfParams} params but received none.`),e.method,a);n=s(i.token)}else if(Array.isArray(e.params)){if(void 0!==o&&o.parameterStructures===l.ParameterStructures.byName)return r(new l.ResponseError(l.ErrorCodes.InvalidParams,`Request ${e.method} defines parameters by name but received parameters by position`),e.method,a);n=s(...e.params,i.token)}else{if(void 0!==o&&o.parameterStructures===l.ParameterStructures.byPosition)return r(new l.ResponseError(l.ErrorCodes.InvalidParams,`Request ${e.method} defines parameters by position but received parameters by name`),e.method,a);n=s(e.params,i.token)}else x&&(n=x(e.method,e.params,i.token));const c=await n;await t(c,e.method,a)}catch(n){n instanceof l.ResponseError?await t(n,e.method,a):n&&c.string(n.message)?await r(new l.ResponseError(l.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${n.message}`),e.method,a):await r(new l.ResponseError(l.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,a)}finally{W.delete(n)}}else await r(new l.ResponseError(l.ErrorCodes.MethodNotFound,`Unhandled method ${e.method}`),e.method,a)}(e):l.Message.isNotification(e)?async function(e){if(te())return;let t,n;if(e.method===h.type.method){const t=e.params.id;return H.delete(t),void ue(e)}{const r=j.get(e.method);r&&(n=r.handler,t=r.type)}if(n||N)try{if(ue(e),n)if(void 0===e.params)void 0!==t&&0!==t.numberOfParams&&t.parameterStructures!==l.ParameterStructures.byName&&o.error(`Notification ${e.method} defines ${t.numberOfParams} params but received none.`),await n();else if(Array.isArray(e.params)){const r=e.params;e.method===v.type.method&&2===r.length&&f.is(r[0])?await n({token:r[0],value:r[1]}):(void 0!==t&&(t.parameterStructures===l.ParameterStructures.byName&&o.error(`Notification ${e.method} defines parameters by name but received parameters by position`),t.numberOfParams!==e.params.length&&o.error(`Notification ${e.method} defines ${t.numberOfParams} params but received ${r.length} arguments`)),await n(...r))}else void 0!==t&&t.parameterStructures===l.ParameterStructures.byPosition&&o.error(`Notification ${e.method} defines parameters by position but received parameters by name`),await n(e.params);else N&&await N(e.method,e.params)}catch(t){t.message?o.error(`Notification handler '${e.method}' failed with message: ${t.message}`):o.error(`Notification handler '${e.method}' failed unexpectedly.`)}else z.fire(e)}(e):l.Message.isResponse(e)?ae(e):function(e){if(!e)return void o.error("Received empty message.");o.error(`Received message which is neither a response nor a notification message:\n${JSON.stringify(e,null,4)}`);const t=e;if(c.string(t.id)||c.number(t.id)){const e=t.id,n=U.get(e);n&&n.reject(new Error("The received response has neither a result nor an error property."))}}(e)}e.onClose(ne),e.onError((function(e){K.fire([e,void 0,void 0])})),n.onClose(ne),n.onError((function(e){K.fire(e)}));const se=e=>{try{if(l.Message.isNotification(e)&&e.method===h.type.method){const t=e.params.id,r=re(t),s=V.get(r);if(l.Message.isRequest(s)){const a=i?.connectionStrategy,c=a&&a.cancelUndispatched?a.cancelUndispatched(s,Q):void 0;if(c&&(void 0!==c.error||void 0!==c.result))return V.delete(r),W.delete(t),c.id=s.id,le(c,e.method,Date.now()),void n.write(c).catch((()=>o.error("Sending response for canceled message failed.")))}const a=W.get(t);if(void 0!==a)return a.cancel(),void ue(e);H.add(t)}!function(e,t){var n;l.Message.isRequest(t)?e.set(re(t.id),t):l.Message.isResponse(t)?-1===C?e.set(null===(n=t.id)?"res-unknown-"+(++w).toString():"res-"+n.toString(),t):ae(t):e.set("not-"+(++y).toString(),t)}(V,e)}finally{ie()}};function ae(e){if(!te())if(null===e.id)e.error?o.error(`Received response message without id: Error is: \n${JSON.stringify(e.error,void 0,4)}`):o.error("Received response message without id. No further error information provided.");else{const t=e.id,n=U.get(t);if(function(e,t){if(q!==m.Off&&F)if(B===b.Text){let n;if(q!==m.Verbose&&q!==m.Compact||(e.error&&e.error.data?n=`Error data: ${ce(e.error.data)}\n\n`:e.result?n=`Result: ${ce(e.result)}\n\n`:void 0===e.error&&(n="No result returned.\n\n")),t){const r=e.error?` Request failed: ${e.error.message} (${e.error.code}).`:"";F.log(`Received response '${t.method} - (${e.id})' in ${Date.now()-t.timerStart}ms.${r}`,n)}else F.log(`Received response ${e.id} without active response promise.`,n)}else pe("receive-response",e)}(e,n),void 0!==n){U.delete(t);try{if(e.error){const t=e.error;n.reject(new l.ResponseError(t.code,t.message,t.data))}else{if(void 0===e.result)throw new Error("Should never happen.");n.resolve(e.result)}}catch(e){e.message?o.error(`Response handler '${n.method}' failed with message: ${e.message}`):o.error(`Response handler '${n.method}' failed unexpectedly.`)}}}}function ce(e){if(null!=e)switch(q){case m.Verbose:return JSON.stringify(e,null,4);case m.Compact:return JSON.stringify(e);default:return}}function le(e,t,n){if(q!==m.Off&&F)if(B===b.Text){let r;q!==m.Verbose&&q!==m.Compact||(e.error&&e.error.data?r=`Error data: ${ce(e.error.data)}\n\n`:e.result?r=`Result: ${ce(e.result)}\n\n`:void 0===e.error&&(r="No result returned.\n\n")),F.log(`Sending response '${t} - (${e.id})'. Processing request took ${Date.now()-n}ms`,r)}else pe("send-response",e)}function ue(e){if(q!==m.Off&&F&&e.method!==E.type.method)if(B===b.Text){let t;q!==m.Verbose&&q!==m.Compact||(t=e.params?`Params: ${ce(e.params)}\n\n`:"No parameters provided.\n\n"),F.log(`Received notification '${e.method}'.`,t)}else pe("receive-notification",e)}function pe(e,t){if(!F||q===m.Off)return;const n={isLSPMessage:!0,type:e,message:t,timestamp:Date.now()};F.log(n)}function de(){if(ee())throw new k(S.Closed,"Connection is closed.");if(te())throw new k(S.Disposed,"Connection is disposed.")}function he(e){return void 0===e?null:e}function fe(e){return null===e?void 0:e}function ve(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function ge(e,t){switch(e){case l.ParameterStructures.auto:return ve(t)?fe(t):[he(t)];case l.ParameterStructures.byName:if(!ve(t))throw new Error("Received parameters by name but param is not an object literal.");return fe(t);case l.ParameterStructures.byPosition:return[he(t)];default:throw new Error(`Unknown parameter structure ${e.toString()}`)}}function me(e,t){let n;const r=e.numberOfParams;switch(r){case 0:n=void 0;break;case 1:n=ge(e.parameterStructures,t[0]);break;default:n=[];for(let e=0;e<t.length&&e<r;e++)n.push(he(t[e]));if(t.length<r)for(let e=t.length;e<r;e++)n.push(null)}return n}const ye={sendNotification:(e,...t)=>{let r,i;if(de(),c.string(e)){r=e;const n=t[0];let o=0,s=l.ParameterStructures.auto;l.ParameterStructures.is(n)&&(o=1,s=n);const a=t.length,c=a-o;switch(c){case 0:i=void 0;break;case 1:i=ge(s,t[o]);break;default:if(s===l.ParameterStructures.byName)throw new Error(`Received ${c} parameters for 'by Name' notification parameter structure.`);i=t.slice(o,a).map((e=>he(e)))}}else{const n=t;r=e.method,i=me(e,n)}const s={jsonrpc:T,method:r,params:i};return function(e){if(q!==m.Off&&F)if(B===b.Text){let t;q!==m.Verbose&&q!==m.Compact||(t=e.params?`Params: ${ce(e.params)}\n\n`:"No parameters provided.\n\n"),F.log(`Sending notification '${e.method}'.`,t)}else pe("send-notification",e)}(s),n.write(s).catch((e=>{throw o.error("Sending notification failed."),e}))},onNotification:(e,t)=>{let n;return de(),c.func(e)?N=e:t&&(c.string(e)?(n=e,j.set(e,{type:void 0,handler:t})):(n=e.method,j.set(e.method,{type:e,handler:t}))),{dispose:()=>{void 0!==n?j.delete(n):N=void 0}}},onProgress:(e,t,n)=>{if(M.has(t))throw new Error(`Progress handler for token ${t} already registered`);return M.set(t,n),{dispose:()=>{M.delete(t)}}},sendProgress:(e,t,n)=>ye.sendNotification(v.type,{token:t,value:n}),onUnhandledProgress:Y.event,sendRequest:(e,...t)=>{function r(e,t){const n=J.sender.sendCancellation(e,t);void 0===n?o.log(`Received no promise from cancellation strategy when cancelling id ${t}`):n.catch((()=>{o.log(`Sending cancellation messages for id ${t} failed.`)}))}let i,a,u;if(de(),function(){if(!Z())throw new Error("Call listen() first.")}(),c.string(e)){i=e;const n=t[0],r=t[t.length-1];let o=0,s=l.ParameterStructures.auto;l.ParameterStructures.is(n)&&(o=1,s=n);let c=t.length;d.CancellationToken.is(r)&&(c-=1,u=r);const p=c-o;switch(p){case 0:a=void 0;break;case 1:a=ge(s,t[o]);break;default:if(s===l.ParameterStructures.byName)throw new Error(`Received ${p} parameters for 'by Name' request parameter structure.`);a=t.slice(o,c).map((e=>he(e)))}}else{const n=t;i=e.method,a=me(e,n);const r=e.numberOfParams;u=d.CancellationToken.is(n[r])?n[r]:void 0}const p=s++;let h,f=!1;void 0!==u&&(u.isCancellationRequested?f=!0:h=u.onCancellationRequested((()=>{r(ye,p)})));const v={jsonrpc:T,id:p,method:i,params:a};return function(e){if(q!==m.Off&&F)if(B===b.Text){let t;q!==m.Verbose&&q!==m.Compact||!e.params||(t=`Params: ${ce(e.params)}\n\n`),F.log(`Sending request '${e.method} - (${e.id})'.`,t)}else pe("send-request",e)}(v),"function"==typeof J.sender.enableCancellation&&J.sender.enableCancellation(v),new Promise((async(e,t)=>{const s={method:i,timerStart:Date.now(),resolve:t=>{e(t),J.sender.cleanup(p),h?.dispose()},reject:e=>{t(e),J.sender.cleanup(p),h?.dispose()}};try{U.set(p,s),await n.write(v),f&&r(ye,p)}catch(e){throw U.delete(p),s.reject(new l.ResponseError(l.ErrorCodes.MessageWriteError,e.message?e.message:"Unknown reason")),o.error("Sending request failed."),e}}))},onRequest:(e,t)=>{de();let n=null;return g.is(e)?(n=void 0,x=e):c.string(e)?(n=null,void 0!==t&&(n=e,A.set(e,{handler:t,type:void 0}))):void 0!==t&&(n=e.method,A.set(e.method,{type:e,handler:t})),{dispose:()=>{null!==n&&(void 0!==n?A.delete(n):x=void 0)}}},hasPendingResponse:()=>U.size>0,trace:async(e,t,n)=>{let r=!1,i=b.Text;void 0!==n&&(c.boolean(n)?r=n:(r=n.sendNotification||!1,i=n.traceFormat||b.Text)),q=e,B=i,F=q===m.Off?void 0:t,!r||ee()||te()||await ye.sendNotification(_.type,{value:m.toString(e)})},onError:K.event,onClose:G.event,onUnhandledNotification:z.event,onDispose:X.event,end:()=>{n.end()},dispose:()=>{if(te())return;$=D.Disposed,X.fire(void 0);const t=new l.ResponseError(l.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(const e of U.values())e.reject(t);U=new Map,W=new Map,H=new Set,V=new u.LinkedMap,c.func(n.dispose)&&n.dispose(),c.func(e.dispose)&&e.dispose()},listen:()=>{de(),function(){if(Z())throw new k(S.AlreadyListening,"Connection is already listening")}(),$=D.Listening,e.listen(se)},inspect:()=>{(0,a.default)().console.log("inspect")}};return ye.onNotification(E.type,(e=>{if(q===m.Off||!F)return;const t=q===m.Verbose||q===m.Compact;F.log(e.message,t?e.verbose:void 0)})),ye.onNotification(v.type,(async e=>{const t=M.get(e.token);t?await t(e.value):Y.fire(e)})),ye}},34019:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Disposable=void 0,function(e){e.create=function(e){return{dispose:e}}}(n||(t.Disposable=n={}))},62676:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Emitter=t.Event=void 0;const i=r(n(69590));var o;!function(e){const t={dispose(){}};e.None=function(){return t}}(o||(t.Event=o={}));class s{_callbacks;_contexts;add(e,t=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(!this._callbacks)return;let n=!1;for(let r=0,i=this._callbacks.length;r<i;r++)if(this._callbacks[r]===e){if(this._contexts[r]===t)return this._callbacks.splice(r,1),void this._contexts.splice(r,1);n=!0}if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];const t=[],n=this._callbacks.slice(0),r=this._contexts.slice(0);for(let o=0,s=n.length;o<s;o++)try{t.push(n[o].apply(r[o],e))}catch(e){(0,i.default)().console.error(e)}return t}isEmpty(){return!this._callbacks||0===this._callbacks.length}dispose(){this._callbacks=void 0,this._contexts=void 0}}class a{_options;static _noop=function(){};_event;_callbacks;constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,n)=>{this._callbacks||(this._callbacks=new s),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t);const r={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,t),r.dispose=a._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(r),r}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}t.Emitter=a},78585:(e,t)=>{"use strict";function n(e){return"string"==typeof e||e instanceof String}function r(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.stringArray=t.array=t.func=t.error=t.number=t.string=t.boolean=void 0,t.boolean=function(e){return!0===e||!1===e},t.string=n,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=function(e){return"function"==typeof e},t.array=r,t.stringArray=function(e){return r(e)&&e.every((e=>n(e)))}},93352:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.LRUCache=t.LinkedMap=t.Touch=void 0,function(e){e.None=0,e.First=1,e.AsOld=e.First,e.Last=2,e.AsNew=e.Last}(n||(t.Touch=n={}));class r{[Symbol.toStringTag]="LinkedMap";_map;_head;_tail;_size;_state;constructor(){this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}before(e){const t=this._map.get(e);return t?t.previous?.value:void 0}after(e){const t=this._map.get(e);return t?t.next?.value:void 0}has(e){return this._map.has(e)}get(e,t=n.None){const r=this._map.get(e);if(r)return t!==n.None&&this.touch(r,t),r.value}set(e,t,r=n.None){let i=this._map.get(e);if(i)i.value=t,r!==n.None&&this.touch(i,r);else{switch(i={key:e,value:t,next:void 0,previous:void 0},r){case n.None:this.addItemLast(i);break;case n.First:this.addItemFirst(i);break;case n.Last:default:this.addItemLast(i)}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){const t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){const n=this._state;let r=this._head;for(;r;){if(t?e.bind(t)(r.value,r.key,this):e(r.value,r.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");r=r.next}}keys(){const e=this._state;let t=this._head;const n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){const e={value:t.key,done:!1};return t=t.next,e}return{value:void 0,done:!0}}};return n}values(){const e=this._state;let t=this._head;const n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){const e={value:t.value,done:!1};return t=t.next,e}return{value:void 0,done:!0}}};return n}entries(){const e=this._state;let t=this._head;const n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){const e={value:[t.key,t.value],done:!1};return t=t.next,e}return{value:void 0,done:!0}}};return n}[Symbol.iterator](){return this.entries()}trimOld(e){if(e>=this.size)return;if(0===e)return void this.clear();let t=this._head,n=this.size;for(;t&&n>e;)this._map.delete(t.key),t=t.next,n--;this._head=t,this._size=n,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");e.next=this._head,this._head.previous=e}else this._tail=e;this._head=e,this._state++}addItemLast(e){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");e.previous=this._tail,this._tail.next=e}else this._head=e;this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{const t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(t===n.First||t===n.Last)if(t===n.First){if(e===this._head)return;const t=e.next,n=e.previous;e===this._tail?(n.next=void 0,this._tail=n):(t.previous=n,n.next=t),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===n.Last){if(e===this._tail)return;const t=e.next,n=e.previous;e===this._head?(t.previous=void 0,this._head=t):(t.previous=n,n.next=t),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}toJSON(){const e=[];return this.forEach(((t,n)=>{e.push([n,t])})),e}fromJSON(e){this.clear();for(const[t,n]of e)this.set(t,n)}}t.LinkedMap=r,t.LRUCache=class extends r{_limit;_ratio;constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,t=n.AsNew){return super.get(e,t)}peek(e){return super.get(e,n.None)}set(e,t){return super.set(e,t,n.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}},89244:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractMessageBuffer=void 0,t.AbstractMessageBuffer=class{_encoding;_chunks;_totalLength;constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){const t="string"==typeof e?this.fromString(e,this._encoding):e;this._chunks.push(t),this._totalLength+=t.byteLength}tryReadHeaders(e=!1){if(0===this._chunks.length)return;let t=0,n=0,r=0,i=0;e:for(;n<this._chunks.length;){const e=this._chunks[n];for(r=0;r<e.length;){switch(e[r]){case 13:switch(t){case 0:t=1;break;case 2:t=3;break;default:t=0}break;case 10:switch(t){case 1:t=2;break;case 3:t=4,r++;break e;default:t=0}break;default:t=0}r++}i+=e.byteLength,n++}if(4!==t)return;const o=this._read(i+r),s=new Map,a=this.toString(o,"ascii").split("\r\n");if(a.length<2)return s;for(let t=0;t<a.length-2;t++){const n=a[t],r=n.indexOf(":");if(-1===r)throw new Error(`Message header must separate key and value using ':'\n${n}`);const i=n.substr(0,r),o=n.substr(r+1).trim();s.set(e?i.toLowerCase():i,o)}return s}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(0===e)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){const t=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(t)}if(this._chunks[0].byteLength>e){const t=this._chunks[0],n=this.asNative(t,e);return this._chunks[0]=t.slice(e),this._totalLength-=e,n}const t=this.allocNative(e);let n=0;for(;e>0;){const r=this._chunks[0];if(r.byteLength>e){const i=r.slice(0,e);t.set(i,n),n+=e,this._chunks[0]=r.slice(e),this._totalLength-=e,e-=e}else t.set(r,n),n+=r.byteLength,this._chunks.shift(),this._totalLength-=r.byteLength,e-=r.byteLength}return t}}},59085:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ReadableStreamMessageReader=t.AbstractMessageReader=t.MessageReader=void 0;const a=s(n(69590)),c=o(n(78585)),l=n(62676),u=n(94323);var p,d;!function(e){e.is=function(e){const t=e;return t&&c.func(t.listen)&&c.func(t.dispose)&&c.func(t.onError)&&c.func(t.onClose)&&c.func(t.onPartialMessage)}}(p||(t.MessageReader=p={}));class h{errorEmitter;closeEmitter;partialMessageEmitter;constructor(){this.errorEmitter=new l.Emitter,this.closeEmitter=new l.Emitter,this.partialMessageEmitter=new l.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${c.string(e.message)?e.message:"unknown"}`)}}t.AbstractMessageReader=h,function(e){e.fromOptions=function(e){let t,n;const r=new Map;let i;const o=new Map;if(void 0===e||"string"==typeof e)t=e??"utf-8";else{if(t=e.charset??"utf-8",void 0!==e.contentDecoder&&(n=e.contentDecoder,r.set(n.name,n)),void 0!==e.contentDecoders)for(const t of e.contentDecoders)r.set(t.name,t);if(void 0!==e.contentTypeDecoder&&(i=e.contentTypeDecoder,o.set(i.name,i)),void 0!==e.contentTypeDecoders)for(const t of e.contentTypeDecoders)o.set(t.name,t)}return void 0===i&&(i=(0,a.default)().applicationJson.decoder,o.set(i.name,i)),{charset:t,contentDecoder:n,contentDecoders:r,contentTypeDecoder:i,contentTypeDecoders:o}}}(d||(d={})),t.ReadableStreamMessageReader=class extends h{readable;options;callback;nextMessageLength;messageToken;buffer;partialMessageTimer;_partialMessageTimeout;readSemaphore;constructor(e,t){super(),this.readable=e,this.options=d.fromOptions(t),this.buffer=(0,a.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new u.Semaphore(1)}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;const t=this.readable.onData((e=>{this.onData(e)}));return this.readable.onError((e=>this.fireError(e))),this.readable.onClose((()=>this.fireClose())),t}onData(e){try{for(this.buffer.append(e);;){if(-1===this.nextMessageLength){const e=this.buffer.tryReadHeaders(!0);if(!e)return;const t=e.get("content-length");if(!t)return void this.fireError(new Error(`Header must provide a Content-Length property.\n${JSON.stringify(Object.fromEntries(e))}`));const n=parseInt(t);if(isNaN(n))return void this.fireError(new Error(`Content-Length value must be a number. Got ${t}`));this.nextMessageLength=n}const e=this.buffer.tryReadBody(this.nextMessageLength);if(void 0===e)return void this.setPartialMessageTimer();this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock((async()=>{const t=void 0!==this.options.contentDecoder?await this.options.contentDecoder.decode(e):e,n=await this.options.contentTypeDecoder.decode(t,this.options);this.callback(n)})).catch((e=>{this.fireError(e)}))}}catch(e){this.fireError(e)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),this._partialMessageTimeout<=0||(this.partialMessageTimer=(0,a.default)().timer.setTimeout(((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())}),this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}},23193:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WriteableStreamMessageWriter=t.AbstractMessageWriter=t.MessageWriter=void 0;const a=s(n(69590)),c=o(n(78585)),l=n(94323),u=n(62676);var p,d;!function(e){e.is=function(e){const t=e;return t&&c.func(t.dispose)&&c.func(t.onClose)&&c.func(t.onError)&&c.func(t.write)}}(p||(t.MessageWriter=p={}));class h{errorEmitter;closeEmitter;constructor(){this.errorEmitter=new u.Emitter,this.closeEmitter=new u.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,n){this.errorEmitter.fire([this.asError(e),t,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${c.string(e.message)?e.message:"unknown"}`)}}t.AbstractMessageWriter=h,function(e){e.fromOptions=function(e){return void 0===e||"string"==typeof e?{charset:e??"utf-8",contentTypeEncoder:(0,a.default)().applicationJson.encoder}:{charset:e.charset??"utf-8",contentEncoder:e.contentEncoder,contentTypeEncoder:e.contentTypeEncoder??(0,a.default)().applicationJson.encoder}}}(d||(d={})),t.WriteableStreamMessageWriter=class extends h{writable;options;errorCount;writeSemaphore;constructor(e,t){super(),this.writable=e,this.options=d.fromOptions(t),this.errorCount=0,this.writeSemaphore=new l.Semaphore(1),this.writable.onError((e=>this.fireError(e))),this.writable.onClose((()=>this.fireClose()))}async write(e){return this.writeSemaphore.lock((async()=>this.options.contentTypeEncoder.encode(e,this.options).then((e=>void 0!==this.options.contentEncoder?this.options.contentEncoder.encode(e):e)).then((t=>{const n=[];return n.push("Content-Length: ",t.byteLength.toString(),"\r\n"),n.push("\r\n"),this.doWrite(e,n,t)}),(e=>{throw this.fireError(e),e}))))}async doWrite(e,t,n){try{return await this.writable.write(t.join(""),"ascii"),this.writable.write(n)}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){this.writable.end()}}},96177:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Message=t.NotificationType9=t.NotificationType8=t.NotificationType7=t.NotificationType6=t.NotificationType5=t.NotificationType4=t.NotificationType3=t.NotificationType2=t.NotificationType1=t.NotificationType0=t.NotificationType=t.RequestType9=t.RequestType8=t.RequestType7=t.RequestType6=t.RequestType5=t.RequestType4=t.RequestType3=t.RequestType2=t.RequestType1=t.RequestType=t.RequestType0=t.AbstractMessageSignature=t.ParameterStructures=t.ResponseError=t.ErrorCodes=void 0;const s=o(n(78585));var a,c;!function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.jsonrpcReservedErrorRangeStart=-32099,e.serverErrorStart=-32099,e.MessageWriteError=-32099,e.MessageReadError=-32098,e.PendingResponseRejected=-32097,e.ConnectionInactive=-32096,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.jsonrpcReservedErrorRangeEnd=-32e3,e.serverErrorEnd=-32e3}(a||(t.ErrorCodes=a={}));class l extends Error{code;data;constructor(e,t,n){super(t),this.code=s.number(e)?e:a.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,l.prototype)}toJson(){const e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data),e}}t.ResponseError=l;class u{kind;static auto=new u("auto");static byPosition=new u("byPosition");static byName=new u("byName");constructor(e){this.kind=e}static is(e){return e===u.auto||e===u.byName||e===u.byPosition}toString(){return this.kind}}t.ParameterStructures=u;class p{method;numberOfParams;constructor(e,t){this.method=e,this.numberOfParams=t}get parameterStructures(){return u.auto}}t.AbstractMessageSignature=p,t.RequestType0=class extends p{_;constructor(e){super(e,0)}},t.RequestType=class extends p{_parameterStructures;_;constructor(e,t=u.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}},t.RequestType1=class extends p{_parameterStructures;_;constructor(e,t=u.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}},t.RequestType2=class extends p{_;constructor(e){super(e,2)}},t.RequestType3=class extends p{_;constructor(e){super(e,3)}},t.RequestType4=class extends p{_;constructor(e){super(e,4)}},t.RequestType5=class extends p{_;constructor(e){super(e,5)}},t.RequestType6=class extends p{_;constructor(e){super(e,6)}},t.RequestType7=class extends p{_;constructor(e){super(e,7)}},t.RequestType8=class extends p{_;constructor(e){super(e,8)}},t.RequestType9=class extends p{_;constructor(e){super(e,9)}},t.NotificationType=class extends p{_parameterStructures;_;constructor(e,t=u.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}},t.NotificationType0=class extends p{_;constructor(e){super(e,0)}},t.NotificationType1=class extends p{_parameterStructures;_;constructor(e,t=u.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}},t.NotificationType2=class extends p{_;constructor(e){super(e,2)}},t.NotificationType3=class extends p{_;constructor(e){super(e,3)}},t.NotificationType4=class extends p{_;constructor(e){super(e,4)}},t.NotificationType5=class extends p{_;constructor(e){super(e,5)}},t.NotificationType6=class extends p{_;constructor(e){super(e,6)}},t.NotificationType7=class extends p{_;constructor(e){super(e,7)}},t.NotificationType8=class extends p{_;constructor(e){super(e,8)}},t.NotificationType9=class extends p{_;constructor(e){super(e,9)}},function(e){e.isRequest=function(e){const t=e;return t&&s.string(t.method)&&(s.string(t.id)||s.number(t.id))},e.isNotification=function(e){const t=e;return t&&s.string(t.method)&&void 0===e.id},e.isResponse=function(e){const t=e;return t&&(void 0!==t.result||!!t.error)&&(s.string(t.id)||s.number(t.id)||null===t.id)}}(c||(t.Message=c={}))},69590:(e,t)=>{"use strict";let n;function r(){if(void 0===n)throw new Error("No runtime abstraction layer installed");return n}Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.install=function(e){if(void 0===e)throw new Error("No runtime abstraction layer provided");n=e}}(r||(r={})),t.default=r},94323:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Semaphore=void 0;const i=r(n(69590));t.Semaphore=class{_capacity;_active;_waiting;constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise(((t,n)=>{this._waiting.push({thunk:e,resolve:t,reject:n}),this.runNext()}))}get active(){return this._active}runNext(){0!==this._waiting.length&&this._active!==this._capacity&&(0,i.default)().timer.setImmediate((()=>this.doRunNext()))}doRunNext(){if(0===this._waiting.length||this._active===this._capacity)return;const e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{const t=e.thunk();t instanceof Promise?t.then((t=>{this._active--,e.resolve(t),this.runNext()}),(t=>{this._active--,e.reject(t),this.runNext()})):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}}},74996:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SharedArrayReceiverStrategy=t.SharedArraySenderStrategy=void 0;const r=n(59850);var i;!function(e){e.Continue=0,e.Cancelled=1}(i||(i={})),t.SharedArraySenderStrategy=class{buffers;constructor(){this.buffers=new Map}enableCancellation(e){if(null===e.id)return;const t=new SharedArrayBuffer(4);new Int32Array(t,0,1)[0]=i.Continue,this.buffers.set(e.id,t),e.$cancellationData=t}async sendCancellation(e,t){const n=this.buffers.get(t);if(void 0===n)return;const r=new Int32Array(n,0,1);Atomics.store(r,0,i.Cancelled)}cleanup(e){this.buffers.delete(e)}dispose(){this.buffers.clear()}};class o{data;constructor(e){this.data=new Int32Array(e,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===i.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}}class s{token;constructor(e){this.token=new o(e)}cancel(){}dispose(){}}t.SharedArrayReceiverStrategy=class{kind="request";createCancellationTokenSource(e){const t=e.$cancellationData;return void 0===t?new r.CancellationTokenSource:new s(t)}}},77123:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createMessageConnection=t.createServerSocketTransport=t.createClientSocketTransport=t.createServerPipeTransport=t.createClientPipeTransport=t.generateRandomPipeName=t.StreamMessageWriter=t.StreamMessageReader=t.SocketMessageWriter=t.SocketMessageReader=t.PortMessageWriter=t.PortMessageReader=t.IPCMessageWriter=t.IPCMessageReader=void 0;const c=a(n(9571));c.default.install();const l=o(n(16928)),u=o(n(70857)),p=o(n(79896)),d=n(76982),h=n(69278),f=n(53281);s(n(53281),t);class v extends f.AbstractMessageReader{process;constructor(e){super(),this.process=e;const t=this.process;t.on("error",(e=>this.fireError(e))),t.on("close",(()=>this.fireClose()))}listen(e){return this.process.on("message",e),f.Disposable.create((()=>this.process.off("message",e)))}}t.IPCMessageReader=v;class g extends f.AbstractMessageWriter{process;errorCount;constructor(e){super(),this.process=e,this.errorCount=0;const t=this.process;t.on("error",(e=>this.fireError(e))),t.on("close",(()=>this.fireClose))}write(e){try{return"function"==typeof this.process.send&&this.process.send(e,void 0,void 0,(t=>{t?(this.errorCount++,this.handleError(t,e)):this.errorCount=0})),Promise.resolve()}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){}}t.IPCMessageWriter=g;class m extends f.AbstractMessageReader{onData;constructor(e){super(),this.onData=new f.Emitter,e.on("close",(()=>this.fireClose)),e.on("error",(e=>this.fireError(e))),e.on("message",(e=>{this.onData.fire(e)}))}listen(e){return this.onData.event(e)}}t.PortMessageReader=m;class y extends f.AbstractMessageWriter{port;errorCount;constructor(e){super(),this.port=e,this.errorCount=0,e.on("close",(()=>this.fireClose())),e.on("error",(e=>this.fireError(e)))}write(e){try{return this.port.postMessage(e),Promise.resolve()}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){}}t.PortMessageWriter=y;class b extends f.ReadableStreamMessageReader{constructor(e,t="utf-8"){super((0,c.default)().stream.asReadableStream(e),t)}}t.SocketMessageReader=b;class _ extends f.WriteableStreamMessageWriter{socket;constructor(e,t){super((0,c.default)().stream.asWritableStream(e),t),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}}t.SocketMessageWriter=_;class E extends f.ReadableStreamMessageReader{constructor(e,t){super((0,c.default)().stream.asReadableStream(e),t)}}t.StreamMessageReader=E;class S extends f.WriteableStreamMessageWriter{constructor(e,t){super((0,c.default)().stream.asWritableStream(e),t)}}t.StreamMessageWriter=S;const w=process.env.XDG_RUNTIME_DIR,P=new Map([["linux",107],["darwin",103]]);t.generateRandomPipeName=function(){if("win32"===process.platform)return`\\\\.\\pipe\\lsp-${(0,d.randomBytes)(16).toString("hex")}-sock`;let e=32;const t=p.realpathSync(w??u.tmpdir()),n=P.get(process.platform);if(void 0!==n&&(e=Math.min(n-t.length-9,e)),e<16)throw new Error(`Unable to generate a random pipe name with ${e} characters.`);const r=(0,d.randomBytes)(Math.floor(e/2)).toString("hex");return l.join(t,`lsp-${r}.sock`)},t.createClientPipeTransport=function(e,t="utf-8"){let n;const r=new Promise(((e,t)=>{n=e}));return new Promise(((i,o)=>{const s=(0,h.createServer)((e=>{s.close(),n([new b(e,t),new _(e,t)])}));s.on("error",o),s.listen(e,(()=>{s.removeListener("error",o),i({onConnected:()=>r})}))}))},t.createServerPipeTransport=function(e,t="utf-8"){const n=(0,h.createConnection)(e);return[new b(n,t),new _(n,t)]},t.createClientSocketTransport=function(e,t="utf-8"){let n;const r=new Promise(((e,t)=>{n=e}));return new Promise(((i,o)=>{const s=(0,h.createServer)((e=>{s.close(),n([new b(e,t),new _(e,t)])}));s.on("error",o),s.listen(e,"127.0.0.1",(()=>{s.removeListener("error",o),i({onConnected:()=>r})}))}))},t.createServerSocketTransport=function(e,t="utf-8"){const n=(0,h.createConnection)(e,"127.0.0.1");return[new b(n,t),new _(n,t)]},t.createMessageConnection=function(e,t,n,r){n||(n=f.NullLogger);const i=function(e){const t=e;return void 0!==t.read&&void 0!==t.addListener}(e)?new E(e):e,o=function(e){const t=e;return void 0!==t.write&&void 0!==t.addListener}(t)?new S(t):t;return f.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,f.createMessageConnection)(i,o,n,r)}},9571:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(39023),i=n(53281);class o extends i.AbstractMessageBuffer{static emptyBuffer=Buffer.allocUnsafe(0);constructor(e="utf-8"){super(e)}emptyBuffer(){return o.emptyBuffer}fromString(e,t){return Buffer.from(e,t)}toString(e,t){return e instanceof Buffer?e.toString(t):new r.TextDecoder(t).decode(e)}asNative(e,t){return void 0===t?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,t):Buffer.from(e,0,t)}allocNative(e){return Buffer.allocUnsafe(e)}}class s{stream;constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),i.Disposable.create((()=>this.stream.off("close",e)))}onError(e){return this.stream.on("error",e),i.Disposable.create((()=>this.stream.off("error",e)))}onEnd(e){return this.stream.on("end",e),i.Disposable.create((()=>this.stream.off("end",e)))}onData(e){return this.stream.on("data",e),i.Disposable.create((()=>this.stream.off("data",e)))}}class a{stream;constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),i.Disposable.create((()=>this.stream.off("close",e)))}onError(e){return this.stream.on("error",e),i.Disposable.create((()=>this.stream.off("error",e)))}onEnd(e){return this.stream.on("end",e),i.Disposable.create((()=>this.stream.off("end",e)))}write(e,t){return new Promise(((n,r)=>{const i=e=>{null==e?n():r(e)};"string"==typeof e?this.stream.write(e,t,i):this.stream.write(e,i)}))}end(){this.stream.end()}}const c=Object.freeze({messageBuffer:Object.freeze({create:e=>new o(e)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(e,t)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(e,void 0,0),t.charset))}catch(e){return Promise.reject(e)}}}),decoder:Object.freeze({name:"application/json",decode:(e,t)=>{try{return e instanceof Buffer?Promise.resolve(JSON.parse(e.toString(t.charset))):Promise.resolve(JSON.parse(new r.TextDecoder(t.charset).decode(e)))}catch(e){return Promise.reject(e)}}})}),stream:Object.freeze({asReadableStream:e=>new s(e),asWritableStream:e=>new a(e)}),console,timer:Object.freeze({setTimeout(e,t,...n){const r=setTimeout(e,t,...n);return{dispose:()=>clearTimeout(r)}},setImmediate(e,...t){const n=setImmediate(e,...t);return{dispose:()=>clearImmediate(n)}},setInterval(e,t,...n){const r=setInterval(e,t,...n);return{dispose:()=>clearInterval(r)}}})});function l(){return c}!function(e){e.install=function(){i.RAL.install(c)}}(l||(l={})),t.default=l},96353:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.DiagnosticPullMode=t.vsdiag=void 0,i(n(98766),t),i(n(14294),t);var o=n(79214);Object.defineProperty(t,"vsdiag",{enumerable:!0,get:function(){return o.vsdiag}}),Object.defineProperty(t,"DiagnosticPullMode",{enumerable:!0,get:function(){return o.DiagnosticPullMode}}),i(n(29538),t)},60490:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallHierarchyFeature=void 0;const r=n(54980),i=n(98766),o=n(14294);class s{client;middleware;constructor(e){this.client=e,this.middleware=e.middleware}prepareCallHierarchy(e,t,n){const r=this.client,o=this.middleware,s=(e,t,n)=>{const o=r.code2ProtocolConverter.asTextDocumentPositionParams(e,t);return r.sendRequest(i.CallHierarchyPrepareRequest.type,o,n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asCallHierarchyItems(e,n)),(e=>r.handleFailedRequest(i.CallHierarchyPrepareRequest.type,n,e,null)))};return o.prepareCallHierarchy?o.prepareCallHierarchy(e,t,n,s):s(e,t,n)}provideCallHierarchyIncomingCalls(e,t){const n=this.client,r=this.middleware,o=(e,t)=>{const r={item:n.code2ProtocolConverter.asCallHierarchyItem(e)};return n.sendRequest(i.CallHierarchyIncomingCallsRequest.type,r,t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asCallHierarchyIncomingCalls(e,t)),(e=>n.handleFailedRequest(i.CallHierarchyIncomingCallsRequest.type,t,e,null)))};return r.provideCallHierarchyIncomingCalls?r.provideCallHierarchyIncomingCalls(e,t,o):o(e,t)}provideCallHierarchyOutgoingCalls(e,t){const n=this.client,r=this.middleware,o=(e,t)=>{const r={item:n.code2ProtocolConverter.asCallHierarchyItem(e)};return n.sendRequest(i.CallHierarchyOutgoingCallsRequest.type,r,t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asCallHierarchyOutgoingCalls(e,t)),(e=>n.handleFailedRequest(i.CallHierarchyOutgoingCallsRequest.type,t,e,null)))};return r.provideCallHierarchyOutgoingCalls?r.provideCallHierarchyOutgoingCalls(e,t,o):o(e,t)}}class a extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.CallHierarchyPrepareRequest.type)}fillClientCapabilities(e){const t=e;(0,o.ensure)((0,o.ensure)(t,"textDocument"),"callHierarchy").dynamicRegistration=!0}initialize(e,t){const[n,r]=this.getRegistration(t,e.callHierarchyProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=this._client,n=new s(t);return[r.languages.registerCallHierarchyProvider(this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector),n),n]}}t.CallHierarchyFeature=a},29538:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ProposedFeatures=t.LanguageClient=t.BaseLanguageClient=t.ShutdownMode=t.MessageTransports=t.SuspendMode=t.State=t.CloseAction=t.ErrorAction=t.RevealOutputChannelOn=void 0;const s=n(54980),a=n(98766),c=o(n(11798)),l=o(n(7605)),u=o(n(58319)),p=n(80483),d=o(n(69032)),h=n(69403),f=n(14294),v=n(79214),g=n(61872),m=n(95199),y=n(31596),b=n(96535),_=n(41507),E=n(30600),S=n(21400),w=n(29014),P=n(49228),T=n(58312),C=n(90420),x=n(45432),I=n(70191),O=n(93515),R=n(18430),D=n(88140),k=n(17298),A=n(50875),N=n(7656),j=n(69073),M=n(73963),L=n(7061),F=n(16258),V=n(60490),U=n(67691),H=n(74913),W=n(74622),q=n(13131),B=n(72767),$=n(66804),K=n(2485),G=n(23370),z=n(7702),Y=n(59084),X=n(89870);var J,Q,Z,ee,te,ne,re,ie,oe,se;!function(e){e[e.Debug=0]="Debug",e[e.Info=1]="Info",e[e.Warn=2]="Warn",e[e.Error=3]="Error",e[e.Never=4]="Never"}(J||(t.RevealOutputChannelOn=J={})),function(e){e[e.Continue=1]="Continue",e[e.Shutdown=2]="Shutdown"}(Q||(t.ErrorAction=Q={})),function(e){e[e.DoNotRestart=1]="DoNotRestart",e[e.Restart=2]="Restart"}(Z||(t.CloseAction=Z={})),function(e){e[e.Stopped=1]="Stopped",e[e.Starting=3]="Starting",e[e.StartFailed=4]="StartFailed",e[e.Running=2]="Running"}(ee||(t.State=ee={})),function(e){e.off="off",e.on="on"}(te||(t.SuspendMode=te={})),function(e){e.sanitizeIsTrusted=function(e){return null!=e&&!!("boolean"==typeof e||"object"==typeof e&&null!==e&&u.stringArray(e.enabledCommands))&&e}}(ne||(ne={}));class ae{client;maxRestartCount;restarts;constructor(e,t){this.client=e,this.maxRestartCount=t,this.restarts=[]}error(e,t,n){return n&&n<=3?{action:Q.Continue}:{action:Q.Shutdown}}closed(){return this.restarts.push(Date.now()),this.restarts.length<=this.maxRestartCount?{action:Z.Restart}:this.restarts[this.restarts.length-1]-this.restarts[0]<=18e4?{action:Z.DoNotRestart,message:`The ${this.client.name} server crashed ${this.maxRestartCount+1} times in the last 3 minutes. The server will not be restarted. See the output for more information.`}:(this.restarts.shift(),{action:Z.Restart})}}!function(e){e.Initial="initial",e.Starting="starting",e.StartFailed="startFailed",e.Running="running",e.Stopping="stopping",e.Stopped="stopped"}(re||(re={})),function(e){e.is=function(e){return e&&a.MessageReader.is(e.reader)&&a.MessageWriter.is(e.writer)}}(ie||(t.MessageTransports=ie={})),function(e){e.Restart="restart",e.Stop="stop"}(oe||(t.ShutdownMode=oe={}));class ce{open;_onOpen;_onClose;disposable;constructor(){this.open=new Set,this._onOpen=new s.EventEmitter,this._onClose=new s.EventEmitter,ce.fillTabResources(this.open);void 0!==s.window.tabGroups.onDidChangeTabs?this.disposable=s.window.tabGroups.onDidChangeTabs((e=>{if(0===e.closed.length&&0===e.opened.length)return;const t=this.open,n=new Set;ce.fillTabResources(n);const r=new Set,i=new Set(n);for(const e of t.values())n.has(e)?i.delete(e):r.add(e);if(this.open=n,r.size>0){const e=new Set;for(const t of r)e.add(s.Uri.parse(t));this._onClose.fire(e)}if(i.size>0){const e=new Set;for(const t of i)e.add(s.Uri.parse(t));this._onOpen.fire(e)}})):this.disposable={dispose:()=>{}}}get onClose(){return this._onClose.event}get onOpen(){return this._onOpen.event}dispose(){this.disposable.dispose()}isActive(e){return e instanceof s.Uri?s.window.activeTextEditor?.document.uri===e:s.window.activeTextEditor?.document===e}isVisible(e){const t=e instanceof s.Uri?e:e.uri;return t.scheme===g.NotebookDocumentSyncFeature.CellScheme?s.workspace.notebookDocuments.some((e=>!!this.open.has(e.uri.toString())&&void 0!==e.getCells().find((e=>e.document.uri.toString()===t.toString())))):this.open.has(t.toString())}getTabResources(){const e=new Set;return ce.fillTabResources(new Set,e),e}static fillTabResources(e,t){const n=e??new Set;for(const e of s.window.tabGroups.all)for(const r of e.tabs){const e=r.input;let i;e instanceof s.TabInputText?i=e.uri:e instanceof s.TabInputTextDiff?i=e.modified:(e instanceof s.TabInputCustom||e instanceof s.TabInputNotebook)&&(i=e.uri),void 0===i||n.has(i.toString())||(n.add(i.toString()),void 0!==t&&t.add(i))}}}class le{_id;_name;_clientOptions;_state;_onStart;_onStop;_connection;_idleInterval;_ignoredRegistrations;_listeners;_disposed;_notificationHandlers;_notificationDisposables;_pendingNotificationHandlers;_requestHandlers;_requestDisposables;_pendingRequestHandlers;_progressHandlers;_pendingProgressHandlers;_progressDisposables;_initializeResult;_outputChannel;_disposeOutputChannel;_traceOutputChannel;_capabilities;_diagnostics;_syncedDocuments;_didChangeTextDocumentFeature;_inFlightOpenNotifications;_pendingChangeSemaphore;_pendingChangeDelayer;_didOpenTextDocumentFeature;_fileEvents;_fileEventDelayer;_telemetryEmitter;_stateChangeEmitter;_trace;_traceFormat=a.TraceFormat.Text;_tracer;_c2p;_p2c;_tabsModel;constructor(e,t,n){this._id=e,this._name=t;const r={isTrusted:!1,supportHtml:!1,supportThemeIcons:!1};void 0!==(n=n||{}).markdown&&(r.isTrusted=ne.sanitizeIsTrusted(n.markdown.isTrusted),r.supportHtml=!0===n.markdown.supportHtml,r.supportThemeIcons=!0===n.markdown.supportThemeIcons),this._clientOptions={documentSelector:n.documentSelector??[],synchronize:n.synchronize??{},diagnosticCollectionName:n.diagnosticCollectionName,outputChannelName:n.outputChannelName??this._name,revealOutputChannelOn:n.revealOutputChannelOn??J.Error,stdioEncoding:n.stdioEncoding??"utf8",initializationOptions:n.initializationOptions,initializationFailedHandler:n.initializationFailedHandler,progressOnInitialization:!!n.progressOnInitialization,errorHandler:n.errorHandler??this.createDefaultErrorHandler(n.connectionOptions?.maxRestartCount),middleware:n.middleware??{},uriConverters:n.uriConverters,workspaceFolder:n.workspaceFolder,connectionOptions:n.connectionOptions,markdown:r,diagnosticPullOptions:n.diagnosticPullOptions??{onChange:!0,onSave:!1},notebookDocumentOptions:n.notebookDocumentOptions??{},textSynchronization:this.createTextSynchronizationOptions(n.textSynchronization)},this._clientOptions.synchronize=this._clientOptions.synchronize||{},this._state=re.Initial,this._ignoredRegistrations=new Set,this._listeners=[],this._notificationHandlers=new Map,this._pendingNotificationHandlers=new Map,this._notificationDisposables=new Map,this._requestHandlers=new Map,this._pendingRequestHandlers=new Map,this._requestDisposables=new Map,this._progressHandlers=new Map,this._pendingProgressHandlers=new Map,this._progressDisposables=new Map,this._connection=void 0,this._initializeResult=void 0,n.outputChannel?(this._outputChannel=n.outputChannel,this._disposeOutputChannel=!1):(this._outputChannel=void 0,this._disposeOutputChannel=!0),this._traceOutputChannel=n.traceOutputChannel,this._diagnostics=void 0,this._inFlightOpenNotifications=new Set,this._pendingChangeSemaphore=new p.Semaphore(1),this._pendingChangeDelayer=new p.Delayer(250),this._fileEvents=[],this._fileEventDelayer=new p.Delayer(250),this._onStop=void 0,this._telemetryEmitter=new a.Emitter,this._stateChangeEmitter=new a.Emitter,this._trace=a.Trace.Off,this._tracer={log:(e,t)=>{u.string(e)?this.logTrace(e,t):this.logObjectTrace(e)}},this._c2p=c.createConverter(n.uriConverters?n.uriConverters.code2Protocol:void 0),this._p2c=l.createConverter(n.uriConverters?n.uriConverters.protocol2Code:void 0,this._clientOptions.markdown.isTrusted,this._clientOptions.markdown.supportHtml,this._clientOptions.markdown.supportThemeIcons),this._syncedDocuments=new Map,this.registerBuiltinFeatures()}createTextSynchronizationOptions(e){return e&&"boolean"==typeof e.delayOpenNotifications?{delayOpenNotifications:e.delayOpenNotifications}:{delayOpenNotifications:!1}}get name(){return this._name}get middleware(){return this._clientOptions.middleware??Object.create(null)}get clientOptions(){return this._clientOptions}get protocol2CodeConverter(){return this._p2c}get code2ProtocolConverter(){return this._c2p}get tabsModel(){return void 0===this._tabsModel&&(this._tabsModel=new ce),this._tabsModel}get onTelemetry(){return this._telemetryEmitter.event}get onDidChangeState(){return this._stateChangeEmitter.event}get outputChannel(){return this._outputChannel||(this._outputChannel=s.window.createOutputChannel(this._clientOptions.outputChannelName?this._clientOptions.outputChannelName:this._name)),this._outputChannel}get traceOutputChannel(){return this._traceOutputChannel?this._traceOutputChannel:this.outputChannel}get diagnostics(){return this._diagnostics}get state(){return this.getPublicState()}get $state(){return this._state}set $state(e){const t=this.getPublicState();this._state=e;const n=this.getPublicState();n!==t&&this._stateChangeEmitter.fire({oldState:t,newState:n})}getPublicState(){switch(this.$state){case re.Starting:return ee.Starting;case re.Running:return ee.Running;case re.StartFailed:return ee.StartFailed;default:return ee.Stopped}}get initializeResult(){return this._initializeResult}async sendRequest(e,...t){if(this.$state===re.StartFailed||this.$state===re.Stopping||this.$state===re.Stopped)return Promise.reject(new a.ResponseError(a.ErrorCodes.ConnectionInactive,"Client is not running"));const n=await this.$start();let r,i;if(await this._didOpenTextDocumentFeature.sendPendingOpenNotifications(),this._didChangeTextDocumentFeature.syncKind===a.TextDocumentSyncKind.Full&&await this.sendPendingFullTextDocumentChanges(n),1===t.length?a.CancellationToken.is(t[0])?i=t[0]:r=t[0]:2===t.length&&(r=t[0],i=t[1]),void 0!==i&&i.isCancellationRequested)return Promise.reject(new a.ResponseError(a.LSPErrorCodes.RequestCancelled,"Request got cancelled"));const o=this._clientOptions.middleware?.sendRequest;return void 0!==o?o(e,r,i,((e,t,r)=>{const i=[];return void 0!==t&&i.push(t),void 0!==r&&i.push(r),n.sendRequest(e,...i)})):n.sendRequest(e,...t)}onRequest(e,t){const n="string"==typeof e?e:e.method;this._requestHandlers.set(n,t);const r=this.activeConnection();let i;return void 0!==r?(this._requestDisposables.set(n,r.onRequest(e,t)),i={dispose:()=>{const e=this._requestDisposables.get(n);void 0!==e&&(e.dispose(),this._requestDisposables.delete(n))}}):(this._pendingRequestHandlers.set(n,t),i={dispose:()=>{this._pendingRequestHandlers.delete(n);const e=this._requestDisposables.get(n);void 0!==e&&(e.dispose(),this._requestDisposables.delete(n))}}),{dispose:()=>{this._requestHandlers.delete(n),i.dispose()}}}async sendNotification(e,t){if(this.$state===re.StartFailed||this.$state===re.Stopping||this.$state===re.Stopped)return Promise.reject(new a.ResponseError(a.ErrorCodes.ConnectionInactive,"Client is not running"));const n=this._didChangeTextDocumentFeature.syncKind===a.TextDocumentSyncKind.Full;let r,i;n&&"string"!=typeof e&&e.method===a.DidOpenTextDocumentNotification.method&&(r=t?.textDocument.uri,this._inFlightOpenNotifications.add(r)),"string"!=typeof e&&e.method===a.DidCloseTextDocumentNotification.method&&(i=t.textDocument.uri);const o=await this.$start();await this._didOpenTextDocumentFeature.sendPendingOpenNotifications(i),n&&await this.sendPendingFullTextDocumentChanges(o),void 0!==r&&this._inFlightOpenNotifications.delete(r);const s=this._clientOptions.middleware?.sendNotification;return s?s(e,o.sendNotification.bind(o),t):o.sendNotification(e,t)}onNotification(e,t){const n="string"==typeof e?e:e.method;this._notificationHandlers.set(n,t);const r=this.activeConnection();let i;return void 0!==r?(this._notificationDisposables.set(n,r.onNotification(e,t)),i={dispose:()=>{const e=this._notificationDisposables.get(n);void 0!==e&&(e.dispose(),this._notificationDisposables.delete(n))}}):(this._pendingNotificationHandlers.set(n,t),i={dispose:()=>{this._pendingNotificationHandlers.delete(n);const e=this._notificationDisposables.get(n);void 0!==e&&(e.dispose(),this._notificationDisposables.delete(n))}}),{dispose:()=>{this._notificationHandlers.delete(n),i.dispose()}}}async sendProgress(e,t,n){if(this.$state===re.StartFailed||this.$state===re.Stopping||this.$state===re.Stopped)return Promise.reject(new a.ResponseError(a.ErrorCodes.ConnectionInactive,"Client is not running"));try{return(await this.$start()).sendProgress(e,t,n)}catch(e){throw this.error(`Sending progress for token ${t} failed.`,e),e}}onProgress(e,t,n){this._progressHandlers.set(t,{type:e,handler:n});const r=this.activeConnection();let i;const o=this._clientOptions.middleware?.handleWorkDoneProgress,s=a.WorkDoneProgress.is(e)&&void 0!==o?e=>{o(t,e,(()=>n(e)))}:n;return void 0!==r?(this._progressDisposables.set(t,r.onProgress(e,t,s)),i={dispose:()=>{const e=this._progressDisposables.get(t);void 0!==e&&(e.dispose(),this._progressDisposables.delete(t))}}):(this._pendingProgressHandlers.set(t,{type:e,handler:n}),i={dispose:()=>{this._pendingProgressHandlers.delete(t);const e=this._progressDisposables.get(t);void 0!==e&&(e.dispose(),this._progressDisposables.delete(t))}}),{dispose:()=>{this._progressHandlers.delete(t),i.dispose()}}}createDefaultErrorHandler(e){if(void 0!==e&&e<0)throw new Error(`Invalid maxRestartCount: ${e}`);return new ae(this,e??4)}async setTrace(e){this._trace=e;const t=this.activeConnection();void 0!==t&&await t.trace(this._trace,this._tracer,{sendNotification:!1,traceFormat:this._traceFormat})}data2String(e){if(e instanceof a.ResponseError){const t=e;return`  Message: ${t.message}\n  Code: ${t.code} ${t.data?"\n"+t.data.toString():""}`}return e instanceof Error?u.string(e.stack)?e.stack:e.message:u.string(e)?e:e.toString()}debug(e,t,n=!0){this.logOutputMessage(a.MessageType.Debug,J.Debug,"Debug",e,t,n)}info(e,t,n=!0){this.logOutputMessage(a.MessageType.Info,J.Info,"Info",e,t,n)}warn(e,t,n=!0){this.logOutputMessage(a.MessageType.Warning,J.Warn,"Warn",e,t,n)}error(e,t,n=!0){this.logOutputMessage(a.MessageType.Error,J.Error,"Error",e,t,n)}logOutputMessage(e,t,n,r,i,o){this.outputChannel.appendLine(`[${n.padEnd(5)} - ${(new Date).toLocaleTimeString()}] ${r}`),null!=i&&this.outputChannel.appendLine(this.data2String(i)),("force"===o||o&&this._clientOptions.revealOutputChannelOn<=t)&&this.showNotificationMessage(e,r)}showNotificationMessage(e,t){t=t??"A request has failed. See the output for more information.",(e===a.MessageType.Error?s.window.showErrorMessage:e===a.MessageType.Warning?s.window.showWarningMessage:s.window.showInformationMessage)(t,"Go to output").then((e=>{void 0!==e&&this.outputChannel.show(!0)}))}logTrace(e,t){this.traceOutputChannel.appendLine(`[Trace - ${(new Date).toLocaleTimeString()}] ${e}`),t&&this.traceOutputChannel.appendLine(this.data2String(t))}logObjectTrace(e){e.isLSPMessage&&e.type?this.traceOutputChannel.append(`[LSP   - ${(new Date).toLocaleTimeString()}] `):this.traceOutputChannel.append(`[Trace - ${(new Date).toLocaleTimeString()}] `),e&&this.traceOutputChannel.appendLine(`${JSON.stringify(e)}`)}needsStart(){return this.$state===re.Initial||this.$state===re.Stopping||this.$state===re.Stopped}needsStop(){return this.$state===re.Starting||this.$state===re.Running}activeConnection(){return this.$state===re.Running&&void 0!==this._connection?this._connection:void 0}isRunning(){return this.$state===re.Running}async start(){if("disposing"===this._disposed||"disposed"===this._disposed)throw new Error("Client got disposed and can't be restarted.");if(this.$state===re.Stopping)throw new Error("Client is currently stopping. Can only restart a full stopped client");if(void 0!==this._onStart)return this._onStart;const[e,t,n]=this.createOnStartPromise();this._onStart=e,void 0===this._diagnostics&&(this._diagnostics=s.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName??this._id));for(const[e,t]of this._notificationHandlers)this._pendingNotificationHandlers.has(e)||this._pendingNotificationHandlers.set(e,t);for(const[e,t]of this._requestHandlers)this._pendingRequestHandlers.has(e)||this._pendingRequestHandlers.set(e,t);for(const[e,t]of this._progressHandlers)this._pendingProgressHandlers.has(e)||this._pendingProgressHandlers.set(e,t);this.$state=re.Starting;try{const e=await this.createConnection();e.onNotification(a.LogMessageNotification.type,(e=>{switch(e.type){case a.MessageType.Error:this.error(e.message,void 0,!1);break;case a.MessageType.Warning:this.warn(e.message,void 0,!1);break;case a.MessageType.Info:this.info(e.message,void 0,!1);break;case a.MessageType.Debug:this.debug(e.message,void 0,!1);break;default:this.outputChannel.appendLine(e.message)}})),e.onNotification(a.ShowMessageNotification.type,(e=>{switch(e.type){case a.MessageType.Error:s.window.showErrorMessage(e.message);break;case a.MessageType.Warning:s.window.showWarningMessage(e.message);break;case a.MessageType.Info:default:s.window.showInformationMessage(e.message)}})),e.onRequest(a.ShowMessageRequest.type,(e=>{let t;switch(e.type){case a.MessageType.Error:t=s.window.showErrorMessage;break;case a.MessageType.Warning:t=s.window.showWarningMessage;break;case a.MessageType.Info:default:t=s.window.showInformationMessage}const n=e.actions||[];return t(e.message,...n)})),e.onNotification(a.TelemetryEventNotification.type,(e=>{this._telemetryEmitter.fire(e)})),e.onRequest(a.ShowDocumentRequest.type,(async(e,t)=>{const n=async e=>{const t=this.protocol2CodeConverter.asUri(e.uri);try{if(!0===e.external)return{success:await s.env.openExternal(t)};{const n={};return void 0!==e.selection&&(n.selection=this.protocol2CodeConverter.asRange(e.selection)),void 0===e.takeFocus||!1===e.takeFocus?n.preserveFocus=!0:!0===e.takeFocus&&(n.preserveFocus=!1),await s.window.showTextDocument(t,n),{success:!0}}}catch(e){return{success:!1}}},r=this._clientOptions.middleware.window?.showDocument;return void 0!==r?r(e,t,n):n(e)})),e.listen(),await this.initialize(e),t()}catch(e){this.$state=re.StartFailed,this.error(`${this._name} client: couldn't create connection to server.`,e,"force"),n(e)}return this._onStart}createOnStartPromise(){let e,t;return[new Promise(((n,r)=>{e=n,t=r})),e,t]}async initialize(e){this.refreshTrace(e,!1);const t=this._clientOptions.initializationOptions,[n,r]=void 0!==this._clientOptions.workspaceFolder?[this._clientOptions.workspaceFolder.uri.fsPath,[{uri:this._c2p.asUri(this._clientOptions.workspaceFolder.uri),name:this._clientOptions.workspaceFolder.name}]]:[this._clientGetRootPath(),null],i={processId:null,clientInfo:{name:s.env.appName,version:s.version},locale:this.getLocale(),rootPath:n||null,rootUri:n?this._c2p.asUri(s.Uri.file(n)):null,capabilities:this.computeClientCapabilities(),initializationOptions:u.func(t)?t():t,trace:a.Trace.toString(this._trace),workspaceFolders:r};if(this.fillInitializeParams(i),!this._clientOptions.progressOnInitialization)return this.doInitialize(e,i);{const t=d.generateUuid(),n=new h.ProgressPart(e,t);i.workDoneToken=t;try{const t=await this.doInitialize(e,i);return n.done(),t}catch(e){throw n.cancel(),e}}}async doInitialize(e,t){try{const n=await e.initialize(t);if(void 0!==n.capabilities.positionEncoding&&n.capabilities.positionEncoding!==a.PositionEncodingKind.UTF16)throw new Error(`Unsupported position encoding (${n.capabilities.positionEncoding}) received from server ${this.name}`);let r;this._initializeResult=n,this.$state=re.Running,u.number(n.capabilities.textDocumentSync)?r=n.capabilities.textDocumentSync===a.TextDocumentSyncKind.None?{openClose:!1,change:a.TextDocumentSyncKind.None,save:void 0}:{openClose:!0,change:n.capabilities.textDocumentSync,save:{includeText:!1}}:void 0!==n.capabilities.textDocumentSync&&null!==n.capabilities.textDocumentSync&&(r=n.capabilities.textDocumentSync),this._capabilities=Object.assign({},n.capabilities,{resolvedTextDocumentSync:r}),e.onNotification(a.PublishDiagnosticsNotification.type,(e=>this.handleDiagnostics(e))),e.onRequest(a.RegistrationRequest.type,(e=>this.handleRegistrationRequest(e))),e.onRequest("client/registerFeature",(e=>this.handleRegistrationRequest(e))),e.onRequest(a.UnregistrationRequest.type,(e=>this.handleUnregistrationRequest(e))),e.onRequest("client/unregisterFeature",(e=>this.handleUnregistrationRequest(e))),e.onRequest(a.ApplyWorkspaceEditRequest.type,(e=>this.handleApplyWorkspaceEdit(e)));for(const[t,n]of this._pendingNotificationHandlers)this._notificationDisposables.set(t,e.onNotification(t,n));this._pendingNotificationHandlers.clear();for(const[t,n]of this._pendingRequestHandlers)this._requestDisposables.set(t,e.onRequest(t,n));this._pendingRequestHandlers.clear();for(const[t,n]of this._pendingProgressHandlers)this._progressDisposables.set(t,e.onProgress(n.type,t,n.handler));return this._pendingProgressHandlers.clear(),await e.sendNotification(a.InitializedNotification.type,{}),this.hookFileEvents(e),this.hookConfigurationChanged(e),this.initializeFeatures(e),n}catch(t){throw this._clientOptions.initializationFailedHandler?this._clientOptions.initializationFailedHandler(t)?this.initialize(e):this.stop():t instanceof a.ResponseError&&t.data&&t.data.retry?s.window.showErrorMessage(t.message,{title:"Retry",id:"retry"}).then((t=>{t&&"retry"===t.id?this.initialize(e):this.stop()})):(t&&t.message&&s.window.showErrorMessage(t.message),this.error("Server initialization failed.",t),this.stop()),t}}_clientGetRootPath(){const e=s.workspace.workspaceFolders;if(!e||0===e.length)return;const t=e[0];return"file"===t.uri.scheme?t.uri.fsPath:void 0}stop(e=2e3){return this.shutdown(oe.Stop,e)}dispose(e=2e3){try{return this._disposed="disposing",this.stop(e)}finally{this._disposed="disposed"}}async shutdown(e,t=2e3){if(this.$state===re.Stopped||this.$state===re.Initial)return;if(this.$state===re.Stopping){if(void 0!==this._onStop)return this._onStop;throw new Error("Client is stopping but no stop promise available.")}const n=this.activeConnection();if(void 0===n||this.$state!==re.Running)throw new Error(`Client is not running and can't be stopped. It's current state is: ${this.$state}`);this._initializeResult=void 0,this.$state=re.Stopping,this.cleanUp(e);const r=new Promise((e=>{(0,a.RAL)().timer.setTimeout(e,t)})),i=(async e=>(await e.shutdown(),await e.exit(),e))(n);return this._onStop=Promise.race([r,i]).then((e=>{if(void 0===e)throw this.error("Stopping server timed out",void 0,!1),new Error("Stopping the server timed out");e.end(),e.dispose()}),(e=>{throw this.error("Stopping server failed",e,!1),e})).finally((()=>{this.$state=re.Stopped,e===oe.Stop&&this.cleanUpChannel(),this._onStart=void 0,this._onStop=void 0,this._connection=void 0,this._ignoredRegistrations.clear()}))}cleanUp(e){this._fileEvents=[],this._fileEventDelayer.cancel();const t=this._listeners.splice(0,this._listeners.length);for(const e of t)e.dispose();this._syncedDocuments&&this._syncedDocuments.clear();for(const e of Array.from(this._features.entries()).map((e=>e[1])).reverse())e.clear();e!==oe.Stop&&e!==oe.Restart||void 0===this._diagnostics||(this._diagnostics.dispose(),this._diagnostics=void 0),void 0!==this._idleInterval&&(this._idleInterval.dispose(),this._idleInterval=void 0)}cleanUpChannel(){void 0!==this._outputChannel&&this._disposeOutputChannel&&(this._outputChannel.dispose(),this._outputChannel=void 0)}notifyFileEvent(e){const t=this;async function n(e){return t._fileEvents.push(e),t._fileEventDelayer.trigger((async()=>{const e=t._fileEvents;t._fileEvents=[];try{await t.sendNotification(a.DidChangeWatchedFilesNotification.type,{changes:e})}catch(n){throw t._fileEvents.push(...e),n}}))}const r=this.clientOptions.middleware?.workspace;(r?.didChangeWatchedFile?r.didChangeWatchedFile(e,n):n(e)).catch((e=>{t.error("Notifying file events failed.",e)}))}async sendPendingFullTextDocumentChanges(e){return this._pendingChangeSemaphore.lock((async()=>{try{const t=this._didChangeTextDocumentFeature.getPendingDocumentChanges(this._inFlightOpenNotifications);if(0===t.length)return;for(const n of t){const t=this.code2ProtocolConverter.asChangeTextDocumentParams(n);await e.sendNotification(a.DidChangeTextDocumentNotification.type,t),this._didChangeTextDocumentFeature.notificationSent(n,a.DidChangeTextDocumentNotification.type,t)}}catch(e){throw this.error("Sending pending changes failed",e,!1),e}}))}triggerPendingChangeDelivery(){this._pendingChangeDelayer.trigger((async()=>{const e=this.activeConnection();void 0!==e?await this.sendPendingFullTextDocumentChanges(e):this.triggerPendingChangeDelivery()})).catch((e=>this.error("Delivering pending changes failed",e,!1)))}_diagnosticQueue=new Map;_diagnosticQueueState={state:"idle"};handleDiagnostics(e){if(!this._diagnostics)return;const t=e.uri;"busy"===this._diagnosticQueueState.state&&this._diagnosticQueueState.document===t&&this._diagnosticQueueState.tokenSource.cancel(),this._diagnosticQueue.set(e.uri,e.diagnostics),this.triggerDiagnosticQueue()}triggerDiagnosticQueue(){(0,a.RAL)().timer.setImmediate((()=>{this.workDiagnosticQueue()}))}workDiagnosticQueue(){if("busy"===this._diagnosticQueueState.state)return;const e=this._diagnosticQueue.entries().next();if(!0===e.done)return;const[t,n]=e.value;this._diagnosticQueue.delete(t);const r=new s.CancellationTokenSource;this._diagnosticQueueState={state:"busy",document:t,tokenSource:r},this._p2c.asDiagnostics(n,r.token).then((e=>{if(!r.token.isCancellationRequested){const n=this._p2c.asUri(t),r=this.clientOptions.middleware;r.handleDiagnostics?r.handleDiagnostics(n,e,((e,t)=>this.setDiagnostics(e,t))):this.setDiagnostics(n,e)}})).catch((e=>{this.error("Processing diagnostic queue failed.",e)})).finally((()=>{this._diagnosticQueueState={state:"idle"},this.triggerDiagnosticQueue()}))}setDiagnostics(e,t){this._diagnostics&&this._diagnostics.set(e,t)}getLocale(){return s.env.language}async $start(){if(this.$state===re.StartFailed)throw new Error("Previous start failed. Can't restart server.");await this.start();const e=this.activeConnection();if(void 0===e)throw new Error("Starting server failed");return e}async createConnection(){const e=await this.createMessageTransports(this._clientOptions.stdioEncoding||"utf8");return this._connection=function(e,t,n,r,i){const o=new ue,s=(0,a.createProtocolConnection)(e,t,o,i);return s.onError((e=>{n(e[0],e[1],e[2])})),s.onClose(r),{listen:()=>s.listen(),sendRequest:s.sendRequest,onRequest:s.onRequest,hasPendingResponse:s.hasPendingResponse,sendNotification:s.sendNotification,onNotification:s.onNotification,onProgress:s.onProgress,sendProgress:s.sendProgress,trace:(e,t,n)=>{const r={sendNotification:!1,traceFormat:a.TraceFormat.Text};return void 0===n?s.trace(e,t,r):(u.boolean(n),s.trace(e,t,n))},initialize:e=>s.sendRequest(a.InitializeRequest.type,e),shutdown:()=>s.sendRequest(a.ShutdownRequest.type,void 0),exit:()=>s.sendNotification(a.ExitNotification.type),end:()=>s.end(),dispose:()=>s.dispose()}}(e.reader,e.writer,((e,t,n)=>{this.handleConnectionError(e,t,n).catch((e=>this.error("Handling connection error failed",e)))}),(()=>{this.handleConnectionClosed().catch((e=>this.error("Handling connection close failed",e)))}),this._clientOptions.connectionOptions),this._connection}async handleConnectionClosed(){if(this.$state===re.Stopped)return;try{void 0!==this._connection&&this._connection.dispose()}catch(e){}let e={action:Z.DoNotRestart};if(this.$state!==re.Stopping)try{e=await this._clientOptions.errorHandler.closed()}catch(e){}this._connection=void 0,e.action===Z.DoNotRestart?(this.error(e.message??"Connection to server got closed. Server will not be restarted.",void 0,!0!==e.handled&&"force"),this.cleanUp(oe.Stop),this.$state===re.Starting?this.$state=re.StartFailed:this.$state=re.Stopped,this._onStop=Promise.resolve(),this._onStart=void 0):e.action===Z.Restart&&(this.info(e.message??"Connection to server got closed. Server will restart.",!e.handled),this.cleanUp(oe.Restart),this.$state=re.Initial,this._onStop=Promise.resolve(),this._onStart=void 0,this.start().catch((e=>this.error("Restarting server failed",e,"force"))))}async handleConnectionError(e,t,n){const r=await this._clientOptions.errorHandler.error(e,t,n);r.action===Q.Shutdown?(this.error(r.message??`Client ${this._name}: connection to server is erroring.\n${e.message}\nShutting down server.`,void 0,!0!==r.handled&&"force"),this.stop().catch((e=>{this.error("Stopping server failed",e,!1)}))):this.error(r.message??`Client ${this._name}: connection to server is erroring.\n${e.message}`,void 0,!0!==r.handled&&"force")}hookConfigurationChanged(e){this._listeners.push(s.workspace.onDidChangeConfiguration((()=>{this.refreshTrace(e,!0)})))}refreshTrace(e,t=!1){const n=s.workspace.getConfiguration(this._id);let r=a.Trace.Off,i=a.TraceFormat.Text;if(n){const e=n.get("trace.server","off");"string"==typeof e?r=a.Trace.fromString(e):(r=a.Trace.fromString(n.get("trace.server.verbosity","off")),i=a.TraceFormat.fromString(n.get("trace.server.format","text")))}this._trace=r,this._traceFormat=i,e.trace(this._trace,this._tracer,{sendNotification:t,traceFormat:this._traceFormat}).catch((e=>{this.error("Updating trace failed with error",e,!1)}))}hookFileEvents(e){const t=this._clientOptions.synchronize.fileEvents;if(!t)return;let n;n=u.array(t)?t:[t],n&&this._dynamicFeatures.get(a.DidChangeWatchedFilesNotification.type.method).registerRaw(d.generateUuid(),n)}_features=[];_dynamicFeatures=new Map;registerFeatures(e){for(const t of e)this.registerFeature(t)}registerFeature(e){if(this._features.push(e),f.DynamicFeature.is(e)){const t=e.registrationType;this._dynamicFeatures.set(t.method,e)}}getFeature(e){return this._dynamicFeatures.get(e)}hasDedicatedTextSynchronizationFeature(e){const t=this.getFeature(a.NotebookDocumentSyncRegistrationType.method);return void 0!==t&&t instanceof g.NotebookDocumentSyncFeature&&t.handles(e)}registerBuiltinFeatures(){const e=new Map;this.registerFeature(new m.ConfigurationFeature(this)),this._didOpenTextDocumentFeature=new y.DidOpenTextDocumentFeature(this,this._syncedDocuments),this.registerFeature(this._didOpenTextDocumentFeature),this._didChangeTextDocumentFeature=new y.DidChangeTextDocumentFeature(this,e),this._didChangeTextDocumentFeature.onPendingChangeAdded((()=>{this.triggerPendingChangeDelivery()})),this.registerFeature(this._didChangeTextDocumentFeature),this.registerFeature(new y.WillSaveFeature(this)),this.registerFeature(new y.WillSaveWaitUntilFeature(this)),this.registerFeature(new y.DidSaveTextDocumentFeature(this)),this.registerFeature(new y.DidCloseTextDocumentFeature(this,this._syncedDocuments,e)),this.registerFeature(new Y.FileSystemWatcherFeature(this,(e=>this.notifyFileEvent(e)))),this.registerFeature(new b.CompletionItemFeature(this)),this.registerFeature(new _.HoverFeature(this)),this.registerFeature(new S.SignatureHelpFeature(this)),this.registerFeature(new E.DefinitionFeature(this)),this.registerFeature(new C.ReferencesFeature(this)),this.registerFeature(new w.DocumentHighlightFeature(this)),this.registerFeature(new P.DocumentSymbolFeature(this)),this.registerFeature(new T.WorkspaceSymbolFeature(this)),this.registerFeature(new R.CodeActionFeature(this)),this.registerFeature(new D.CodeLensFeature(this)),this.registerFeature(new k.DocumentFormattingFeature(this)),this.registerFeature(new k.DocumentRangeFormattingFeature(this)),this.registerFeature(new k.DocumentOnTypeFormattingFeature(this)),this.registerFeature(new A.RenameFeature(this)),this.registerFeature(new N.DocumentLinkFeature(this)),this.registerFeature(new j.ExecuteCommandFeature(this)),this.registerFeature(new m.SyncConfigurationFeature(this)),this.registerFeature(new x.TypeDefinitionFeature(this)),this.registerFeature(new I.ImplementationFeature(this)),this.registerFeature(new O.ColorProviderFeature(this)),void 0===this.clientOptions.workspaceFolder&&this.registerFeature(new $.WorkspaceFoldersFeature(this)),this.registerFeature(new M.FoldingRangeFeature(this)),this.registerFeature(new L.DeclarationFeature(this)),this.registerFeature(new F.SelectionRangeFeature(this)),this.registerFeature(new X.ProgressFeature(this)),this.registerFeature(new V.CallHierarchyFeature(this)),this.registerFeature(new U.SemanticTokensFeature(this)),this.registerFeature(new H.LinkedEditingFeature(this)),this.registerFeature(new K.DidCreateFilesFeature(this)),this.registerFeature(new K.DidRenameFilesFeature(this)),this.registerFeature(new K.DidDeleteFilesFeature(this)),this.registerFeature(new K.WillCreateFilesFeature(this)),this.registerFeature(new K.WillRenameFilesFeature(this)),this.registerFeature(new K.WillDeleteFilesFeature(this)),this.registerFeature(new W.TypeHierarchyFeature(this)),this.registerFeature(new q.InlineValueFeature(this)),this.registerFeature(new B.InlayHintsFeature(this)),this.registerFeature(new v.DiagnosticFeature(this)),this.registerFeature(new g.NotebookDocumentSyncFeature(this))}registerProposedFeatures(){this.registerFeatures(se.createAll(this))}fillInitializeParams(e){for(const t of this._features)u.func(t.fillInitializeParams)&&t.fillInitializeParams(e)}computeClientCapabilities(){const e={};(0,f.ensure)(e,"workspace").applyEdit=!0;const t=(0,f.ensure)((0,f.ensure)(e,"workspace"),"workspaceEdit");t.documentChanges=!0,t.resourceOperations=[a.ResourceOperationKind.Create,a.ResourceOperationKind.Rename,a.ResourceOperationKind.Delete],t.failureHandling=a.FailureHandlingKind.TextOnlyTransactional,t.normalizesLineEndings=!0,t.changeAnnotationSupport={groupsOnLabel:!0},t.metadataSupport=!0,t.snippetEditSupport=!0;const n=(0,f.ensure)((0,f.ensure)(e,"textDocument"),"publishDiagnostics");n.relatedInformation=!0,n.versionSupport=!1,n.tagSupport={valueSet:[a.DiagnosticTag.Unnecessary,a.DiagnosticTag.Deprecated]},n.codeDescriptionSupport=!0,n.dataSupport=!0;const r=(0,f.ensure)(e,"window");(0,f.ensure)(r,"showMessage").messageActionItem={additionalPropertiesSupport:!0},(0,f.ensure)(r,"showDocument").support=!0;const i=(0,f.ensure)(e,"general");i.staleRequestSupport={cancel:!0,retryOnContentModified:Array.from(le.RequestsToCancelOnContentModified)},i.regularExpressions={engine:"ECMAScript",version:"ES2020"},i.markdown={parser:"marked",version:"1.1.0"},i.positionEncodings=["utf-16"],this._clientOptions.markdown.supportHtml&&(i.markdown.allowedTags=["ul","li","p","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"]);for(const t of this._features)t.fillClientCapabilities(e);return e}initializeFeatures(e){const t=this._clientOptions.documentSelector;for(const e of this._features)u.func(e.preInitialize)&&e.preInitialize(this._capabilities,t);for(const e of this._features)e.initialize(this._capabilities,t)}async handleRegistrationRequest(e){const t=this.clientOptions.middleware?.handleRegisterCapability;return t?t(e,(e=>this.doRegisterCapability(e))):this.doRegisterCapability(e)}async doRegisterCapability(e){if(this.isRunning())for(const t of e.registrations){const e=this._dynamicFeatures.get(t.method);if(void 0===e)return Promise.reject(new Error(`No feature implementation for ${t.method} found. Registration failed.`));const n=t.registerOptions??{};n.documentSelector=n.documentSelector??this._clientOptions.documentSelector;const r={id:t.id,registerOptions:n};try{e.register(r)}catch(e){return Promise.reject(e)}}else for(const t of e.registrations)this._ignoredRegistrations.add(t.id)}async handleUnregistrationRequest(e){const t=this.clientOptions.middleware?.handleUnregisterCapability;return t?t(e,(e=>this.doUnregisterCapability(e))):this.doUnregisterCapability(e)}async doUnregisterCapability(e){for(const t of e.unregisterations){if(this._ignoredRegistrations.has(t.id))continue;const e=this._dynamicFeatures.get(t.method);if(!e)return Promise.reject(new Error(`No feature implementation for ${t.method} found. Unregistration failed.`));e.unregister(t.id)}}async handleApplyWorkspaceEdit(e){const t=this.clientOptions.middleware?.workspace?.handleApplyEdit;if(t){const n=await t(e,(e=>this.doHandleApplyWorkspaceEdit(e)));return n instanceof a.ResponseError?Promise.reject(n):n}return this.doHandleApplyWorkspaceEdit(e)}workspaceEditLock=new p.Semaphore(1);async doHandleApplyWorkspaceEdit(e){const t=e.edit,n=await this.workspaceEditLock.lock((()=>this._p2c.asWorkspaceEdit(t))),r=new Map;s.workspace.textDocuments.forEach((e=>r.set(e.uri.toString(),e)));let i=!1;if(t.documentChanges)for(const e of t.documentChanges)if(a.TextDocumentEdit.is(e)&&e.textDocument.version&&e.textDocument.version>=0){const t=this._p2c.asUri(e.textDocument.uri).toString(),n=r.get(t);if(n&&n.version!==e.textDocument.version){i=!0;break}}return i?Promise.resolve({applied:!1}):u.asPromise(s.workspace.applyEdit(n,{isRefactoring:e.metadata?.isRefactoring}).then((e=>({applied:e}))))}static RequestsToCancelOnContentModified=new Set([a.SemanticTokensRequest.method,a.SemanticTokensRangeRequest.method,a.SemanticTokensDeltaRequest.method]);static CancellableResolveCalls=new Set([a.CompletionResolveRequest.method,a.CodeLensResolveRequest.method,a.CodeActionResolveRequest.method,a.InlayHintResolveRequest.method,a.DocumentLinkResolveRequest.method,a.WorkspaceSymbolResolveRequest.method]);handleFailedRequest(e,t,n,r,i=!0,o=!1){if(n instanceof a.ResponseError){if(n.code===a.ErrorCodes.PendingResponseRejected||n.code===a.ErrorCodes.ConnectionInactive)return r;if(n.code===a.LSPErrorCodes.RequestCancelled||n.code===a.LSPErrorCodes.ServerCancelled){if(void 0!==t&&t.isCancellationRequested&&!o)return r;throw void 0!==n.data?new f.LSPCancellationError(n.data):new s.CancellationError}if(n.code===a.LSPErrorCodes.ContentModified){if(le.RequestsToCancelOnContentModified.has(e.method)||le.CancellableResolveCalls.has(e.method))throw new s.CancellationError;return r}}throw this.error(`Request ${e.method} failed.`,n,i),n}}t.BaseLanguageClient=le,t.LanguageClient=class extends le{serverOptions;constructor(e,t,n,r){super(e,t,r),this.serverOptions=n}async createMessageTransports(e){return this.serverOptions()}};class ue{error(e){(0,a.RAL)().console.error(e)}warn(e){(0,a.RAL)().console.warn(e)}info(e){(0,a.RAL)().console.info(e)}log(e){(0,a.RAL)().console.log(e)}}!function(e){e.createAll=function(e){return[new G.InlineCompletionItemFeature(e),new z.TextDocumentContentFeature(e)]}}(se||(t.ProposedFeatures=se={}))},18430:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CodeActionFeature=void 0;const s=n(54980),a=n(98766),c=o(n(69032)),l=n(14294);class u extends l.TextDocumentLanguageFeature{constructor(e){super(e,a.CodeActionRequest.type)}fillClientCapabilities(e){const t=(0,l.ensure)((0,l.ensure)(e,"textDocument"),"codeAction");t.dynamicRegistration=!0,t.isPreferredSupport=!0,t.disabledSupport=!0,t.dataSupport=!0,t.resolveSupport={properties:["edit","command"]},t.codeActionLiteralSupport={codeActionKind:{valueSet:[a.CodeActionKind.Empty,a.CodeActionKind.QuickFix,a.CodeActionKind.Refactor,a.CodeActionKind.RefactorExtract,a.CodeActionKind.RefactorInline,a.CodeActionKind.RefactorMove,a.CodeActionKind.RefactorRewrite,a.CodeActionKind.Source,a.CodeActionKind.SourceOrganizeImports,a.CodeActionKind.Notebook]}},t.honorsChangeAnnotations=!0,t.documentationSupport=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.codeActionProvider);n&&this.register({id:c.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideCodeActions:(e,t,n,r)=>{const i=this._client,o=async(e,t,n,r)=>{const o={textDocument:i.code2ProtocolConverter.asTextDocumentIdentifier(e),range:i.code2ProtocolConverter.asRange(t),context:i.code2ProtocolConverter.asCodeActionContextSync(n)};return i.sendRequest(a.CodeActionRequest.type,o,r).then((e=>r.isCancellationRequested||null==e?null:i.protocol2CodeConverter.asCodeActionResult(e,r)),(e=>i.handleFailedRequest(a.CodeActionRequest.type,r,e,null)))},s=i.middleware;return s.provideCodeActions?s.provideCodeActions(e,t,n,r,o):o(e,t,n,r)},resolveCodeAction:e.resolveProvider?(e,t)=>{const n=this._client,r=this._client.middleware,i=async(e,t)=>n.sendRequest(a.CodeActionResolveRequest.type,n.code2ProtocolConverter.asCodeActionSync(e),t).then((r=>t.isCancellationRequested?e:n.protocol2CodeConverter.asCodeAction(r,t)),(r=>n.handleFailedRequest(a.CodeActionResolveRequest.type,t,r,e)));return r.resolveCodeAction?r.resolveCodeAction(e,t,i):i(e,t)}:void 0};return[s.languages.registerCodeActionsProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n,this.getMetadata(e)),n]}getMetadata(e){if(void 0!==e.codeActionKinds||void 0!==e.documentation)return{providedCodeActionKinds:this._client.protocol2CodeConverter.asCodeActionKinds(e.codeActionKinds),documentation:this._client.protocol2CodeConverter.asCodeActionDocumentations(e.documentation)}}}t.CodeActionFeature=u},11798:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createConverter=void 0;const a=o(n(54980)),c=o(n(98766)),l=o(n(58319)),u=o(n(80483)),p=s(n(17652)),d=s(n(65588)),h=s(n(97424)),f=s(n(9206)),v=n(37894),g=s(n(38717)),m=s(n(67321)),y=s(n(56144)),b=s(n(7511));var _;!function(e){e.is=function(e){const t=e;return t&&!!t.inserting&&!!t.replacing}}(_||(_={})),t.createConverter=function(e){const t=e||(e=>e.toString());function n(e){return t(e)}function r(e){return{uri:t(e.uri)}}function i(e){return{uri:t(e.uri),languageId:e.languageId,version:e.version,text:e.getText()}}function o(e){switch(e){case a.TextDocumentSaveReason.Manual:return c.TextDocumentSaveReason.Manual;case a.TextDocumentSaveReason.AfterDelay:return c.TextDocumentSaveReason.AfterDelay;case a.TextDocumentSaveReason.FocusOut:return c.TextDocumentSaveReason.FocusOut}return c.TextDocumentSaveReason.Manual}function s(e){switch(e){case a.CompletionTriggerKind.TriggerCharacter:return c.CompletionTriggerKind.TriggerCharacter;case a.CompletionTriggerKind.TriggerForIncompleteCompletions:return c.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return c.CompletionTriggerKind.Invoked}}function E(e){switch(e){case a.SignatureHelpTriggerKind.Invoke:return c.SignatureHelpTriggerKind.Invoked;case a.SignatureHelpTriggerKind.TriggerCharacter:return c.SignatureHelpTriggerKind.TriggerCharacter;case a.SignatureHelpTriggerKind.ContentChange:return c.SignatureHelpTriggerKind.ContentChange}}function S(e){return{label:e.label}}function w(e){return{label:e.label,parameters:(t=e.parameters,t.map(S))};var t}function P(e){return{line:e.line,character:e.character}}function T(e){return null==e?e:{line:e.line>c.uinteger.MAX_VALUE?c.uinteger.MAX_VALUE:e.line,character:e.character>c.uinteger.MAX_VALUE?c.uinteger.MAX_VALUE:e.character}}function C(e){return null==e?e:{start:T(e.start),end:T(e.end)}}function x(e){return null==e?e:c.Location.create(n(e.uri),C(e.range))}function I(e){switch(e){case a.DiagnosticSeverity.Error:return c.DiagnosticSeverity.Error;case a.DiagnosticSeverity.Warning:return c.DiagnosticSeverity.Warning;case a.DiagnosticSeverity.Information:return c.DiagnosticSeverity.Information;case a.DiagnosticSeverity.Hint:return c.DiagnosticSeverity.Hint}}function O(e){switch(e){case a.DiagnosticTag.Unnecessary:return c.DiagnosticTag.Unnecessary;case a.DiagnosticTag.Deprecated:return c.DiagnosticTag.Deprecated;default:return}}function R(e){return{message:e.message,location:x(e.location)}}function D(e){const t=c.Diagnostic.create(C(e.range),e.message),r=e instanceof v.ProtocolDiagnostic?e:void 0;void 0!==r&&void 0!==r.data&&(t.data=r.data);const i=function(e){if(null!=e)return l.number(e)||l.string(e)?e:{value:e.value,target:n(e.target)}}(e.code);return v.DiagnosticCode.is(i)?void 0!==r&&r.hasDiagnosticCode?t.code=i:(t.code=i.value,t.codeDescription={href:i.target}):t.code=i,l.number(e.severity)&&(t.severity=I(e.severity)),Array.isArray(e.tags)&&(t.tags=function(e){if(!e)return;const t=[];for(const n of e){const e=O(n);void 0!==e&&t.push(e)}return t.length>0?t:void 0}(e.tags)),e.relatedInformation&&(t.relatedInformation=e.relatedInformation.map(R)),e.source&&(t.source=e.source),t}function k(e,t){return null==e?e:u.map(e,D,t)}function A(e){return null==e?e:e.map(D)}function N(e){if(e===a.CompletionItemTag.Deprecated)return c.CompletionItemTag.Deprecated}function j(e){return{range:C(e.range),newText:e.newText}}function M(e){return null==e?e:e.map(j)}function L(e){return e<=a.SymbolKind.TypeParameter?e+1:c.SymbolKind.Property}function F(e){return e}function V(e){return e.map(F)}function U(e){switch(e){case a.CodeActionTriggerKind.Invoke:return c.CodeActionTriggerKind.Invoked;case a.CodeActionTriggerKind.Automatic:return c.CodeActionTriggerKind.Automatic;default:return}}function H(e){if(null!=e)return e.value}function W(e){return{triggerKind:q(e.triggerKind),selectedCompletionInfo:B(e.selectedCompletionInfo)}}function q(e){switch(e){case a.InlineCompletionTriggerKind.Invoke:return c.InlineCompletionTriggerKind.Invoked;case a.InlineCompletionTriggerKind.Automatic:return c.InlineCompletionTriggerKind.Automatic}}function B(e){if(null!=e)return{range:C(e.range),text:e.text}}function $(e){const t=c.Command.create(e.title,e.command);return e.tooltip&&(t.tooltip=e.tooltip),e.arguments&&(t.arguments=e.arguments),t}function K(e){const t=c.InlayHintLabelPart.create(e.value);return void 0!==e.location&&(t.location=x(e.location)),void 0!==e.command&&(t.command=$(e.command)),void 0!==e.tooltip&&(t.tooltip=G(e.tooltip)),t}function G(e){return"string"==typeof e?e:{kind:c.MarkupKind.Markdown,value:e.value}}return{asUri:n,asTextDocumentIdentifier:r,asTextDocumentItem:i,asVersionedTextDocumentIdentifier:function(e){return{uri:t(e.uri),version:e.version}},asOpenTextDocumentParams:function(e){return{textDocument:i(e)}},asChangeTextDocumentParams:function(e,n,r){if(function(e){const t=e;return!!t.uri&&!!t.version}(e))return{textDocument:{uri:t(e.uri),version:e.version},contentChanges:[{text:e.getText()}]};if(function(e){const t=e;return!!t.document&&!!t.contentChanges}(e)){const i=r;return{textDocument:{uri:t(n),version:i},contentChanges:e.contentChanges.map((e=>{const t=e.range;return{range:{start:{line:t.start.line,character:t.start.character},end:{line:t.end.line,character:t.end.character}},rangeLength:e.rangeLength,text:e.text}}))}}throw Error("Unsupported text document change parameter")},asCloseTextDocumentParams:function(e){return{textDocument:r(e)}},asSaveTextDocumentParams:function(e,t=!1){const n={textDocument:r(e)};return t&&(n.text=e.getText()),n},asWillSaveTextDocumentParams:function(e){return{textDocument:r(e.document),reason:o(e.reason)}},asDidCreateFilesParams:function(e){return{files:e.files.map((e=>({uri:t(e)})))}},asDidRenameFilesParams:function(e){return{files:e.files.map((e=>({oldUri:t(e.oldUri),newUri:t(e.newUri)})))}},asDidDeleteFilesParams:function(e){return{files:e.files.map((e=>({uri:t(e)})))}},asWillCreateFilesParams:function(e){return{files:e.files.map((e=>({uri:t(e)})))}},asWillRenameFilesParams:function(e){return{files:e.files.map((e=>({oldUri:t(e.oldUri),newUri:t(e.newUri)})))}},asWillDeleteFilesParams:function(e){return{files:e.files.map((e=>({uri:t(e)})))}},asTextDocumentPositionParams:function(e,t){return{textDocument:r(e),position:P(t)}},asCompletionParams:function(e,t,n){return{textDocument:r(e),position:P(t),context:{triggerKind:s(n.triggerKind),triggerCharacter:n.triggerCharacter}}},asSignatureHelpParams:function(e,t,n){return{textDocument:r(e),position:P(t),context:{isRetrigger:n.isRetrigger,triggerCharacter:n.triggerCharacter,triggerKind:E(n.triggerKind),activeSignatureHelp:(i=n.activeSignatureHelp,void 0===i?i:{signatures:(o=i.signatures,o.map(w)),activeSignature:i.activeSignature,activeParameter:i.activeParameter})}};var i,o},asWorkerPosition:P,asRange:C,asRanges:function(e){return e.map(C)},asPosition:T,asPositions:function(e,t){return u.map(e,T,t)},asPositionsSync:function(e){return e.map(T)},asLocation:x,asDiagnosticSeverity:I,asDiagnosticTag:O,asDiagnostic:D,asDiagnostics:k,asDiagnosticsSync:A,asCompletionItem:function(e,t=!1){let n,r;l.string(e.label)?n=e.label:(n=e.label.label,!t||void 0===e.label.detail&&void 0===e.label.description||(r={detail:e.label.detail,description:e.label.description}));const i={label:n};void 0!==r&&(i.labelDetails=r);const o=e instanceof p.default?e:void 0;var s,u;e.detail&&(i.detail=e.detail),e.documentation&&(o&&"$string"!==o.documentationFormat?i.documentation=function(e,t){switch(e){case"$string":return t;case c.MarkupKind.PlainText:return{kind:e,value:t};case c.MarkupKind.Markdown:return{kind:e,value:t.value};default:return`Unsupported Markup content received. Kind is: ${e}`}}(o.documentationFormat,e.documentation):i.documentation=e.documentation),e.filterText&&(i.filterText=e.filterText),function(e,t){let n,r,i=c.InsertTextFormat.PlainText;t.textEdit?(n=t.textEdit.newText,r=t.textEdit.range):t.insertText instanceof a.SnippetString?(i=c.InsertTextFormat.Snippet,n=t.insertText.value):n=t.insertText,t.range&&(r=t.range),e.insertTextFormat=i,t.fromEdit&&void 0!==n&&void 0!==r?e.textEdit=function(e,t){return _.is(t)?c.InsertReplaceEdit.create(e,C(t.inserting),C(t.replacing)):{newText:e,range:C(t)}}(n,r):e.insertText=n}(i,e),l.number(e.kind)&&(i.kind=(s=e.kind,void 0!==(u=o&&o.originalItemKind)?u:s+1)),e.sortText&&(i.sortText=e.sortText),e.additionalTextEdits&&(i.additionalTextEdits=M(e.additionalTextEdits)),e.commitCharacters&&(i.commitCharacters=e.commitCharacters.slice()),e.command&&(i.command=$(e.command)),!0!==e.preselect&&!1!==e.preselect||(i.preselect=e.preselect);const d=function(e){if(void 0===e)return e;const t=[];for(const n of e){const e=N(n);void 0!==e&&t.push(e)}return t}(e.tags);if(o){if(void 0!==o.data&&(i.data=o.data),!0===o.deprecated||!1===o.deprecated){if(!0===o.deprecated&&void 0!==d&&d.length>0){const e=d.indexOf(a.CompletionItemTag.Deprecated);-1!==e&&d.splice(e,1)}i.deprecated=o.deprecated}void 0!==o.insertTextMode&&(i.insertTextMode=o.insertTextMode)}return void 0!==d&&d.length>0&&(i.tags=d),void 0===i.insertTextMode&&!0===e.keepWhitespace&&(i.insertTextMode=c.InsertTextMode.adjustIndentation),i},asTextEdit:j,asSymbolKind:L,asSymbolTag:F,asSymbolTags:V,asReferenceParams:function(e,t,n){return{textDocument:r(e),position:P(t),context:{includeDeclaration:n.includeDeclaration}}},asCodeAction:async function(e,t){const n=c.CodeAction.create(e.title);if(e instanceof f.default&&void 0!==e.data&&(n.data=e.data),void 0!==e.kind&&(n.kind=H(e.kind)),void 0!==e.diagnostics&&(n.diagnostics=await k(e.diagnostics,t)),void 0!==e.edit)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return void 0!==e.command&&(n.command=$(e.command)),void 0!==e.isPreferred&&(n.isPreferred=e.isPreferred),void 0!==e.disabled&&(n.disabled={reason:e.disabled.reason}),n},asCodeActionSync:function(e){const t=c.CodeAction.create(e.title);if(e instanceof f.default&&void 0!==e.data&&(t.data=e.data),void 0!==e.kind&&(t.kind=H(e.kind)),void 0!==e.diagnostics&&(t.diagnostics=A(e.diagnostics)),void 0!==e.edit)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return void 0!==e.command&&(t.command=$(e.command)),void 0!==e.isPreferred&&(t.isPreferred=e.isPreferred),void 0!==e.disabled&&(t.disabled={reason:e.disabled.reason}),t},asCodeActionContext:async function(e,t){if(null==e)return e;let n;return e.only&&l.string(e.only.value)&&(n=[e.only.value]),c.CodeActionContext.create(await k(e.diagnostics,t),n,U(e.triggerKind))},asCodeActionContextSync:function(e){if(null==e)return e;let t;return e.only&&l.string(e.only.value)&&(t=[e.only.value]),c.CodeActionContext.create(A(e.diagnostics),t,U(e.triggerKind))},asInlineValueContext:function(e){return c.InlineValueContext.create(e.frameId,C(e.stoppedLocation))},asCommand:$,asCodeLens:function(e){const t=c.CodeLens.create(C(e.range));return e.command&&(t.command=$(e.command)),e instanceof d.default&&e.data&&(t.data=e.data),t},asFormattingOptions:function(e,t){const n={tabSize:e.tabSize,insertSpaces:e.insertSpaces};return t.trimTrailingWhitespace&&(n.trimTrailingWhitespace=!0),t.trimFinalNewlines&&(n.trimFinalNewlines=!0),t.insertFinalNewline&&(n.insertFinalNewline=!0),n},asDocumentSymbolParams:function(e){return{textDocument:r(e)}},asCodeLensParams:function(e){return{textDocument:r(e)}},asDocumentLink:function(e){const t=c.DocumentLink.create(C(e.range));e.target&&(t.target=n(e.target)),void 0!==e.tooltip&&(t.tooltip=e.tooltip);const r=e instanceof h.default?e:void 0;return r&&r.data&&(t.data=r.data),t},asDocumentLinkParams:function(e){return{textDocument:r(e)}},asCallHierarchyItem:function(e){const t={name:e.name,kind:L(e.kind),uri:n(e.uri),range:C(e.range),selectionRange:C(e.selectionRange)};return void 0!==e.detail&&e.detail.length>0&&(t.detail=e.detail),void 0!==e.tags&&(t.tags=V(e.tags)),e instanceof g.default&&void 0!==e.data&&(t.data=e.data),t},asTypeHierarchyItem:function(e){const t={name:e.name,kind:L(e.kind),uri:n(e.uri),range:C(e.range),selectionRange:C(e.selectionRange)};return void 0!==e.detail&&e.detail.length>0&&(t.detail=e.detail),void 0!==e.tags&&(t.tags=V(e.tags)),e instanceof m.default&&void 0!==e.data&&(t.data=e.data),t},asInlayHint:function(e){const t="string"==typeof e.label?e.label:e.label.map(K),n=c.InlayHint.create(T(e.position),t);return void 0!==e.kind&&(n.kind=e.kind),void 0!==e.textEdits&&(n.textEdits=M(e.textEdits)),void 0!==e.tooltip&&(n.tooltip=G(e.tooltip)),void 0!==e.paddingLeft&&(n.paddingLeft=e.paddingLeft),void 0!==e.paddingRight&&(n.paddingRight=e.paddingRight),e instanceof b.default&&void 0!==e.data&&(n.data=e.data),n},asWorkspaceSymbol:function(e){const n=e instanceof y.default?{name:e.name,kind:L(e.kind),location:e.hasRange?x(e.location):{uri:t(e.location.uri)},data:e.data}:{name:e.name,kind:L(e.kind),location:x(e.location)};return void 0!==e.tags&&(n.tags=V(e.tags)),""!==e.containerName&&(n.containerName=e.containerName),n},asInlineCompletionParams:function(e,t,n){return{textDocument:r(e),position:T(t),context:W(n)}},asInlineCompletionContext:W}}},88140:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CodeLensFeature=void 0;const s=n(54980),a=n(98766),c=o(n(69032)),l=n(14294);class u extends l.TextDocumentLanguageFeature{constructor(e){super(e,a.CodeLensRequest.type)}fillClientCapabilities(e){const t=(0,l.ensure)((0,l.ensure)(e,"textDocument"),"codeLens");t.dynamicRegistration=!0,t.resolveSupport={properties:["command"]},(0,l.ensure)((0,l.ensure)(e,"workspace"),"codeLens").refreshSupport=!0}initialize(e,t){this._client.onRequest(a.CodeLensRefreshRequest.type,(async()=>{for(const e of this.getAllProviders())e.onDidChangeCodeLensEmitter.fire()}));const n=this.getRegistrationOptions(t,e.codeLensProvider);n&&this.register({id:c.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n=new s.EventEmitter,r={onDidChangeCodeLenses:n.event,provideCodeLenses:(e,t)=>{const n=this._client,r=(e,t)=>n.sendRequest(a.CodeLensRequest.type,n.code2ProtocolConverter.asCodeLensParams(e),t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asCodeLenses(e,t)),(e=>n.handleFailedRequest(a.CodeLensRequest.type,t,e,null))),i=n.middleware;return i.provideCodeLenses?i.provideCodeLenses(e,t,r):r(e,t)},resolveCodeLens:e.resolveProvider?(e,t)=>{const n=this._client,r=(e,t)=>n.sendRequest(a.CodeLensResolveRequest.type,n.code2ProtocolConverter.asCodeLens(e),t).then((r=>t.isCancellationRequested?e:n.protocol2CodeConverter.asCodeLens(r)),(r=>n.handleFailedRequest(a.CodeLensResolveRequest.type,t,r,e))),i=n.middleware;return i.resolveCodeLens?i.resolveCodeLens(e,t,r):r(e,t)}:void 0};return[s.languages.registerCodeLensProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),r),{provider:r,onDidChangeCodeLensEmitter:n}]}}t.CodeLensFeature=u},93515:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorProviderFeature=void 0;const r=n(54980),i=n(98766),o=n(14294);class s extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.DocumentColorRequest.type)}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"colorProvider").dynamicRegistration=!0}initialize(e,t){const[n,r]=this.getRegistration(t,e.colorProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=e.documentSelector,n={provideColorPresentations:(e,t,n)=>{const r=this._client,o=(e,t,n)=>{const o={color:e,textDocument:r.code2ProtocolConverter.asTextDocumentIdentifier(t.document),range:r.code2ProtocolConverter.asRange(t.range)};return r.sendRequest(i.ColorPresentationRequest.type,o,n).then((e=>n.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorPresentations(e,n)),(e=>r.handleFailedRequest(i.ColorPresentationRequest.type,n,e,null)))},s=r.middleware;return s.provideColorPresentations?s.provideColorPresentations(e,t,n,o):o(e,t,n)},provideDocumentColors:(e,t)=>{const n=this._client,r=(e,t)=>{const r={textDocument:n.code2ProtocolConverter.asTextDocumentIdentifier(e)};return n.sendRequest(i.DocumentColorRequest.type,r,t).then((e=>t.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorInformations(e,t)),(e=>n.handleFailedRequest(i.DocumentColorRequest.type,t,e,null)))},o=n.middleware;return o.provideDocumentColors?o.provideDocumentColors(e,t,r):r(e,t)}};return[r.languages.registerColorProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}}t.ColorProviderFeature=s},96535:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CompletionItemFeature=void 0;const s=n(54980),a=n(98766),c=n(14294),l=o(n(69032)),u=[a.CompletionItemKind.Text,a.CompletionItemKind.Method,a.CompletionItemKind.Function,a.CompletionItemKind.Constructor,a.CompletionItemKind.Field,a.CompletionItemKind.Variable,a.CompletionItemKind.Class,a.CompletionItemKind.Interface,a.CompletionItemKind.Module,a.CompletionItemKind.Property,a.CompletionItemKind.Unit,a.CompletionItemKind.Value,a.CompletionItemKind.Enum,a.CompletionItemKind.Keyword,a.CompletionItemKind.Snippet,a.CompletionItemKind.Color,a.CompletionItemKind.File,a.CompletionItemKind.Reference,a.CompletionItemKind.Folder,a.CompletionItemKind.EnumMember,a.CompletionItemKind.Constant,a.CompletionItemKind.Struct,a.CompletionItemKind.Event,a.CompletionItemKind.Operator,a.CompletionItemKind.TypeParameter];class p extends c.TextDocumentLanguageFeature{labelDetailsSupport;constructor(e){super(e,a.CompletionRequest.type),this.labelDetailsSupport=new Map}fillClientCapabilities(e){const t=(0,c.ensure)((0,c.ensure)(e,"textDocument"),"completion");t.dynamicRegistration=!0,t.contextSupport=!0,t.completionItem={snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:[a.MarkupKind.Markdown,a.MarkupKind.PlainText],deprecatedSupport:!0,preselectSupport:!0,tagSupport:{valueSet:[a.CompletionItemTag.Deprecated]},insertReplaceSupport:!0,resolveSupport:{properties:["documentation","detail","additionalTextEdits"]},insertTextModeSupport:{valueSet:[a.InsertTextMode.asIs,a.InsertTextMode.adjustIndentation]},labelDetailsSupport:!0},t.insertTextMode=a.InsertTextMode.adjustIndentation,t.completionItemKind={valueSet:u},t.completionList={itemDefaults:["commitCharacters","editRange","insertTextFormat","insertTextMode","data"]}}initialize(e,t){const n=this.getRegistrationOptions(t,e.completionProvider);n&&this.register({id:l.generateUuid(),registerOptions:n})}registerLanguageProvider(e,t){this.labelDetailsSupport.set(t,!!e.completionItem?.labelDetailsSupport);const n=e.triggerCharacters??[],r=e.allCommitCharacters,i=e.documentSelector,o={provideCompletionItems:(e,t,n,i)=>{const o=this._client,s=this._client.middleware,c=(e,t,n,i)=>o.sendRequest(a.CompletionRequest.type,o.code2ProtocolConverter.asCompletionParams(e,t,n),i).then((e=>i.isCancellationRequested?null:o.protocol2CodeConverter.asCompletionResult(e,r,i)),(e=>o.handleFailedRequest(a.CompletionRequest.type,i,e,null)));return s.provideCompletionItem?s.provideCompletionItem(e,t,i,n,c):c(e,t,i,n)},resolveCompletionItem:e.resolveProvider?(e,n)=>{const r=this._client,i=this._client.middleware,o=(e,n)=>r.sendRequest(a.CompletionResolveRequest.type,r.code2ProtocolConverter.asCompletionItem(e,!!this.labelDetailsSupport.get(t)),n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asCompletionItem(e)),(t=>r.handleFailedRequest(a.CompletionResolveRequest.type,n,t,e)));return i.resolveCompletionItem?i.resolveCompletionItem(e,n,o):o(e,n)}:void 0};return[s.languages.registerCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(i),o,...n),o]}}t.CompletionItemFeature=p},95199:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.SyncConfigurationFeature=t.toJSONObject=t.ConfigurationFeature=void 0;const s=n(54980),a=n(98766),c=o(n(58319)),l=o(n(69032)),u=n(14294);function p(e){if(e){if(Array.isArray(e))return e.map(p);if("object"==typeof e){const t=Object.create(null);for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=p(e[n]));return t}}return e}t.ConfigurationFeature=class{_client;constructor(e){this._client=e}getState(){return{kind:"static"}}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.configuration=!0}initialize(){const e=this._client;e.onRequest(a.ConfigurationRequest.type,((t,n)=>{const r=e=>{const t=[];for(const n of e.items){const e=void 0!==n.scopeUri&&null!==n.scopeUri?this._client.protocol2CodeConverter.asUri(n.scopeUri):void 0;t.push(this.getConfiguration(e,null!==n.section?n.section:void 0))}return t},i=e.middleware.workspace;return i&&i.configuration?i.configuration(t,n,r):r(t)}))}getConfiguration(e,t){let n=null;if(t){const r=t.lastIndexOf(".");if(-1===r)n=p(s.workspace.getConfiguration(void 0,e).get(t));else{const i=s.workspace.getConfiguration(t.substr(0,r),e);i&&(n=p(i.get(t.substr(r+1))))}}else{const t=s.workspace.getConfiguration(void 0,e);n={};for(const e of Object.keys(t))t.has(e)&&(n[e]=p(t.get(e)))}return void 0===n&&(n=null),n}clear(){}},t.toJSONObject=p,t.SyncConfigurationFeature=class{_client;isCleared;_listeners;constructor(e){this._client=e,this.isCleared=!1,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return a.DidChangeConfigurationNotification.type}fillClientCapabilities(e){(0,u.ensure)((0,u.ensure)(e,"workspace"),"didChangeConfiguration").dynamicRegistration=!0}initialize(){this.isCleared=!1;const e=this._client.clientOptions.synchronize?.configurationSection;void 0!==e&&this.register({id:l.generateUuid(),registerOptions:{section:e}})}register(e){const t=s.workspace.onDidChangeConfiguration((t=>{this.onDidChangeConfiguration(e.registerOptions.section,t)}));this._listeners.set(e.id,t),void 0!==e.registerOptions.section&&this.onDidChangeConfiguration(e.registerOptions.section,void 0)}unregister(e){const t=this._listeners.get(e);t&&(this._listeners.delete(e),t.dispose())}clear(){for(const e of this._listeners.values())e.dispose();this._listeners.clear(),this.isCleared=!0}onDidChangeConfiguration(e,t){if(this.isCleared)return;let n;if(n=c.string(e)?[e]:e,void 0!==n&&void 0!==t&&!n.some((e=>t.affectsConfiguration(e))))return;const r=async e=>void 0===e?this._client.sendNotification(a.DidChangeConfigurationNotification.type,{settings:null}):this._client.sendNotification(a.DidChangeConfigurationNotification.type,{settings:this.extractSettingsInformation(e)}),i=this._client.middleware.workspace?.didChangeConfiguration;(i?i(n,r):r(n)).catch((e=>{this._client.error(`Sending notification ${a.DidChangeConfigurationNotification.type.method} failed`,e)}))}extractSettingsInformation(e){function t(e,t){let n=e;for(let e=0;e<t.length-1;e++){let r=n[t[e]];r||(r=Object.create(null),n[t[e]]=r),n=r}return n}const n=this._client.clientOptions.workspaceFolder?this._client.clientOptions.workspaceFolder.uri:void 0,r=Object.create(null);for(let i=0;i<e.length;i++){const o=e[i],a=o.indexOf(".");let c=null;if(c=a>=0?s.workspace.getConfiguration(o.substr(0,a),n).get(o.substr(a+1)):s.workspace.getConfiguration(void 0,n).get(o),c){const n=e[i].split(".");t(r,n)[n[n.length-1]]=p(c)}}return r}}},7061:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeclarationFeature=void 0;const r=n(54980),i=n(98766),o=n(14294);class s extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.DeclarationRequest.type)}fillClientCapabilities(e){const t=(0,o.ensure)((0,o.ensure)(e,"textDocument"),"declaration");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){const[n,r]=this.getRegistration(t,e.declarationProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=e.documentSelector,n={provideDeclaration:(e,t,n)=>{const r=this._client,o=(e,t,n)=>r.sendRequest(i.DeclarationRequest.type,r.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asDeclarationResult(e,n)),(e=>r.handleFailedRequest(i.DeclarationRequest.type,n,e,null))),s=r.middleware;return s.provideDeclaration?s.provideDeclaration(e,t,n,o):o(e,t,n)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return r.languages.registerDeclarationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.DeclarationFeature=s},30600:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.DefinitionFeature=void 0;const s=n(54980),a=n(98766),c=n(14294),l=o(n(69032));class u extends c.TextDocumentLanguageFeature{constructor(e){super(e,a.DefinitionRequest.type)}fillClientCapabilities(e){const t=(0,c.ensure)((0,c.ensure)(e,"textDocument"),"definition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.definitionProvider);n&&this.register({id:l.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideDefinition:(e,t,n)=>{const r=this._client,i=(e,t,n)=>r.sendRequest(a.DefinitionRequest.type,r.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asDefinitionResult(e,n)),(e=>r.handleFailedRequest(a.DefinitionRequest.type,n,e,null))),o=r.middleware;return o.provideDefinition?o.provideDefinition(e,t,n,i):i(e,t,n)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return s.languages.registerDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.DefinitionFeature=u},79214:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiagnosticFeature=t.DiagnosticPullMode=t.vsdiag=void 0;const r=n(54980),i=n(98766),o=n(69032),s=n(63191),a=n(14294);function c(e,t){return void 0===e[t]&&(e[t]={}),e[t]}var l,u,p,d,h;!function(e){let t;!function(e){e.full="full",e.unChanged="unChanged"}(t=e.DocumentDiagnosticReportKind||(e.DocumentDiagnosticReportKind={}))}(l||(t.vsdiag=l={})),function(e){e.onType="onType",e.onSave="onSave",e.onFocus="onFocus"}(u||(t.DiagnosticPullMode=u={})),function(e){e.active="open",e.reschedule="reschedule",e.outDated="drop"}(p||(p={})),function(e){e[e.document=1]="document",e[e.workspace=2]="workspace"}(d||(d={})),function(e){e.asKey=function(e){return e instanceof r.Uri?e.toString():e.uri.toString()}}(h||(h={}));class f{documentPullStates;workspacePullStates;constructor(){this.documentPullStates=new Map,this.workspacePullStates=new Map}track(e,t,n){const i=e===d.document?this.documentPullStates:this.workspacePullStates,[o,s,a]=t instanceof r.Uri?[t.toString(),t,n]:[t.uri.toString(),t.uri,t.version];let c=i.get(o);return void 0===c&&(c={document:s,pulledVersion:a,resultId:void 0},i.set(o,c)),c}update(e,t,n,i){const o=e===d.document?this.documentPullStates:this.workspacePullStates,[s,a,c,l]=t instanceof r.Uri?[t.toString(),t,n,i]:[t.uri.toString(),t.uri,t.version,n];let u=o.get(s);void 0===u?(u={document:a,pulledVersion:c,resultId:l},o.set(s,u)):(u.pulledVersion=c,u.resultId=l)}unTrack(e,t){const n=h.asKey(t);(e===d.document?this.documentPullStates:this.workspacePullStates).delete(n)}tracks(e,t){const n=h.asKey(t);return(e===d.document?this.documentPullStates:this.workspacePullStates).has(n)}getResultId(e,t){const n=h.asKey(t),r=e===d.document?this.documentPullStates:this.workspacePullStates;return r.get(n)?.resultId}getAllResultIds(){const e=[];for(let[t,n]of this.workspacePullStates)this.documentPullStates.has(t)&&(n=this.documentPullStates.get(t)),void 0!==n.resultId&&e.push({uri:t,value:n.resultId});return e}}class v{isDisposed;client;tabs;options;onDidChangeDiagnosticsEmitter;provider;diagnostics;openRequests;documentStates;workspaceErrorCounter;workspaceCancellation;workspaceTimeout;constructor(e,t,n){this.client=e,this.tabs=t,this.options=n,this.isDisposed=!1,this.onDidChangeDiagnosticsEmitter=new r.EventEmitter,this.provider=this.createProvider(),this.diagnostics=r.languages.createDiagnosticCollection(n.identifier),this.openRequests=new Map,this.documentStates=new f,this.workspaceErrorCounter=0}knows(e,t){const n=t instanceof r.Uri?t:t.uri;return this.documentStates.tracks(e,t)||this.openRequests.has(n.toString())}forget(e,t){this.documentStates.unTrack(e,t)}pull(e,t){if(this.isDisposed)return;const n=e instanceof r.Uri?e:e.uri;this.pullAsync(e).then((()=>{t&&t()}),(e=>{this.client.error(`Document pull failed for text document ${n.toString()}`,e,!1)}))}async pullAsync(e,t){if(this.isDisposed)return;const n=e instanceof r.Uri,o=n?e:e.uri,s=o.toString();t=n?t:e.version;const c=this.openRequests.get(s),u=n?this.documentStates.track(d.document,e,t):this.documentStates.track(d.document,e);if(void 0===c){const n=new r.CancellationTokenSource;let c,h;this.openRequests.set(s,{state:p.active,document:e,version:t,tokenSource:n});try{c=await this.provider.provideDiagnostics(e,u.resultId,n.token)??{kind:l.DocumentDiagnosticReportKind.full,items:[]}}catch(t){if(t instanceof a.LSPCancellationError&&i.DiagnosticServerCancellationData.is(t.data)&&!1===t.data.retriggerRequest&&(h={state:p.outDated,document:e}),!(void 0===h&&t instanceof r.CancellationError))throw t;h={state:p.reschedule,document:e}}if(h=h??this.openRequests.get(s),void 0===h)return this.client.error(`Lost request state in diagnostic pull model. Clearing diagnostics for ${s}`),void this.diagnostics.delete(o);if(this.openRequests.delete(s),!this.tabs.isVisible(e))return void this.documentStates.unTrack(d.document,e);if(h.state===p.outDated)return;void 0!==c&&(c.kind===l.DocumentDiagnosticReportKind.full&&this.diagnostics.set(o,c.items),u.pulledVersion=t,u.resultId=c.resultId),h.state===p.reschedule&&this.pull(e)}else c.state===p.active?(c.tokenSource.cancel(),this.openRequests.set(s,{state:p.reschedule,document:c.document})):c.state===p.outDated&&this.openRequests.set(s,{state:p.reschedule,document:c.document})}forgetDocument(e){const t=e instanceof r.Uri?e:e.uri,n=t.toString(),i=this.openRequests.get(n);this.options.workspaceDiagnostics?void 0!==i?this.openRequests.set(n,{state:p.reschedule,document:e}):this.pull(e,(()=>{this.forget(d.document,e)})):(void 0!==i&&(i.state===p.active&&i.tokenSource.cancel(),this.openRequests.set(n,{state:p.outDated,document:e})),this.diagnostics.delete(t),this.forget(d.document,e))}pullWorkspace(){this.isDisposed||this.pullWorkspaceAsync().then((()=>{this.workspaceTimeout=(0,i.RAL)().timer.setTimeout((()=>{this.pullWorkspace()}),2e3)}),(e=>{e instanceof a.LSPCancellationError||i.DiagnosticServerCancellationData.is(e.data)||(this.client.error("Workspace diagnostic pull failed.",e,!1),this.workspaceErrorCounter++),this.workspaceErrorCounter<=5&&(this.workspaceTimeout=(0,i.RAL)().timer.setTimeout((()=>{this.pullWorkspace()}),2e3))}))}async pullWorkspaceAsync(){if(!this.provider.provideWorkspaceDiagnostics||this.isDisposed)return;void 0!==this.workspaceCancellation&&(this.workspaceCancellation.cancel(),this.workspaceCancellation=void 0),this.workspaceCancellation=new r.CancellationTokenSource;const e=this.documentStates.getAllResultIds().map((e=>({uri:this.client.protocol2CodeConverter.asUri(e.uri),value:e.value})));await this.provider.provideWorkspaceDiagnostics(e,this.workspaceCancellation.token,(e=>{if(e&&!this.isDisposed)for(const t of e.items)t.kind===l.DocumentDiagnosticReportKind.full&&(this.documentStates.tracks(d.document,t.uri)||this.diagnostics.set(t.uri,t.items)),this.documentStates.update(d.workspace,t.uri,t.version??void 0,t.resultId)}))}createProvider(){const e={onDidChangeDiagnostics:this.onDidChangeDiagnosticsEmitter.event,provideDiagnostics:(e,t,n)=>{const o=(e,t,n)=>{const o={identifier:this.options.identifier,textDocument:{uri:this.client.code2ProtocolConverter.asUri(e instanceof r.Uri?e:e.uri)},previousResultId:t};return!0!==this.isDisposed&&this.client.isRunning()?this.client.sendRequest(i.DocumentDiagnosticRequest.type,o,n).then((async e=>null==e||this.isDisposed||n.isCancellationRequested?{kind:l.DocumentDiagnosticReportKind.full,items:[]}:e.kind===i.DocumentDiagnosticReportKind.Full?{kind:l.DocumentDiagnosticReportKind.full,resultId:e.resultId,items:await this.client.protocol2CodeConverter.asDiagnostics(e.items,n)}:{kind:l.DocumentDiagnosticReportKind.unChanged,resultId:e.resultId}),(e=>this.client.handleFailedRequest(i.DocumentDiagnosticRequest.type,n,e,{kind:l.DocumentDiagnosticReportKind.full,items:[]},!0,!0))):{kind:l.DocumentDiagnosticReportKind.full,items:[]}},s=this.client.middleware;return s.provideDiagnostics?s.provideDiagnostics(e,t,n,o):o(e,t,n)}};return this.options.workspaceDiagnostics&&(e.provideWorkspaceDiagnostics=(e,t,n)=>{const r=async e=>e.kind===i.DocumentDiagnosticReportKind.Full?{kind:l.DocumentDiagnosticReportKind.full,uri:this.client.protocol2CodeConverter.asUri(e.uri),resultId:e.resultId,version:e.version,items:await this.client.protocol2CodeConverter.asDiagnostics(e.items,t)}:{kind:l.DocumentDiagnosticReportKind.unChanged,uri:this.client.protocol2CodeConverter.asUri(e.uri),resultId:e.resultId,version:e.version},s=e=>{const t=[];for(const n of e)t.push({uri:this.client.code2ProtocolConverter.asUri(n.uri),value:n.value});return t},a=(e,t)=>{const a=(0,o.generateUuid)(),c=this.client.onProgress(i.WorkspaceDiagnosticRequest.partialResult,a,(async e=>{if(null==e)return void n(null);const t={items:[]};for(const n of e.items)try{t.items.push(await r(n))}catch(e){this.client.error("Converting workspace diagnostics failed.",e)}n(t)})),l={identifier:this.options.identifier,previousResultIds:s(e),partialResultToken:a};return!0!==this.isDisposed&&this.client.isRunning()?this.client.sendRequest(i.WorkspaceDiagnosticRequest.type,l,t).then((async e=>{if(t.isCancellationRequested)return{items:[]};const i={items:[]};for(const t of e.items)i.items.push(await r(t));return c.dispose(),n(i),{items:[]}}),(e=>(c.dispose(),this.client.handleFailedRequest(i.DocumentDiagnosticRequest.type,t,e,{items:[]})))):{items:[]}},c=this.client.middleware;return c.provideWorkspaceDiagnostics?c.provideWorkspaceDiagnostics(e,t,n,a):a(e,t)}),e}dispose(){this.isDisposed=!0,this.workspaceCancellation?.cancel(),this.workspaceTimeout?.dispose();for(const[e,t]of this.openRequests)t.state===p.active&&t.tokenSource.cancel(),this.openRequests.set(e,{state:p.outDated,document:t.document});this.diagnostics.dispose()}}class g{client;diagnosticRequestor;lastDocumentToPull;documents;timeoutHandle;isDisposed;constructor(e,t){this.client=e,this.diagnosticRequestor=t,this.documents=new i.LinkedMap,this.isDisposed=!1}add(e){if(!0===this.isDisposed)return;const t=h.asKey(e);this.documents.has(t)||(this.documents.set(t,e,i.Touch.Last),this.lastDocumentToPull=e)}remove(e){const t=h.asKey(e);if(this.documents.delete(t),0!==this.documents.size){if(t===this.lastDocumentToPullKey()){const e=this.documents.before(t);void 0===e?this.stop():this.lastDocumentToPull=e}}else this.stop()}trigger(){this.lastDocumentToPull=this.documents.last,this.runLoop()}runLoop(){!0!==this.isDisposed&&(0!==this.documents.size?void 0!==this.lastDocumentToPull&&void 0===this.timeoutHandle&&(this.timeoutHandle=(0,i.RAL)().timer.setTimeout((()=>{const e=this.documents.first;if(void 0===e)return;const t=h.asKey(e);this.diagnosticRequestor.pullAsync(e).catch((e=>{this.client.error(`Document pull failed for text document ${t}`,e,!1)})).finally((()=>{this.timeoutHandle=void 0,this.documents.set(t,e,i.Touch.Last),t!==this.lastDocumentToPullKey()&&this.runLoop()}))}),500)):this.stop())}dispose(){this.isDisposed=!0,this.stop(),this.documents.clear(),this.lastDocumentToPull=void 0}stop(){this.timeoutHandle?.dispose(),this.timeoutHandle=void 0,this.lastDocumentToPull=void 0}lastDocumentToPullKey(){return void 0!==this.lastDocumentToPull?h.asKey(this.lastDocumentToPull):void 0}}class m{disposable;diagnosticRequestor;activeTextDocument;backgroundScheduler;constructor(e,t,n){const o=Object.assign({onChange:!1,onSave:!1,onFocus:!1},e.clientOptions.diagnosticPullOptions),a=e.protocol2CodeConverter.asDocumentSelector(n.documentSelector),c=[],l=(e,t)=>!("string"==typeof e||void 0!==e.language&&"*"!==e.language||void 0!==e.scheme&&"*"!==e.scheme&&e.scheme!==t.scheme||void 0!==e.pattern&&!(0,s.matchGlobPattern)(e.pattern,t)),p=e=>e instanceof r.Uri?(e=>{const t=n.documentSelector;if(void 0!==o.match)return o.match(t,e);for(const n of t)if(i.TextDocumentFilter.is(n)&&l(n,e))return!0;return!1})(e):r.languages.match(a,e)>0&&t.isVisible(e),h=e=>r.languages.match(a,e.document)>0&&t.isVisible(e.notebook.uri),f=e=>e instanceof r.Uri?this.activeTextDocument?.uri.toString()===e.toString():this.activeTextDocument===e;this.diagnosticRequestor=new v(e,t,n),this.backgroundScheduler=new g(e,this.diagnosticRequestor);const m=e=>{p(e)&&n.interFileDependencies&&!f(e)&&!1!==o.onChange&&this.backgroundScheduler.add(e)},y=(e,t)=>(void 0===o.filter||!o.filter(e,t))&&this.diagnosticRequestor.knows(d.document,e);this.activeTextDocument=r.window.activeTextEditor?.document,c.push(r.window.onDidChangeActiveTextEditor((e=>{const t=this.activeTextDocument;this.activeTextDocument=e?.document,void 0!==t&&m(t),void 0!==this.activeTextDocument&&(this.backgroundScheduler.remove(this.activeTextDocument),!0===o.onFocus&&p(this.activeTextDocument)&&y(this.activeTextDocument,u.onFocus)&&this.diagnosticRequestor.pull(this.activeTextDocument))})));const b=e.getFeature(i.DidOpenTextDocumentNotification.method);c.push(b.onNotificationSent((e=>{const t=e.textDocument;this.diagnosticRequestor.knows(d.document,t)||p(t)&&this.diagnosticRequestor.pull(t,(()=>{m(t)}))})));const _=e.getFeature(i.NotebookDocumentSyncRegistrationType.method);c.push(_.onOpenNotificationSent((e=>{for(const t of e.getCells())h(t)&&this.diagnosticRequestor.pull(t.document,(()=>{m(t.document)}))}))),c.push(t.onOpen((e=>{for(const t of e){if(this.diagnosticRequestor.knows(d.document,t))continue;const e=t.toString();let n;for(const t of r.workspace.textDocuments)if(e===t.uri.toString()){n=t;break}void 0!==n&&p(n)&&this.diagnosticRequestor.pull(n,(()=>{m(n)}))}})));const E=new Set;for(const e of r.workspace.textDocuments)p(e)&&(this.diagnosticRequestor.pull(e,(()=>{m(e)})),E.add(e.uri.toString()));for(const e of r.workspace.notebookDocuments)for(const t of e.getCells())h(t)&&(this.diagnosticRequestor.pull(t.document,(()=>{m(t.document)})),E.add(t.document.uri.toString()));if(!0===o.onTabs)for(const e of t.getTabResources())!E.has(e.toString())&&p(e)&&this.diagnosticRequestor.pull(e,(()=>{m(e)}));if(!0===o.onChange){const t=e.getFeature(i.DidChangeTextDocumentNotification.method);c.push(t.onNotificationSent((async e=>{const t=e.textDocument;y(t,u.onType)&&this.diagnosticRequestor.pull(t,(()=>{this.backgroundScheduler.trigger()}))}))),c.push(_.onChangeNotificationSent((async e=>{const t=(e.cells?.textContent||[]).map((t=>e.notebook.getCells().find((e=>e.document.uri.toString()===t.document.uri.toString()))));for(const e of t)e&&h(e)&&this.diagnosticRequestor.pull(e.document,(()=>{this.backgroundScheduler.trigger()}));const n=e.cells?.structure?.didClose||[];for(const e of n)this.diagnosticRequestor.forgetDocument(e.document);const r=e.cells?.structure?.didOpen||[];for(const e of r)h(e)&&this.diagnosticRequestor.pull(e.document,(()=>{this.backgroundScheduler.trigger()}))})))}if(!0===o.onSave){const t=e.getFeature(i.DidSaveTextDocumentNotification.method);c.push(t.onNotificationSent((e=>{const t=e.textDocument;y(t,u.onSave)&&this.diagnosticRequestor.pull(e.textDocument)}))),c.push(_.onSaveNotificationSent((e=>{for(const t of e.getCells())h(t)&&this.diagnosticRequestor.pull(t.document)})))}const S=e.getFeature(i.DidCloseTextDocumentNotification.method);c.push(S.onNotificationSent((e=>{this.cleanUpDocument(e.textDocument)}))),c.push(_.onCloseNotificationSent((e=>{for(const t of e.getCells())this.cleanUpDocument(t.document)}))),t.onClose((e=>{for(const t of e)this.cleanUpDocument(t)})),this.diagnosticRequestor.onDidChangeDiagnosticsEmitter.event((()=>{for(const e of r.workspace.textDocuments)p(e)&&this.diagnosticRequestor.pull(e)})),!0===n.workspaceDiagnostics&&"da348dc5-c30a-4515-9d98-31ff3be38d14"!==n.identifier&&this.diagnosticRequestor.pullWorkspace(),this.disposable=r.Disposable.from(...c,this.backgroundScheduler,this.diagnosticRequestor)}get onDidChangeDiagnosticsEmitter(){return this.diagnosticRequestor.onDidChangeDiagnosticsEmitter}get diagnostics(){return this.diagnosticRequestor.provider}forget(e){this.cleanUpDocument(e)}cleanUpDocument(e){this.backgroundScheduler.remove(e),this.diagnosticRequestor.knows(d.document,e)&&this.diagnosticRequestor.forgetDocument(e)}}class y extends a.TextDocumentLanguageFeature{constructor(e){super(e,i.DocumentDiagnosticRequest.type)}fillClientCapabilities(e){const t=c(c(e,"textDocument"),"diagnostic");t.relatedInformation=!0,t.tagSupport={valueSet:[i.DiagnosticTag.Unnecessary,i.DiagnosticTag.Deprecated]},t.codeDescriptionSupport=!0,t.dataSupport=!0,t.dynamicRegistration=!0,t.relatedDocumentSupport=!1,c(c(e,"workspace"),"diagnostics").refreshSupport=!0}initialize(e,t){this._client.onRequest(i.DiagnosticRefreshRequest.type,(async()=>{for(const e of this.getAllProviders())e.onDidChangeDiagnosticsEmitter.fire()}));const[n,r]=this.getRegistration(t,e.diagnosticProvider);n&&r&&this.register({id:n,registerOptions:r})}clear(){super.clear()}refresh(){for(const e of this.getAllProviders())e.onDidChangeDiagnosticsEmitter.fire()}registerLanguageProvider(e){const t=new m(this._client,this._client.tabsModel,e);return[t.disposable,t]}}t.DiagnosticFeature=y},29014:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentHighlightFeature=void 0;const s=n(54980),a=n(98766),c=n(14294),l=o(n(69032));class u extends c.TextDocumentLanguageFeature{constructor(e){super(e,a.DocumentHighlightRequest.type)}fillClientCapabilities(e){(0,c.ensure)((0,c.ensure)(e,"textDocument"),"documentHighlight").dynamicRegistration=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.documentHighlightProvider);n&&this.register({id:l.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideDocumentHighlights:(e,t,n)=>{const r=this._client,i=(e,t,n)=>r.sendRequest(a.DocumentHighlightRequest.type,r.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asDocumentHighlights(e,n)),(e=>r.handleFailedRequest(a.DocumentHighlightRequest.type,n,e,null))),o=r.middleware;return o.provideDocumentHighlights?o.provideDocumentHighlights(e,t,n,i):i(e,t,n)}};return[s.languages.registerDocumentHighlightProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}}t.DocumentHighlightFeature=u},7656:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentLinkFeature=void 0;const s=n(54980),a=n(98766),c=n(14294),l=o(n(69032));class u extends c.TextDocumentLanguageFeature{constructor(e){super(e,a.DocumentLinkRequest.type)}fillClientCapabilities(e){const t=(0,c.ensure)((0,c.ensure)(e,"textDocument"),"documentLink");t.dynamicRegistration=!0,t.tooltipSupport=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.documentLinkProvider);n&&this.register({id:l.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideDocumentLinks:(e,t)=>{const n=this._client,r=(e,t)=>n.sendRequest(a.DocumentLinkRequest.type,n.code2ProtocolConverter.asDocumentLinkParams(e),t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asDocumentLinks(e,t)),(e=>n.handleFailedRequest(a.DocumentLinkRequest.type,t,e,null))),i=n.middleware;return i.provideDocumentLinks?i.provideDocumentLinks(e,t,r):r(e,t)},resolveDocumentLink:e.resolveProvider?(e,t)=>{const n=this._client,r=(e,t)=>n.sendRequest(a.DocumentLinkResolveRequest.type,n.code2ProtocolConverter.asDocumentLink(e),t).then((r=>t.isCancellationRequested?e:n.protocol2CodeConverter.asDocumentLink(r)),(r=>n.handleFailedRequest(a.DocumentLinkResolveRequest.type,t,r,e))),i=n.middleware;return i.resolveDocumentLink?i.resolveDocumentLink(e,t,r):r(e,t)}:void 0};return[s.languages.registerDocumentLinkProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}}t.DocumentLinkFeature=u},49228:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentSymbolFeature=t.SupportedSymbolTags=t.SupportedSymbolKinds=void 0;const s=n(54980),a=n(98766),c=n(14294),l=o(n(69032));t.SupportedSymbolKinds=[a.SymbolKind.File,a.SymbolKind.Module,a.SymbolKind.Namespace,a.SymbolKind.Package,a.SymbolKind.Class,a.SymbolKind.Method,a.SymbolKind.Property,a.SymbolKind.Field,a.SymbolKind.Constructor,a.SymbolKind.Enum,a.SymbolKind.Interface,a.SymbolKind.Function,a.SymbolKind.Variable,a.SymbolKind.Constant,a.SymbolKind.String,a.SymbolKind.Number,a.SymbolKind.Boolean,a.SymbolKind.Array,a.SymbolKind.Object,a.SymbolKind.Key,a.SymbolKind.Null,a.SymbolKind.EnumMember,a.SymbolKind.Struct,a.SymbolKind.Event,a.SymbolKind.Operator,a.SymbolKind.TypeParameter],t.SupportedSymbolTags=[a.SymbolTag.Deprecated];class u extends c.TextDocumentLanguageFeature{constructor(e){super(e,a.DocumentSymbolRequest.type)}fillClientCapabilities(e){const n=(0,c.ensure)((0,c.ensure)(e,"textDocument"),"documentSymbol");n.dynamicRegistration=!0,n.symbolKind={valueSet:t.SupportedSymbolKinds},n.hierarchicalDocumentSymbolSupport=!0,n.tagSupport={valueSet:t.SupportedSymbolTags},n.labelSupport=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.documentSymbolProvider);n&&this.register({id:l.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideDocumentSymbols:(e,t)=>{const n=this._client,r=async(e,t)=>{try{const r=await n.sendRequest(a.DocumentSymbolRequest.type,n.code2ProtocolConverter.asDocumentSymbolParams(e),t);if(t.isCancellationRequested||null==r)return null;if(0===r.length)return[];{const e=r[0];return a.DocumentSymbol.is(e)?await n.protocol2CodeConverter.asDocumentSymbols(r,t):await n.protocol2CodeConverter.asSymbolInformations(r,t)}}catch(e){return n.handleFailedRequest(a.DocumentSymbolRequest.type,t,e,null)}},i=n.middleware;return i.provideDocumentSymbols?i.provideDocumentSymbols(e,t,r):r(e,t)}},r=void 0!==e.label?{label:e.label}:void 0;return[s.languages.registerDocumentSymbolProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n,r),n]}}t.DocumentSymbolFeature=u},69073:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ExecuteCommandFeature=void 0;const s=n(54980),a=n(98766),c=o(n(69032)),l=n(14294);t.ExecuteCommandFeature=class{_client;_commands;constructor(e){this._client=e,this._commands=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._commands.size>0}}get registrationType(){return a.ExecuteCommandRequest.type}fillClientCapabilities(e){(0,l.ensure)((0,l.ensure)(e,"workspace"),"executeCommand").dynamicRegistration=!0}initialize(e){e.executeCommandProvider&&this.register({id:c.generateUuid(),registerOptions:Object.assign({},e.executeCommandProvider)})}register(e){const t=this._client,n=t.middleware,r=(e,n)=>{const r={command:e,arguments:n};return t.sendRequest(a.ExecuteCommandRequest.type,r).then(void 0,(e=>t.handleFailedRequest(a.ExecuteCommandRequest.type,void 0,e,void 0)))};if(e.registerOptions.commands){const t=[];for(const i of e.registerOptions.commands)t.push(s.commands.registerCommand(i,((...e)=>n.executeCommand?n.executeCommand(i,e,r):r(i,e))));this._commands.set(e.id,t)}}unregister(e){const t=this._commands.get(e);t&&(this._commands.delete(e),t.forEach((e=>e.dispose())))}clear(){this._commands.forEach((e=>{e.forEach((e=>e.dispose()))})),this._commands.clear()}}},14294:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceFeature=t.TextDocumentLanguageFeature=t.TextDocumentEventFeature=t.DynamicDocumentFeature=t.DynamicFeature=t.StaticFeature=t.ensure=t.LSPCancellationError=void 0;const s=n(54980),a=n(98766),c=o(n(58319)),l=o(n(69032));class u extends s.CancellationError{data;constructor(e){super(),this.data=e}}var p,d;t.LSPCancellationError=u,t.ensure=function(e,t){return void 0===e[t]&&(e[t]={}),e[t]},function(e){e.is=function(e){const t=e;return null!=t&&c.func(t.fillClientCapabilities)&&c.func(t.initialize)&&c.func(t.getState)&&c.func(t.clear)&&(void 0===t.fillInitializeParams||c.func(t.fillInitializeParams))}}(p||(t.StaticFeature=p={})),function(e){e.is=function(e){const t=e;return null!=t&&c.func(t.fillClientCapabilities)&&c.func(t.initialize)&&c.func(t.getState)&&c.func(t.clear)&&(void 0===t.fillInitializeParams||c.func(t.fillInitializeParams))&&c.func(t.register)&&c.func(t.unregister)&&void 0!==t.registrationType}}(d||(t.DynamicFeature=d={}));class h{_client;constructor(e){this._client=e}getState(){const e=this.getDocumentSelectors();let t=0;for(const n of e){t++;for(const e of s.workspace.textDocuments)if(s.languages.match(n,e)>0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}const n=t>0;return{kind:"document",id:this.registrationType.method,registrations:n,matches:!1}}}t.DynamicDocumentFeature=h,t.TextDocumentEventFeature=class extends h{_event;_type;_middleware;_createParams;_textDocument;_selectorFilter;_listener;_selectors;_onNotificationSent;static textDocumentFilter(e,t){for(const n of e)if(s.languages.match(n,t)>0)return!0;return!1}constructor(e,t,n,r,i,o,a){super(e),this._event=t,this._type=n,this._middleware=r,this._createParams=i,this._textDocument=o,this._selectorFilter=a,this._selectors=new Map,this._onNotificationSent=new s.EventEmitter}getStateInfo(){return[this._selectors.values(),!1]}getDocumentSelectors(){return this._selectors.values()}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=this._event((e=>{this.callback(e).catch((e=>{this._client.error(`Sending document notification ${this._type.method} failed.`,e)}))}))),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}async callback(e){const t=async e=>{const t=this._createParams(e);await this._client.sendNotification(this._type,t),this.notificationSent(this.getTextDocument(e),this._type,t)};if(this.matches(e)){const n=this._middleware();return n?n(e,(e=>t(e))):t(e)}}matches(e){return!this._client.hasDedicatedTextSynchronizationFeature(this._textDocument(e))&&(!this._selectorFilter||this._selectorFilter(this._selectors.values(),e))}get onNotificationSent(){return this._onNotificationSent.event}notificationSent(e,t,n){this._onNotificationSent.fire({textDocument:e,type:t,params:n})}unregister(e){this._selectors.delete(e),0===this._selectors.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._selectors.clear(),this._onNotificationSent.dispose(),this._onNotificationSent=new s.EventEmitter,this._listener&&(this._listener.dispose(),this._listener=void 0)}getProvider(e){for(const t of this._selectors.values())if(s.languages.match(t,e)>0)return{send:e=>this.callback(e)}}},t.TextDocumentLanguageFeature=class extends h{_registrationType;_registrations;constructor(e,t){super(e),this._registrationType=t,this._registrations=new Map}*getDocumentSelectors(){for(const e of this._registrations.values()){const t=e.data.registerOptions.documentSelector;null!==t&&(yield this._client.protocol2CodeConverter.asDocumentSelector(t))}}get registrationType(){return this._registrationType}register(e){if(!e.registerOptions.documentSelector)return;const t=this.registerLanguageProvider(e.registerOptions,e.id);this._registrations.set(e.id,{disposable:t[0],data:e,provider:t[1]})}unregister(e){const t=this._registrations.get(e);void 0!==t&&(this._registrations.delete(e),t.disposable.dispose())}clear(){this._registrations.forEach((e=>{e.disposable.dispose()})),this._registrations.clear()}getRegistration(e,t){if(!t)return[void 0,void 0];if(a.TextDocumentRegistrationOptions.is(t)){const n=a.StaticRegistrationOptions.hasId(t)?t.id:l.generateUuid(),r=t.documentSelector??e;if(r)return[n,Object.assign({},t,{documentSelector:r})]}else if(c.boolean(t)&&!0===t||a.WorkDoneProgressOptions.is(t)){if(!e)return[void 0,void 0];const n=c.boolean(t)&&!0===t?{documentSelector:e}:Object.assign({},t,{documentSelector:e});return[l.generateUuid(),n]}return[void 0,void 0]}getRegistrationOptions(e,t){if(e&&t)return c.boolean(t)&&!0===t?{documentSelector:e}:Object.assign({},t,{documentSelector:e})}getProvider(e){for(const t of this._registrations.values()){const n=t.data.registerOptions.documentSelector;if(null!==n&&s.languages.match(this._client.protocol2CodeConverter.asDocumentSelector(n),e)>0)return t.provider}}getAllProviders(){const e=[];for(const t of this._registrations.values())e.push(t.provider);return e}},t.WorkspaceFeature=class{_client;_registrationType;_registrations;constructor(e,t){this._client=e,this._registrationType=t,this._registrations=new Map}getState(){const e=this._registrations.size>0;return{kind:"workspace",id:this._registrationType.method,registrations:e}}get registrationType(){return this._registrationType}register(e){const t=this.registerLanguageProvider(e.registerOptions);this._registrations.set(e.id,{disposable:t[0],provider:t[1]})}unregister(e){const t=this._registrations.get(e);void 0!==t&&(this._registrations.delete(e),t.disposable.dispose())}clear(){this._registrations.forEach((e=>{e.disposable.dispose()})),this._registrations.clear()}getProviders(){const e=[];for(const t of this._registrations.values())e.push(t.provider);return e}}},2485:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.WillDeleteFilesFeature=t.WillRenameFilesFeature=t.WillCreateFilesFeature=t.DidDeleteFilesFeature=t.DidRenameFilesFeature=t.DidCreateFilesFeature=void 0;const s=o(n(54980)),a=o(n(40502)),c=o(n(98766)),l=o(n(69032));function u(e,t){return void 0===e[t]&&(e[t]={}),e[t]}function p(e,t,n){e[t]=n}class d{_client;_event;_registrationType;_clientCapability;_serverCapability;_listener;_filters;constructor(e,t,n,r,i){this._client=e,this._event=t,this._registrationType=n,this._clientCapability=r,this._serverCapability=i,this._filters=new Map}getState(){return{kind:"workspace",id:this._registrationType.method,registrations:this._filters.size>0}}filterSize(){return this._filters.size}get registrationType(){return this._registrationType}fillClientCapabilities(e){const t=u(u(e,"workspace"),"fileOperations");p(t,"dynamicRegistration",!0),p(t,this._clientCapability,!0)}initialize(e){const t=e.workspace?.fileOperations,n=void 0!==t?t[this._serverCapability]:void 0;if(void 0!==n?.filters)try{this.register({id:l.generateUuid(),registerOptions:{filters:n.filters}})}catch(e){this._client.warn(`Ignoring invalid glob pattern for ${this._serverCapability} registration: ${e}`)}}register(e){this._listener||(this._listener=this._event(this.send,this));const t=e.registerOptions.filters.map((e=>{const t=new a.Minimatch(e.pattern.glob,d.asMinimatchOptions(e.pattern.options));if(!t.makeRe())throw new Error(`Invalid pattern ${e.pattern.glob}!`);return{scheme:e.scheme,matcher:t,kind:e.pattern.matches}}));this._filters.set(e.id,t)}unregister(e){this._filters.delete(e),0===this._filters.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._filters.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getFileType(e){return d.getFileType(e)}async filter(e,t){const n=await Promise.all(e.files.map((async e=>{const n=t(e),r=n.fsPath.replace(/\\/g,"/");for(const e of this._filters.values())for(const t of e)if(void 0===t.scheme||t.scheme===n.scheme)if(t.matcher.match(r)){if(void 0===t.kind)return!0;const e=await this.getFileType(n);if(void 0===e)return this._client.error(`Failed to determine file type for ${n.toString()}.`),!0;if(e===s.FileType.File&&t.kind===c.FileOperationPatternKind.file||e===s.FileType.Directory&&t.kind===c.FileOperationPatternKind.folder)return!0}else if(t.kind===c.FileOperationPatternKind.folder&&await d.getFileType(n)===s.FileType.Directory&&t.matcher.match(`${r}/`))return!0;return!1}))),r=e.files.filter(((e,t)=>n[t]));return{...e,files:r}}static async getFileType(e){try{return(await s.workspace.fs.stat(e)).type}catch(e){return}}static asMinimatchOptions(e){const t={dot:!0};return!0===e?.ignoreCase&&(t.nocase=!0),t}}class h extends d{_notificationType;_accessUri;_createParams;constructor(e,t,n,r,i,o,s){super(e,t,n,r,i),this._notificationType=n,this._accessUri=o,this._createParams=s}async send(e){const t=await this.filter(e,this._accessUri);if(t.files.length){const e=async e=>this._client.sendNotification(this._notificationType,this._createParams(e));return this.doSend(t,e)}}}class f extends h{_willListener;_fsPathFileTypes=new Map;async getFileType(e){const t=e.fsPath;if(this._fsPathFileTypes.has(t))return this._fsPathFileTypes.get(t);const n=await d.getFileType(e);return n&&this._fsPathFileTypes.set(t,n),n}async cacheFileTypes(e,t){await this.filter(e,t)}clearFileTypeCache(){this._fsPathFileTypes.clear()}unregister(e){super.unregister(e),0===this.filterSize()&&this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}clear(){super.clear(),this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}}t.DidCreateFilesFeature=class extends h{constructor(e){super(e,s.workspace.onDidCreateFiles,c.DidCreateFilesNotification.type,"didCreate","didCreate",(e=>e),e.code2ProtocolConverter.asDidCreateFilesParams)}doSend(e,t){const n=this._client.middleware.workspace;return n?.didCreateFiles?n.didCreateFiles(e,t):t(e)}},t.DidRenameFilesFeature=class extends f{constructor(e){super(e,s.workspace.onDidRenameFiles,c.DidRenameFilesNotification.type,"didRename","didRename",(e=>e.oldUri),e.code2ProtocolConverter.asDidRenameFilesParams)}register(e){this._willListener||(this._willListener=s.workspace.onWillRenameFiles(this.willRename,this)),super.register(e)}willRename(e){e.waitUntil(this.cacheFileTypes(e,(e=>e.oldUri)))}doSend(e,t){this.clearFileTypeCache();const n=this._client.middleware.workspace;return n?.didRenameFiles?n.didRenameFiles(e,t):t(e)}},t.DidDeleteFilesFeature=class extends f{constructor(e){super(e,s.workspace.onDidDeleteFiles,c.DidDeleteFilesNotification.type,"didDelete","didDelete",(e=>e),e.code2ProtocolConverter.asDidDeleteFilesParams)}register(e){this._willListener||(this._willListener=s.workspace.onWillDeleteFiles(this.willDelete,this)),super.register(e)}willDelete(e){e.waitUntil(this.cacheFileTypes(e,(e=>e)))}doSend(e,t){this.clearFileTypeCache();const n=this._client.middleware.workspace;return n?.didDeleteFiles?n.didDeleteFiles(e,t):t(e)}};class v extends d{_requestType;_accessUri;_createParams;constructor(e,t,n,r,i,o,s){super(e,t,n,r,i),this._requestType=n,this._accessUri=o,this._createParams=s}async send(e){const t=this.waitUntil(e);e.waitUntil(t)}async waitUntil(e){const t=await this.filter(e,this._accessUri);if(t.files.length){const e=e=>this._client.sendRequest(this._requestType,this._createParams(e),e.token).then(this._client.protocol2CodeConverter.asWorkspaceEdit);return this.doSend(t,e)}}}t.WillCreateFilesFeature=class extends v{constructor(e){super(e,s.workspace.onWillCreateFiles,c.WillCreateFilesRequest.type,"willCreate","willCreate",(e=>e),e.code2ProtocolConverter.asWillCreateFilesParams)}doSend(e,t){const n=this._client.middleware.workspace;return n?.willCreateFiles?n.willCreateFiles(e,t):t(e)}},t.WillRenameFilesFeature=class extends v{constructor(e){super(e,s.workspace.onWillRenameFiles,c.WillRenameFilesRequest.type,"willRename","willRename",(e=>e.oldUri),e.code2ProtocolConverter.asWillRenameFilesParams)}doSend(e,t){const n=this._client.middleware.workspace;return n?.willRenameFiles?n.willRenameFiles(e,t):t(e)}},t.WillDeleteFilesFeature=class extends v{constructor(e){super(e,s.workspace.onWillDeleteFiles,c.WillDeleteFilesRequest.type,"willDelete","willDelete",(e=>e),e.code2ProtocolConverter.asWillDeleteFilesParams)}doSend(e,t){const n=this._client.middleware.workspace;return n?.willDeleteFiles?n.willDeleteFiles(e,t):t(e)}}},59084:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileSystemWatcherFeature=void 0;const r=n(54980),i=n(98766),o=n(14294);t.FileSystemWatcherFeature=class{_client;_notifyFileEvent;_watchers;constructor(e,t){this._client=e,this._notifyFileEvent=t,this._watchers=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._watchers.size>0}}get registrationType(){return i.DidChangeWatchedFilesNotification.type}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"workspace"),"didChangeWatchedFiles").dynamicRegistration=!0,(0,o.ensure)((0,o.ensure)(e,"workspace"),"didChangeWatchedFiles").relativePatternSupport=!0}initialize(e,t){}register(e){if(!Array.isArray(e.registerOptions.watchers))return;const t=[];for(const n of e.registerOptions.watchers){const e=this._client.protocol2CodeConverter.asGlobPattern(n.globPattern);if(void 0===e)continue;let o=!0,s=!0,a=!0;void 0!==n.kind&&null!==n.kind&&(o=!!(n.kind&i.WatchKind.Create),s=!!(n.kind&i.WatchKind.Change),a=!!(n.kind&i.WatchKind.Delete));const c=r.workspace.createFileSystemWatcher(e,!o,!s,!a);this.hookListeners(c,o,s,a,t),t.push(c)}this._watchers.set(e.id,t)}registerRaw(e,t){const n=[];for(const e of t)this.hookListeners(e,!0,!0,!0,n);this._watchers.set(e,n)}hookListeners(e,t,n,r,o){t&&e.onDidCreate((e=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(e),type:i.FileChangeType.Created})),null,o),n&&e.onDidChange((e=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(e),type:i.FileChangeType.Changed})),null,o),r&&e.onDidDelete((e=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(e),type:i.FileChangeType.Deleted})),null,o)}unregister(e){const t=this._watchers.get(e);if(t){this._watchers.delete(e);for(const e of t)e.dispose()}}clear(){this._watchers.forEach((e=>{for(const t of e)t.dispose()})),this._watchers.clear()}}},73963:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FoldingRangeFeature=void 0;const r=n(54980),i=n(98766),o=n(14294);class s extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.FoldingRangeRequest.type)}fillClientCapabilities(e){const t=(0,o.ensure)((0,o.ensure)(e,"textDocument"),"foldingRange");t.dynamicRegistration=!0,t.rangeLimit=5e3,t.lineFoldingOnly=!0,t.foldingRangeKind={valueSet:[i.FoldingRangeKind.Comment,i.FoldingRangeKind.Imports,i.FoldingRangeKind.Region]},t.foldingRange={collapsedText:!1},(0,o.ensure)((0,o.ensure)(e,"workspace"),"foldingRange").refreshSupport=!0}initialize(e,t){this._client.onRequest(i.FoldingRangeRefreshRequest.type,(async()=>{for(const e of this.getAllProviders())e.onDidChangeFoldingRange.fire()}));const[n,r]=this.getRegistration(t,e.foldingRangeProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=e.documentSelector,n=new r.EventEmitter,o={onDidChangeFoldingRanges:n.event,provideFoldingRanges:(e,t,n)=>{const r=this._client,o=(e,t,n)=>{const o={textDocument:r.code2ProtocolConverter.asTextDocumentIdentifier(e)};return r.sendRequest(i.FoldingRangeRequest.type,o,n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asFoldingRanges(e,n)),(e=>r.handleFailedRequest(i.FoldingRangeRequest.type,n,e,null)))},s=r.middleware;return s.provideFoldingRanges?s.provideFoldingRanges(e,t,n,o):o(e,0,n)}};return[r.languages.registerFoldingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),o),{provider:o,onDidChangeFoldingRange:n}]}}t.FoldingRangeFeature=s},17298:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentOnTypeFormattingFeature=t.DocumentRangeFormattingFeature=t.DocumentFormattingFeature=void 0;const s=n(54980),a=n(98766),c=o(n(69032)),l=n(14294);var u;!function(e){e.fromConfiguration=function(e){const t=s.workspace.getConfiguration("files",e);return{trimTrailingWhitespace:t.get("trimTrailingWhitespace"),trimFinalNewlines:t.get("trimFinalNewlines"),insertFinalNewline:t.get("insertFinalNewline")}}}(u||(u={}));class p extends l.TextDocumentLanguageFeature{constructor(e){super(e,a.DocumentFormattingRequest.type)}fillClientCapabilities(e){(0,l.ensure)((0,l.ensure)(e,"textDocument"),"formatting").dynamicRegistration=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.documentFormattingProvider);n&&this.register({id:c.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideDocumentFormattingEdits:(e,t,n)=>{const r=this._client,i=(e,t,n)=>{const i={textDocument:r.code2ProtocolConverter.asTextDocumentIdentifier(e),options:r.code2ProtocolConverter.asFormattingOptions(t,u.fromConfiguration(e))};return r.sendRequest(a.DocumentFormattingRequest.type,i,n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asTextEdits(e,n)),(e=>r.handleFailedRequest(a.DocumentFormattingRequest.type,n,e,null)))},o=r.middleware;return o.provideDocumentFormattingEdits?o.provideDocumentFormattingEdits(e,t,n,i):i(e,t,n)}};return[s.languages.registerDocumentFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}}t.DocumentFormattingFeature=p;class d extends l.TextDocumentLanguageFeature{constructor(e){super(e,a.DocumentRangeFormattingRequest.type)}fillClientCapabilities(e){const t=(0,l.ensure)((0,l.ensure)(e,"textDocument"),"rangeFormatting");t.dynamicRegistration=!0,t.rangesSupport=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.documentRangeFormattingProvider);n&&this.register({id:c.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideDocumentRangeFormattingEdits:(e,t,n,r)=>{const i=this._client,o=(e,t,n,r)=>{const o={textDocument:i.code2ProtocolConverter.asTextDocumentIdentifier(e),range:i.code2ProtocolConverter.asRange(t),options:i.code2ProtocolConverter.asFormattingOptions(n,u.fromConfiguration(e))};return i.sendRequest(a.DocumentRangeFormattingRequest.type,o,r).then((e=>r.isCancellationRequested?null:i.protocol2CodeConverter.asTextEdits(e,r)),(e=>i.handleFailedRequest(a.DocumentRangeFormattingRequest.type,r,e,null)))},s=i.middleware;return s.provideDocumentRangeFormattingEdits?s.provideDocumentRangeFormattingEdits(e,t,n,r,o):o(e,t,n,r)}};return e.rangesSupport&&(n.provideDocumentRangesFormattingEdits=(e,t,n,r)=>{const i=this._client,o=(e,t,n,r)=>{const o={textDocument:i.code2ProtocolConverter.asTextDocumentIdentifier(e),ranges:i.code2ProtocolConverter.asRanges(t),options:i.code2ProtocolConverter.asFormattingOptions(n,u.fromConfiguration(e))};return i.sendRequest(a.DocumentRangesFormattingRequest.type,o,r).then((e=>r.isCancellationRequested?null:i.protocol2CodeConverter.asTextEdits(e,r)),(e=>i.handleFailedRequest(a.DocumentRangesFormattingRequest.type,r,e,null)))},s=i.middleware;return s.provideDocumentRangesFormattingEdits?s.provideDocumentRangesFormattingEdits(e,t,n,r,o):o(e,t,n,r)}),[s.languages.registerDocumentRangeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}}t.DocumentRangeFormattingFeature=d;class h extends l.TextDocumentLanguageFeature{constructor(e){super(e,a.DocumentOnTypeFormattingRequest.type)}fillClientCapabilities(e){(0,l.ensure)((0,l.ensure)(e,"textDocument"),"onTypeFormatting").dynamicRegistration=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.documentOnTypeFormattingProvider);n&&this.register({id:c.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideOnTypeFormattingEdits:(e,t,n,r,i)=>{const o=this._client,s=(e,t,n,r,i)=>{const s={textDocument:o.code2ProtocolConverter.asTextDocumentIdentifier(e),position:o.code2ProtocolConverter.asPosition(t),ch:n,options:o.code2ProtocolConverter.asFormattingOptions(r,u.fromConfiguration(e))};return o.sendRequest(a.DocumentOnTypeFormattingRequest.type,s,i).then((e=>i.isCancellationRequested?null:o.protocol2CodeConverter.asTextEdits(e,i)),(e=>o.handleFailedRequest(a.DocumentOnTypeFormattingRequest.type,i,e,null)))},c=o.middleware;return c.provideOnTypeFormattingEdits?c.provideOnTypeFormattingEdits(e,t,n,r,i,s):s(e,t,n,r,i)}},r=e.moreTriggerCharacter||[];return[s.languages.registerOnTypeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n,e.firstTriggerCharacter,...r),n]}}t.DocumentOnTypeFormattingFeature=h},41507:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.HoverFeature=void 0;const s=n(54980),a=n(98766),c=n(14294),l=o(n(69032));class u extends c.TextDocumentLanguageFeature{constructor(e){super(e,a.HoverRequest.type)}fillClientCapabilities(e){const t=(0,c.ensure)((0,c.ensure)(e,"textDocument"),"hover");t.dynamicRegistration=!0,t.contentFormat=[a.MarkupKind.Markdown,a.MarkupKind.PlainText]}initialize(e,t){const n=this.getRegistrationOptions(t,e.hoverProvider);n&&this.register({id:l.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideHover:(e,t,n)=>{const r=this._client,i=(e,t,n)=>r.sendRequest(a.HoverRequest.type,r.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asHover(e)),(e=>r.handleFailedRequest(a.HoverRequest.type,n,e,null))),o=r.middleware;return o.provideHover?o.provideHover(e,t,n,i):i(e,t,n)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return s.languages.registerHoverProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.HoverFeature=u},70191:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImplementationFeature=void 0;const r=n(54980),i=n(98766),o=n(14294);class s extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.ImplementationRequest.type)}fillClientCapabilities(e){const t=(0,o.ensure)((0,o.ensure)(e,"textDocument"),"implementation");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){const[n,r]=this.getRegistration(t,e.implementationProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=e.documentSelector,n={provideImplementation:(e,t,n)=>{const r=this._client,o=(e,t,n)=>r.sendRequest(i.ImplementationRequest.type,r.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asDefinitionResult(e,n)),(e=>r.handleFailedRequest(i.ImplementationRequest.type,n,e,null))),s=r.middleware;return s.provideImplementation?s.provideImplementation(e,t,n,o):o(e,t,n)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return r.languages.registerImplementationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.ImplementationFeature=s},72767:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InlayHintsFeature=void 0;const r=n(54980),i=n(98766),o=n(14294);class s extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.InlayHintRequest.type)}fillClientCapabilities(e){const t=(0,o.ensure)((0,o.ensure)(e,"textDocument"),"inlayHint");t.dynamicRegistration=!0,t.resolveSupport={properties:["tooltip","textEdits","label.tooltip","label.location","label.command"]},(0,o.ensure)((0,o.ensure)(e,"workspace"),"inlayHint").refreshSupport=!0}initialize(e,t){this._client.onRequest(i.InlayHintRefreshRequest.type,(async()=>{for(const e of this.getAllProviders())e.onDidChangeInlayHints.fire()}));const[n,r]=this.getRegistration(t,e.inlayHintProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=e.documentSelector,n=new r.EventEmitter,o={onDidChangeInlayHints:n.event,provideInlayHints:(e,t,n)=>{const r=this._client,o=async(e,t,n)=>{const o={textDocument:r.code2ProtocolConverter.asTextDocumentIdentifier(e),range:r.code2ProtocolConverter.asRange(t)};try{const e=await r.sendRequest(i.InlayHintRequest.type,o,n);return n.isCancellationRequested?null:r.protocol2CodeConverter.asInlayHints(e,n)}catch(e){return r.handleFailedRequest(i.InlayHintRequest.type,n,e,null)}},s=r.middleware;return s.provideInlayHints?s.provideInlayHints(e,t,n,o):o(e,t,n)}};return o.resolveInlayHint=!0===e.resolveProvider?(e,t)=>{const n=this._client,r=async(e,t)=>{try{const r=await n.sendRequest(i.InlayHintResolveRequest.type,n.code2ProtocolConverter.asInlayHint(e),t);if(t.isCancellationRequested)return null;const o=n.protocol2CodeConverter.asInlayHint(r,t);return t.isCancellationRequested?null:o}catch(e){return n.handleFailedRequest(i.InlayHintResolveRequest.type,t,e,null)}},o=n.middleware;return o.resolveInlayHint?o.resolveInlayHint(e,t,r):r(e,t)}:void 0,[this.registerProvider(t,o),{provider:o,onDidChangeInlayHints:n}]}registerProvider(e,t){return r.languages.registerInlayHintsProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.InlayHintsFeature=s},23370:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.InlineCompletionItemFeature=void 0;const s=n(54980),a=n(98766),c=n(14294),l=o(n(69032));class u extends c.TextDocumentLanguageFeature{constructor(e){super(e,a.InlineCompletionRequest.type)}fillClientCapabilities(e){(0,c.ensure)((0,c.ensure)(e,"textDocument"),"inlineCompletion").dynamicRegistration=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.inlineCompletionProvider);n&&this.register({id:l.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideInlineCompletionItems:(e,t,n,r)=>{const i=this._client,o=this._client.middleware,s=(e,t,n,r)=>i.sendRequest(a.InlineCompletionRequest.type,i.code2ProtocolConverter.asInlineCompletionParams(e,t,n),r).then((e=>r.isCancellationRequested?null:i.protocol2CodeConverter.asInlineCompletionResult(e,r)),(e=>i.handleFailedRequest(a.InlineCompletionRequest.type,r,e,null)));return o.provideInlineCompletionItems?o.provideInlineCompletionItems(e,t,n,r,s):s(e,t,n,r)}};return[s.languages.registerInlineCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}}t.InlineCompletionItemFeature=u},13131:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InlineValueFeature=void 0;const r=n(54980),i=n(98766),o=n(14294);class s extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.InlineValueRequest.type)}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"inlineValue").dynamicRegistration=!0,(0,o.ensure)((0,o.ensure)(e,"workspace"),"inlineValue").refreshSupport=!0}initialize(e,t){this._client.onRequest(i.InlineValueRefreshRequest.type,(async()=>{for(const e of this.getAllProviders())e.onDidChangeInlineValues.fire()}));const[n,r]=this.getRegistration(t,e.inlineValueProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=e.documentSelector,n=new r.EventEmitter,o={onDidChangeInlineValues:n.event,provideInlineValues:(e,t,n,r)=>{const o=this._client,s=(e,t,n,r)=>{const s={textDocument:o.code2ProtocolConverter.asTextDocumentIdentifier(e),range:o.code2ProtocolConverter.asRange(t),context:o.code2ProtocolConverter.asInlineValueContext(n)};return o.sendRequest(i.InlineValueRequest.type,s,r).then((e=>r.isCancellationRequested?null:o.protocol2CodeConverter.asInlineValues(e,r)),(e=>o.handleFailedRequest(i.InlineValueRequest.type,r,e,null)))},a=o.middleware;return a.provideInlineValues?a.provideInlineValues(e,t,n,r,s):s(e,t,n,r)}};return[this.registerProvider(t,o),{provider:o,onDidChangeInlineValues:n}]}registerProvider(e,t){return r.languages.registerInlineValuesProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.InlineValueFeature=s},74913:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.LinkedEditingFeature=void 0;const s=o(n(54980)),a=o(n(98766)),c=n(14294);class l extends c.TextDocumentLanguageFeature{constructor(e){super(e,a.LinkedEditingRangeRequest.type)}fillClientCapabilities(e){(0,c.ensure)((0,c.ensure)(e,"textDocument"),"linkedEditingRange").dynamicRegistration=!0}initialize(e,t){const[n,r]=this.getRegistration(t,e.linkedEditingRangeProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=e.documentSelector,n={provideLinkedEditingRanges:(e,t,n)=>{const r=this._client,i=(e,t,n)=>r.sendRequest(a.LinkedEditingRangeRequest.type,r.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asLinkedEditingRanges(e,n)),(e=>r.handleFailedRequest(a.LinkedEditingRangeRequest.type,n,e,null))),o=r.middleware;return o.provideLinkedEditingRange?o.provideLinkedEditingRange(e,t,n,i):i(e,t,n)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return s.languages.registerLinkedEditingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.LinkedEditingFeature=l},61872:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.NotebookDocumentSyncFeature=void 0;const s=o(n(54980)),a=o(n(98766)),c=o(n(69032)),l=o(n(58319)),u=n(63191);function p(e,t){return void 0===e[t]&&(e[t]={}),e[t]}var d,h,f,v,g;!function(e){let t;!function(t){function n(e,t){return e.map((e=>i(e,t)))}function r(e){return o(new Set,e)}function i(e,t){const n=a.NotebookCell.create(function(e){switch(e){case s.NotebookCellKind.Markup:return a.NotebookCellKind.Markup;case s.NotebookCellKind.Code:return a.NotebookCellKind.Code}}(e.kind),t.asUri(e.document.uri));return Object.keys(e.metadata).length>0&&(n.metadata=r(e.metadata)),void 0!==e.executionSummary&&l.number(e.executionSummary.executionOrder)&&l.boolean(e.executionSummary.success)&&(n.executionSummary={executionOrder:e.executionSummary.executionOrder,success:e.executionSummary.success}),n}function o(e,t){if(e.has(t))throw new Error("Can't deep copy cyclic structures.");if(Array.isArray(t)){const n=[];for(const r of t)if(null!==r&&"object"==typeof r||Array.isArray(r))n.push(o(e,r));else{if(r instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");n.push(r)}return n}{const n=Object.keys(t),r=Object.create(null);for(const i of n){const n=t[i];if(null!==n&&"object"==typeof n||Array.isArray(n))r[i]=o(e,n);else{if(n instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");r[i]=n}}return r}}t.asVersionedNotebookDocumentIdentifier=function(e,t){return{version:e.version,uri:t.asUri(e.uri)}},t.asNotebookDocument=function(e,t,i){const o=a.NotebookDocument.create(i.asUri(e.uri),e.notebookType,e.version,n(t,i));return Object.keys(e.metadata).length>0&&(o.metadata=r(e.metadata)),o},t.asNotebookCells=n,t.asMetadata=r,t.asNotebookCell=i,t.asTextContentChange=function(e,t){const n=t.asChangeTextDocumentParams(e,e.document.uri,e.document.version);return{document:n.textDocument,changes:n.contentChanges}},t.asNotebookDocumentChangeEvent=function(t,n){const r=Object.create(null);if(t.metadata&&(r.metadata=e.c2p.asMetadata(t.metadata)),void 0!==t.cells){const i=Object.create(null),o=t.cells;o.structure&&(i.structure={array:{start:o.structure.array.start,deleteCount:o.structure.array.deleteCount,cells:void 0!==o.structure.array.cells?o.structure.array.cells.map((t=>e.c2p.asNotebookCell(t,n))):void 0},didOpen:void 0!==o.structure.didOpen?o.structure.didOpen.map((e=>n.asOpenTextDocumentParams(e.document).textDocument)):void 0,didClose:void 0!==o.structure.didClose?o.structure.didClose.map((e=>n.asCloseTextDocumentParams(e.document).textDocument)):void 0}),void 0!==o.data&&(i.data=o.data.map((t=>e.c2p.asNotebookCell(t,n)))),void 0!==o.textContent&&(i.textContent=o.textContent.map((t=>e.c2p.asTextContentChange(t,n)))),Object.keys(i).length>0&&(r.cells=i)}return r}}(t=e.c2p||(e.c2p={}))}(d||(d={})),function(e){function t(e,t,r=!0){return!(e.kind!==t.kind||e.document.uri.toString()!==t.document.uri.toString()||e.document.languageId!==t.document.languageId||!function(e,t){return e===t||void 0!==e&&void 0!==t&&(e.executionOrder===t.executionOrder&&e.success===t.success&&function(e,t){return e===t||void 0!==e&&void 0!==t&&(e.startTime===t.startTime&&e.endTime===t.endTime)}(e.timing,t.timing))}(e.executionSummary,t.executionSummary))&&(!r||r&&n(e.metadata,t.metadata))}function n(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(typeof e!=typeof t)return!1;if("object"!=typeof e)return!1;const i=Array.isArray(e),o=Array.isArray(t);if(i!==o)return!1;if(i&&o){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1}if(r(e)&&r(t)){const r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;if(r.sort(),i.sort(),!n(r,i))return!1;for(let i=0;i<r.length;i++){const o=r[i];if(!n(e[o],t[o]))return!1}return!0}return!1}function r(e){return null!==e&&"object"==typeof e}e.computeDiff=function(e,n,r){const i=e.length,o=n.length;let s=0;for(;s<o&&s<i&&t(e[s],n[s],r);)s++;if(s<o&&s<i){let a=i-1,c=o-1;for(;a>=0&&c>=0&&t(e[a],n[c],r);)a--,c--;const l=a+1-s,u=s===c+1?void 0:n.slice(s,c+1);return void 0!==u?{start:s,deleteCount:l,cells:u}:{start:s,deleteCount:l}}return s<o?{start:s,deleteCount:0,cells:n.slice(s)}:s<i?{start:s,deleteCount:i-s}:void 0},e.isObjectLiteral=r}(h||(h={})),function(e){e.matchNotebook=function(e,t){if("string"==typeof e)return"*"===e||t.notebookType===e;if(void 0!==e.notebookType&&"*"!==e.notebookType&&t.notebookType!==e.notebookType)return!1;const n=t.uri;return!(void 0!==e.scheme&&"*"!==e.scheme&&n.scheme!==e.scheme||void 0!==e.pattern&&!(0,u.matchGlobPattern)(e.pattern,n))}}(f||(f={})),function(e){function t(e,t,n,r){return void 0===t&&void 0===n?{notebook:e,language:r}:{notebook:{notebookType:e,scheme:t,pattern:n},language:r}}e.asDocumentSelector=function(e){const n=e.notebookSelector,r=[];for(const e of n){const n=("string"==typeof e.notebook?e.notebook:e.notebook?.notebookType)??"*",i="string"==typeof e.notebook?void 0:e.notebook?.scheme,o="string"==typeof e.notebook?void 0:e.notebook?.pattern;if(void 0!==e.cells)for(const s of e.cells)r.push(t(n,i,o,s.language));else r.push(t(n,i,o,void 0))}return r}}(v||(v={})),function(e){e.create=function(e){return{cells:e,uris:new Set(e.map((e=>e.document.uri.toString())))}}}(g||(g={}));class m{client;options;notebookSyncInfo;notebookDidOpen;disposables;selector;onChangeNotificationSent;onOpenNotificationSent;onCloseNotificationSent;onSaveNotificationSent;constructor(e,t,n,r,i,o){this.client=e,this.options=t,this.notebookSyncInfo=new Map,this.notebookDidOpen=new Set,this.disposables=[],this.selector=e.protocol2CodeConverter.asDocumentSelector(v.asDocumentSelector(t)),this.onChangeNotificationSent=n,this.onOpenNotificationSent=r,this.onCloseNotificationSent=i,this.onSaveNotificationSent=o,s.workspace.onDidOpenNotebookDocument((e=>{this.notebookDidOpen.add(e.uri.toString()),this.didOpen(e)}),void 0,this.disposables);for(const e of s.workspace.notebookDocuments)this.notebookDidOpen.add(e.uri.toString()),this.didOpen(e);s.workspace.onDidChangeNotebookDocument((e=>this.didChangeNotebookDocument(e)),void 0,this.disposables),!0===this.options.save&&s.workspace.onDidSaveNotebookDocument((e=>this.didSave(e)),void 0,this.disposables),s.workspace.onDidCloseNotebookDocument((e=>{this.didClose(e),this.notebookDidOpen.delete(e.uri.toString())}),void 0,this.disposables)}getState(){for(const e of s.workspace.notebookDocuments)if(void 0!==this.getMatchingCellsConsideringSyncInfo(e))return{kind:"document",id:"$internal",registrations:!0,matches:!0};return{kind:"document",id:"$internal",registrations:!0,matches:!1}}get mode(){return"notebook"}handles(e){if(s.languages.match(this.selector,e)>0)return!0;const t=e.uri.toString();for(const e of this.notebookSyncInfo.values())if(e.uris.has(t))return!0;return!1}didOpenNotebookCellTextDocument(e,t){if(0===s.languages.match(this.selector,t.document))return;if(!this.notebookDidOpen.has(e.uri.toString()))return;const n=this.getSyncInfo(e),r=this.cellMatches(e,t);if(void 0!==n){const i=n.uris.has(t.document.uri.toString());if(r&&i||!r&&!i)return;if(r){const r=this.mergeCells(e,n,[t]);if(void 0!==r){const t=this.asNotebookDocumentChangeEvent(e,void 0,n,r);void 0!==t&&this.doSendChange(t,r).catch((()=>{}))}}}else r&&this.doSendOpen(e,[t]).catch((()=>{}))}didChangeNotebookCellTextDocument(e,t,n){if(0===s.languages.match(this.selector,n.document))return;const r=this.getSyncInfo(e);void 0!==r&&r.uris.has(t.document.uri.toString())&&this.doSendChange({notebook:e,cells:{textContent:[n]}},r.cells).catch((()=>{}))}didCloseNotebookCellTextDocument(e,t){const n=this.getSyncInfo(e);if(void 0===n)return;const r=t.document.uri,i=n.cells.findIndex((e=>e.document.uri.toString()===r.toString()));if(-1!==i)if(0===i&&1===n.cells.length)this.doSendClose(e,n.cells).catch((()=>{}));else{const t=n.cells.slice(),r=t.splice(i,1);this.doSendChange({notebook:e,cells:{structure:{array:{start:i,deleteCount:1},didClose:r}}},t).catch((()=>{}))}}dispose(){for(const e of this.disposables)e.dispose()}didOpen(e,t,n=this.getSyncInfo(e)){if(void 0!==n)if(void 0===t&&(t=n.cells.slice()),void 0!==t){const r=this.asNotebookDocumentChangeEvent(e,void 0,n,t);void 0!==r&&this.doSendChange(r,t).catch((()=>{}))}else this.doSendClose(e,[]).catch((()=>{}));else{if(void 0===(t=this.getMatchingCells(e)))return;this.doSendOpen(e,t).catch((()=>{}))}}didChangeNotebookDocument(e){const t=e.notebook,n=this.getSyncInfo(t);if(void 0===n){if(0===e.contentChanges.length)return;const r=this.getMatchingCells(t);if(void 0===r)return;this.didOpen(t,r,n)}else{const r=this.getMatchingCellsFromEvent(t,n,e);if(void 0===r)return void this.didClose(t,n);const i=this.asNotebookDocumentChangeEvent(e.notebook,e,n,r);void 0!==i&&this.doSendChange(i,r).catch((()=>{}))}}didSave(e){void 0!==this.getSyncInfo(e)&&this.doSendSave(e).catch((()=>{}))}didClose(e,t=this.getSyncInfo(e)){if(void 0===t)return;const n=e.getCells().filter((e=>t.uris.has(e.document.uri.toString())));this.doSendClose(e,n).catch((()=>{}))}async sendDidOpenNotebookDocument(e){if(void 0!==this.getSyncInfo(e))throw new Error(`Notebook document ${e.uri.toString()} is already open`);const t=this.getMatchingCells(e);if(void 0!==t)return this.doSendOpen(e,t)}async doSendOpen(e,t){const n=async(e,t)=>{const n=t.map((e=>this.client.code2ProtocolConverter.asTextDocumentItem(e.document)));try{await this.client.sendNotification(a.DidOpenNotebookDocumentNotification.type,{notebookDocument:d.c2p.asNotebookDocument(e,t,this.client.code2ProtocolConverter),cellTextDocuments:n}),this.onOpenNotificationSent.fire(e)}catch(e){throw this.client.error("Sending DidOpenNotebookDocumentNotification failed",e),e}},r=this.client.middleware?.notebooks;return this.notebookSyncInfo.set(e.uri.toString(),g.create(t)),void 0!==r?.didOpen?r.didOpen(e,t,n):n(e,t)}async sendDidChangeNotebookDocument(e){const t=this.getMatchingCellsFromSyncInfo(e.notebook);if(void 0===t)throw new Error(`Received changed event for un-synced notebook ${e.notebook.uri.toString()}`);return this.doSendChange(e,t)}async doSendChange(e,t){const n=async e=>{try{await this.client.sendNotification(a.DidChangeNotebookDocumentNotification.type,{notebookDocument:d.c2p.asVersionedNotebookDocumentIdentifier(e.notebook,this.client.code2ProtocolConverter),change:d.c2p.asNotebookDocumentChangeEvent(e,this.client.code2ProtocolConverter)}),this.onChangeNotificationSent.fire(e)}catch(e){throw this.client.error("Sending DidChangeNotebookDocumentNotification failed",e),e}},r=this.client.middleware?.notebooks;return void 0!==e.cells?.structure&&this.notebookSyncInfo.set(e.notebook.uri.toString(),g.create(t)),void 0!==r?.didChange?r?.didChange(e,n):n(e)}async sendDidSaveNotebookDocument(e){return this.doSendSave(e)}async doSendSave(e){const t=async e=>{try{await this.client.sendNotification(a.DidSaveNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(e.uri)}}),this.onSaveNotificationSent.fire(e)}catch(e){throw this.client.error("Sending DidSaveNotebookDocumentNotification failed",e),e}},n=this.client.middleware?.notebooks;return void 0!==n?.didSave?n.didSave(e,t):t(e)}async sendDidCloseNotebookDocument(e){const t=this.getMatchingCellsFromSyncInfo(e);if(void 0===t)throw new Error(`Received close event for un-synced notebook ${e.uri.toString()}`);return this.doSendClose(e,t)}async doSendClose(e,t){const n=async(e,t)=>{try{await this.client.sendNotification(a.DidCloseNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(e.uri)},cellTextDocuments:t.map((e=>this.client.code2ProtocolConverter.asTextDocumentIdentifier(e.document)))}),this.onCloseNotificationSent.fire(e)}catch(e){throw this.client.error("Sending DidCloseNotebookDocumentNotification failed",e),e}},r=this.client.middleware?.notebooks;return this.notebookSyncInfo.delete(e.uri.toString()),void 0!==r?.didClose?r.didClose(e,t,n):n(e,t)}getSynchronizedCells(e){const t=this.getSyncInfo(e);return t?.cells}asNotebookDocumentChangeEvent(e,t,n,r){if(void 0!==t&&t.notebook!==e)throw new Error("Notebook must be identical");const i={notebook:e};let o;if(void 0!==t?.metadata&&(i.metadata=d.c2p.asMetadata(t.metadata)),void 0!==t?.cellChanges&&t.cellChanges.length>0){const e=[];o=new Set(r.map((e=>e.document.uri.toString())));for(const n of t.cellChanges)!o.has(n.cell.document.uri.toString())||void 0===n.executionSummary&&void 0===n.metadata||e.push(n.cell);e.length>0&&(i.cells=i.cells??{},i.cells.data=e)}if((void 0!==t?.contentChanges&&t.contentChanges.length>0||void 0===t)&&void 0!==n&&void 0!==r){const e=n.cells,t=r,o=h.computeDiff(e,t,!1);let s,a;if(void 0!==o){s=void 0===o.cells?new Map:new Map(o.cells.map((e=>[e.document.uri.toString(),e]))),a=0===o.deleteCount?new Map:new Map(e.slice(o.start,o.start+o.deleteCount).map((e=>[e.document.uri.toString(),e])));for(const e of Array.from(a.keys()))s.has(e)&&(a.delete(e),s.delete(e));i.cells=i.cells??{};const t=[],n=[];if(s.size>0||a.size>0){for(const e of s.values())t.push(e);for(const e of a.values())n.push(e)}i.cells.structure={array:o,didOpen:t,didClose:n}}}return Object.keys(i).length>1?i:void 0}getMatchingCells(e,t=e.getCells()){if(void 0!==this.options.notebookSelector)for(const n of this.options.notebookSelector)if(void 0===n.notebook||f.matchNotebook(n.notebook,e)){const r=this.filterCells(e,t,n.cells);return 0===r.length?void 0:r}}getMatchingCellsFromEvent(e,t,n){if(void 0===this.options.notebookSelector)return;let r,i;for(const t of this.options.notebookSelector)if(void 0===t.notebook||f.matchNotebook(t.notebook,e)){r=t;break}if(void 0===r)return;if(!(void 0!==n.cellChanges&&0!==n.cellChanges.length||void 0!==n.contentChanges&&0!==n.contentChanges.length))return t.cells;if(void 0!==n.cellChanges&&n.cellChanges.length>0){const o=n.cellChanges.map((e=>e.cell)),s=this.filterCells(e,o,r.cells);if(s.length!==o.length){i=new Set(t.uris);for(const e of o)i.delete(e.document.uri.toString());for(const e of s)i.add(e.document.uri.toString())}}if(void 0!==n.contentChanges&&n.contentChanges.length>0){void 0===i&&(i=new Set(t.uris));for(const t of n.contentChanges){for(const e of t.removedCells)i.delete(e.document.uri.toString());const n=this.filterCells(e,new Array(...t.addedCells),r.cells);for(const e of n)i.add(e.document.uri.toString())}}if(void 0===i)return t.cells;const o=[],s=e.getCells();for(const e of s)i.has(e.document.uri.toString())&&o.push(e);return o}getMatchingCellsFromSyncInfo(e){const t=this.getSyncInfo(e);return void 0!==t?t.cells:void 0}getMatchingCellsConsideringSyncInfo(e){const t=this.getSyncInfo(e);return void 0!==t?t.cells:this.getMatchingCells(e)}mergeCells(e,t,n){const r=[],i=new Set(t.uris);for(const e of n)i.add(e.document.uri.toString());for(const t of e.getCells())i.has(t.document.uri.toString())&&r.push(t);return r}cellMatches(e,t){const n=this.getMatchingCells(e,[t]);return void 0!==n&&n[0]===t}filterCells(e,t,n){const r=void 0!==n?t.filter((e=>{const t=e.document.languageId;return n.some((e=>"*"===e.language||t===e.language))})):t;return"function"==typeof this.client.clientOptions.notebookDocumentOptions?.filterCells?this.client.clientOptions.notebookDocumentOptions.filterCells(e,r):r}getSyncInfo(e){return this.notebookSyncInfo.get(e.uri.toString())}}class y{static CellScheme="vscode-notebook-cell";client;registrations;dedicatedChannel;_onChangeNotificationSent;_onOpenNotificationSent;_onCloseNotificationSent;_onSaveNotificationSent;constructor(e){this.client=e,this.registrations=new Map,this.registrationType=a.NotebookDocumentSyncRegistrationType.type,this._onChangeNotificationSent=new s.EventEmitter,this._onOpenNotificationSent=new s.EventEmitter,this._onCloseNotificationSent=new s.EventEmitter,this._onSaveNotificationSent=new s.EventEmitter,s.workspace.onDidOpenTextDocument((e=>{if(e.uri.scheme!==y.CellScheme)return;const[t,n]=this.findNotebookDocumentAndCell(e);if(void 0!==t&&void 0!==n)for(const e of this.registrations.values())e instanceof m&&e.didOpenNotebookCellTextDocument(t,n)})),s.workspace.onDidChangeTextDocument((e=>{if(0===e.contentChanges.length)return;const t=e.document;if(t.uri.scheme!==y.CellScheme)return;const[n,r]=this.findNotebookDocumentAndCell(t);if(void 0!==n&&void 0!==r)for(const t of this.registrations.values())t instanceof m&&t.didChangeNotebookCellTextDocument(n,r,e)})),s.workspace.onDidCloseTextDocument((e=>{if(e.uri.scheme!==y.CellScheme)return;const[t,n]=this.findNotebookDocumentAndCell(e);if(void 0!==t&&void 0!==n)for(const e of this.registrations.values())e instanceof m&&e.didCloseNotebookCellTextDocument(t,n)}))}getState(){if(0===this.registrations.size)return{kind:"document",id:this.registrationType.method,registrations:!1,matches:!1};for(const e of this.registrations.values()){const t=e.getState();if("document"===t.kind&&!0===t.registrations&&!0===t.matches)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!1}}registrationType;get onOpenNotificationSent(){return this._onOpenNotificationSent.event}get onChangeNotificationSent(){return this._onChangeNotificationSent.event}get onCloseNotificationSent(){return this._onCloseNotificationSent.event}get onSaveNotificationSent(){return this._onSaveNotificationSent.event}fillClientCapabilities(e){const t=p(p(e,"notebookDocument"),"synchronization");t.dynamicRegistration=!0,t.executionSummarySupport=!0}preInitialize(e){const t=e.notebookDocumentSync;void 0!==t&&(this.dedicatedChannel=this.client.protocol2CodeConverter.asDocumentSelector(v.asDocumentSelector(t)))}initialize(e){const t=e.notebookDocumentSync;if(void 0===t)return;const n=t.id??c.generateUuid();this.register({id:n,registerOptions:t})}register(e){const t=new m(this.client,e.registerOptions,this._onChangeNotificationSent,this._onOpenNotificationSent,this._onCloseNotificationSent,this._onSaveNotificationSent);this.registrations.set(e.id,t)}unregister(e){const t=this.registrations.get(e);void 0!==t&&(this.registrations.delete(e),t.dispose())}clear(){for(const e of this.registrations.values())e.dispose();this.registrations.clear(),this._onChangeNotificationSent.dispose(),this._onChangeNotificationSent=new s.EventEmitter,this._onOpenNotificationSent.dispose(),this._onOpenNotificationSent=new s.EventEmitter,this._onCloseNotificationSent.dispose(),this._onCloseNotificationSent=new s.EventEmitter,this._onSaveNotificationSent.dispose(),this._onSaveNotificationSent=new s.EventEmitter}handles(e){if(e.uri.scheme!==y.CellScheme)return!1;if(void 0!==this.dedicatedChannel&&s.languages.match(this.dedicatedChannel,e)>0)return!0;for(const t of this.registrations.values())if(t.handles(e))return!0;return!1}getProvider(e){for(const t of this.registrations.values())if(t.handles(e.document))return t}findNotebookDocumentAndCell(e){const t=e.uri.toString();for(const e of s.workspace.notebookDocuments)for(const n of e.getCells())if(n.document.uri.toString()===t)return[e,n];return[void 0,void 0]}}t.NotebookDocumentSyncFeature=y},89870:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressFeature=void 0;const r=n(98766),i=n(69403);t.ProgressFeature=class{_client;activeParts;constructor(e){this._client=e,this.activeParts=new Set}getState(){return{kind:"window",id:r.WorkDoneProgressCreateRequest.method,registrations:this.activeParts.size>0}}fillClientCapabilities(e){var t,n;(t=e,n="window",void 0===t[n]&&(t[n]=Object.create(null)),t[n]).workDoneProgress=!0}initialize(){const e=this._client,t=e=>{this.activeParts.delete(e)};e.onRequest(r.WorkDoneProgressCreateRequest.type,(e=>{this.activeParts.add(new i.ProgressPart(this._client,e.token,t))}))}clear(){for(const e of this.activeParts)e.done();this.activeParts.clear()}}},69403:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressPart=void 0;const s=n(54980),a=n(98766),c=o(n(58319));t.ProgressPart=class{_client;_token;_infinite;_reported;_lspProgressDisposable;_progress;_cancellationToken;_tokenDisposable;_resolve;_reject;constructor(e,t,n){this._client=e,this._token=t,this._reported=0,this._infinite=!1,this._lspProgressDisposable=this._client.onProgress(a.WorkDoneProgress.type,this._token,(e=>{switch(e.kind){case"begin":this.begin(e);break;case"report":this.report(e);break;case"end":this.done(),n&&n(this)}}))}begin(e){this._infinite=void 0===e.percentage,void 0!==this._lspProgressDisposable&&s.window.withProgress({location:s.ProgressLocation.Window,cancellable:e.cancellable,title:e.title},(async(t,n)=>{if(void 0!==this._lspProgressDisposable)return this._progress=t,this._cancellationToken=n,this._tokenDisposable=this._cancellationToken.onCancellationRequested((()=>{this._client.sendNotification(a.WorkDoneProgressCancelNotification.type,{token:this._token})})),this.report(e),new Promise(((e,t)=>{this._resolve=e,this._reject=t}))}))}report(e){if(this._infinite&&c.string(e.message))void 0!==this._progress&&this._progress.report({message:e.message});else if(c.number(e.percentage)){const t=Math.max(0,Math.min(e.percentage,100)),n=Math.max(0,t-this._reported);this._reported+=n,void 0!==this._progress&&this._progress.report({message:e.message,increment:n})}}cancel(){this.cleanup(),void 0!==this._reject&&(this._reject(),this._resolve=void 0,this._reject=void 0)}done(){this.cleanup(),void 0!==this._resolve&&(this._resolve(),this._resolve=void 0,this._reject=void 0)}cleanup(){void 0!==this._lspProgressDisposable&&(this._lspProgressDisposable.dispose(),this._lspProgressDisposable=void 0),void 0!==this._tokenDisposable&&(this._tokenDisposable.dispose(),this._tokenDisposable=void 0),this._progress=void 0,this._cancellationToken=void 0}}},38717:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const s=o(n(54980));class a extends s.CallHierarchyItem{data;constructor(e,t,n,r,i,o,s){super(e,t,n,r,i,o),void 0!==s&&(this.data=s)}}t.default=a},9206:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const s=o(n(54980));class a extends s.CodeAction{data;constructor(e,t){super(e),this.data=t}}t.default=a},65588:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const s=o(n(54980));class a extends s.CodeLens{data;constructor(e){super(e)}}t.default=a},17652:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const s=o(n(54980));class a extends s.CompletionItem{data;fromEdit;documentationFormat;originalItemKind;deprecated;insertTextMode;constructor(e){super(e)}}t.default=a},7605:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createConverter=void 0;const a=o(n(54980)),c=o(n(98766)),l=o(n(58319)),u=o(n(80483)),p=s(n(17652)),d=s(n(65588)),h=s(n(97424)),f=s(n(9206)),v=n(37894),g=s(n(38717)),m=s(n(67321)),y=s(n(56144)),b=s(n(7511)),_=n(98766);var E;!function(e){e.is=function(e){const t=e;return t&&l.string(t.language)&&l.string(t.value)}}(E||(E={})),t.createConverter=function(e,t,n,r){const i=e||(e=>a.Uri.parse(e));function o(e){return i(e)}function s(e){const t=new v.ProtocolDiagnostic(P(e.range),e.message,C(e.severity),e.data);if(void 0!==e.code)if("string"==typeof e.code||"number"==typeof e.code)c.CodeDescription.is(e.codeDescription)?t.code={value:e.code,target:o(e.codeDescription.href)}:t.code=e.code;else if(v.DiagnosticCode.is(e.code)){t.hasDiagnosticCode=!0;const n=e.code;t.code={value:n.value,target:o(n.target)}}return e.source&&(t.source=e.source),e.relatedInformation&&(t.relatedInformation=function(e){const t=new Array(e.length);for(let n=0;n<e.length;n++){const r=e[n];t[n]=new a.DiagnosticRelatedInformation(F(r.location),r.message)}return t}(e.relatedInformation)),Array.isArray(e.tags)&&(t.tags=function(e){if(!e)return;const t=[];for(const n of e){const e=S(n);void 0!==e&&t.push(e)}return t.length>0?t:void 0}(e.tags)),t}function S(e){switch(e){case c.DiagnosticTag.Unnecessary:return a.DiagnosticTag.Unnecessary;case c.DiagnosticTag.Deprecated:return a.DiagnosticTag.Deprecated;default:return}}function w(e){return e?new a.Position(e.line,e.character):void 0}function P(e){return e?new a.Range(e.start.line,e.start.character,e.end.line,e.end.character):void 0}async function T(e,t){return u.map(e,(e=>new a.Range(e.start.line,e.start.character,e.end.line,e.end.character)),t)}function C(e){if(null==e)return a.DiagnosticSeverity.Error;switch(e){case c.DiagnosticSeverity.Error:return a.DiagnosticSeverity.Error;case c.DiagnosticSeverity.Warning:return a.DiagnosticSeverity.Warning;case c.DiagnosticSeverity.Information:return a.DiagnosticSeverity.Information;case c.DiagnosticSeverity.Hint:return a.DiagnosticSeverity.Hint}return a.DiagnosticSeverity.Error}function x(e){if(l.string(e))return e;switch(e.kind){case c.MarkupKind.Markdown:return I(e.value);case c.MarkupKind.PlainText:return e.value;default:return`Unsupported Markup content received. Kind is: ${e.kind}`}}function I(e){let i;if(void 0===e||"string"==typeof e)i=new a.MarkdownString(e);else switch(e.kind){case c.MarkupKind.Markdown:i=new a.MarkdownString(e.value);break;case c.MarkupKind.PlainText:i=new a.MarkdownString,i.appendText(e.value);break;default:i=new a.MarkdownString,i.appendText(`Unsupported Markup content received. Kind is: ${e.kind}`)}return i.isTrusted=t,i.supportHtml=n,i.supportThemeIcons=r,i}function O(e){if(e===c.CompletionItemTag.Deprecated)return a.CompletionItemTag.Deprecated}function R(e,t,n,r,i,o){const s=function(e){if(null==e)return[];const t=[];for(const n of e){const e=O(n);void 0!==e&&t.push(e)}return t}(e.tags),u=function(e){return c.CompletionItemLabelDetails.is(e.labelDetails)?{label:e.label,detail:e.labelDetails.detail,description:e.labelDetails.description}:e.label}(e),d=new p.default(u);e.detail&&(d.detail=e.detail),e.documentation&&(d.documentation=x(e.documentation),d.documentationFormat=l.string(e.documentation)?"$string":e.documentation.kind),e.filterText&&(d.filterText=e.filterText);const h=function(e,t,n){const r=e.insertTextFormat??n;if(void 0!==e.textEdit||void 0!==t){const[n,o]=void 0!==e.textEdit?(i=e.textEdit,c.InsertReplaceEdit.is(i)?[{inserting:P(i.insert),replacing:P(i.replace)},i.newText]:[P(i.range),i.newText]):[t,e.textEditText??e.label];return r===c.InsertTextFormat.Snippet?{text:new a.SnippetString(o),range:n,fromEdit:!0}:{text:o,range:n,fromEdit:!0}}return e.insertText?r===c.InsertTextFormat.Snippet?{text:new a.SnippetString(e.insertText),fromEdit:!1}:{text:e.insertText,fromEdit:!1}:void 0;var i}(e,n,i);if(h&&(d.insertText=h.text,d.range=h.range,d.fromEdit=h.fromEdit),l.number(e.kind)){const[t,n]=(f=e.kind,c.CompletionItemKind.Text<=f&&f<=c.CompletionItemKind.TypeParameter?[f-1,void 0]:[a.CompletionItemKind.Text,f]);d.kind=t,n&&(d.originalItemKind=n)}var f;e.sortText&&(d.sortText=e.sortText),e.additionalTextEdits&&(d.additionalTextEdits=A(e.additionalTextEdits));const v=void 0!==e.commitCharacters?l.stringArray(e.commitCharacters)?e.commitCharacters:void 0:t;v&&(d.commitCharacters=v.slice()),e.command&&(d.command=Y(e.command)),!0!==e.deprecated&&!1!==e.deprecated||(d.deprecated=e.deprecated,!0===e.deprecated&&s.push(a.CompletionItemTag.Deprecated)),!0!==e.preselect&&!1!==e.preselect||(d.preselect=e.preselect);const g=e.data??o;void 0!==g&&(d.data=g),s.length>0&&(d.tags=s);const m=e.insertTextMode??r;return void 0!==m&&(d.insertTextMode=m,m===c.InsertTextMode.asIs&&(d.keepWhitespace=!0)),d}function D(e){if(e)return new a.TextEdit(P(e.range),e.newText)}async function k(e,t){if(e)return u.map(e,D,t)}function A(e){if(!e)return;const t=new Array(e.length);for(let n=0;n<e.length;n++)t[n]=D(e[n]);return t}async function N(e,t){return u.mapAsync(e,j,t)}async function j(e,t){const n=new a.SignatureInformation(e.label);return void 0!==e.documentation&&(n.documentation=x(e.documentation)),void 0!==e.parameters&&(n.parameters=await M(e.parameters,t)),void 0!==e.activeParameter&&(n.activeParameter=e.activeParameter??-1),n}function M(e,t){return u.map(e,L,t)}function L(e){const t=new a.ParameterInformation(e.label);return e.documentation&&(t.documentation=x(e.documentation)),t}function F(e){return e?new a.Location(i(e.uri),P(e.range)):void 0}function V(e){if(!e)return;const t={targetUri:i(e.targetUri),targetRange:P(e.targetRange),originSelectionRange:P(e.originSelectionRange),targetSelectionRange:P(e.targetSelectionRange)};if(!t.targetSelectionRange)throw new Error("targetSelectionRange must not be undefined or null");return t}async function U(e,t){if(e){if(l.array(e)){if(0===e.length)return[];if(c.LocationLink.is(e[0])){const n=e;return u.map(n,V,t)}{const n=e;return u.map(n,F,t)}}return c.LocationLink.is(e)?[V(e)]:F(e)}}function H(e){const t=new a.DocumentHighlight(P(e.range));return l.number(e.kind)&&(t.kind=W(e.kind)),t}function W(e){switch(e){case c.DocumentHighlightKind.Text:return a.DocumentHighlightKind.Text;case c.DocumentHighlightKind.Read:return a.DocumentHighlightKind.Read;case c.DocumentHighlightKind.Write:return a.DocumentHighlightKind.Write}return a.DocumentHighlightKind.Text}function q(e){return e<=c.SymbolKind.TypeParameter?e-1:a.SymbolKind.Property}function B(e){if(e===c.SymbolTag.Deprecated)return a.SymbolTag.Deprecated}function $(e){if(null==e)return;const t=[];for(const n of e){const e=B(n);void 0!==e&&t.push(e)}return 0===t.length?void 0:t}function K(e){const t=e.data,n=e.location,r=void 0===n.range||void 0!==t?new y.default(e.name,q(e.kind),e.containerName??"",void 0===n.range?i(n.uri):new a.Location(i(e.location.uri),P(n.range)),t):new a.SymbolInformation(e.name,q(e.kind),e.containerName??"",new a.Location(i(e.location.uri),P(n.range)));return z(r,e),r}function G(e){const t=new a.DocumentSymbol(e.name,e.detail||"",q(e.kind),P(e.range),P(e.selectionRange));if(z(t,e),void 0!==e.children&&e.children.length>0){const n=[];for(const t of e.children)n.push(G(t));t.children=n}return t}function z(e,t){e.tags=$(t.tags),t.deprecated&&(e.tags?e.tags.includes(a.SymbolTag.Deprecated)||(e.tags=e.tags.concat(a.SymbolTag.Deprecated)):e.tags=[a.SymbolTag.Deprecated])}function Y(e){const t={title:e.title,command:e.command};return e.tooltip&&(t.tooltip=e.tooltip),e.arguments&&(t.arguments=e.arguments),t}const X=new Map;function J(e){if(null==e)return;let t=X.get(e);if(t)return t;const n=e.split(".");t=a.CodeActionKind.Empty;for(const e of n)t=t.append(e);return t}async function Q(e,t){if(null==e)return;const n=new f.default(e.title,e.data);return void 0!==e.kind&&(n.kind=J(e.kind)),void 0!==e.diagnostics&&(n.diagnostics=function(e){const t=new Array(e.length);for(let n=0;n<e.length;n++)t[n]=s(e[n]);return t}(e.diagnostics)),void 0!==e.edit&&(n.edit=await ee(e.edit,t)),void 0!==e.command&&(n.command=Y(e.command)),void 0!==e.isPreferred&&(n.isPreferred=e.isPreferred),void 0!==e.disabled&&(n.disabled={reason:e.disabled.reason}),n}function Z(e){if(!e)return;const t=new d.default(P(e.range));return e.command&&(t.command=Y(e.command)),void 0!==e.data&&null!==e.data&&(t.data=e.data),t}async function ee(e,t){if(!e)return;const n=new Map;if(void 0!==e.changeAnnotations){const r=e.changeAnnotations;await u.forEach(Object.keys(r),(e=>{const t=function(e){if(void 0!==e)return{label:e.label,needsConfirmation:!!e.needsConfirmation,description:e.description}}(r[e]);n.set(e,t)}),t)}const r=e=>void 0===e?void 0:n.get(e),o=new a.WorkspaceEdit;if(e.documentChanges){const n=e.documentChanges;await u.forEach(n,(e=>{if(c.CreateFile.is(e))o.createFile(i(e.uri),e.options,r(e.annotationId));else if(c.RenameFile.is(e))o.renameFile(i(e.oldUri),i(e.newUri),e.options,r(e.annotationId));else if(c.DeleteFile.is(e))o.deleteFile(i(e.uri),e.options,r(e.annotationId));else{if(!c.TextDocumentEdit.is(e))throw new Error(`Unknown workspace edit change received:\n${JSON.stringify(e,void 0,4)}`);{const t=i(e.textDocument.uri),n=[];for(const t of e.edits)c.AnnotatedTextEdit.is(t)?n.push([new a.TextEdit(P(t.range),t.newText),r(t.annotationId)]):c.SnippetTextEdit.is(t)?n.push([new a.SnippetTextEdit(P(t.range),new a.SnippetString(t.snippet.value)),r(t.annotationId)]):n.push([new a.TextEdit(P(t.range),t.newText),void 0]);o.set(t,n)}}}),t)}else if(e.changes){const n=e.changes;await u.forEach(Object.keys(n),(e=>{o.set(i(e),A(n[e]))}),t)}return o}function te(e){const t=P(e.range),n=e.target?o(e.target):void 0,r=new h.default(t,n);return void 0!==e.tooltip&&(r.tooltip=e.tooltip),void 0!==e.data&&null!==e.data&&(r.data=e.data),r}function ne(e){return new a.Color(e.red,e.green,e.blue,e.alpha)}function re(e){return new a.ColorInformation(P(e.range),ne(e.color))}function ie(e){const t=new a.ColorPresentation(e.label);return t.additionalTextEdits=A(e.additionalTextEdits),e.textEdit&&(t.textEdit=D(e.textEdit)),t}function oe(e){if(e)switch(e){case c.FoldingRangeKind.Comment:return a.FoldingRangeKind.Comment;case c.FoldingRangeKind.Imports:return a.FoldingRangeKind.Imports;case c.FoldingRangeKind.Region:return a.FoldingRangeKind.Region}}function se(e){return new a.FoldingRange(e.startLine,e.endLine,oe(e.kind))}function ae(e){return new a.SelectionRange(P(e.range),e.parent?ae(e.parent):void 0)}function ce(e){return c.InlineValueText.is(e)?new a.InlineValueText(P(e.range),e.text):c.InlineValueVariableLookup.is(e)?new a.InlineValueVariableLookup(P(e.range),e.variableName,e.caseSensitiveLookup):new a.InlineValueEvaluatableExpression(P(e.range),e.expression)}async function le(e,t){const n="string"==typeof e.label?e.label:await u.map(e.label,ue,t),r=new b.default(w(e.position),n);return void 0!==e.kind&&(r.kind=e.kind),void 0!==e.textEdits&&(r.textEdits=await k(e.textEdits,t)),void 0!==e.tooltip&&(r.tooltip=pe(e.tooltip)),void 0!==e.paddingLeft&&(r.paddingLeft=e.paddingLeft),void 0!==e.paddingRight&&(r.paddingRight=e.paddingRight),void 0!==e.data&&(r.data=e.data),r}function ue(e){const t=new a.InlayHintLabelPart(e.value);return void 0!==e.location&&(t.location=F(e.location)),void 0!==e.tooltip&&(t.tooltip=pe(e.tooltip)),void 0!==e.command&&(t.command=Y(e.command)),t}function pe(e){return"string"==typeof e?e:I(e)}function de(e){if(null===e)return;const t=new g.default(q(e.kind),e.name,e.detail||"",o(e.uri),P(e.range),P(e.selectionRange),e.data);return void 0!==e.tags&&(t.tags=$(e.tags)),t}async function he(e,t){return new a.CallHierarchyIncomingCall(de(e.from),await T(e.fromRanges,t))}async function fe(e,t){return new a.CallHierarchyOutgoingCall(de(e.to),await T(e.fromRanges,t))}function ve(e){return new a.SemanticTokensEdit(e.start,e.deleteCount,void 0!==e.data?new Uint32Array(e.data):void 0)}function ge(e){if(null===e)return;const t=new m.default(q(e.kind),e.name,e.detail||"",o(e.uri),P(e.range),P(e.selectionRange),e.data);return void 0!==e.tags&&(t.tags=$(e.tags)),t}function me(e){if(l.string(e))return e;if(c.RelativePattern.is(e)){if(c.URI.is(e.baseUri))return new a.RelativePattern(o(e.baseUri),e.pattern);if(c.WorkspaceFolder.is(e.baseUri)){const t=a.workspace.getWorkspaceFolder(o(e.baseUri.uri));return void 0!==t?new a.RelativePattern(t,e.pattern):void 0}}}function ye(e){let t,n;t="string"==typeof e.insertText?e.insertText:new a.SnippetString(e.insertText.value),e.command&&(n=Y(e.command));const r=new a.InlineCompletionItem(t,P(e.range),n);return e.filterText&&(r.filterText=e.filterText),r}return X.set(c.CodeActionKind.Empty,a.CodeActionKind.Empty),X.set(c.CodeActionKind.QuickFix,a.CodeActionKind.QuickFix),X.set(c.CodeActionKind.Refactor,a.CodeActionKind.Refactor),X.set(c.CodeActionKind.RefactorExtract,a.CodeActionKind.RefactorExtract),X.set(c.CodeActionKind.RefactorInline,a.CodeActionKind.RefactorInline),X.set(c.CodeActionKind.RefactorRewrite,a.CodeActionKind.RefactorRewrite),X.set(c.CodeActionKind.Source,a.CodeActionKind.Source),X.set(c.CodeActionKind.SourceOrganizeImports,a.CodeActionKind.SourceOrganizeImports),{asUri:o,asDocumentSelector:function(e){const t=[];for(const n of e)if("string"==typeof n)t.push(n);else if(_.NotebookCellTextDocumentFilter.is(n))if("string"==typeof n.notebook)t.push({notebookType:n.notebook,language:n.language});else{const e=n.notebook.notebookType??"*";t.push({notebookType:e,scheme:n.notebook.scheme,pattern:me(n.notebook.pattern),language:n.language})}else _.TextDocumentFilter.is(n)&&t.push({language:n.language,scheme:n.scheme,pattern:me(n.pattern)});return t},asDiagnostics:async function(e,t){return u.map(e,s,t)},asDiagnostic:s,asRange:P,asRanges:T,asPosition:w,asDiagnosticSeverity:C,asDiagnosticTag:S,asHover:function(e){if(e)return new a.Hover(function(e){if(l.string(e))return I(e);if(E.is(e))return I().appendCodeblock(e.value,e.language);if(Array.isArray(e)){const t=[];for(const n of e){const e=I();E.is(n)?e.appendCodeblock(n.value,n.language):e.appendMarkdown(n),t.push(e)}return t}return I(e)}(e.contents),P(e.range))},asCompletionResult:async function(e,t,n){if(!e)return;if(Array.isArray(e))return u.map(e,(e=>R(e,t)),n);const r=e,{defaultRange:i,commitCharacters:o}=function(e,t){const n=e.itemDefaults?.editRange,r=e.itemDefaults?.commitCharacters??t;return c.Range.is(n)?{defaultRange:P(n),commitCharacters:r}:void 0!==n?{defaultRange:{inserting:P(n.insert),replacing:P(n.replace)},commitCharacters:r}:{defaultRange:void 0,commitCharacters:r}}(r,t),s=await u.map(r.items,(e=>R(e,o,i,r.itemDefaults?.insertTextMode,r.itemDefaults?.insertTextFormat,r.itemDefaults?.data)),n);return new a.CompletionList(s,r.isIncomplete)},asCompletionItem:R,asTextEdit:D,asTextEdits:k,asSignatureHelp:async function(e,t){if(!e)return;const n=new a.SignatureHelp;return l.number(e.activeSignature)?n.activeSignature=e.activeSignature:n.activeSignature=0,l.number(e.activeParameter)?n.activeParameter=e.activeParameter:null===e.activeParameter?n.activeParameter=-1:n.activeParameter=0,e.signatures&&(n.signatures=await N(e.signatures,t)),n},asSignatureInformations:N,asSignatureInformation:j,asParameterInformations:M,asParameterInformation:L,asDeclarationResult:async function(e,t){if(e)return U(e,t)},asDefinitionResult:async function(e,t){if(e)return U(e,t)},asLocation:F,asReferences:async function(e,t){if(e)return u.map(e,F,t)},asDocumentHighlights:async function(e,t){if(e)return u.map(e,H,t)},asDocumentHighlight:H,asDocumentHighlightKind:W,asSymbolKind:q,asSymbolTag:B,asSymbolTags:$,asSymbolInformations:async function(e,t){if(e)return u.map(e,K,t)},asSymbolInformation:K,asDocumentSymbols:async function(e,t){if(null!=e)return u.map(e,G,t)},asDocumentSymbol:G,asCommand:Y,asCommands:async function(e,t){if(e)return u.map(e,Y,t)},asCodeAction:Q,asCodeActionKind:J,asCodeActionKinds:function(e){if(null!=e)return e.map((e=>J(e)))},asCodeActionDocumentations:function(e){if(null!=e)return e.map((e=>({kind:J(e.kind),command:Y(e.command)})))},asCodeActionResult:function(e,t){return u.mapAsync(e,(async e=>c.Command.is(e)?Y(e):Q(e,t)),t)},asCodeLens:Z,asCodeLenses:async function(e,t){if(e)return u.map(e,Z,t)},asWorkspaceEdit:ee,asDocumentLink:te,asDocumentLinks:async function(e,t){if(e)return u.map(e,te,t)},asFoldingRangeKind:oe,asFoldingRange:se,asFoldingRanges:async function(e,t){if(e)return u.map(e,se,t)},asColor:ne,asColorInformation:re,asColorInformations:async function(e,t){if(e)return u.map(e,re,t)},asColorPresentation:ie,asColorPresentations:async function(e,t){if(e)return u.map(e,ie,t)},asSelectionRange:ae,asSelectionRanges:async function(e,t){return Array.isArray(e)?u.map(e,ae,t):[]},asInlineValue:ce,asInlineValues:async function(e,t){return Array.isArray(e)?u.map(e,ce,t):[]},asInlayHint:le,asInlayHints:async function(e,t){if(Array.isArray(e))return u.mapAsync(e,le,t)},asSemanticTokensLegend:function(e){return e},asSemanticTokens:async function(e,t){if(null!=e)return new a.SemanticTokens(new Uint32Array(e.data),e.resultId)},asSemanticTokensEdit:ve,asSemanticTokensEdits:async function(e,t){if(null!=e)return new a.SemanticTokensEdits(e.edits.map(ve),e.resultId)},asCallHierarchyItem:de,asCallHierarchyItems:async function(e,t){if(null!==e)return u.map(e,de,t)},asCallHierarchyIncomingCall:he,asCallHierarchyIncomingCalls:async function(e,t){if(null!==e)return u.mapAsync(e,he,t)},asCallHierarchyOutgoingCall:fe,asCallHierarchyOutgoingCalls:async function(e,t){if(null!==e)return u.mapAsync(e,fe,t)},asLinkedEditingRanges:async function(e,t){if(null!=e)return new a.LinkedEditingRanges(await T(e.ranges,t),function(e){if(null!=e)return new RegExp(e)}(e.wordPattern))},asTypeHierarchyItem:ge,asTypeHierarchyItems:async function(e,t){if(null!==e)return u.map(e,ge,t)},asGlobPattern:me,asInlineCompletionResult:async function(e,t){if(!e)return;if(Array.isArray(e))return u.map(e,(e=>ye(e)),t);const n=e,r=await u.map(n.items,(e=>ye(e)),t);return new a.InlineCompletionList(r)},asInlineCompletionItem:ye}}},37894:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ProtocolDiagnostic=t.DiagnosticCode=void 0;const s=o(n(54980)),a=o(n(58319));var c;!function(e){e.is=function(e){const t=e;return null!=t&&(a.number(t.value)||a.string(t.value))&&a.string(t.target)}}(c||(t.DiagnosticCode=c={}));class l extends s.Diagnostic{data;hasDiagnosticCode;constructor(e,t,n,r){super(e,t,n),this.data=r,this.hasDiagnosticCode=!1}}t.ProtocolDiagnostic=l},97424:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const s=o(n(54980));class a extends s.DocumentLink{data;constructor(e,t){super(e,t)}}t.default=a},7511:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const s=o(n(54980));class a extends s.InlayHint{data;constructor(e,t,n){super(e,t,n)}}t.default=a},67321:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const s=o(n(54980));class a extends s.TypeHierarchyItem{data;constructor(e,t,n,r,i,o,s){super(e,t,n,r,i,o),void 0!==s&&(this.data=s)}}t.default=a},56144:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const s=o(n(54980));class a extends s.SymbolInformation{data;hasRange;constructor(e,t,n,r,i){const o=!(r instanceof s.Uri);super(e,t,n,o?r:new s.Location(r,new s.Range(0,0,0,0))),this.hasRange=o,void 0!==i&&(this.data=i)}}t.default=a},90420:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ReferencesFeature=void 0;const s=n(54980),a=n(98766),c=n(14294),l=o(n(69032));class u extends c.TextDocumentLanguageFeature{constructor(e){super(e,a.ReferencesRequest.type)}fillClientCapabilities(e){(0,c.ensure)((0,c.ensure)(e,"textDocument"),"references").dynamicRegistration=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.referencesProvider);n&&this.register({id:l.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideReferences:(e,t,n,r)=>{const i=this._client,o=(e,t,n,r)=>i.sendRequest(a.ReferencesRequest.type,i.code2ProtocolConverter.asReferenceParams(e,t,n),r).then((e=>r.isCancellationRequested?null:i.protocol2CodeConverter.asReferences(e,r)),(e=>i.handleFailedRequest(a.ReferencesRequest.type,r,e,null))),s=i.middleware;return s.provideReferences?s.provideReferences(e,t,n,r,o):o(e,t,n,r)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return s.languages.registerReferenceProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.ReferencesFeature=u},50875:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.RenameFeature=void 0;const s=n(54980),a=n(98766),c=o(n(69032)),l=o(n(58319)),u=n(14294);class p extends u.TextDocumentLanguageFeature{constructor(e){super(e,a.RenameRequest.type)}fillClientCapabilities(e){const t=(0,u.ensure)((0,u.ensure)(e,"textDocument"),"rename");t.dynamicRegistration=!0,t.prepareSupport=!0,t.prepareSupportDefaultBehavior=a.PrepareSupportDefaultBehavior.Identifier,t.honorsChangeAnnotations=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.renameProvider);n&&(l.boolean(e.renameProvider)&&(n.prepareProvider=!1),this.register({id:c.generateUuid(),registerOptions:n}))}registerLanguageProvider(e){const t=e.documentSelector,n={provideRenameEdits:(e,t,n,r)=>{const i=this._client,o=(e,t,n,r)=>{const o={textDocument:i.code2ProtocolConverter.asTextDocumentIdentifier(e),position:i.code2ProtocolConverter.asPosition(t),newName:n};return i.sendRequest(a.RenameRequest.type,o,r).then((e=>r.isCancellationRequested?null:i.protocol2CodeConverter.asWorkspaceEdit(e,r)),(e=>i.handleFailedRequest(a.RenameRequest.type,r,e,null,!1)))},s=i.middleware;return s.provideRenameEdits?s.provideRenameEdits(e,t,n,r,o):o(e,t,n,r)},prepareRename:e.prepareProvider?(e,t,n)=>{const r=this._client,i=(e,t,n)=>{const i={textDocument:r.code2ProtocolConverter.asTextDocumentIdentifier(e),position:r.code2ProtocolConverter.asPosition(t)};return r.sendRequest(a.PrepareRenameRequest.type,i,n).then((e=>n.isCancellationRequested?null:a.Range.is(e)?r.protocol2CodeConverter.asRange(e):this.isDefaultBehavior(e)?!0===e.defaultBehavior?null:Promise.reject(new Error("The element can't be renamed.")):e&&a.Range.is(e.range)?{range:r.protocol2CodeConverter.asRange(e.range),placeholder:e.placeholder}:Promise.reject(new Error("The element can't be renamed."))),(e=>{throw"string"==typeof e.message?new Error(e.message):new Error("The element can't be renamed.")}))},o=r.middleware;return o.prepareRename?o.prepareRename(e,t,n,i):i(e,t,n)}:void 0};return[this.registerProvider(t,n),n]}registerProvider(e,t){return s.languages.registerRenameProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}isDefaultBehavior(e){const t=e;return t&&l.boolean(t.defaultBehavior)}}t.RenameFeature=p},16258:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionRangeFeature=void 0;const r=n(54980),i=n(98766),o=n(14294);class s extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.SelectionRangeRequest.type)}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"selectionRange").dynamicRegistration=!0}initialize(e,t){const[n,r]=this.getRegistration(t,e.selectionRangeProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=e.documentSelector,n={provideSelectionRanges:(e,t,n)=>{const r=this._client,o=async(e,t,n)=>{const o={textDocument:r.code2ProtocolConverter.asTextDocumentIdentifier(e),positions:r.code2ProtocolConverter.asPositionsSync(t,n)};return r.sendRequest(i.SelectionRangeRequest.type,o,n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asSelectionRanges(e,n)),(e=>r.handleFailedRequest(i.SelectionRangeRequest.type,n,e,null)))},s=r.middleware;return s.provideSelectionRanges?s.provideSelectionRanges(e,t,n,o):o(e,t,n)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return r.languages.registerSelectionRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.SelectionRangeFeature=s},67691:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.SemanticTokensFeature=void 0;const s=o(n(54980)),a=n(98766),c=n(14294),l=o(n(58319));class u extends c.TextDocumentLanguageFeature{constructor(e){super(e,a.SemanticTokensRegistrationType.type)}fillClientCapabilities(e){const t=(0,c.ensure)((0,c.ensure)(e,"textDocument"),"semanticTokens");t.dynamicRegistration=!0,t.tokenTypes=[a.SemanticTokenTypes.namespace,a.SemanticTokenTypes.type,a.SemanticTokenTypes.class,a.SemanticTokenTypes.enum,a.SemanticTokenTypes.interface,a.SemanticTokenTypes.struct,a.SemanticTokenTypes.typeParameter,a.SemanticTokenTypes.parameter,a.SemanticTokenTypes.variable,a.SemanticTokenTypes.property,a.SemanticTokenTypes.enumMember,a.SemanticTokenTypes.event,a.SemanticTokenTypes.function,a.SemanticTokenTypes.method,a.SemanticTokenTypes.macro,a.SemanticTokenTypes.keyword,a.SemanticTokenTypes.modifier,a.SemanticTokenTypes.comment,a.SemanticTokenTypes.string,a.SemanticTokenTypes.number,a.SemanticTokenTypes.regexp,a.SemanticTokenTypes.operator,a.SemanticTokenTypes.decorator,a.SemanticTokenTypes.label],t.tokenModifiers=[a.SemanticTokenModifiers.declaration,a.SemanticTokenModifiers.definition,a.SemanticTokenModifiers.readonly,a.SemanticTokenModifiers.static,a.SemanticTokenModifiers.deprecated,a.SemanticTokenModifiers.abstract,a.SemanticTokenModifiers.async,a.SemanticTokenModifiers.modification,a.SemanticTokenModifiers.documentation,a.SemanticTokenModifiers.defaultLibrary],t.formats=[a.TokenFormat.Relative],t.requests={range:!0,full:{delta:!0}},t.multilineTokenSupport=!1,t.overlappingTokenSupport=!1,t.serverCancelSupport=!0,t.augmentsSyntaxTokens=!0,(0,c.ensure)((0,c.ensure)(e,"workspace"),"semanticTokens").refreshSupport=!0}initialize(e,t){this._client.onRequest(a.SemanticTokensRefreshRequest.type,(async()=>{for(const e of this.getAllProviders())e.onDidChangeSemanticTokensEmitter.fire()}));const[n,r]=this.getRegistration(t,e.semanticTokensProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=e.documentSelector,n=l.boolean(e.full)?e.full:void 0!==e.full,r=void 0!==e.full&&"boolean"!=typeof e.full&&!0===e.full.delta,i=new s.EventEmitter,o=n?{onDidChangeSemanticTokens:i.event,provideDocumentSemanticTokens:(e,t)=>{const n=this._client,r=n.middleware,i=(e,t)=>{const r={textDocument:n.code2ProtocolConverter.asTextDocumentIdentifier(e)};return n.sendRequest(a.SemanticTokensRequest.type,r,t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asSemanticTokens(e,t)),(e=>n.handleFailedRequest(a.SemanticTokensRequest.type,t,e,null)))};return r.provideDocumentSemanticTokens?r.provideDocumentSemanticTokens(e,t,i):i(e,t)},provideDocumentSemanticTokensEdits:r?(e,t,n)=>{const r=this._client,i=r.middleware,o=(e,t,n)=>{const i={textDocument:r.code2ProtocolConverter.asTextDocumentIdentifier(e),previousResultId:t};return r.sendRequest(a.SemanticTokensDeltaRequest.type,i,n).then((async e=>n.isCancellationRequested?null:a.SemanticTokens.is(e)?await r.protocol2CodeConverter.asSemanticTokens(e,n):await r.protocol2CodeConverter.asSemanticTokensEdits(e,n)),(e=>r.handleFailedRequest(a.SemanticTokensDeltaRequest.type,n,e,null)))};return i.provideDocumentSemanticTokensEdits?i.provideDocumentSemanticTokensEdits(e,t,n,o):o(e,t,n)}:void 0}:void 0,c=!0===e.range?{provideDocumentRangeSemanticTokens:(e,t,n)=>{const r=this._client,i=r.middleware,o=(e,t,n)=>{const i={textDocument:r.code2ProtocolConverter.asTextDocumentIdentifier(e),range:r.code2ProtocolConverter.asRange(t)};return r.sendRequest(a.SemanticTokensRangeRequest.type,i,n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asSemanticTokens(e,n)),(e=>r.handleFailedRequest(a.SemanticTokensRangeRequest.type,n,e,null)))};return i.provideDocumentRangeSemanticTokens?i.provideDocumentRangeSemanticTokens(e,t,n,o):o(e,t,n)}}:void 0,u=[],p=this._client,d=p.protocol2CodeConverter.asSemanticTokensLegend(e.legend),h=p.protocol2CodeConverter.asDocumentSelector(t);return void 0!==o&&u.push(s.languages.registerDocumentSemanticTokensProvider(h,o,d)),void 0!==c&&u.push(s.languages.registerDocumentRangeSemanticTokensProvider(h,c,d)),[new s.Disposable((()=>u.forEach((e=>e.dispose())))),{range:c,full:o,onDidChangeSemanticTokensEmitter:i}]}}t.SemanticTokensFeature=u},21400:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureHelpFeature=void 0;const s=n(54980),a=n(98766),c=n(14294),l=o(n(69032));class u extends c.TextDocumentLanguageFeature{constructor(e){super(e,a.SignatureHelpRequest.type)}fillClientCapabilities(e){const t=(0,c.ensure)((0,c.ensure)(e,"textDocument"),"signatureHelp");t.dynamicRegistration=!0,t.signatureInformation={documentationFormat:[a.MarkupKind.Markdown,a.MarkupKind.PlainText]},t.signatureInformation.parameterInformation={labelOffsetSupport:!0},t.signatureInformation.activeParameterSupport=!0,t.signatureInformation.noActiveParameterSupport=!0,t.contextSupport=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.signatureHelpProvider);n&&this.register({id:l.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t={provideSignatureHelp:(e,t,n,r)=>{const i=this._client,o=(e,t,n,r)=>i.sendRequest(a.SignatureHelpRequest.type,i.code2ProtocolConverter.asSignatureHelpParams(e,t,n),r).then((e=>r.isCancellationRequested?null:i.protocol2CodeConverter.asSignatureHelp(e,r)),(e=>i.handleFailedRequest(a.SignatureHelpRequest.type,r,e,null))),s=i.middleware;return s.provideSignatureHelp?s.provideSignatureHelp(e,t,r,n,o):o(e,t,r,n)}};return[this.registerProvider(e,t),t]}registerProvider(e,t){const n=this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector);if(void 0===e.retriggerCharacters){const r=e.triggerCharacters||[];return s.languages.registerSignatureHelpProvider(n,t,...r)}{const r={triggerCharacters:e.triggerCharacters||[],retriggerCharacters:e.retriggerCharacters||[]};return s.languages.registerSignatureHelpProvider(n,t,r)}}}t.SignatureHelpFeature=u},7702:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.TextDocumentContentFeature=void 0;const s=o(n(54980)),a=n(98766),c=n(14294),l=o(n(69032));t.TextDocumentContentFeature=class{_client;_registrations=new Map;constructor(e){this._client=e}getState(){const e=this._registrations.size>0;return{kind:"workspace",id:a.TextDocumentContentRequest.method,registrations:e}}get registrationType(){return a.TextDocumentContentRequest.type}getProviders(){const e=[];for(const t of this._registrations.values())e.push(...t.providers);return e}fillClientCapabilities(e){(0,c.ensure)((0,c.ensure)(e,"workspace"),"textDocumentContent").dynamicRegistration=!0}initialize(e){const t=this._client;if(t.onRequest(a.TextDocumentContentRefreshRequest.type,(async e=>{const n=t.protocol2CodeConverter.asUri(e.uri);for(const e of this._registrations.values())for(const t of e.providers)t.scheme!==n.scheme&&t.onDidChangeEmitter.fire(n)})),!e?.workspace?.textDocumentContent)return;const n=e.workspace.textDocumentContent,r=a.StaticRegistrationOptions.hasId(n)?n.id:l.generateUuid();this.register({id:r,registerOptions:n})}register(e){const t=[],n=[];for(const r of e.registerOptions.schemes){const[e,i]=this.registerTextDocumentContentProvider(r);t.push(i),n.push(e)}this._registrations.set(e.id,{disposable:s.Disposable.from(...n),providers:t})}registerTextDocumentContentProvider(e){const t=new s.EventEmitter,n={onDidChange:t.event,provideTextDocumentContent:(e,t)=>{const n=this._client,r=(e,t)=>{const r={uri:n.code2ProtocolConverter.asUri(e)};return n.sendRequest(a.TextDocumentContentRequest.type,r,t).then((e=>t.isCancellationRequested?null:e.text),(e=>n.handleFailedRequest(a.TextDocumentContentRequest.type,t,e,null)))},i=n.middleware;return i.provideTextDocumentContent?i.provideTextDocumentContent(e,t,r):r(e,t)}};return[s.workspace.registerTextDocumentContentProvider(e,n),{scheme:e,onDidChangeEmitter:t,provider:n}]}unregister(e){const t=this._registrations.get(e);void 0!==t&&(this._registrations.delete(e),t.disposable.dispose())}clear(){this._registrations.forEach((e=>{e.disposable.dispose()})),this._registrations.clear()}}},31596:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.DidSaveTextDocumentFeature=t.WillSaveWaitUntilFeature=t.WillSaveFeature=t.DidChangeTextDocumentFeature=t.DidCloseTextDocumentFeature=t.DidOpenTextDocumentFeature=void 0;const s=n(54980),a=n(98766),c=n(14294),l=o(n(69032));class u extends c.TextDocumentEventFeature{_syncedDocuments;_pendingOpenNotifications;_delayOpen;_pendingOpenListeners;constructor(e,t){super(e,s.workspace.onDidOpenTextDocument,a.DidOpenTextDocumentNotification.type,(()=>e.middleware.didOpen),(t=>e.code2ProtocolConverter.asOpenTextDocumentParams(t)),(e=>e),c.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=t,this._pendingOpenNotifications=new Map,this._delayOpen=e.clientOptions.textSynchronization?.delayOpenNotifications??!1}async callback(e){return this._delayOpen?this.matches(e)?this._client.tabsModel.isVisible(e)?super.callback(e):void this._pendingOpenNotifications.set(e.uri.toString(),e):void 0:super.callback(e)}get openDocuments(){return this._syncedDocuments.values()}fillClientCapabilities(e){(0,c.ensure)((0,c.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){const n=e.resolvedTextDocumentSync;t&&n&&n.openClose&&this.register({id:l.generateUuid(),registerOptions:{documentSelector:t}})}get registrationType(){return a.DidOpenTextDocumentNotification.type}register(e){if(super.register(e),!e.registerOptions.documentSelector)return;const t=this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector);if(s.workspace.textDocuments.forEach((e=>{const n=e.uri.toString();if(!this._syncedDocuments.has(n)&&s.languages.match(t,e)>0&&!this._client.hasDedicatedTextSynchronizationFeature(e))if(this._client.tabsModel.isVisible(e)){const t=this._client.middleware,r=e=>this._client.sendNotification(this._type,this._createParams(e));(t.didOpen?t.didOpen(e,r):r(e)).catch((e=>{this._client.error(`Sending document notification ${this._type.method} failed`,e)})),this._syncedDocuments.set(n,e)}else this._pendingOpenNotifications.set(n,e)})),this._delayOpen&&void 0===this._pendingOpenListeners){this._pendingOpenListeners=[];const e=this._client.tabsModel;this._pendingOpenListeners.push(e.onClose((e=>{for(const t of e)this._pendingOpenNotifications.delete(t.toString())}))),this._pendingOpenListeners.push(e.onOpen((e=>{for(const t of e){const e=this._pendingOpenNotifications.get(t.toString());void 0!==e&&(super.callback(e).catch((e=>{this._client.error(`Sending document notification ${this._type.method} failed`,e)})),this._pendingOpenNotifications.delete(t.toString()))}}))),this._pendingOpenListeners.push(s.workspace.onDidCloseTextDocument((e=>{this._pendingOpenNotifications.delete(e.uri.toString())})))}}async sendPendingOpenNotifications(e){const t=Array.from(this._pendingOpenNotifications.values());this._pendingOpenNotifications.clear();for(const n of t)void 0!==e&&n.uri.toString()===e||await super.callback(n)}getTextDocument(e){return e}notificationSent(e,t,n){this._syncedDocuments.set(e.uri.toString(),e),super.notificationSent(e,t,n)}clear(){if(this._pendingOpenNotifications.clear(),void 0!==this._pendingOpenListeners){for(const e of this._pendingOpenListeners)e.dispose();this._pendingOpenListeners=void 0}super.clear()}}t.DidOpenTextDocumentFeature=u;class p extends c.TextDocumentEventFeature{_syncedDocuments;_pendingTextDocumentChanges;constructor(e,t,n){super(e,s.workspace.onDidCloseTextDocument,a.DidCloseTextDocumentNotification.type,(()=>e.middleware.didClose),(t=>e.code2ProtocolConverter.asCloseTextDocumentParams(t)),(e=>e),c.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=t,this._pendingTextDocumentChanges=n}get registrationType(){return a.DidCloseTextDocumentNotification.type}fillClientCapabilities(e){(0,c.ensure)((0,c.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){const n=e.resolvedTextDocumentSync;t&&n&&n.openClose&&this.register({id:l.generateUuid(),registerOptions:{documentSelector:t}})}async callback(e){await super.callback(e),this._pendingTextDocumentChanges.delete(e.uri.toString())}getTextDocument(e){return e}notificationSent(e,t,n){this._syncedDocuments.delete(e.uri.toString()),super.notificationSent(e,t,n)}unregister(e){const t=this._selectors.get(e);if(void 0===t)return;super.unregister(e);const n=this._selectors.values();this._syncedDocuments.forEach((e=>{if(s.languages.match(t,e)>0&&!this._selectorFilter(n,e)&&!this._client.hasDedicatedTextSynchronizationFeature(e)){const t=this._client.middleware,n=e=>this._client.sendNotification(this._type,this._createParams(e));this._syncedDocuments.delete(e.uri.toString()),(t.didClose?t.didClose(e,n):n(e)).catch((e=>{this._client.error(`Sending document notification ${this._type.method} failed`,e)}))}}))}}t.DidCloseTextDocumentFeature=p;class d extends c.DynamicDocumentFeature{_listener;_changeData;_onNotificationSent;_onPendingChangeAdded;_pendingTextDocumentChanges;_syncKind;constructor(e,t){super(e),this._changeData=new Map,this._onNotificationSent=new s.EventEmitter,this._onPendingChangeAdded=new s.EventEmitter,this._pendingTextDocumentChanges=t,this._syncKind=a.TextDocumentSyncKind.None}get onNotificationSent(){return this._onNotificationSent.event}get onPendingChangeAdded(){return this._onPendingChangeAdded.event}get syncKind(){return this._syncKind}get registrationType(){return a.DidChangeTextDocumentNotification.type}fillClientCapabilities(e){(0,c.ensure)((0,c.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){const n=e.resolvedTextDocumentSync;t&&n&&void 0!==n.change&&n.change!==a.TextDocumentSyncKind.None&&this.register({id:l.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},{syncKind:n.change})})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=s.workspace.onDidChangeTextDocument(this.callback,this)),this._changeData.set(e.id,{syncKind:e.registerOptions.syncKind,documentSelector:this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)}),this.updateSyncKind(e.registerOptions.syncKind))}*getDocumentSelectors(){for(const e of this._changeData.values())yield e.documentSelector}async callback(e){if(0===e.contentChanges.length)return;const t=e.document.uri,n=e.document.version,r=[];for(const i of this._changeData.values())if(s.languages.match(i.documentSelector,e.document)>0&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){const o=this._client.middleware;if(i.syncKind===a.TextDocumentSyncKind.Incremental){const i=async e=>{const r=this._client.code2ProtocolConverter.asChangeTextDocumentParams(e,t,n);await this._client.sendNotification(a.DidChangeTextDocumentNotification.type,r),this.notificationSent(e.document,a.DidChangeTextDocumentNotification.type,r)};r.push(o.didChange?o.didChange(e,(e=>i(e))):i(e))}else if(i.syncKind===a.TextDocumentSyncKind.Full){const t=async e=>{const t=e.document.uri.toString();this._pendingTextDocumentChanges.set(t,e.document),this._onPendingChangeAdded.fire()};r.push(o.didChange?o.didChange(e,(e=>t(e))):t(e))}}return Promise.all(r).then(void 0,(e=>{throw this._client.error(`Sending document notification ${a.DidChangeTextDocumentNotification.type.method} failed`,e),e}))}notificationSent(e,t,n){this._onNotificationSent.fire({textDocument:e,type:t,params:n})}unregister(e){if(this._changeData.delete(e),0===this._changeData.size)this._listener&&(this._listener.dispose(),this._listener=void 0),this._syncKind=a.TextDocumentSyncKind.None;else{this._syncKind=a.TextDocumentSyncKind.None;for(const e of this._changeData.values())if(this.updateSyncKind(e.syncKind),this._syncKind===a.TextDocumentSyncKind.Full)break}}clear(){this._pendingTextDocumentChanges.clear(),this._changeData.clear(),this._syncKind=a.TextDocumentSyncKind.None,this._listener&&(this._listener.dispose(),this._listener=void 0)}getPendingDocumentChanges(e){if(0===this._pendingTextDocumentChanges.size)return[];let t;if(0===e.size)t=Array.from(this._pendingTextDocumentChanges.values()),this._pendingTextDocumentChanges.clear();else{t=[];for(const n of this._pendingTextDocumentChanges)e.has(n[0])||(t.push(n[1]),this._pendingTextDocumentChanges.delete(n[0]))}return t}getProvider(e){for(const t of this._changeData.values())if(s.languages.match(t.documentSelector,e)>0)return{send:e=>this.callback(e)}}updateSyncKind(e){if(this._syncKind!==a.TextDocumentSyncKind.Full)switch(e){case a.TextDocumentSyncKind.Full:this._syncKind=e;break;case a.TextDocumentSyncKind.Incremental:this._syncKind===a.TextDocumentSyncKind.None&&(this._syncKind=a.TextDocumentSyncKind.Incremental)}}}t.DidChangeTextDocumentFeature=d;class h extends c.TextDocumentEventFeature{constructor(e){super(e,s.workspace.onWillSaveTextDocument,a.WillSaveTextDocumentNotification.type,(()=>e.middleware.willSave),(t=>e.code2ProtocolConverter.asWillSaveTextDocumentParams(t)),(e=>e.document),((e,t)=>c.TextDocumentEventFeature.textDocumentFilter(e,t.document)))}get registrationType(){return a.WillSaveTextDocumentNotification.type}fillClientCapabilities(e){(0,c.ensure)((0,c.ensure)(e,"textDocument"),"synchronization").willSave=!0}initialize(e,t){const n=e.resolvedTextDocumentSync;t&&n&&n.willSave&&this.register({id:l.generateUuid(),registerOptions:{documentSelector:t}})}getTextDocument(e){return e.document}}t.WillSaveFeature=h;class f extends c.DynamicDocumentFeature{_listener;_selectors;constructor(e){super(e),this._selectors=new Map}getDocumentSelectors(){return this._selectors.values()}get registrationType(){return a.WillSaveTextDocumentWaitUntilRequest.type}fillClientCapabilities(e){(0,c.ensure)((0,c.ensure)(e,"textDocument"),"synchronization").willSaveWaitUntil=!0}initialize(e,t){const n=e.resolvedTextDocumentSync;t&&n&&n.willSaveWaitUntil&&this.register({id:l.generateUuid(),registerOptions:{documentSelector:t}})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=s.workspace.onWillSaveTextDocument(this.callback,this)),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}callback(e){if(c.TextDocumentEventFeature.textDocumentFilter(this._selectors.values(),e.document)&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){const t=this._client.middleware,n=e=>this._client.sendRequest(a.WillSaveTextDocumentWaitUntilRequest.type,this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(e)).then((async e=>{const t=await this._client.protocol2CodeConverter.asTextEdits(e);return void 0===t?[]:t}));e.waitUntil(t.willSaveWaitUntil?t.willSaveWaitUntil(e,n):n(e))}}unregister(e){this._selectors.delete(e),0===this._selectors.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}}t.WillSaveWaitUntilFeature=f;class v extends c.TextDocumentEventFeature{_includeText;constructor(e){super(e,s.workspace.onDidSaveTextDocument,a.DidSaveTextDocumentNotification.type,(()=>e.middleware.didSave),(t=>e.code2ProtocolConverter.asSaveTextDocumentParams(t,this._includeText)),(e=>e),c.TextDocumentEventFeature.textDocumentFilter),this._includeText=!1}get registrationType(){return a.DidSaveTextDocumentNotification.type}fillClientCapabilities(e){(0,c.ensure)((0,c.ensure)(e,"textDocument"),"synchronization").didSave=!0}initialize(e,t){const n=e.resolvedTextDocumentSync;if(t&&n&&n.save){const e="boolean"==typeof n.save?{includeText:!1}:{includeText:!!n.save.includeText};this.register({id:l.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},e)})}}register(e){this._includeText=!!e.registerOptions.includeText,super.register(e)}getTextDocument(e){return e}}t.DidSaveTextDocumentFeature=v},45432:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeDefinitionFeature=void 0;const r=n(54980),i=n(98766),o=n(14294);class s extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.TypeDefinitionRequest.type)}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"typeDefinition").dynamicRegistration=!0;const t=(0,o.ensure)((0,o.ensure)(e,"textDocument"),"typeDefinition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){const[n,r]=this.getRegistration(t,e.typeDefinitionProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=e.documentSelector,n={provideTypeDefinition:(e,t,n)=>{const r=this._client,o=(e,t,n)=>r.sendRequest(i.TypeDefinitionRequest.type,r.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asDefinitionResult(e,n)),(e=>r.handleFailedRequest(i.TypeDefinitionRequest.type,n,e,null))),s=r.middleware;return s.provideTypeDefinition?s.provideTypeDefinition(e,t,n,o):o(e,t,n)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return r.languages.registerTypeDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.TypeDefinitionFeature=s},74622:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeHierarchyFeature=void 0;const r=n(54980),i=n(98766),o=n(14294);class s{client;middleware;constructor(e){this.client=e,this.middleware=e.middleware}prepareTypeHierarchy(e,t,n){const r=this.client,o=this.middleware,s=(e,t,n)=>{const o=r.code2ProtocolConverter.asTextDocumentPositionParams(e,t);return r.sendRequest(i.TypeHierarchyPrepareRequest.type,o,n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asTypeHierarchyItems(e,n)),(e=>r.handleFailedRequest(i.TypeHierarchyPrepareRequest.type,n,e,null)))};return o.prepareTypeHierarchy?o.prepareTypeHierarchy(e,t,n,s):s(e,t,n)}provideTypeHierarchySupertypes(e,t){const n=this.client,r=this.middleware,o=(e,t)=>{const r={item:n.code2ProtocolConverter.asTypeHierarchyItem(e)};return n.sendRequest(i.TypeHierarchySupertypesRequest.type,r,t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asTypeHierarchyItems(e,t)),(e=>n.handleFailedRequest(i.TypeHierarchySupertypesRequest.type,t,e,null)))};return r.provideTypeHierarchySupertypes?r.provideTypeHierarchySupertypes(e,t,o):o(e,t)}provideTypeHierarchySubtypes(e,t){const n=this.client,r=this.middleware,o=(e,t)=>{const r={item:n.code2ProtocolConverter.asTypeHierarchyItem(e)};return n.sendRequest(i.TypeHierarchySubtypesRequest.type,r,t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asTypeHierarchyItems(e,t)),(e=>n.handleFailedRequest(i.TypeHierarchySubtypesRequest.type,t,e,null)))};return r.provideTypeHierarchySubtypes?r.provideTypeHierarchySubtypes(e,t,o):o(e,t)}}class a extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.TypeHierarchyPrepareRequest.type)}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"typeHierarchy").dynamicRegistration=!0}initialize(e,t){const[n,r]=this.getRegistration(t,e.typeHierarchyProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=this._client,n=new s(t);return[r.languages.registerTypeHierarchyProvider(t.protocol2CodeConverter.asDocumentSelector(e.documentSelector),n),n]}}t.TypeHierarchyFeature=a},80483:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.forEach=t.mapAsync=t.map=t.clearTestMode=t.setTestMode=t.Semaphore=t.Delayer=void 0;const r=n(98766);t.Delayer=class{defaultDelay;timeout;completionPromise;onSuccess;task;constructor(e){this.defaultDelay=e,this.timeout=void 0,this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0}trigger(e,t=this.defaultDelay){return this.task=e,t>=0&&this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((e=>{this.onSuccess=e})).then((()=>{this.completionPromise=void 0,this.onSuccess=void 0;const e=this.task();return this.task=void 0,e}))),(t>=0||void 0===this.timeout)&&(this.timeout=(0,r.RAL)().timer.setTimeout((()=>{this.timeout=void 0,this.onSuccess(void 0)}),t>=0?t:this.defaultDelay)),this.completionPromise}forceDelivery(){if(!this.completionPromise)return;this.cancelTimeout();const e=this.task();return this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0,e}isTriggered(){return void 0!==this.timeout}cancel(){this.cancelTimeout(),this.completionPromise=void 0}cancelTimeout(){void 0!==this.timeout&&(this.timeout.dispose(),this.timeout=void 0)}},t.Semaphore=class{_capacity;_active;_waiting;constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise(((t,n)=>{this._waiting.push({thunk:e,resolve:t,reject:n}),this.runNext()}))}get active(){return this._active}runNext(){0!==this._waiting.length&&this._active!==this._capacity&&(0,r.RAL)().timer.setImmediate((()=>this.doRunNext()))}doRunNext(){if(0===this._waiting.length||this._active===this._capacity)return;const e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{const t=e.thunk();t instanceof Promise?t.then((t=>{this._active--,e.resolve(t),this.runNext()}),(t=>{this._active--,e.reject(t),this.runNext()})):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}};let i=!1;t.setTestMode=function(){i=!0},t.clearTestMode=function(){i=!1};class o{yieldAfter;startTime;counter;total;counterInterval;constructor(e=15){this.yieldAfter=!0===i?Math.max(e,2):Math.max(e,15),this.startTime=Date.now(),this.counter=0,this.total=0,this.counterInterval=1}start(){this.counter=0,this.total=0,this.counterInterval=1,this.startTime=Date.now()}shouldYield(){if(++this.counter>=this.counterInterval){const e=Date.now()-this.startTime,t=Math.max(0,this.yieldAfter-e);if(this.total+=this.counter,this.counter=0,e>=this.yieldAfter||t<=1)return this.counterInterval=1,this.total=0,!0;switch(e){case 0:case 1:this.counterInterval=2*this.total}}return!1}}t.map=async function(e,t,n,i){if(0===e.length)return[];const s=new Array(e.length),a=new o(i?.yieldAfter);function c(n){a.start();for(let r=n;r<e.length;r++)if(s[r]=t(e[r]),a.shouldYield())return i?.yieldCallback&&i.yieldCallback(),r+1;return-1}let l=c(0);for(;-1!==l&&(void 0===n||!n.isCancellationRequested);)l=await new Promise((e=>{(0,r.RAL)().timer.setImmediate((()=>{e(c(l))}))}));return s},t.mapAsync=async function(e,t,n,i){if(0===e.length)return[];const s=new Array(e.length),a=new o(i?.yieldAfter);async function c(r){a.start();for(let o=r;o<e.length;o++)if(s[o]=await t(e[o],n),a.shouldYield())return i?.yieldCallback&&i.yieldCallback(),o+1;return-1}let l=await c(0);for(;-1!==l&&(void 0===n||!n.isCancellationRequested);)l=await new Promise((e=>{(0,r.RAL)().timer.setImmediate((()=>{e(c(l))}))}));return s},t.forEach=async function(e,t,n,i){if(0===e.length)return;const s=new o(i?.yieldAfter);function a(n){s.start();for(let r=n;r<e.length;r++)if(t(e[r]),s.shouldYield())return i?.yieldCallback&&i.yieldCallback(),r+1;return-1}let c=a(0);for(;-1!==c&&(void 0===n||!n.isCancellationRequested);)c=await new Promise((e=>{(0,r.RAL)().timer.setImmediate((()=>{e(a(c))}))}))}},63191:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.matchGlobPattern=void 0;const s=o(n(40502)),a=n(54980);t.matchGlobPattern=function(e,t){let n;if("string"==typeof e)n=e.replace(/\\/g,"/");else try{const t=a.Uri.parse("string"==typeof e.baseUri?e.baseUri:e.baseUri.uri);n=t.with({path:t.path+"/"+e.pattern}).fsPath.replace(/\\/g,"/")}catch(e){return!1}const r=new s.Minimatch(n,{noext:!0});return!!r.makeRe()&&r.match(t.fsPath)}},58319:(e,t)=>{"use strict";function n(e){return"string"==typeof e||e instanceof String}function r(e){return"function"==typeof e}function i(e){return Array.isArray(e)}function o(e){return e&&r(e.then)}Object.defineProperty(t,"__esModule",{value:!0}),t.asPromise=t.thenable=t.typedArray=t.stringArray=t.array=t.func=t.error=t.number=t.string=t.boolean=void 0,t.boolean=function(e){return!0===e||!1===e},t.string=n,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=r,t.array=i,t.stringArray=function(e){return i(e)&&e.every((e=>n(e)))},t.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)},t.thenable=o,t.asPromise=function(e){return e instanceof Promise?e:o(e)?new Promise(((t,n)=>{e.then((e=>t(e)),(e=>n(e)))})):Promise.resolve(e)}},69032:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateUuid=t.parse=t.isUUID=t.v4=t.empty=void 0;class n{_value;constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}}class r extends n{static _chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];static _timeHighBits=["8","9","a","b"];static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return r._oneOf(r._chars)}constructor(){super([r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),"-",r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),"-","4",r._randomHex(),r._randomHex(),r._randomHex(),"-",r._oneOf(r._timeHighBits),r._randomHex(),r._randomHex(),r._randomHex(),"-",r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex()].join(""))}}function i(){return new r}t.empty=new n("00000000-0000-0000-0000-000000000000"),t.v4=i;const o=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function s(e){return o.test(e)}t.isUUID=s,t.parse=function(e){if(!s(e))throw new Error("invalid uuid");return new n(e)},t.generateUuid=function(){return i().asHex()}},66804:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceFoldersFeature=t.arrayDiff=void 0;const s=o(n(69032)),a=n(54980),c=n(98766);function l(e,t){if(null!=e)return e[t]}function u(e,t){return e.filter((e=>t.indexOf(e)<0))}t.arrayDiff=u,t.WorkspaceFoldersFeature=class{_client;_listeners;_initialFolders;constructor(e){this._client=e,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return c.DidChangeWorkspaceFoldersNotification.type}fillInitializeParams(e){const t=a.workspace.workspaceFolders;this.initializeWithFolders(t),e.workspaceFolders=void 0===t?null:t.map((e=>this.asProtocol(e)))}initializeWithFolders(e){this._initialFolders=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.workspaceFolders=!0}initialize(e){const t=this._client;t.onRequest(c.WorkspaceFoldersRequest.type,(e=>{const n=()=>{const e=a.workspace.workspaceFolders;return void 0===e?null:e.map((e=>this.asProtocol(e)))},r=t.middleware.workspace;return r&&r.workspaceFolders?r.workspaceFolders(e,n):n()}));const n=l(l(l(e,"workspace"),"workspaceFolders"),"changeNotifications");let r;"string"==typeof n?r=n:!0===n&&(r=s.generateUuid()),r&&this.register({id:r,registerOptions:void 0})}sendInitialEvent(e){let t;if(this._initialFolders&&e){const n=u(this._initialFolders,e),r=u(e,this._initialFolders);(r.length>0||n.length>0)&&(t=this.doSendEvent(r,n))}else this._initialFolders?t=this.doSendEvent([],this._initialFolders):e&&(t=this.doSendEvent(e,[]));void 0!==t&&t.catch((e=>{this._client.error(`Sending notification ${c.DidChangeWorkspaceFoldersNotification.type.method} failed`,e)}))}doSendEvent(e,t){const n={event:{added:e.map((e=>this.asProtocol(e))),removed:t.map((e=>this.asProtocol(e)))}};return this._client.sendNotification(c.DidChangeWorkspaceFoldersNotification.type,n)}register(e){const t=e.id,n=this._client,r=a.workspace.onDidChangeWorkspaceFolders((e=>{const t=e=>this.doSendEvent(e.added,e.removed),r=n.middleware.workspace;(r&&r.didChangeWorkspaceFolders?r.didChangeWorkspaceFolders(e,t):t(e)).catch((e=>{this._client.error(`Sending notification ${c.DidChangeWorkspaceFoldersNotification.type.method} failed`,e)}))}));this._listeners.set(t,r),this.sendInitialEvent(a.workspace.workspaceFolders)}unregister(e){const t=this._listeners.get(e);void 0!==t&&(this._listeners.delete(e),t.dispose())}clear(){for(const e of this._listeners.values())e.dispose();this._listeners.clear()}asProtocol(e){return void 0===e?null:{uri:this._client.code2ProtocolConverter.asUri(e.uri),name:e.name}}}},58312:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceSymbolFeature=void 0;const s=n(54980),a=n(98766),c=n(14294),l=n(49228),u=o(n(69032));class p extends c.WorkspaceFeature{constructor(e){super(e,a.WorkspaceSymbolRequest.type)}fillClientCapabilities(e){const t=(0,c.ensure)((0,c.ensure)(e,"workspace"),"symbol");t.dynamicRegistration=!0,t.symbolKind={valueSet:l.SupportedSymbolKinds},t.tagSupport={valueSet:l.SupportedSymbolTags},t.resolveSupport={properties:["location.range"]}}initialize(e){e.workspaceSymbolProvider&&this.register({id:u.generateUuid(),registerOptions:!0===e.workspaceSymbolProvider?{workDoneProgress:!1}:e.workspaceSymbolProvider})}registerLanguageProvider(e){const t={provideWorkspaceSymbols:(e,t)=>{const n=this._client,r=(e,t)=>n.sendRequest(a.WorkspaceSymbolRequest.type,{query:e},t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asSymbolInformations(e,t)),(e=>n.handleFailedRequest(a.WorkspaceSymbolRequest.type,t,e,null))),i=n.middleware;return i.provideWorkspaceSymbols?i.provideWorkspaceSymbols(e,t,r):r(e,t)},resolveWorkspaceSymbol:!0===e.resolveProvider?(e,t)=>{const n=this._client,r=(e,t)=>n.sendRequest(a.WorkspaceSymbolResolveRequest.type,n.code2ProtocolConverter.asWorkspaceSymbol(e),t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asSymbolInformation(e)),(e=>n.handleFailedRequest(a.WorkspaceSymbolResolveRequest.type,t,e,null))),i=n.middleware;return i.resolveWorkspaceSymbol?i.resolveWorkspaceSymbol(e,t,r):r(e,t)}:void 0};return[s.languages.registerWorkspaceSymbolProvider(t),t]}}t.WorkspaceSymbolFeature=p},99:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingMonitor=t.LanguageClient=t.TransportKind=void 0;const a=o(n(35317)),c=o(n(79896)),l=o(n(16928)),u=n(54980),p=o(n(58319)),d=n(29538),h=n(76745),f=n(67354),v=n(30144),g=n(97638);s(n(67354),t),s(n(96353),t);const m="^1.91.0";var y,b,_,E,S,w;!function(e){e[e.stdio=0]="stdio",e[e.ipc=1]="ipc",e[e.pipe=2]="pipe",e[e.socket=3]="socket"}(y||(t.TransportKind=y={})),function(e){e.isSocket=function(e){const t=e;return t&&t.kind===y.socket&&p.number(t.port)}}(b||(b={})),function(e){e.is=function(e){return p.string(e.command)}}(_||(_={})),function(e){e.is=function(e){return p.string(e.module)}}(E||(E={})),function(e){e.is=function(e){const t=e;return t&&void 0!==t.writer&&void 0!==t.reader}}(S||(S={})),function(e){e.is=function(e){const t=e;return t&&void 0!==t.process&&"boolean"==typeof t.detached}}(w||(w={}));class P extends d.BaseLanguageClient{_serverOptions;_forceDebug;_serverProcess;_isDetached;_isInDebugMode;constructor(e,t,n,r,i){let o,s,a,c,l;p.string(t)?(o=e,s=t,a=n,c=r,l=!!i):(o=e.toLowerCase(),s=e,a=t,c=n,l=r),void 0===l&&(l=!1),super(o,s,c),this._serverOptions=a,this._forceDebug=l,this._isInDebugMode=l;try{this.checkVersion()}catch(e){throw p.string(e.message)&&this.outputChannel.appendLine(e.message),e}}checkVersion(){const e=v(u.version);if(!e)throw new Error(`No valid VS Code version detected. Version string is: ${u.version}`);if(e.prerelease&&e.prerelease.length>0&&(e.prerelease=[]),!g(e,m))throw new Error(`The language client requires VS Code version ${m} but received version ${u.version}`)}get isInDebugMode(){return this._isInDebugMode}async restart(){await this.stop(),this.isInDebugMode?(await new Promise((e=>setTimeout(e,1e3))),await this.start()):await this.start()}shutdown(e,t=2e3){return super.shutdown(e,t).finally((()=>{if(this._serverProcess){const e=this._serverProcess;this._serverProcess=void 0,void 0!==this._isDetached&&this._isDetached||this.checkProcessDied(e),this._isDetached=void 0}}))}checkProcessDied(e){e&&void 0!==e.pid&&setTimeout((()=>{try{void 0!==e.pid&&(process.kill(e.pid,0),(0,h.terminate)(e))}catch(e){}}),2e3)}handleConnectionClosed(){return this._serverProcess=void 0,super.handleConnectionClosed()}fillInitializeParams(e){super.fillInitializeParams(e),null===e.processId&&(e.processId=process.pid)}createMessageTransports(e){function t(e,t){if(!e&&!t)return;const n=Object.create(null);return Object.keys(process.env).forEach((e=>n[e]=process.env[e])),t&&(n.ELECTRON_RUN_AS_NODE="1",n.ELECTRON_NO_ASAR="1"),e&&Object.keys(e).forEach((t=>n[t]=e[t])),n}const n=["--debug=","--debug-brk=","--inspect=","--inspect-brk="],r=["--debug","--debug-brk","--inspect","--inspect-brk"];function i(e){if(null===e.stdin||null===e.stdout||null===e.stderr)throw new Error("Process created without stdio streams")}const o=this._serverOptions;if(p.func(o))return o().then((t=>{if(d.MessageTransports.is(t))return this._isDetached=!!t.detached,t;if(S.is(t))return this._isDetached=!!t.detached,{reader:new f.StreamMessageReader(t.reader),writer:new f.StreamMessageWriter(t.writer)};{let n;return w.is(t)?(n=t.process,this._isDetached=t.detached):(n=t,this._isDetached=!1),n.stderr.on("data",(t=>this.outputChannel.append(p.string(t)?t:t.toString(e)))),{reader:new f.StreamMessageReader(n.stdout),writer:new f.StreamMessageWriter(n.stdin)}}}));let s;const c=o;return c.run||c.debug?this._forceDebug||function(){const e=process.execArgv;return!!e&&e.some((e=>n.some((t=>e.startsWith(t)))||r.some((t=>e===t))))}()?(s=c.debug,this._isInDebugMode=!0):(s=c.run,this._isInDebugMode=!1):s=o,this._getServerWorkingDir(s.options).then((n=>{if(E.is(s)&&s.module){const r=s,o=r.transport||y.stdio;if(!r.runtime){let s;return new Promise(((c,l)=>{const u=(r.args&&r.args.slice())??[];o===y.ipc?u.push("--node-ipc"):o===y.stdio?u.push("--stdio"):o===y.pipe?(s=(0,f.generateRandomPipeName)(),u.push(`--pipe=${s}`)):b.isSocket(o)&&u.push(`--socket=${o.port}`),u.push(`--clientProcessId=${process.pid.toString()}`);const d=r.options??Object.create(null);if(d.env=t(d.env,!0),d.execArgv=d.execArgv||[],d.cwd=n,d.silent=!0,o===y.ipc||o===y.stdio){const t=a.fork(r.module,u||[],d);i(t),this._serverProcess=t,t.stderr.on("data",(t=>this.outputChannel.append(p.string(t)?t:t.toString(e)))),o===y.ipc?(t.stdout.on("data",(t=>this.outputChannel.append(p.string(t)?t:t.toString(e)))),c({reader:new f.IPCMessageReader(this._serverProcess),writer:new f.IPCMessageWriter(this._serverProcess)})):c({reader:new f.StreamMessageReader(t.stdout),writer:new f.StreamMessageWriter(t.stdin)})}else o===y.pipe?(0,f.createClientPipeTransport)(s).then((t=>{const n=a.fork(r.module,u||[],d);i(n),this._serverProcess=n,n.stderr.on("data",(t=>this.outputChannel.append(p.string(t)?t:t.toString(e)))),n.stdout.on("data",(t=>this.outputChannel.append(p.string(t)?t:t.toString(e)))),t.onConnected().then((e=>{c({reader:e[0],writer:e[1]})}),l)}),l):b.isSocket(o)&&(0,f.createClientSocketTransport)(o.port).then((t=>{const n=a.fork(r.module,u||[],d);i(n),this._serverProcess=n,n.stderr.on("data",(t=>this.outputChannel.append(p.string(t)?t:t.toString(e)))),n.stdout.on("data",(t=>this.outputChannel.append(p.string(t)?t:t.toString(e)))),t.onConnected().then((e=>{c({reader:e[0],writer:e[1]})}),l)}),l)}))}{const i=[],s=r.options??Object.create(null);s.execArgv&&s.execArgv.forEach((e=>i.push(e))),i.push(r.module),r.args&&r.args.forEach((e=>i.push(e)));const c=Object.create(null);c.cwd=n,c.env=t(s.env,!1);const l=this._getRuntimePath(r.runtime,n);let u;if(o===y.ipc?(c.stdio=[null,null,null,"ipc"],i.push("--node-ipc")):o===y.stdio?i.push("--stdio"):o===y.pipe?(u=(0,f.generateRandomPipeName)(),i.push(`--pipe=${u}`)):b.isSocket(o)&&i.push(`--socket=${o.port}`),i.push(`--clientProcessId=${process.pid.toString()}`),o===y.ipc||o===y.stdio){const t=a.spawn(l,i,c);return t&&t.pid?(this._serverProcess=t,t.stderr.on("data",(t=>this.outputChannel.append(p.string(t)?t:t.toString(e)))),o===y.ipc?(t.stdout.on("data",(t=>this.outputChannel.append(p.string(t)?t:t.toString(e)))),Promise.resolve({reader:new f.IPCMessageReader(t),writer:new f.IPCMessageWriter(t)})):Promise.resolve({reader:new f.StreamMessageReader(t.stdout),writer:new f.StreamMessageWriter(t.stdin)})):T(t,`Launching server using runtime ${l} failed.`)}if(o===y.pipe)return(0,f.createClientPipeTransport)(u).then((t=>{const n=a.spawn(l,i,c);return n&&n.pid?(this._serverProcess=n,n.stderr.on("data",(t=>this.outputChannel.append(p.string(t)?t:t.toString(e)))),n.stdout.on("data",(t=>this.outputChannel.append(p.string(t)?t:t.toString(e)))),t.onConnected().then((e=>({reader:e[0],writer:e[1]})))):T(n,`Launching server using runtime ${l} failed.`)}));if(b.isSocket(o))return(0,f.createClientSocketTransport)(o.port).then((t=>{const n=a.spawn(l,i,c);return n&&n.pid?(this._serverProcess=n,n.stderr.on("data",(t=>this.outputChannel.append(p.string(t)?t:t.toString(e)))),n.stdout.on("data",(t=>this.outputChannel.append(p.string(t)?t:t.toString(e)))),t.onConnected().then((e=>({reader:e[0],writer:e[1]})))):T(n,`Launching server using runtime ${l} failed.`)}))}}else if(_.is(s)&&s.command){const t=s,r=void 0!==s.args?s.args.slice(0):[];let i;const o=s.transport;if(o===y.stdio)r.push("--stdio");else if(o===y.pipe)i=(0,f.generateRandomPipeName)(),r.push(`--pipe=${i}`);else if(b.isSocket(o))r.push(`--socket=${o.port}`);else if(o===y.ipc)throw new Error("Transport kind ipc is not support for command executable");const c=Object.assign({},t.options);if(c.cwd=c.cwd||n,void 0===o||o===y.stdio){const n=a.spawn(t.command,r,c);return n&&n.pid?(n.stderr.on("data",(t=>this.outputChannel.append(p.string(t)?t:t.toString(e)))),this._serverProcess=n,this._isDetached=!!c.detached,Promise.resolve({reader:new f.StreamMessageReader(n.stdout),writer:new f.StreamMessageWriter(n.stdin)})):T(n,`Launching server using command ${t.command} failed.`)}if(o===y.pipe)return(0,f.createClientPipeTransport)(i).then((n=>{const i=a.spawn(t.command,r,c);return i&&i.pid?(this._serverProcess=i,this._isDetached=!!c.detached,i.stderr.on("data",(t=>this.outputChannel.append(p.string(t)?t:t.toString(e)))),i.stdout.on("data",(t=>this.outputChannel.append(p.string(t)?t:t.toString(e)))),n.onConnected().then((e=>({reader:e[0],writer:e[1]})))):T(i,`Launching server using command ${t.command} failed.`)}));if(b.isSocket(o))return(0,f.createClientSocketTransport)(o.port).then((n=>{const i=a.spawn(t.command,r,c);return i&&i.pid?(this._serverProcess=i,this._isDetached=!!c.detached,i.stderr.on("data",(t=>this.outputChannel.append(p.string(t)?t:t.toString(e)))),i.stdout.on("data",(t=>this.outputChannel.append(p.string(t)?t:t.toString(e)))),n.onConnected().then((e=>({reader:e[0],writer:e[1]})))):T(i,`Launching server using command ${t.command} failed.`)}))}return Promise.reject(new Error("Unsupported server configuration "+JSON.stringify(o,null,4)))})).finally((()=>{void 0!==this._serverProcess&&this._serverProcess.on("exit",((e,t)=>{0===e?this.info("Server process exited successfully",void 0,!1):null!==e&&this.error(`Server process exited with code ${e}.`,void 0,!1),null!==t&&this.error(`Server process exited with signal ${t}.`,void 0,!1)}))}))}_getRuntimePath(e,t){if(l.isAbsolute(e))return e;const n=this._mainGetRootPath();if(void 0!==n){const t=l.join(n,e);if(c.existsSync(t))return t}if(void 0!==t){const n=l.join(t,e);if(c.existsSync(n))return n}return e}_mainGetRootPath(){const e=u.workspace.workspaceFolders;if(!e||0===e.length)return;const t=e[0];return"file"===t.uri.scheme?t.uri.fsPath:void 0}_getServerWorkingDir(e){let t=e&&e.cwd;return t||(t=this.clientOptions.workspaceFolder?this.clientOptions.workspaceFolder.uri.fsPath:this._mainGetRootPath()),t?new Promise((e=>{c.lstat(t,((n,r)=>{e(!n&&r.isDirectory()?t:void 0)}))})):Promise.resolve(void 0)}}function T(e,t){return null===e?Promise.reject(t):new Promise(((n,r)=>{e.on("error",(e=>{r(`${t} ${e}`)})),setImmediate((()=>r(t)))}))}t.LanguageClient=P,t.SettingMonitor=class{_client;_setting;_listeners;constructor(e,t){this._client=e,this._setting=t,this._listeners=[]}start(){return u.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration,this,this._listeners),this.onDidChangeConfiguration(),new u.Disposable((()=>{this._client.needsStop()&&this._client.stop()}))}onDidChangeConfiguration(){const e=this._setting.indexOf("."),t=e>=0?this._setting.substr(0,e):this._setting,n=e>=0?this._setting.substr(e+1):void 0,r=n?u.workspace.getConfiguration(t).get(n,!1):u.workspace.getConfiguration(t);r&&this._client.needsStart()?this._client.start().catch((e=>this._client.error("Start failed after configuration change",e,"force"))):!r&&this._client.needsStop()&&this._client.stop().catch((e=>this._client.error("Stop failed after configuration change",e,"force")))}}},76745:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.terminate=void 0;const s=o(n(35317)),a=n(16928),c="win32"===process.platform,l="darwin"===process.platform,u="linux"===process.platform;t.terminate=function(e,t){if(c)try{const n={stdio:["pipe","pipe","ignore"]};return t&&(n.cwd=t),s.execFileSync("taskkill",["/T","/F","/PID",e.pid.toString()],n),!0}catch(e){return!1}else{if(!u&&!l)return e.kill("SIGKILL"),!0;try{const t=(0,a.join)(__dirname,"terminateProcess.sh");return!s.spawnSync(t,[e.pid.toString()]).error}catch(e){return!1}}}},23818:(e,t,n)=>{var r=n(8505);e.exports=function(e){return e?("{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2)),g(function(e){return e.split("\\\\").join(i).split("\\{").join(o).split("\\}").join(s).split("\\,").join(a).split("\\.").join(c)}(e),!0).map(u)):[]};var i="\0SLASH"+Math.random()+"\0",o="\0OPEN"+Math.random()+"\0",s="\0CLOSE"+Math.random()+"\0",a="\0COMMA"+Math.random()+"\0",c="\0PERIOD"+Math.random()+"\0";function l(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function u(e){return e.split(i).join("\\").split(o).join("{").split(s).join("}").split(a).join(",").split(c).join(".")}function p(e){if(!e)return[""];var t=[],n=r("{","}",e);if(!n)return e.split(",");var i=n.pre,o=n.body,s=n.post,a=i.split(",");a[a.length-1]+="{"+o+"}";var c=p(s);return s.length&&(a[a.length-1]+=c.shift(),a.push.apply(a,c)),t.push.apply(t,a),t}function d(e){return"{"+e+"}"}function h(e){return/^-?0\d/.test(e)}function f(e,t){return e<=t}function v(e,t){return e>=t}function g(e,t){var n=[],i=r("{","}",e);if(!i)return[e];var o=i.pre,a=i.post.length?g(i.post,!1):[""];if(/\$$/.test(i.pre))for(var c=0;c<a.length;c++){var u=o+"{"+i.body+"}"+a[c];n.push(u)}else{var m,y,b=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(i.body),_=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(i.body),E=b||_,S=i.body.indexOf(",")>=0;if(!E&&!S)return i.post.match(/,.*\}/)?g(e=i.pre+"{"+i.body+s+i.post):[e];if(E)m=i.body.split(/\.\./);else if(1===(m=p(i.body)).length&&1===(m=g(m[0],!1).map(d)).length)return a.map((function(e){return i.pre+m[0]+e}));if(E){var w=l(m[0]),P=l(m[1]),T=Math.max(m[0].length,m[1].length),C=3==m.length?Math.abs(l(m[2])):1,x=f;P<w&&(C*=-1,x=v);var I=m.some(h);y=[];for(var O=w;x(O,P);O+=C){var R;if(_)"\\"===(R=String.fromCharCode(O))&&(R="");else if(R=String(O),I){var D=T-R.length;if(D>0){var k=new Array(D+1).join("0");R=O<0?"-"+k+R.slice(1):k+R}}y.push(R)}}else{y=[];for(var A=0;A<m.length;A++)y.push.apply(y,g(m[A],!1))}for(A=0;A<y.length;A++)for(c=0;c<a.length;c++)u=o+y[A]+a[c],(!t||E||u)&&n.push(u)}return n}},98766:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.LSPErrorCodes=t.createProtocolConnection=void 0,i(n(53281),t),i(n(46203),t),i(n(90372),t),i(n(91560),t);var o,s=n(41580);Object.defineProperty(t,"createProtocolConnection",{enumerable:!0,get:function(){return s.createProtocolConnection}}),function(e){e.lspReservedErrorRangeStart=-32899,e.RequestFailed=-32803,e.ServerCancelled=-32802,e.ContentModified=-32801,e.RequestCancelled=-32800,e.lspReservedErrorRangeEnd=-32800}(o||(t.LSPErrorCodes=o={}))},41580:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createProtocolConnection=void 0;const r=n(53281);t.createProtocolConnection=function(e,t,n,i){return r.ConnectionStrategy.is(i)&&(i={connectionStrategy:i}),(0,r.createMessageConnection)(e,t,n,i)}},90372:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProtocolNotificationType=t.ProtocolNotificationType0=t.ProtocolRequestType=t.ProtocolRequestType0=t.RegistrationType=t.MessageDirection=void 0;const r=n(53281);var i;!function(e){e.clientToServer="clientToServer",e.serverToClient="serverToClient",e.both="both"}(i||(t.MessageDirection=i={})),t.RegistrationType=class{____;method;constructor(e){this.method=e}};class o extends r.RequestType0{__;___;____;_pr;constructor(e){super(e)}}t.ProtocolRequestType0=o;class s extends r.RequestType{__;___;____;_pr;constructor(e){super(e,r.ParameterStructures.byName)}}t.ProtocolRequestType=s;class a extends r.NotificationType0{___;____;constructor(e){super(e)}}t.ProtocolNotificationType0=a;class c extends r.NotificationType{___;____;constructor(e){super(e,r.ParameterStructures.byName)}}t.ProtocolNotificationType=c},48765:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallHierarchyOutgoingCallsRequest=t.CallHierarchyIncomingCallsRequest=t.CallHierarchyPrepareRequest=void 0;const r=n(90372);var i,o,s;!function(e){e.method="textDocument/prepareCallHierarchy",e.messageDirection=r.MessageDirection.clientToServer,e.type=new r.ProtocolRequestType(e.method)}(i||(t.CallHierarchyPrepareRequest=i={})),function(e){e.method="callHierarchy/incomingCalls",e.messageDirection=r.MessageDirection.clientToServer,e.type=new r.ProtocolRequestType(e.method)}(o||(t.CallHierarchyIncomingCallsRequest=o={})),function(e){e.method="callHierarchy/outgoingCalls",e.messageDirection=r.MessageDirection.clientToServer,e.type=new r.ProtocolRequestType(e.method)}(s||(t.CallHierarchyOutgoingCallsRequest=s={}))},77672:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorPresentationRequest=t.DocumentColorRequest=void 0;const r=n(90372);var i,o;!function(e){e.method="textDocument/documentColor",e.messageDirection=r.MessageDirection.clientToServer,e.type=new r.ProtocolRequestType(e.method)}(i||(t.DocumentColorRequest=i={})),function(e){e.method="textDocument/colorPresentation",e.messageDirection=r.MessageDirection.clientToServer,e.type=new r.ProtocolRequestType(e.method)}(o||(t.ColorPresentationRequest=o={}))},41660:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigurationRequest=void 0;const r=n(90372);var i;!function(e){e.method="workspace/configuration",e.messageDirection=r.MessageDirection.serverToClient,e.type=new r.ProtocolRequestType(e.method)}(i||(t.ConfigurationRequest=i={}))},46914:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeclarationRequest=void 0;const r=n(90372);var i;!function(e){e.method="textDocument/declaration",e.messageDirection=r.MessageDirection.clientToServer,e.type=new r.ProtocolRequestType(e.method)}(i||(t.DeclarationRequest=i={}))},26011:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.DiagnosticRefreshRequest=t.WorkspaceDiagnosticRequest=t.DocumentDiagnosticRequest=t.DocumentDiagnosticReportKind=t.DiagnosticServerCancellationData=void 0;const s=n(53281),a=o(n(38598)),c=n(90372);var l,u,p,d,h;!function(e){e.is=function(e){const t=e;return t&&a.boolean(t.retriggerRequest)}}(l||(t.DiagnosticServerCancellationData=l={})),function(e){e.Full="full",e.Unchanged="unchanged"}(u||(t.DocumentDiagnosticReportKind=u={})),function(e){e.method="textDocument/diagnostic",e.messageDirection=c.MessageDirection.clientToServer,e.type=new c.ProtocolRequestType(e.method),e.partialResult=new s.ProgressType}(p||(t.DocumentDiagnosticRequest=p={})),function(e){e.method="workspace/diagnostic",e.messageDirection=c.MessageDirection.clientToServer,e.type=new c.ProtocolRequestType(e.method),e.partialResult=new s.ProgressType}(d||(t.WorkspaceDiagnosticRequest=d={})),function(e){e.method="workspace/diagnostic/refresh",e.messageDirection=c.MessageDirection.serverToClient,e.type=new c.ProtocolRequestType0(e.method)}(h||(t.DiagnosticRefreshRequest=h={}))},69840:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WillDeleteFilesRequest=t.DidDeleteFilesNotification=t.DidRenameFilesNotification=t.WillRenameFilesRequest=t.DidCreateFilesNotification=t.WillCreateFilesRequest=t.FileOperationPatternKind=void 0;const r=n(90372);var i,o,s,a,c,l,u;!function(e){e.file="file",e.folder="folder"}(i||(t.FileOperationPatternKind=i={})),function(e){e.method="workspace/willCreateFiles",e.messageDirection=r.MessageDirection.clientToServer,e.type=new r.ProtocolRequestType(e.method)}(o||(t.WillCreateFilesRequest=o={})),function(e){e.method="workspace/didCreateFiles",e.messageDirection=r.MessageDirection.clientToServer,e.type=new r.ProtocolNotificationType(e.method)}(s||(t.DidCreateFilesNotification=s={})),function(e){e.method="workspace/willRenameFiles",e.messageDirection=r.MessageDirection.clientToServer,e.type=new r.ProtocolRequestType(e.method)}(a||(t.WillRenameFilesRequest=a={})),function(e){e.method="workspace/didRenameFiles",e.messageDirection=r.MessageDirection.clientToServer,e.type=new r.ProtocolNotificationType(e.method)}(c||(t.DidRenameFilesNotification=c={})),function(e){e.method="workspace/didDeleteFiles",e.messageDirection=r.MessageDirection.clientToServer,e.type=new r.ProtocolNotificationType(e.method)}(l||(t.DidDeleteFilesNotification=l={})),function(e){e.method="workspace/willDeleteFiles",e.messageDirection=r.MessageDirection.clientToServer,e.type=new r.ProtocolRequestType(e.method)}(u||(t.WillDeleteFilesRequest=u={}))},2874:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FoldingRangeRefreshRequest=t.FoldingRangeRequest=void 0;const r=n(90372);var i,o;!function(e){e.method="textDocument/foldingRange",e.messageDirection=r.MessageDirection.clientToServer,e.type=new r.ProtocolRequestType(e.method)}(i||(t.FoldingRangeRequest=i={})),function(e){e.method="workspace/foldingRange/refresh",e.messageDirection=r.MessageDirection.serverToClient,e.type=new r.ProtocolRequestType0(e.method)}(o||(t.FoldingRangeRefreshRequest=o={}))},39574:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImplementationRequest=void 0;const r=n(90372);var i;!function(e){e.method="textDocument/implementation",e.messageDirection=r.MessageDirection.clientToServer,e.type=new r.ProtocolRequestType(e.method)}(i||(t.ImplementationRequest=i={}))},77752:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InlayHintRefreshRequest=t.InlayHintResolveRequest=t.InlayHintRequest=void 0;const r=n(90372);var i,o,s;!function(e){e.method="textDocument/inlayHint",e.messageDirection=r.MessageDirection.clientToServer,e.type=new r.ProtocolRequestType(e.method)}(i||(t.InlayHintRequest=i={})),function(e){e.method="inlayHint/resolve",e.messageDirection=r.MessageDirection.clientToServer,e.type=new r.ProtocolRequestType(e.method)}(o||(t.InlayHintResolveRequest=o={})),function(e){e.method="workspace/inlayHint/refresh",e.messageDirection=r.MessageDirection.serverToClient,e.type=new r.ProtocolRequestType0(e.method)}(s||(t.InlayHintRefreshRequest=s={}))},13307:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InlineCompletionRequest=void 0;const r=n(90372);var i;!function(e){e.method="textDocument/inlineCompletion",e.messageDirection=r.MessageDirection.clientToServer,e.type=new r.ProtocolRequestType(e.method)}(i||(t.InlineCompletionRequest=i={}))},63124:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InlineValueRefreshRequest=t.InlineValueRequest=void 0;const r=n(90372);var i,o;!function(e){e.method="textDocument/inlineValue",e.messageDirection=r.MessageDirection.clientToServer,e.type=new r.ProtocolRequestType(e.method)}(i||(t.InlineValueRequest=i={})),function(e){e.method="workspace/inlineValue/refresh",e.messageDirection=r.MessageDirection.serverToClient,e.type=new r.ProtocolRequestType0(e.method)}(o||(t.InlineValueRefreshRequest=o={}))},91560:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CodeActionRequest=t.DocumentSymbolRequest=t.DocumentHighlightRequest=t.ReferencesRequest=t.DefinitionRequest=t.SignatureHelpRequest=t.SignatureHelpTriggerKind=t.HoverRequest=t.CompletionResolveRequest=t.CompletionRequest=t.CompletionTriggerKind=t.PublishDiagnosticsNotification=t.WatchKind=t.GlobPattern=t.RelativePattern=t.FileChangeType=t.DidChangeWatchedFilesNotification=t.WillSaveTextDocumentWaitUntilRequest=t.WillSaveTextDocumentNotification=t.TextDocumentSaveReason=t.DidSaveTextDocumentNotification=t.DidCloseTextDocumentNotification=t.DidChangeTextDocumentNotification=t.TextDocumentContentChangeEvent=t.DidOpenTextDocumentNotification=t.TextDocumentSyncKind=t.TelemetryEventNotification=t.LogMessageNotification=t.ShowMessageRequest=t.ShowMessageNotification=t.MessageType=t.DidChangeConfigurationNotification=t.ExitNotification=t.ShutdownRequest=t.InitializedNotification=t.InitializeErrorCodes=t.InitializeRequest=t.WorkDoneProgressOptions=t.TextDocumentRegistrationOptions=t.StaticRegistrationOptions=t.PositionEncodingKind=t.RegularExpressionEngineKind=t.FailureHandlingKind=t.ResourceOperationKind=t.UnregistrationRequest=t.RegistrationRequest=t.DocumentSelector=t.NotebookCellTextDocumentFilter=t.NotebookDocumentFilter=t.TextDocumentFilter=void 0,t.UniquenessLevel=t.WillDeleteFilesRequest=t.DidDeleteFilesNotification=t.WillRenameFilesRequest=t.DidRenameFilesNotification=t.WillCreateFilesRequest=t.DidCreateFilesNotification=t.FileOperationPatternKind=t.LinkedEditingRangeRequest=t.ShowDocumentRequest=t.SemanticTokensRegistrationType=t.SemanticTokensRefreshRequest=t.SemanticTokensRangeRequest=t.SemanticTokensDeltaRequest=t.SemanticTokensRequest=t.TokenFormat=t.CallHierarchyPrepareRequest=t.CallHierarchyOutgoingCallsRequest=t.CallHierarchyIncomingCallsRequest=t.WorkDoneProgressCancelNotification=t.WorkDoneProgressCreateRequest=t.WorkDoneProgress=t.SelectionRangeRequest=t.DeclarationRequest=t.FoldingRangeRefreshRequest=t.FoldingRangeRequest=t.ColorPresentationRequest=t.DocumentColorRequest=t.ConfigurationRequest=t.DidChangeWorkspaceFoldersNotification=t.WorkspaceFoldersRequest=t.TypeDefinitionRequest=t.ImplementationRequest=t.ApplyWorkspaceEditRequest=t.ExecuteCommandRequest=t.PrepareRenameRequest=t.RenameRequest=t.PrepareSupportDefaultBehavior=t.DocumentOnTypeFormattingRequest=t.DocumentRangesFormattingRequest=t.DocumentRangeFormattingRequest=t.DocumentFormattingRequest=t.DocumentLinkResolveRequest=t.DocumentLinkRequest=t.CodeLensRefreshRequest=t.CodeLensResolveRequest=t.CodeLensRequest=t.WorkspaceSymbolResolveRequest=t.WorkspaceSymbolRequest=t.CodeActionResolveRequest=void 0,t.TextDocumentContentRefreshRequest=t.TextDocumentContentRequest=t.InlineCompletionRequest=t.DidCloseNotebookDocumentNotification=t.DidSaveNotebookDocumentNotification=t.DidChangeNotebookDocumentNotification=t.NotebookCellArrayChange=t.DidOpenNotebookDocumentNotification=t.NotebookDocumentSyncRegistrationType=t.NotebookDocument=t.NotebookCell=t.ExecutionSummary=t.NotebookCellKind=t.DiagnosticRefreshRequest=t.WorkspaceDiagnosticRequest=t.DocumentDiagnosticRequest=t.DocumentDiagnosticReportKind=t.DiagnosticServerCancellationData=t.InlayHintRefreshRequest=t.InlayHintResolveRequest=t.InlayHintRequest=t.InlineValueRefreshRequest=t.InlineValueRequest=t.TypeHierarchySupertypesRequest=t.TypeHierarchySubtypesRequest=t.TypeHierarchyPrepareRequest=t.MonikerRequest=t.MonikerKind=void 0;const s=n(90372),a=n(46203),c=o(n(38598)),l=n(39574);Object.defineProperty(t,"ImplementationRequest",{enumerable:!0,get:function(){return l.ImplementationRequest}});const u=n(68461);Object.defineProperty(t,"TypeDefinitionRequest",{enumerable:!0,get:function(){return u.TypeDefinitionRequest}});const p=n(99935);Object.defineProperty(t,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return p.WorkspaceFoldersRequest}}),Object.defineProperty(t,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return p.DidChangeWorkspaceFoldersNotification}});const d=n(41660);Object.defineProperty(t,"ConfigurationRequest",{enumerable:!0,get:function(){return d.ConfigurationRequest}});const h=n(77672);Object.defineProperty(t,"DocumentColorRequest",{enumerable:!0,get:function(){return h.DocumentColorRequest}}),Object.defineProperty(t,"ColorPresentationRequest",{enumerable:!0,get:function(){return h.ColorPresentationRequest}});const f=n(2874);Object.defineProperty(t,"FoldingRangeRequest",{enumerable:!0,get:function(){return f.FoldingRangeRequest}}),Object.defineProperty(t,"FoldingRangeRefreshRequest",{enumerable:!0,get:function(){return f.FoldingRangeRefreshRequest}});const v=n(46914);Object.defineProperty(t,"DeclarationRequest",{enumerable:!0,get:function(){return v.DeclarationRequest}});const g=n(33487);Object.defineProperty(t,"SelectionRangeRequest",{enumerable:!0,get:function(){return g.SelectionRangeRequest}});const m=n(32687);Object.defineProperty(t,"WorkDoneProgress",{enumerable:!0,get:function(){return m.WorkDoneProgress}}),Object.defineProperty(t,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return m.WorkDoneProgressCreateRequest}}),Object.defineProperty(t,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return m.WorkDoneProgressCancelNotification}});const y=n(48765);Object.defineProperty(t,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return y.CallHierarchyIncomingCallsRequest}}),Object.defineProperty(t,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return y.CallHierarchyOutgoingCallsRequest}}),Object.defineProperty(t,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return y.CallHierarchyPrepareRequest}});const b=n(72478);Object.defineProperty(t,"TokenFormat",{enumerable:!0,get:function(){return b.TokenFormat}}),Object.defineProperty(t,"SemanticTokensRequest",{enumerable:!0,get:function(){return b.SemanticTokensRequest}}),Object.defineProperty(t,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return b.SemanticTokensDeltaRequest}}),Object.defineProperty(t,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return b.SemanticTokensRangeRequest}}),Object.defineProperty(t,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return b.SemanticTokensRefreshRequest}}),Object.defineProperty(t,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return b.SemanticTokensRegistrationType}});const _=n(80908);Object.defineProperty(t,"ShowDocumentRequest",{enumerable:!0,get:function(){return _.ShowDocumentRequest}});const E=n(35316);Object.defineProperty(t,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return E.LinkedEditingRangeRequest}});const S=n(69840);Object.defineProperty(t,"FileOperationPatternKind",{enumerable:!0,get:function(){return S.FileOperationPatternKind}}),Object.defineProperty(t,"DidCreateFilesNotification",{enumerable:!0,get:function(){return S.DidCreateFilesNotification}}),Object.defineProperty(t,"WillCreateFilesRequest",{enumerable:!0,get:function(){return S.WillCreateFilesRequest}}),Object.defineProperty(t,"DidRenameFilesNotification",{enumerable:!0,get:function(){return S.DidRenameFilesNotification}}),Object.defineProperty(t,"WillRenameFilesRequest",{enumerable:!0,get:function(){return S.WillRenameFilesRequest}}),Object.defineProperty(t,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return S.DidDeleteFilesNotification}}),Object.defineProperty(t,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return S.WillDeleteFilesRequest}});const w=n(9047);Object.defineProperty(t,"UniquenessLevel",{enumerable:!0,get:function(){return w.UniquenessLevel}}),Object.defineProperty(t,"MonikerKind",{enumerable:!0,get:function(){return w.MonikerKind}}),Object.defineProperty(t,"MonikerRequest",{enumerable:!0,get:function(){return w.MonikerRequest}});const P=n(50645);Object.defineProperty(t,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return P.TypeHierarchyPrepareRequest}}),Object.defineProperty(t,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return P.TypeHierarchySubtypesRequest}}),Object.defineProperty(t,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return P.TypeHierarchySupertypesRequest}});const T=n(63124);Object.defineProperty(t,"InlineValueRequest",{enumerable:!0,get:function(){return T.InlineValueRequest}}),Object.defineProperty(t,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return T.InlineValueRefreshRequest}});const C=n(77752);Object.defineProperty(t,"InlayHintRequest",{enumerable:!0,get:function(){return C.InlayHintRequest}}),Object.defineProperty(t,"InlayHintResolveRequest",{enumerable:!0,get:function(){return C.InlayHintResolveRequest}}),Object.defineProperty(t,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return C.InlayHintRefreshRequest}});const x=n(26011);Object.defineProperty(t,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return x.DiagnosticServerCancellationData}}),Object.defineProperty(t,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return x.DocumentDiagnosticReportKind}}),Object.defineProperty(t,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return x.DocumentDiagnosticRequest}}),Object.defineProperty(t,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return x.WorkspaceDiagnosticRequest}}),Object.defineProperty(t,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return x.DiagnosticRefreshRequest}});const I=n(75938);Object.defineProperty(t,"NotebookCellKind",{enumerable:!0,get:function(){return I.NotebookCellKind}}),Object.defineProperty(t,"ExecutionSummary",{enumerable:!0,get:function(){return I.ExecutionSummary}}),Object.defineProperty(t,"NotebookCell",{enumerable:!0,get:function(){return I.NotebookCell}}),Object.defineProperty(t,"NotebookDocument",{enumerable:!0,get:function(){return I.NotebookDocument}}),Object.defineProperty(t,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return I.NotebookDocumentSyncRegistrationType}}),Object.defineProperty(t,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return I.DidOpenNotebookDocumentNotification}}),Object.defineProperty(t,"NotebookCellArrayChange",{enumerable:!0,get:function(){return I.NotebookCellArrayChange}}),Object.defineProperty(t,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return I.DidChangeNotebookDocumentNotification}}),Object.defineProperty(t,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return I.DidSaveNotebookDocumentNotification}}),Object.defineProperty(t,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return I.DidCloseNotebookDocumentNotification}});const O=n(13307);Object.defineProperty(t,"InlineCompletionRequest",{enumerable:!0,get:function(){return O.InlineCompletionRequest}});const R=n(14289);var D,k,A,N,j,M,L,F,V,U,H,W,q,B,$,K,G,z,Y,X,J,Q,Z,ee,te,ne,re,ie,oe,se,ae,ce,le,ue,pe,de,he,fe,ve,ge,me,ye,be,_e,Ee,Se,we,Pe,Te,Ce,xe,Ie,Oe,Re,De,ke,Ae,Ne,je,Me,Le,Fe,Ve,Ue,He,We,qe;Object.defineProperty(t,"TextDocumentContentRequest",{enumerable:!0,get:function(){return R.TextDocumentContentRequest}}),Object.defineProperty(t,"TextDocumentContentRefreshRequest",{enumerable:!0,get:function(){return R.TextDocumentContentRefreshRequest}}),function(e){e.is=function(e){const t=e;return c.string(t)||c.string(t.language)||c.string(t.scheme)||he.is(t.pattern)}}(D||(t.TextDocumentFilter=D={})),function(e){e.is=function(e){const t=e;return c.objectLiteral(t)&&(c.string(t.notebookType)||c.string(t.scheme)||c.string(t.pattern))}}(k||(t.NotebookDocumentFilter=k={})),function(e){e.is=function(e){const t=e;return c.objectLiteral(t)&&(c.string(t.notebook)||k.is(t.notebook))&&(void 0===t.language||c.string(t.language))}}(A||(t.NotebookCellTextDocumentFilter=A={})),function(e){e.is=function(e){if(!Array.isArray(e))return!1;for(const t of e)if(!c.string(t)&&!D.is(t)&&!A.is(t))return!1;return!0}}(N||(t.DocumentSelector=N={})),function(e){e.method="client/registerCapability",e.messageDirection=s.MessageDirection.serverToClient,e.type=new s.ProtocolRequestType(e.method)}(j||(t.RegistrationRequest=j={})),function(e){e.method="client/unregisterCapability",e.messageDirection=s.MessageDirection.serverToClient,e.type=new s.ProtocolRequestType(e.method)}(M||(t.UnregistrationRequest=M={})),function(e){e.Create="create",e.Rename="rename",e.Delete="delete"}(L||(t.ResourceOperationKind=L={})),function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"}(F||(t.FailureHandlingKind=F={})),function(e){e.ES2020="ES2020"}(V||(t.RegularExpressionEngineKind=V={})),function(e){e.UTF8="utf-8",e.UTF16="utf-16",e.UTF32="utf-32"}(U||(t.PositionEncodingKind=U={})),function(e){e.hasId=function(e){const t=e;return t&&c.string(t.id)&&t.id.length>0}}(H||(t.StaticRegistrationOptions=H={})),function(e){e.is=function(e){const t=e;return t&&(null===t.documentSelector||N.is(t.documentSelector))}}(W||(t.TextDocumentRegistrationOptions=W={})),function(e){e.is=function(e){const t=e;return c.objectLiteral(t)&&(void 0===t.workDoneProgress||c.boolean(t.workDoneProgress))},e.hasWorkDoneProgress=function(e){const t=e;return t&&c.boolean(t.workDoneProgress)}}(q||(t.WorkDoneProgressOptions=q={})),function(e){e.method="initialize",e.messageDirection=s.MessageDirection.clientToServer,e.type=new s.ProtocolRequestType(e.method)}(B||(t.InitializeRequest=B={})),function(e){e.unknownProtocolVersion=1}($||(t.InitializeErrorCodes=$={})),function(e){e.method="initialized",e.messageDirection=s.MessageDirection.clientToServer,e.type=new s.ProtocolNotificationType(e.method)}(K||(t.InitializedNotification=K={})),function(e){e.method="shutdown",e.messageDirection=s.MessageDirection.clientToServer,e.type=new s.ProtocolRequestType0(e.method)}(G||(t.ShutdownRequest=G={})),function(e){e.method="exit",e.messageDirection=s.MessageDirection.clientToServer,e.type=new s.ProtocolNotificationType0(e.method)}(z||(t.ExitNotification=z={})),function(e){e.method="workspace/didChangeConfiguration",e.messageDirection=s.MessageDirection.clientToServer,e.type=new s.ProtocolNotificationType(e.method)}(Y||(t.DidChangeConfigurationNotification=Y={})),function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4,e.Debug=5}(X||(t.MessageType=X={})),function(e){e.method="window/showMessage",e.messageDirection=s.MessageDirection.serverToClient,e.type=new s.ProtocolNotificationType(e.method)}(J||(t.ShowMessageNotification=J={})),function(e){e.method="window/showMessageRequest",e.messageDirection=s.MessageDirection.serverToClient,e.type=new s.ProtocolRequestType(e.method)}(Q||(t.ShowMessageRequest=Q={})),function(e){e.method="window/logMessage",e.messageDirection=s.MessageDirection.serverToClient,e.type=new s.ProtocolNotificationType(e.method)}(Z||(t.LogMessageNotification=Z={})),function(e){e.method="telemetry/event",e.messageDirection=s.MessageDirection.serverToClient,e.type=new s.ProtocolNotificationType(e.method)}(ee||(t.TelemetryEventNotification=ee={})),function(e){e.None=0,e.Full=1,e.Incremental=2}(te||(t.TextDocumentSyncKind=te={})),function(e){e.method="textDocument/didOpen",e.messageDirection=s.MessageDirection.clientToServer,e.type=new s.ProtocolNotificationType(e.method)}(ne||(t.DidOpenTextDocumentNotification=ne={})),function(e){e.isIncremental=function(e){const t=e;return null!=t&&"string"==typeof t.text&&void 0!==t.range&&(void 0===t.rangeLength||"number"==typeof t.rangeLength)},e.isFull=function(e){const t=e;return null!=t&&"string"==typeof t.text&&void 0===t.range&&void 0===t.rangeLength}}(re||(t.TextDocumentContentChangeEvent=re={})),function(e){e.method="textDocument/didChange",e.messageDirection=s.MessageDirection.clientToServer,e.type=new s.ProtocolNotificationType(e.method)}(ie||(t.DidChangeTextDocumentNotification=ie={})),function(e){e.method="textDocument/didClose",e.messageDirection=s.MessageDirection.clientToServer,e.type=new s.ProtocolNotificationType(e.method)}(oe||(t.DidCloseTextDocumentNotification=oe={})),function(e){e.method="textDocument/didSave",e.messageDirection=s.MessageDirection.clientToServer,e.type=new s.ProtocolNotificationType(e.method)}(se||(t.DidSaveTextDocumentNotification=se={})),function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3}(ae||(t.TextDocumentSaveReason=ae={})),function(e){e.method="textDocument/willSave",e.messageDirection=s.MessageDirection.clientToServer,e.type=new s.ProtocolNotificationType(e.method)}(ce||(t.WillSaveTextDocumentNotification=ce={})),function(e){e.method="textDocument/willSaveWaitUntil",e.messageDirection=s.MessageDirection.clientToServer,e.type=new s.ProtocolRequestType(e.method)}(le||(t.WillSaveTextDocumentWaitUntilRequest=le={})),function(e){e.method="workspace/didChangeWatchedFiles",e.messageDirection=s.MessageDirection.clientToServer,e.type=new s.ProtocolNotificationType(e.method)}(ue||(t.DidChangeWatchedFilesNotification=ue={})),function(e){e.Created=1,e.Changed=2,e.Deleted=3}(pe||(t.FileChangeType=pe={})),function(e){e.is=function(e){const t=e;return c.objectLiteral(t)&&(a.URI.is(t.baseUri)||a.WorkspaceFolder.is(t.baseUri))&&c.string(t.pattern)}}(de||(t.RelativePattern=de={})),function(e){e.is=function(e){const t=e;return c.string(t)||de.is(t)}}(he||(t.GlobPattern=he={})),function(e){e.Create=1,e.Change=2,e.Delete=4}(fe||(t.WatchKind=fe={})),function(e){e.method="textDocument/publishDiagnostics",e.messageDirection=s.MessageDirection.serverToClient,e.type=new s.ProtocolNotificationType(e.method)}(ve||(t.PublishDiagnosticsNotification=ve={})),function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3}(ge||(t.CompletionTriggerKind=ge={})),function(e){e.method="textDocument/completion",e.messageDirection=s.MessageDirection.clientToServer,e.type=new s.ProtocolRequestType(e.method)}(me||(t.CompletionRequest=me={})),function(e){e.method="completionItem/resolve",e.messageDirection=s.MessageDirection.clientToServer,e.type=new s.ProtocolRequestType(e.method)}(ye||(t.CompletionResolveRequest=ye={})),function(e){e.method="textDocument/hover",e.messageDirection=s.MessageDirection.clientToServer,e.type=new s.ProtocolRequestType(e.method)}(be||(t.HoverRequest=be={})),function(e){e.Invoked=1,e.TriggerCharacter=2,e.ContentChange=3}(_e||(t.SignatureHelpTriggerKind=_e={})),function(e){e.method="textDocument/signatureHelp",e.messageDirection=s.MessageDirection.clientToServer,e.type=new s.ProtocolRequestType(e.method)}(Ee||(t.SignatureHelpRequest=Ee={})),function(e){e.method="textDocument/definition",e.messageDirection=s.MessageDirection.clientToServer,e.type=new s.ProtocolRequestType(e.method)}(Se||(t.DefinitionRequest=Se={})),function(e){e.method="textDocument/references",e.messageDirection=s.MessageDirection.clientToServer,e.type=new s.ProtocolRequestType(e.method)}(we||(t.ReferencesRequest=we={})),function(e){e.method="textDocument/documentHighlight",e.messageDirection=s.MessageDirection.clientToServer,e.type=new s.ProtocolRequestType(e.method)}(Pe||(t.DocumentHighlightRequest=Pe={})),function(e){e.method="textDocument/documentSymbol",e.messageDirection=s.MessageDirection.clientToServer,e.type=new s.ProtocolRequestType(e.method)}(Te||(t.DocumentSymbolRequest=Te={})),function(e){e.method="textDocument/codeAction",e.messageDirection=s.MessageDirection.clientToServer,e.type=new s.ProtocolRequestType(e.method)}(Ce||(t.CodeActionRequest=Ce={})),function(e){e.method="codeAction/resolve",e.messageDirection=s.MessageDirection.clientToServer,e.type=new s.ProtocolRequestType(e.method)}(xe||(t.CodeActionResolveRequest=xe={})),function(e){e.method="workspace/symbol",e.messageDirection=s.MessageDirection.clientToServer,e.type=new s.ProtocolRequestType(e.method)}(Ie||(t.WorkspaceSymbolRequest=Ie={})),function(e){e.method="workspaceSymbol/resolve",e.messageDirection=s.MessageDirection.clientToServer,e.type=new s.ProtocolRequestType(e.method)}(Oe||(t.WorkspaceSymbolResolveRequest=Oe={})),function(e){e.method="textDocument/codeLens",e.messageDirection=s.MessageDirection.clientToServer,e.type=new s.ProtocolRequestType(e.method)}(Re||(t.CodeLensRequest=Re={})),function(e){e.method="codeLens/resolve",e.messageDirection=s.MessageDirection.clientToServer,e.type=new s.ProtocolRequestType(e.method)}(De||(t.CodeLensResolveRequest=De={})),function(e){e.method="workspace/codeLens/refresh",e.messageDirection=s.MessageDirection.serverToClient,e.type=new s.ProtocolRequestType0(e.method)}(ke||(t.CodeLensRefreshRequest=ke={})),function(e){e.method="textDocument/documentLink",e.messageDirection=s.MessageDirection.clientToServer,e.type=new s.ProtocolRequestType(e.method)}(Ae||(t.DocumentLinkRequest=Ae={})),function(e){e.method="documentLink/resolve",e.messageDirection=s.MessageDirection.clientToServer,e.type=new s.ProtocolRequestType(e.method)}(Ne||(t.DocumentLinkResolveRequest=Ne={})),function(e){e.method="textDocument/formatting",e.messageDirection=s.MessageDirection.clientToServer,e.type=new s.ProtocolRequestType(e.method)}(je||(t.DocumentFormattingRequest=je={})),function(e){e.method="textDocument/rangeFormatting",e.messageDirection=s.MessageDirection.clientToServer,e.type=new s.ProtocolRequestType(e.method)}(Me||(t.DocumentRangeFormattingRequest=Me={})),function(e){e.method="textDocument/rangesFormatting",e.messageDirection=s.MessageDirection.clientToServer,e.type=new s.ProtocolRequestType(e.method)}(Le||(t.DocumentRangesFormattingRequest=Le={})),function(e){e.method="textDocument/onTypeFormatting",e.messageDirection=s.MessageDirection.clientToServer,e.type=new s.ProtocolRequestType(e.method)}(Fe||(t.DocumentOnTypeFormattingRequest=Fe={})),function(e){e.Identifier=1}(Ve||(t.PrepareSupportDefaultBehavior=Ve={})),function(e){e.method="textDocument/rename",e.messageDirection=s.MessageDirection.clientToServer,e.type=new s.ProtocolRequestType(e.method)}(Ue||(t.RenameRequest=Ue={})),function(e){e.method="textDocument/prepareRename",e.messageDirection=s.MessageDirection.clientToServer,e.type=new s.ProtocolRequestType(e.method)}(He||(t.PrepareRenameRequest=He={})),function(e){e.method="workspace/executeCommand",e.messageDirection=s.MessageDirection.clientToServer,e.type=new s.ProtocolRequestType(e.method)}(We||(t.ExecuteCommandRequest=We={})),function(e){e.method="workspace/applyEdit",e.messageDirection=s.MessageDirection.serverToClient,e.type=new s.ProtocolRequestType("workspace/applyEdit")}(qe||(t.ApplyWorkspaceEditRequest=qe={}))},35316:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinkedEditingRangeRequest=void 0;const r=n(90372);var i;!function(e){e.method="textDocument/linkedEditingRange",e.messageDirection=r.MessageDirection.clientToServer,e.type=new r.ProtocolRequestType(e.method)}(i||(t.LinkedEditingRangeRequest=i={}))},9047:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MonikerRequest=t.MonikerKind=t.UniquenessLevel=void 0;const r=n(90372);var i,o,s;!function(e){e.document="document",e.project="project",e.group="group",e.scheme="scheme",e.global="global"}(i||(t.UniquenessLevel=i={})),function(e){e.$import="import",e.$export="export",e.local="local"}(o||(t.MonikerKind=o={})),function(e){e.method="textDocument/moniker",e.messageDirection=r.MessageDirection.clientToServer,e.type=new r.ProtocolRequestType(e.method)}(s||(t.MonikerRequest=s={}))},75938:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.DidCloseNotebookDocumentNotification=t.DidSaveNotebookDocumentNotification=t.DidChangeNotebookDocumentNotification=t.NotebookCellArrayChange=t.DidOpenNotebookDocumentNotification=t.NotebookDocumentSyncRegistrationType=t.NotebookDocument=t.NotebookCell=t.ExecutionSummary=t.NotebookCellKind=void 0;const s=n(46203),a=o(n(38598)),c=n(90372);var l,u,p,d,h,f,v,g,m,y;!function(e){e.Markup=1,e.Code=2,e.is=function(e){return 1===e||2===e}}(l||(t.NotebookCellKind=l={})),function(e){e.create=function(e,t){const n={executionOrder:e};return!0!==t&&!1!==t||(n.success=t),n},e.is=function(e){const t=e;return a.objectLiteral(t)&&s.uinteger.is(t.executionOrder)&&(void 0===t.success||a.boolean(t.success))},e.equals=function(e,t){return e===t||null!=e&&null!=t&&e.executionOrder===t.executionOrder&&e.success===t.success}}(u||(t.ExecutionSummary=u={})),function(e){function t(e,n){if(e===n)return!0;if(null==e||null==n)return!1;if(typeof e!=typeof n)return!1;if("object"!=typeof e)return!1;const r=Array.isArray(e),i=Array.isArray(n);if(r!==i)return!1;if(r&&i){if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(!t(e[r],n[r]))return!1}if(a.objectLiteral(e)&&a.objectLiteral(n)){const r=Object.keys(e),i=Object.keys(n);if(r.length!==i.length)return!1;if(r.sort(),i.sort(),!t(r,i))return!1;for(let i=0;i<r.length;i++){const o=r[i];if(!t(e[o],n[o]))return!1}}return!0}e.create=function(e,t){return{kind:e,document:t}},e.is=function(e){const t=e;return a.objectLiteral(t)&&l.is(t.kind)&&s.DocumentUri.is(t.document)&&(void 0===t.metadata||a.objectLiteral(t.metadata))},e.diff=function(e,n){const r=new Set;return e.document!==n.document&&r.add("document"),e.kind!==n.kind&&r.add("kind"),e.executionSummary!==n.executionSummary&&r.add("executionSummary"),void 0===e.metadata&&void 0===n.metadata||t(e.metadata,n.metadata)||r.add("metadata"),void 0===e.executionSummary&&void 0===n.executionSummary||u.equals(e.executionSummary,n.executionSummary)||r.add("executionSummary"),r}}(p||(t.NotebookCell=p={})),function(e){e.create=function(e,t,n,r){return{uri:e,notebookType:t,version:n,cells:r}},e.is=function(e){const t=e;return a.objectLiteral(t)&&a.string(t.uri)&&s.integer.is(t.version)&&a.typedArray(t.cells,p.is)}}(d||(t.NotebookDocument=d={})),function(e){e.method="notebookDocument/sync",e.messageDirection=c.MessageDirection.clientToServer,e.type=new c.RegistrationType(e.method)}(h||(t.NotebookDocumentSyncRegistrationType=h={})),function(e){e.method="notebookDocument/didOpen",e.messageDirection=c.MessageDirection.clientToServer,e.type=new c.ProtocolNotificationType(e.method),e.registrationMethod=h.method}(f||(t.DidOpenNotebookDocumentNotification=f={})),function(e){e.is=function(e){const t=e;return a.objectLiteral(t)&&s.uinteger.is(t.start)&&s.uinteger.is(t.deleteCount)&&(void 0===t.cells||a.typedArray(t.cells,p.is))},e.create=function(e,t,n){const r={start:e,deleteCount:t};return void 0!==n&&(r.cells=n),r}}(v||(t.NotebookCellArrayChange=v={})),function(e){e.method="notebookDocument/didChange",e.messageDirection=c.MessageDirection.clientToServer,e.type=new c.ProtocolNotificationType(e.method),e.registrationMethod=h.method}(g||(t.DidChangeNotebookDocumentNotification=g={})),function(e){e.method="notebookDocument/didSave",e.messageDirection=c.MessageDirection.clientToServer,e.type=new c.ProtocolNotificationType(e.method),e.registrationMethod=h.method}(m||(t.DidSaveNotebookDocumentNotification=m={})),function(e){e.method="notebookDocument/didClose",e.messageDirection=c.MessageDirection.clientToServer,e.type=new c.ProtocolNotificationType(e.method),e.registrationMethod=h.method}(y||(t.DidCloseNotebookDocumentNotification=y={}))},32687:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkDoneProgressCancelNotification=t.WorkDoneProgressCreateRequest=t.WorkDoneProgress=void 0;const r=n(53281),i=n(90372);var o,s,a;!function(e){e.type=new r.ProgressType,e.is=function(t){return t===e.type}}(o||(t.WorkDoneProgress=o={})),function(e){e.method="window/workDoneProgress/create",e.messageDirection=i.MessageDirection.serverToClient,e.type=new i.ProtocolRequestType(e.method)}(s||(t.WorkDoneProgressCreateRequest=s={})),function(e){e.method="window/workDoneProgress/cancel",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolNotificationType(e.method)}(a||(t.WorkDoneProgressCancelNotification=a={}))},33487:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionRangeRequest=void 0;const r=n(90372);var i;!function(e){e.method="textDocument/selectionRange",e.messageDirection=r.MessageDirection.clientToServer,e.type=new r.ProtocolRequestType(e.method)}(i||(t.SelectionRangeRequest=i={}))},72478:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SemanticTokensRefreshRequest=t.SemanticTokensRangeRequest=t.SemanticTokensDeltaRequest=t.SemanticTokensRequest=t.SemanticTokensRegistrationType=t.TokenFormat=void 0;const r=n(90372);var i,o,s,a,c,l;!function(e){e.Relative="relative"}(i||(t.TokenFormat=i={})),function(e){e.method="textDocument/semanticTokens",e.type=new r.RegistrationType(e.method)}(o||(t.SemanticTokensRegistrationType=o={})),function(e){e.method="textDocument/semanticTokens/full",e.messageDirection=r.MessageDirection.clientToServer,e.type=new r.ProtocolRequestType(e.method),e.registrationMethod=o.method}(s||(t.SemanticTokensRequest=s={})),function(e){e.method="textDocument/semanticTokens/full/delta",e.messageDirection=r.MessageDirection.clientToServer,e.type=new r.ProtocolRequestType(e.method),e.registrationMethod=o.method}(a||(t.SemanticTokensDeltaRequest=a={})),function(e){e.method="textDocument/semanticTokens/range",e.messageDirection=r.MessageDirection.clientToServer,e.type=new r.ProtocolRequestType(e.method),e.registrationMethod=o.method}(c||(t.SemanticTokensRangeRequest=c={})),function(e){e.method="workspace/semanticTokens/refresh",e.messageDirection=r.MessageDirection.serverToClient,e.type=new r.ProtocolRequestType0(e.method)}(l||(t.SemanticTokensRefreshRequest=l={}))},80908:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShowDocumentRequest=void 0;const r=n(90372);var i;!function(e){e.method="window/showDocument",e.messageDirection=r.MessageDirection.serverToClient,e.type=new r.ProtocolRequestType(e.method)}(i||(t.ShowDocumentRequest=i={}))},14289:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextDocumentContentRefreshRequest=t.TextDocumentContentRequest=void 0;const r=n(90372);var i,o;!function(e){e.method="workspace/textDocumentContent",e.messageDirection=r.MessageDirection.clientToServer,e.type=new r.ProtocolRequestType(e.method)}(i||(t.TextDocumentContentRequest=i={})),function(e){e.method="workspace/textDocumentContent/refresh",e.messageDirection=r.MessageDirection.serverToClient,e.type=new r.ProtocolRequestType(e.method)}(o||(t.TextDocumentContentRefreshRequest=o={}))},68461:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeDefinitionRequest=void 0;const r=n(90372);var i;!function(e){e.method="textDocument/typeDefinition",e.messageDirection=r.MessageDirection.clientToServer,e.type=new r.ProtocolRequestType(e.method)}(i||(t.TypeDefinitionRequest=i={}))},50645:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeHierarchySubtypesRequest=t.TypeHierarchySupertypesRequest=t.TypeHierarchyPrepareRequest=void 0;const r=n(90372);var i,o,s;!function(e){e.method="textDocument/prepareTypeHierarchy",e.messageDirection=r.MessageDirection.clientToServer,e.type=new r.ProtocolRequestType(e.method)}(i||(t.TypeHierarchyPrepareRequest=i={})),function(e){e.method="typeHierarchy/supertypes",e.messageDirection=r.MessageDirection.clientToServer,e.type=new r.ProtocolRequestType(e.method)}(o||(t.TypeHierarchySupertypesRequest=o={})),function(e){e.method="typeHierarchy/subtypes",e.messageDirection=r.MessageDirection.clientToServer,e.type=new r.ProtocolRequestType(e.method)}(s||(t.TypeHierarchySubtypesRequest=s={}))},99935:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DidChangeWorkspaceFoldersNotification=t.WorkspaceFoldersRequest=void 0;const r=n(90372);var i,o;!function(e){e.method="workspace/workspaceFolders",e.messageDirection=r.MessageDirection.serverToClient,e.type=new r.ProtocolRequestType0(e.method)}(i||(t.WorkspaceFoldersRequest=i={})),function(e){e.method="workspace/didChangeWorkspaceFolders",e.messageDirection=r.MessageDirection.clientToServer,e.type=new r.ProtocolNotificationType(e.method)}(o||(t.DidChangeWorkspaceFoldersNotification=o={}))},38598:(e,t)=>{"use strict";function n(e){return"string"==typeof e||e instanceof String}function r(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.objectLiteral=t.typedArray=t.stringArray=t.array=t.func=t.error=t.number=t.string=t.boolean=void 0,t.boolean=function(e){return!0===e||!1===e},t.string=n,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=function(e){return"function"==typeof e},t.array=r,t.stringArray=function(e){return r(e)&&e.every((e=>n(e)))},t.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)},t.objectLiteral=function(e){return null!==e&&"object"==typeof e}},67354:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.createProtocolConnection=void 0;const o=n(77123);i(n(77123),t),i(n(98766),t),t.createProtocolConnection=function(e,t,n,r){return(0,o.createMessageConnection)(e,t,n,r)}},41566:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TargetPopulation=t.getExperimentationServiceAsync=t.getExperimentationService=void 0;var r=n(12493);Object.defineProperty(t,"getExperimentationService",{enumerable:!0,get:function(){return r.getExperimentationService}}),Object.defineProperty(t,"getExperimentationServiceAsync",{enumerable:!0,get:function(){return r.getExperimentationServiceAsync}});var i=n(8967);Object.defineProperty(t,"TargetPopulation",{enumerable:!0,get:function(){return i.TargetPopulation}})},98142:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MementoKeyValueStorage=void 0,t.MementoKeyValueStorage=class{constructor(e){this.mementoGlobalStorage=e}async getValue(e,t){return await this.mementoGlobalStorage.get(e)||t}setValue(e,t){this.mementoGlobalStorage.update(e,t)}}},59052:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.initializePromise=Promise.resolve(),this.initialFetch=Promise.resolve()}isFlightEnabled(e){return!1}isCachedFlightEnabled(e){return Promise.resolve(!1)}isFlightEnabledAsync(e){return Promise.resolve(!1)}getTreatmentVariable(e,t){}getTreatmentVariableAsync(e,t){return Promise.resolve(void 0)}}},8967:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TargetPopulation=t.Filters=t.VSCodeFilterProvider=void 0;const r=n(54980);class i{constructor(e,t,n){this.extensionName=e,this.extensionVersion=t,this.targetPopulation=n}static trimVersionSuffix(e){return e.split(/\-[a-zA-Z0-9]+$/)[0]}getFilterValue(e){switch(e){case o.ApplicationVersion:return i.trimVersionSuffix(r.version);case o.Build:return r.env.appName;case o.ClientId:return r.env.machineId;case o.ExtensionName:return this.extensionName;case o.ExtensionVersion:return i.trimVersionSuffix(this.extensionVersion);case o.Language:return r.env.language;case o.TargetPopulation:return this.targetPopulation;default:return""}}getFilters(){let e=new Map,t=Object.values(o);for(let n of t)e.set(n,this.getFilterValue(n));return e}}var o,s;t.VSCodeFilterProvider=i,function(e){e.Market="X-MSEdge-Market",e.CorpNet="X-FD-Corpnet",e.ApplicationVersion="X-VSCode-AppVersion",e.Build="X-VSCode-Build",e.ClientId="X-MSEdge-ClientId",e.ExtensionName="X-VSCode-ExtensionName",e.ExtensionVersion="X-VSCode-ExtensionVersion",e.Language="X-VSCode-Language",e.TargetPopulation="X-VSCode-TargetPopulation"}(o||(t.Filters=o={})),function(e){e.Team="team",e.Internal="internal",e.Insiders="insider",e.Public="public"}(s||(t.TargetPopulation=s={}))},12493:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getExperimentationServiceAsync=t.getExperimentationService=void 0;const r=n(8967),i=n(32909),o=n(54980),s=n(98142),a=n(59052);function c(e,t,n,c,l,...u){if(!l)throw new Error("Memento storage was not provided.");const p=o.workspace.getConfiguration("telemetry");if(!(void 0===o.env.isTelemetryEnabled?p.get("enableTelemetry",!0):o.env.isTelemetryEnabled))return new a.default;const d=[new r.VSCodeFilterProvider(e,t,n),...u],h=new s.MementoKeyValueStorage(l);return new i.ExperimentationService({filterProviders:d,telemetry:c,storageKey:"VSCode.ABExp.FeatureData",keyValueStorage:h,featuresTelemetryPropertyName:"",assignmentContextTelemetryPropertyName:"abexp.assignmentcontext",telemetryEventName:"query-expfeature",endpoint:"https://default.exp-tas.com/vscode/ab",refetchInterval:18e5})}t.getExperimentationService=c,t.getExperimentationServiceAsync=async function(e,t,n,r,i,...o){const s=c(e,t,n,r,i,...o);return await s.initializePromise,s}},46911:(e,t,n)=>{const r="win32"===process.platform||"cygwin"===process.env.OSTYPE||"msys"===process.env.OSTYPE,i=n(16928),o=r?";":":",s=n(41147),a=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),c=(e,t)=>{const n=t.colon||o,i=e.match(/\//)||r&&e.match(/\\/)?[""]:[...r?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(n)],s=r?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",a=r?s.split(n):[""];return r&&-1!==e.indexOf(".")&&""!==a[0]&&a.unshift(""),{pathEnv:i,pathExt:a,pathExtExe:s}},l=(e,t,n)=>{"function"==typeof t&&(n=t,t={}),t||(t={});const{pathEnv:r,pathExt:o,pathExtExe:l}=c(e,t),u=[],p=n=>new Promise(((o,s)=>{if(n===r.length)return t.all&&u.length?o(u):s(a(e));const c=r[n],l=/^".*"$/.test(c)?c.slice(1,-1):c,p=i.join(l,e),h=!l&&/^\.[\\\/]/.test(e)?e.slice(0,2)+p:p;o(d(h,n,0))})),d=(e,n,r)=>new Promise(((i,a)=>{if(r===o.length)return i(p(n+1));const c=o[r];s(e+c,{pathExt:l},((o,s)=>{if(!o&&s){if(!t.all)return i(e+c);u.push(e+c)}return i(d(e,n,r+1))}))}));return n?p(0).then((e=>n(null,e)),n):p(0)};e.exports=l,l.sync=(e,t)=>{t=t||{};const{pathEnv:n,pathExt:r,pathExtExe:o}=c(e,t),l=[];for(let a=0;a<n.length;a++){const c=n[a],u=/^".*"$/.test(c)?c.slice(1,-1):c,p=i.join(u,e),d=!u&&/^\.[\\\/]/.test(e)?e.slice(0,2)+p:p;for(let e=0;e<r.length;e++){const n=d+r[e];try{if(s.sync(n,{pathExt:o})){if(!t.all)return n;l.push(n)}}catch(e){}}}if(t.all&&l.length)return l;if(t.nothrow)return null;throw a(e)}},62802:(e,t,n)=>{var r=n(39023),i=n(16928),o=n(35317).spawn,s="HKLM",a="HKCU",c="HKCR",l="HKCC",u=[s,a,c,"HKU",l],p="REG_SZ",d="REG_MULTI_SZ",h="REG_EXPAND_SZ",f="REG_DWORD",v="REG_QWORD",g="REG_BINARY",m="REG_NONE",y=[p,d,h,f,v,g,m],b=/(\\[a-zA-Z0-9_\s]+)*/,_=/^(HKEY_LOCAL_MACHINE|HKEY_CURRENT_USER|HKEY_CLASSES_ROOT|HKEY_USERS|HKEY_CURRENT_CONFIG)(.*)$/,E=/^(.*)\s(REG_SZ|REG_MULTI_SZ|REG_EXPAND_SZ|REG_DWORD|REG_QWORD|REG_BINARY|REG_NONE)\s+([^\s].*)$/;function S(e,t){if(!(this instanceof S))return new S(e,t);Error.captureStackTrace(this,S),this.__defineGetter__("name",(function(){return S.name})),this.__defineGetter__("message",(function(){return e})),this.__defineGetter__("code",(function(){return t}))}function w(e){var t={stdout:"",stderr:""};return e.stdout.on("data",(function(e){t.stdout+=e.toString()})),e.stderr.on("data",(function(e){t.stderr+=e.toString()})),t}function P(e,t,n){var i=n.stdout.trim(),o=n.stderr.trim();return new S(r.format("%s command exited with code %d:\n%s\n%s",e,t,i,o),t)}function T(e,t){t&&e.push("/reg:"+function(e){if("x64"==e)return"64";if("x86"==e)return"32";throw new Error("illegal architecture: "+e+" (use x86 or x64)")}(t))}function C(){return"win32"===process.platform?i.join(process.env.windir,"system32","reg.exe"):"REG"}function x(e,t,n,r,i,o,s){if(!(this instanceof x))return new x(e,t,n,r,i,o,s);var a=e,c=t,l=n,u=r,p=i,d=o,h=s;this.__defineGetter__("host",(function(){return a})),this.__defineGetter__("hive",(function(){return c})),this.__defineGetter__("key",(function(){return l})),this.__defineGetter__("name",(function(){return u})),this.__defineGetter__("type",(function(){return p})),this.__defineGetter__("value",(function(){return d})),this.__defineGetter__("arch",(function(){return h}))}function I(e){if(!(this instanceof I))return new I(e);var t=e||{},n=""+(t.host||""),r=""+(t.hive||s),i=""+(t.key||""),o=t.arch||null;if(this.__defineGetter__("host",(function(){return n})),this.__defineGetter__("hive",(function(){return r})),this.__defineGetter__("key",(function(){return i})),this.__defineGetter__("path",(function(){return(0==n.length?"":"\\\\"+n+"\\")+r+i})),this.__defineGetter__("arch",(function(){return o})),this.__defineGetter__("parent",(function(){var e=i.lastIndexOf("\\");return new I({host:this.host,hive:this.hive,key:-1==e?"":i.substring(0,e),arch:this.arch})})),-1==u.indexOf(r))throw new Error("illegal hive specified.");if(!b.test(i))throw new Error("illegal key specified.");if(o&&"x64"!=o&&"x86"!=o)throw new Error("illegal architecture specified (use x86 or x64)")}r.inherits(S,Error),r.inherits(x,Object),I.HKLM=s,I.HKCU=a,I.HKCR=c,I.HKU="HKU",I.HKCC=l,I.HIVES=u,I.REG_SZ=p,I.REG_MULTI_SZ=d,I.REG_EXPAND_SZ=h,I.REG_DWORD=f,I.REG_QWORD=v,I.REG_BINARY=g,I.REG_NONE=m,I.REG_TYPES=y,I.DEFAULT_VALUE="",I.prototype.values=function(e){if("function"!=typeof e)throw new TypeError("must specify a callback");var t=["QUERY",this.path];T(t,this.arch);var n=o(C(),t,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),r="",i=this,s=null,a=w(n);return n.on("close",(function(t){if(!s)if(0!==t)e(P("QUERY",t,a),null);else{for(var n=[],o=[],c=r.split("\n"),l=0,u=0,p=c.length;u<p;u++){var d=c[u].trim();d.length>0&&(0!=l&&n.push(d),++l)}for(u=0,p=n.length;u<p;u++){var h,f,v,g=E.exec(n[u]);g&&(h=g[1].trim(),f=g[2].trim(),v=g[3],o.push(new x(i.host,i.hive,i.key,h,f,v,i.arch)))}e(null,o)}})),n.stdout.on("data",(function(e){r+=e.toString()})),n.on("error",(function(t){s=t,e(t)})),this},I.prototype.keys=function(e){if("function"!=typeof e)throw new TypeError("must specify a callback");var t=["QUERY",this.path];T(t,this.arch);var n=o(C(),t,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),r="",i=this,s=null,a=w(n);return n.on("close",(function(t){s||0!==t&&e(P("QUERY",t,a),null)})),n.stdout.on("data",(function(e){r+=e.toString()})),n.stdout.on("end",(function(){for(var t=[],n=[],o=r.split("\n"),s=0,a=o.length;s<a;s++){var c=o[s].trim();c.length>0&&t.push(c)}for(s=0,a=t.length;s<a;s++){var l,u=_.exec(t[s]);u&&(u[1],(l=u[2])&&l!==i.key&&n.push(new I({host:i.host,hive:i.hive,key:l,arch:i.arch})))}e(null,n)})),n.on("error",(function(t){s=t,e(t)})),this},I.prototype.get=function(e,t){if("function"!=typeof t)throw new TypeError("must specify a callback");var n=["QUERY",this.path];""==e?n.push("/ve"):n=n.concat(["/v",e]),T(n,this.arch);var r=o(C(),n,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),i="",s=this,a=null,c=w(r);return r.on("close",(function(e){if(!a)if(0!==e)t(P("QUERY",e,c),null);else{for(var n=[],r=null,o=i.split("\n"),l=0,u=0,p=o.length;u<p;u++){var d=o[u].trim();d.length>0&&(0!=l&&n.push(d),++l)}var h,f,v,g=n[n.length-1]||"",m=E.exec(g);m&&(h=m[1].trim(),f=m[2].trim(),v=m[3],r=new x(s.host,s.hive,s.key,h,f,v,s.arch)),t(null,r)}})),r.stdout.on("data",(function(e){i+=e.toString()})),r.on("error",(function(e){a=e,t(e)})),this},I.prototype.set=function(e,t,n,r){if("function"!=typeof r)throw new TypeError("must specify a callback");if(-1==y.indexOf(t))throw Error("illegal type specified.");var i=["ADD",this.path];""==e?i.push("/ve"):i=i.concat(["/v",e]),T(i=i.concat(["/t",t,"/d",n,"/f"]),this.arch);var s=o(C(),i,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),a=null,c=w(s);return s.on("close",(function(e){a||r(0!==e?P("ADD",e,c):null)})),s.stdout.on("data",(function(e){})),s.on("error",(function(e){a=e,r(e)})),this},I.prototype.remove=function(e,t){if("function"!=typeof t)throw new TypeError("must specify a callback");var n=e?["DELETE",this.path,"/f","/v",e]:["DELETE",this.path,"/f","/ve"];T(n,this.arch);var r=o(C(),n,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),i=null,s=w(r);return r.on("close",(function(e){i||(0!==e?t(P("DELETE",e,s),null):t(null))})),r.stdout.on("data",(function(e){})),r.on("error",(function(e){i=e,t(e)})),this},I.prototype.clear=function(e){if("function"!=typeof e)throw new TypeError("must specify a callback");var t=["DELETE",this.path,"/f","/va"];T(t,this.arch);var n=o(C(),t,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),r=null,i=w(n);return n.on("close",(function(t){r||(0!==t?e(P("DELETE",t,i),null):e(null))})),n.stdout.on("data",(function(e){})),n.on("error",(function(t){r=t,e(t)})),this},I.prototype.erase=I.prototype.clear,I.prototype.destroy=function(e){if("function"!=typeof e)throw new TypeError("must specify a callback");var t=["DELETE",this.path,"/f"];T(t,this.arch);var n=o(C(),t,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),r=null,i=w(n);return n.on("close",(function(t){r||(0!==t?e(P("DELETE",t,i),null):e(null))})),n.stdout.on("data",(function(e){})),n.on("error",(function(t){r=t,e(t)})),this},I.prototype.create=function(e){if("function"!=typeof e)throw new TypeError("must specify a callback");var t=["ADD",this.path,"/f"];T(t,this.arch);var n=o(C(),t,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),r=null,i=w(n);return n.on("close",(function(t){r||(0!==t?e(P("ADD",t,i),null):e(null))})),n.stdout.on("data",(function(e){})),n.on("error",(function(t){r=t,e(t)})),this},I.prototype.keyExists=function(e){return this.values((function(t,n){if(t)return 1==t.code?e(null,!1):e(t);e(null,!0)})),this},I.prototype.valueExists=function(e,t){return this.get(e,(function(e,n){if(e)return 1==e.code?t(null,!1):t(e);t(null,!0)})),this},e.exports=I},86587:e=>{e.exports=function e(t,n){if(t&&n)return e(t)(n);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach((function(e){r[e]=t[e]})),r;function r(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];var r=t.apply(this,e),i=e[e.length-1];return"function"==typeof r&&r!==i&&Object.keys(i).forEach((function(e){r[e]=i[e]})),r}}},40259:e=>{"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},28799:(e,t,n)=>{"use strict";function r(e){var t=this;if(t instanceof r||(t=new r),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var n=0,i=arguments.length;n<i;n++)t.push(arguments[n]);return t}function i(e,t,n){var r=t===e.head?new a(n,null,t,e):new a(n,t,t.next,e);return null===r.next&&(e.tail=r),null===r.prev&&(e.head=r),e.length++,r}function o(e,t){e.tail=new a(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function s(e,t){e.head=new a(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function a(e,t,n,r){if(!(this instanceof a))return new a(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}e.exports=r,r.Node=a,r.create=r,r.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t},r.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},r.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},r.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)o(this,arguments[e]);return this.length},r.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)s(this,arguments[e]);return this.length},r.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},r.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},r.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;null!==n;r++)e.call(t,n.value,r,this),n=n.next},r.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;null!==n;r--)e.call(t,n.value,r,this),n=n.prev},r.prototype.get=function(e){for(var t=0,n=this.head;null!==n&&t<e;t++)n=n.next;if(t===e&&null!==n)return n.value},r.prototype.getReverse=function(e){for(var t=0,n=this.tail;null!==n&&t<e;t++)n=n.prev;if(t===e&&null!==n)return n.value},r.prototype.map=function(e,t){t=t||this;for(var n=new r,i=this.head;null!==i;)n.push(e.call(t,i.value,this)),i=i.next;return n},r.prototype.mapReverse=function(e,t){t=t||this;for(var n=new r,i=this.tail;null!==i;)n.push(e.call(t,i.value,this)),i=i.prev;return n},r.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");r=this.head.next,n=this.head.value}for(var i=0;null!==r;i++)n=e(n,r.value,i),r=r.next;return n},r.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");r=this.tail.prev,n=this.tail.value}for(var i=this.length-1;null!==r;i--)n=e(n,r.value,i),r=r.prev;return n},r.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;null!==n;t++)e[t]=n.value,n=n.next;return e},r.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;null!==n;t++)e[t]=n.value,n=n.prev;return e},r.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,o=this.head;null!==o&&i<e;i++)o=o.next;for(;null!==o&&i<t;i++,o=o.next)n.push(o.value);return n},r.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,o=this.tail;null!==o&&i>t;i--)o=o.prev;for(;null!==o&&i>e;i--,o=o.prev)n.push(o.value);return n},r.prototype.splice=function(e,t,...n){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,o=this.head;null!==o&&r<e;r++)o=o.next;var s=[];for(r=0;o&&r<t;r++)s.push(o.value),o=this.removeNode(o);for(null===o&&(o=this.tail),o!==this.head&&o!==this.tail&&(o=o.prev),r=0;r<n.length;r++)o=i(this,o,n[r]);return s},r.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;null!==n;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};try{n(40259)(r)}catch(e){}},51586:e=>{"use strict";e.exports=require("./node_modules/sudo-prompt")},78789:e=>{"use strict";e.exports=require("@azure/functions-core")},79725:e=>{"use strict";e.exports=require("@azure/opentelemetry-instrumentation-azure-sdk")},35620:e=>{"use strict";e.exports=require("@opentelemetry/instrumentation")},5827:e=>{"use strict";e.exports=require("applicationinsights-native-metrics")},54980:e=>{"use strict";e.exports=require("vscode")},42613:e=>{"use strict";e.exports=require("assert")},90290:e=>{"use strict";e.exports=require("async_hooks")},20181:e=>{"use strict";e.exports=require("buffer")},35317:e=>{"use strict";e.exports=require("child_process")},64236:e=>{"use strict";e.exports=require("console")},49140:e=>{"use strict";e.exports=require("constants")},76982:e=>{"use strict";e.exports=require("crypto")},72250:e=>{"use strict";e.exports=require("dns")},24434:e=>{"use strict";e.exports=require("events")},79896:e=>{"use strict";e.exports=require("fs")},58611:e=>{"use strict";e.exports=require("http")},65692:e=>{"use strict";e.exports=require("https")},73339:e=>{"use strict";e.exports=require("module")},69278:e=>{"use strict";e.exports=require("net")},70857:e=>{"use strict";e.exports=require("os")},16928:e=>{"use strict";e.exports=require("path")},83480:e=>{"use strict";e.exports=require("querystring")},2203:e=>{"use strict";e.exports=require("stream")},13193:e=>{"use strict";e.exports=require("string_decoder")},53557:e=>{"use strict";e.exports=require("timers")},64756:e=>{"use strict";e.exports=require("tls")},52018:e=>{"use strict";e.exports=require("tty")},87016:e=>{"use strict";e.exports=require("url")},39023:e=>{"use strict";e.exports=require("util")},28167:e=>{"use strict";e.exports=require("worker_threads")},43106:e=>{"use strict";e.exports=require("zlib")},38630:()=>{var e;!function(e){!function(){var t="object"==typeof globalThis?globalThis:"object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:function(){try{return Function("return this;")()}catch(e){}}()||function(){try{return(0,eval)("(function() { return this; })()")}catch(e){}}(),n=r(e);function r(e,t){return function(n,r){Object.defineProperty(e,n,{configurable:!0,writable:!0,value:r}),t&&t(n,r)}}void 0!==t.Reflect&&(n=r(t.Reflect,n)),function(e,t){var n=Object.prototype.hasOwnProperty,r="function"==typeof Symbol,i=r&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",o=r&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",s="function"==typeof Object.create,a={__proto__:[]}instanceof Array,c=!s&&!a,l={create:s?function(){return W(Object.create(null))}:a?function(){return W({__proto__:null})}:function(){return W({})},has:c?function(e,t){return n.call(e,t)}:function(e,t){return t in e},get:c?function(e,t){return n.call(e,t)?e[t]:void 0}:function(e,t){return e[t]}},u=Object.getPrototypeOf(Function),p="function"==typeof Map&&"function"==typeof Map.prototype.entries?Map:function(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[o]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},t.prototype.delete=function(t){var n=this._find(t,!1);if(n>=0){for(var r=this._keys.length,i=n+1;i<r;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,N(t,this._cacheKey)&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new n(this._keys,this._values,r)},t.prototype.values=function(){return new n(this._keys,this._values,i)},t.prototype.entries=function(){return new n(this._keys,this._values,s)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[o]=function(){return this.entries()},t.prototype._find=function(e,t){if(!N(this._cacheKey,e)){this._cacheIndex=-1;for(var n=0;n<this._keys.length;n++)if(N(this._keys[n],e)){this._cacheIndex=n;break}}return this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function r(e,t){return e}function i(e,t){return t}function s(e,t){return[e,t]}}(),d="function"==typeof Set&&"function"==typeof Set.prototype.entries?Set:function(){function e(){this._map=new p}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.keys()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[o]=function(){return this.keys()},e}(),h="function"==typeof WeakMap?WeakMap:function(){var e=16,t=l.create(),r=i();return function(){function e(){this._key=i()}return e.prototype.has=function(e){var t=o(e,!1);return void 0!==t&&l.has(t,this._key)},e.prototype.get=function(e){var t=o(e,!1);return void 0!==t?l.get(t,this._key):void 0},e.prototype.set=function(e,t){return o(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=o(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=i()},e}();function i(){var e;do{e="@@WeakMap@@"+a()}while(l.has(t,e));return t[e]=!0,e}function o(e,t){if(!n.call(e,r)){if(!t)return;Object.defineProperty(e,r,{value:l.create()})}return e[r]}function s(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}function a(){var t=function(e){if("function"==typeof Uint8Array){var t=new Uint8Array(e);return"undefined"!=typeof crypto?crypto.getRandomValues(t):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(t):s(t,e),t}return s(new Array(e),e)}(e);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var n="",r=0;r<e;++r){var i=t[r];4!==r&&6!==r&&8!==r||(n+="-"),i<16&&(n+="0"),n+=i.toString(16).toLowerCase()}return n}}(),f=r?Symbol.for("@reflect-metadata:registry"):void 0,v=function(){var e;return!T(f)&&x(t.Reflect)&&Object.isExtensible(t.Reflect)&&(e=t.Reflect[f]),T(e)&&(e=function(){var e,n,r,i;T(f)||void 0===t.Reflect||f in t.Reflect||"function"!=typeof t.Reflect.defineMetadata||(e=function(e){var t=e.defineMetadata,n=e.hasOwnMetadata,r=e.getOwnMetadata,i=e.getOwnMetadataKeys,o=e.deleteMetadata,s=new h;return{isProviderFor:function(e,t){var n=s.get(e);return!(T(n)||!n.has(t))||!!i(e,t).length&&(T(n)&&(n=new d,s.set(e,n)),n.add(t),!0)},OrdinaryDefineOwnMetadata:t,OrdinaryHasOwnMetadata:n,OrdinaryGetOwnMetadata:r,OrdinaryOwnMetadataKeys:i,OrdinaryDeleteMetadata:o}}(t.Reflect));var o=new h,s={registerProvider:a,getProvider:l,setProvider:v};return s;function a(t){if(!Object.isExtensible(s))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case e===t:break;case T(n):n=t;break;case n===t:break;case T(r):r=t;break;case r===t:break;default:void 0===i&&(i=new d),i.add(t)}}function c(t,o){if(!T(n)){if(n.isProviderFor(t,o))return n;if(!T(r)){if(r.isProviderFor(t,o))return n;if(!T(i))for(var s=M(i);;){var a=F(s);if(!a)return;var c=L(a);if(c.isProviderFor(t,o))return V(s),c}}}if(!T(e)&&e.isProviderFor(t,o))return e}function l(e,t){var n,r=o.get(e);return T(r)||(n=r.get(t)),T(n)?(T(n=c(e,t))||(T(r)&&(r=new p,o.set(e,r)),r.set(t,n)),n):n}function u(e){if(T(e))throw new TypeError;return n===e||r===e||!T(i)&&i.has(e)}function v(e,t,n){if(!u(n))throw new Error("Metadata provider not registered.");var r=l(e,t);if(r!==n){if(!T(r))return!1;var i=o.get(e);T(i)&&(i=new p,o.set(e,i)),i.set(t,n)}return!0}}()),!T(f)&&x(t.Reflect)&&Object.isExtensible(t.Reflect)&&Object.defineProperty(t.Reflect,f,{enumerable:!1,configurable:!1,writable:!1,value:e}),e}(),g=function(e){var t=new h,n={isProviderFor:function(e,n){var r=t.get(e);return!T(r)&&r.has(n)},OrdinaryDefineOwnMetadata:function(e,t,n,i){r(n,i,!0).set(e,t)},OrdinaryHasOwnMetadata:function(e,t,n){var i=r(t,n,!1);return!T(i)&&O(i.has(e))},OrdinaryGetOwnMetadata:function(e,t,n){var i=r(t,n,!1);if(!T(i))return i.get(e)},OrdinaryOwnMetadataKeys:function(e,t){var n=[],i=r(e,t,!1);if(T(i))return n;for(var o=M(i.keys()),s=0;;){var a=F(o);if(!a)return n.length=s,n;var c=L(a);try{n[s]=c}catch(e){try{V(o)}finally{throw e}}s++}},OrdinaryDeleteMetadata:function(e,n,i){var o=r(n,i,!1);if(T(o))return!1;if(!o.delete(e))return!1;if(0===o.size){var s=t.get(n);T(s)||(s.delete(i),0===s.size&&t.delete(s))}return!0}};return v.registerProvider(n),n;function r(r,i,o){var s=t.get(r),a=!1;if(T(s)){if(!o)return;s=new p,t.set(r,s),a=!0}var c=s.get(i);if(T(c)){if(!o)return;if(c=new p,s.set(i,c),!e.setProvider(r,i,n))throw s.delete(i),a&&t.delete(r),new Error("Wrong provider for target.")}return c}}(v);function m(e,t,n){if(y(e,t,n))return!0;var r=U(t);return!C(r)&&m(e,r,n)}function y(e,t,n){var r=H(t,n,!1);return!T(r)&&O(r.OrdinaryHasOwnMetadata(e,t,n))}function b(e,t,n){if(y(e,t,n))return _(e,t,n);var r=U(t);return C(r)?void 0:b(e,r,n)}function _(e,t,n){var r=H(t,n,!1);if(!T(r))return r.OrdinaryGetOwnMetadata(e,t,n)}function E(e,t,n,r){H(n,r,!0).OrdinaryDefineOwnMetadata(e,t,n,r)}function S(e,t){var n=w(e,t),r=U(e);if(null===r)return n;var i=S(r,t);if(i.length<=0)return n;if(n.length<=0)return i;for(var o=new d,s=[],a=0,c=n;a<c.length;a++){var l=c[a];o.has(l)||(o.add(l),s.push(l))}for(var u=0,p=i;u<p.length;u++)l=p[u],o.has(l)||(o.add(l),s.push(l));return s}function w(e,t){var n=H(e,t,!1);return n?n.OrdinaryOwnMetadataKeys(e,t):[]}function P(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function T(e){return void 0===e}function C(e){return null===e}function x(e){return"object"==typeof e?null!==e:"function"==typeof e}function I(e,t){switch(P(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n=3===t?"string":5===t?"number":"default",r=j(e,i);if(void 0!==r){var o=r.call(e,n);if(x(o))throw new TypeError;return o}return function(e,t){if("string"===t){var n=e.toString;if(k(n)&&!x(i=n.call(e)))return i;if(k(r=e.valueOf)&&!x(i=r.call(e)))return i}else{var r;if(k(r=e.valueOf)&&!x(i=r.call(e)))return i;var i,o=e.toString;if(k(o)&&!x(i=o.call(e)))return i}throw new TypeError}(e,"default"===n?"number":n)}function O(e){return!!e}function R(e){var t=I(e,3);return"symbol"==typeof t?t:function(e){return""+e}(t)}function D(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function k(e){return"function"==typeof e}function A(e){return"function"==typeof e}function N(e,t){return e===t||e!=e&&t!=t}function j(e,t){var n=e[t];if(null!=n){if(!k(n))throw new TypeError;return n}}function M(e){var t=j(e,o);if(!k(t))throw new TypeError;var n=t.call(e);if(!x(n))throw new TypeError;return n}function L(e){return e.value}function F(e){var t=e.next();return!t.done&&t}function V(e){var t=e.return;t&&t.call(e)}function U(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===u)return t;if(t!==u)return t;var n=e.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return t;var i=r.constructor;return"function"!=typeof i||i===e?t:i}function H(e,t,n){var r=v.getProvider(e,t);if(!T(r))return r;if(n){if(v.setProvider(e,t,g))return g;throw new Error("Illegal state.")}}function W(e){return e.__=void 0,delete e.__,e}e("decorate",(function(e,t,n,r){if(T(n)){if(!D(e))throw new TypeError;if(!A(t))throw new TypeError;return function(e,t){for(var n=e.length-1;n>=0;--n){var r=(0,e[n])(t);if(!T(r)&&!C(r)){if(!A(r))throw new TypeError;t=r}}return t}(e,t)}if(!D(e))throw new TypeError;if(!x(t))throw new TypeError;if(!x(r)&&!T(r)&&!C(r))throw new TypeError;return C(r)&&(r=void 0),function(e,t,n,r){for(var i=e.length-1;i>=0;--i){var o=(0,e[i])(t,n,r);if(!T(o)&&!C(o)){if(!x(o))throw new TypeError;r=o}}return r}(e,t,n=R(n),r)})),e("metadata",(function(e,t){return function(n,r){if(!x(n))throw new TypeError;if(!T(r)&&!function(e){switch(P(e)){case 3:case 4:return!0;default:return!1}}(r))throw new TypeError;E(e,t,n,r)}})),e("defineMetadata",(function(e,t,n,r){if(!x(n))throw new TypeError;return T(r)||(r=R(r)),E(e,t,n,r)})),e("hasMetadata",(function(e,t,n){if(!x(t))throw new TypeError;return T(n)||(n=R(n)),m(e,t,n)})),e("hasOwnMetadata",(function(e,t,n){if(!x(t))throw new TypeError;return T(n)||(n=R(n)),y(e,t,n)})),e("getMetadata",(function(e,t,n){if(!x(t))throw new TypeError;return T(n)||(n=R(n)),b(e,t,n)})),e("getOwnMetadata",(function(e,t,n){if(!x(t))throw new TypeError;return T(n)||(n=R(n)),_(e,t,n)})),e("getMetadataKeys",(function(e,t){if(!x(e))throw new TypeError;return T(t)||(t=R(t)),S(e,t)})),e("getOwnMetadataKeys",(function(e,t){if(!x(e))throw new TypeError;return T(t)||(t=R(t)),w(e,t)})),e("deleteMetadata",(function(e,t,n){if(!x(t))throw new TypeError;if(T(n)||(n=R(n)),!x(t))throw new TypeError;T(n)||(n=R(n));var r=H(t,n,!1);return!T(r)&&r.OrdinaryDeleteMetadata(e,t,n)}))}(n,t),void 0===t.Reflect&&(t.Reflect=e)}()}(e||(e={}))},40502:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AST:()=>b,GLOBSTAR:()=>B,Minimatch:()=>Q,braceExpand:()=>z,defaults:()=>G,escape:()=>_,filter:()=>$,makeRe:()=>Y,match:()=>X,minimatch:()=>E,sep:()=>q,unescape:()=>l});var r=n(23818);const i=e=>{if("string"!=typeof e)throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")},o={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},s=e=>e.replace(/[[\]\\-]/g,"\\$&"),a=e=>e.join(""),c=(e,t)=>{const n=t;if("["!==e.charAt(n))throw new Error("not in a brace expression");const r=[],i=[];let c=n+1,l=!1,u=!1,p=!1,d=!1,h=n,f="";e:for(;c<e.length;){const t=e.charAt(c);if("!"!==t&&"^"!==t||c!==n+1){if("]"===t&&l&&!p){h=c+1;break}if(l=!0,"\\"!==t||p){if("["===t&&!p)for(const[t,[s,a,l]]of Object.entries(o))if(e.startsWith(t,c)){if(f)return["$.",!1,e.length-n,!0];c+=t.length,l?i.push(s):r.push(s),u=u||a;continue e}p=!1,f?(t>f?r.push(s(f)+"-"+s(t)):t===f&&r.push(s(t)),f="",c++):e.startsWith("-]",c+1)?(r.push(s(t+"-")),c+=2):e.startsWith("-",c+1)?(f=t,c+=2):(r.push(s(t)),c++)}else p=!0,c++}else d=!0,c++}if(h<c)return["",!1,0,!1];if(!r.length&&!i.length)return["$.",!1,e.length-n,!0];if(0===i.length&&1===r.length&&/^\\?.$/.test(r[0])&&!d){return[(v=2===r[0].length?r[0].slice(-1):r[0],v.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")),!1,h-n,!1]}var v;const g="["+(d?"^":"")+a(r)+"]",m="["+(d?"":"^")+a(i)+"]";return[r.length&&i.length?"("+g+"|"+m+")":r.length?g:m,u,h-n,!0]},l=(e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/\[([^\/\\])\]/g,"$1"):e.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"),u=new Set(["!","?","+","*","@"]),p=e=>u.has(e),d="(?!\\.)",h=new Set(["[","."]),f=new Set(["..","."]),v=new Set("().*{}+?[]^$\\!"),g="[^/]",m=g+"*?",y=g+"+?";class b{type;#e;#t;#n=!1;#r=[];#i;#o;#s;#a=!1;#c;#l;#u=!1;constructor(e,t,n={}){this.type=e,e&&(this.#t=!0),this.#i=t,this.#e=this.#i?this.#i.#e:this,this.#c=this.#e===this?n:this.#e.#c,this.#s=this.#e===this?[]:this.#e.#s,"!"!==e||this.#e.#a||this.#s.push(this),this.#o=this.#i?this.#i.#r.length:0}get hasMagic(){if(void 0!==this.#t)return this.#t;for(const e of this.#r)if("string"!=typeof e&&(e.type||e.hasMagic))return this.#t=!0;return this.#t}toString(){return void 0!==this.#l?this.#l:this.type?this.#l=this.type+"("+this.#r.map((e=>String(e))).join("|")+")":this.#l=this.#r.map((e=>String(e))).join("")}#p(){if(this!==this.#e)throw new Error("should only call on root");if(this.#a)return this;let e;for(this.toString(),this.#a=!0;e=this.#s.pop();){if("!"!==e.type)continue;let t=e,n=t.#i;for(;n;){for(let r=t.#o+1;!n.type&&r<n.#r.length;r++)for(const t of e.#r){if("string"==typeof t)throw new Error("string part in extglob AST??");t.copyIn(n.#r[r])}t=n,n=t.#i}}return this}push(...e){for(const t of e)if(""!==t){if("string"!=typeof t&&!(t instanceof b&&t.#i===this))throw new Error("invalid part: "+t);this.#r.push(t)}}toJSON(){const e=null===this.type?this.#r.slice().map((e=>"string"==typeof e?e:e.toJSON())):[this.type,...this.#r.map((e=>e.toJSON()))];return this.isStart()&&!this.type&&e.unshift([]),this.isEnd()&&(this===this.#e||this.#e.#a&&"!"===this.#i?.type)&&e.push({}),e}isStart(){if(this.#e===this)return!0;if(!this.#i?.isStart())return!1;if(0===this.#o)return!0;const e=this.#i;for(let t=0;t<this.#o;t++){const n=e.#r[t];if(!(n instanceof b&&"!"===n.type))return!1}return!0}isEnd(){if(this.#e===this)return!0;if("!"===this.#i?.type)return!0;if(!this.#i?.isEnd())return!1;if(!this.type)return this.#i?.isEnd();const e=this.#i?this.#i.#r.length:0;return this.#o===e-1}copyIn(e){"string"==typeof e?this.push(e):this.push(e.clone(this))}clone(e){const t=new b(this.type,e);for(const e of this.#r)t.copyIn(e);return t}static#d(e,t,n,r){let i=!1,o=!1,s=-1,a=!1;if(null===t.type){let c=n,l="";for(;c<e.length;){const n=e.charAt(c++);if(i||"\\"===n)i=!i,l+=n;else if(o)c===s+1?"^"!==n&&"!"!==n||(a=!0):"]"!==n||c===s+2&&a||(o=!1),l+=n;else if("["!==n)if(r.noext||!p(n)||"("!==e.charAt(c))l+=n;else{t.push(l),l="";const i=new b(n,t);c=b.#d(e,i,c,r),t.push(i)}else o=!0,s=c,a=!1,l+=n}return t.push(l),c}let c=n+1,l=new b(null,t);const u=[];let d="";for(;c<e.length;){const n=e.charAt(c++);if(i||"\\"===n)i=!i,d+=n;else if(o)c===s+1?"^"!==n&&"!"!==n||(a=!0):"]"!==n||c===s+2&&a||(o=!1),d+=n;else if("["!==n)if(p(n)&&"("===e.charAt(c)){l.push(d),d="";const t=new b(n,l);l.push(t),c=b.#d(e,t,c,r)}else if("|"!==n){if(")"===n)return""===d&&0===t.#r.length&&(t.#u=!0),l.push(d),d="",t.push(...u,l),c;d+=n}else l.push(d),d="",u.push(l),l=new b(null,t);else o=!0,s=c,a=!1,d+=n}return t.type=null,t.#t=void 0,t.#r=[e.substring(n-1)],c}static fromGlob(e,t={}){const n=new b(null,void 0,t);return b.#d(e,n,0,t),n}toMMPattern(){if(this!==this.#e)return this.#e.toMMPattern();const e=this.toString(),[t,n,r,i]=this.toRegExpSource();if(!(r||this.#t||this.#c.nocase&&!this.#c.nocaseMagicOnly&&e.toUpperCase()!==e.toLowerCase()))return n;const o=(this.#c.nocase?"i":"")+(i?"u":"");return Object.assign(new RegExp(`^${t}$`,o),{_src:t,_glob:e})}toRegExpSource(e){const t=e??!!this.#c.dot;if(this.#e===this&&this.#p(),!this.type){const n=this.isStart()&&this.isEnd(),r=this.#r.map((t=>{const[r,i,o,s]="string"==typeof t?b.#h(t,this.#t,n):t.toRegExpSource(e);return this.#t=this.#t||o,this.#n=this.#n||s,r})).join("");let i="";if(this.isStart()&&"string"==typeof this.#r[0]&&(1!==this.#r.length||!f.has(this.#r[0]))){const n=h,o=t&&n.has(r.charAt(0))||r.startsWith("\\.")&&n.has(r.charAt(2))||r.startsWith("\\.\\.")&&n.has(r.charAt(4)),s=!t&&!e&&n.has(r.charAt(0));i=o?"(?!(?:^|/)\\.\\.?(?:$|/))":s?d:""}let o="";return this.isEnd()&&this.#e.#a&&"!"===this.#i?.type&&(o="(?:$|\\/)"),[i+r+o,l(r),this.#t=!!this.#t,this.#n]}const n="*"===this.type||"+"===this.type,r="!"===this.type?"(?:(?!(?:":"(?:";let i=this.#f(t);if(this.isStart()&&this.isEnd()&&!i&&"!"!==this.type){const e=this.toString();return this.#r=[e],this.type=null,this.#t=void 0,[e,l(this.toString()),!1,!1]}let o=!n||e||t?"":this.#f(!0);o===i&&(o=""),o&&(i=`(?:${i})(?:${o})*?`);let s="";return s="!"===this.type&&this.#u?(this.isStart()&&!t?d:"")+y:r+i+("!"===this.type?"))"+(!this.isStart()||t||e?"":d)+m+")":"@"===this.type?")":"?"===this.type?")?":"+"===this.type&&o?")":"*"===this.type&&o?")?":`)${this.type}`),[s,l(i),this.#t=!!this.#t,this.#n]}#f(e){return this.#r.map((t=>{if("string"==typeof t)throw new Error("string type in extglob ast??");const[n,r,i,o]=t.toRegExpSource(e);return this.#n=this.#n||o,n})).filter((e=>!(this.isStart()&&this.isEnd()&&!e))).join("|")}static#h(e,t,n=!1){let r=!1,i="",o=!1;for(let s=0;s<e.length;s++){const a=e.charAt(s);if(r)r=!1,i+=(v.has(a)?"\\":"")+a;else if("\\"!==a){if("["===a){const[n,r,a,l]=c(e,s);if(a){i+=n,o=o||r,s+=a-1,t=t||l;continue}}"*"!==a?"?"!==a?i+=a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):(i+=g,t=!0):(i+=n&&"*"===e?y:m,t=!0)}else s===e.length-1?i+="\\\\":r=!0}return[i,l(e),!!t,o]}}const _=(e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/[?*()[\]]/g,"[$&]"):e.replace(/[?*()[\]\\]/g,"\\$&"),E=(e,t,n={})=>(i(t),!(!n.nocomment&&"#"===t.charAt(0))&&new Q(t,n).match(e)),S=/^\*+([^+@!?\*\[\(]*)$/,w=e=>t=>!t.startsWith(".")&&t.endsWith(e),P=e=>t=>t.endsWith(e),T=e=>(e=e.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(e)),C=e=>(e=e.toLowerCase(),t=>t.toLowerCase().endsWith(e)),x=/^\*+\.\*+$/,I=e=>!e.startsWith(".")&&e.includes("."),O=e=>"."!==e&&".."!==e&&e.includes("."),R=/^\.\*+$/,D=e=>"."!==e&&".."!==e&&e.startsWith("."),k=/^\*+$/,A=e=>0!==e.length&&!e.startsWith("."),N=e=>0!==e.length&&"."!==e&&".."!==e,j=/^\?+([^+@!?\*\[\(]*)?$/,M=([e,t=""])=>{const n=U([e]);return t?(t=t.toLowerCase(),e=>n(e)&&e.toLowerCase().endsWith(t)):n},L=([e,t=""])=>{const n=H([e]);return t?(t=t.toLowerCase(),e=>n(e)&&e.toLowerCase().endsWith(t)):n},F=([e,t=""])=>{const n=H([e]);return t?e=>n(e)&&e.endsWith(t):n},V=([e,t=""])=>{const n=U([e]);return t?e=>n(e)&&e.endsWith(t):n},U=([e])=>{const t=e.length;return e=>e.length===t&&!e.startsWith(".")},H=([e])=>{const t=e.length;return e=>e.length===t&&"."!==e&&".."!==e},W="object"==typeof process&&process?"object"==typeof process.env&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",q="win32"===W?"\\":"/";E.sep=q;const B=Symbol("globstar **");E.GLOBSTAR=B;const $=(e,t={})=>n=>E(n,e,t);E.filter=$;const K=(e,t={})=>Object.assign({},e,t),G=e=>{if(!e||"object"!=typeof e||!Object.keys(e).length)return E;const t=E;return Object.assign(((n,r,i={})=>t(n,r,K(e,i))),{Minimatch:class extends t.Minimatch{constructor(t,n={}){super(t,K(e,n))}static defaults(n){return t.defaults(K(e,n)).Minimatch}},AST:class extends t.AST{constructor(t,n,r={}){super(t,n,K(e,r))}static fromGlob(n,r={}){return t.AST.fromGlob(n,K(e,r))}},unescape:(n,r={})=>t.unescape(n,K(e,r)),escape:(n,r={})=>t.escape(n,K(e,r)),filter:(n,r={})=>t.filter(n,K(e,r)),defaults:n=>t.defaults(K(e,n)),makeRe:(n,r={})=>t.makeRe(n,K(e,r)),braceExpand:(n,r={})=>t.braceExpand(n,K(e,r)),match:(n,r,i={})=>t.match(n,r,K(e,i)),sep:t.sep,GLOBSTAR:B})};E.defaults=G;const z=(e,t={})=>(i(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:r(e));E.braceExpand=z;const Y=(e,t={})=>new Q(e,t).makeRe();E.makeRe=Y;const X=(e,t,n={})=>{const r=new Q(t,n);return e=e.filter((e=>r.match(e))),r.options.nonull&&!e.length&&e.push(t),e};E.match=X;const J=/[?*]|[+@!]\(.*?\)|\[|\]/;class Q{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(e,t={}){i(e),t=t||{},this.options=t,this.pattern=e,this.platform=t.platform||W,this.isWindows="win32"===this.platform,this.windowsPathsNoEscape=!!t.windowsPathsNoEscape||!1===t.allowWindowsEscape,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!t.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!t.nonegate,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=void 0!==t.windowsNoMagicRoot?t.windowsNoMagicRoot:!(!this.isWindows||!this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const e of this.set)for(const t of e)if("string"!=typeof t)return!0;return!1}debug(...e){}make(){const e=this.pattern,t=this.options;if(!t.nocomment&&"#"===e.charAt(0))return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],t.debug&&(this.debug=(...e)=>console.error(...e)),this.debug(this.pattern,this.globSet);const n=this.globSet.map((e=>this.slashSplit(e)));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let r=this.globParts.map(((e,t,n)=>{if(this.isWindows&&this.windowsNoMagicRoot){const t=!(""!==e[0]||""!==e[1]||"?"!==e[2]&&J.test(e[2])||J.test(e[3])),n=/^[a-z]:/i.test(e[0]);if(t)return[...e.slice(0,4),...e.slice(4).map((e=>this.parse(e)))];if(n)return[e[0],...e.slice(1).map((e=>this.parse(e)))]}return e.map((e=>this.parse(e)))}));if(this.debug(this.pattern,r),this.set=r.filter((e=>-1===e.indexOf(!1))),this.isWindows)for(let e=0;e<this.set.length;e++){const t=this.set[e];""===t[0]&&""===t[1]&&"?"===this.globParts[e][2]&&"string"==typeof t[3]&&/^[a-z]:$/i.test(t[3])&&(t[2]="?")}this.debug(this.pattern,this.set)}preprocess(e){if(this.options.noglobstar)for(let t=0;t<e.length;t++)for(let n=0;n<e[t].length;n++)"**"===e[t][n]&&(e[t][n]="*");const{optimizationLevel:t=1}=this.options;return t>=2?(e=this.firstPhasePreProcess(e),e=this.secondPhasePreProcess(e)):e=t>=1?this.levelOneOptimize(e):this.adjascentGlobstarOptimize(e),e}adjascentGlobstarOptimize(e){return e.map((e=>{let t=-1;for(;-1!==(t=e.indexOf("**",t+1));){let n=t;for(;"**"===e[n+1];)n++;n!==t&&e.splice(t,n-t)}return e}))}levelOneOptimize(e){return e.map((e=>0===(e=e.reduce(((e,t)=>{const n=e[e.length-1];return"**"===t&&"**"===n?e:".."===t&&n&&".."!==n&&"."!==n&&"**"!==n?(e.pop(),e):(e.push(t),e)}),[])).length?[""]:e))}levelTwoFileOptimize(e){Array.isArray(e)||(e=this.slashSplit(e));let t=!1;do{if(t=!1,!this.preserveMultipleSlashes){for(let n=1;n<e.length-1;n++){const r=e[n];1===n&&""===r&&""===e[0]||"."!==r&&""!==r||(t=!0,e.splice(n,1),n--)}"."!==e[0]||2!==e.length||"."!==e[1]&&""!==e[1]||(t=!0,e.pop())}let n=0;for(;-1!==(n=e.indexOf("..",n+1));){const r=e[n-1];r&&"."!==r&&".."!==r&&"**"!==r&&(t=!0,e.splice(n-1,2),n-=2)}}while(t);return 0===e.length?[""]:e}firstPhasePreProcess(e){let t=!1;do{t=!1;for(let n of e){let r=-1;for(;-1!==(r=n.indexOf("**",r+1));){let i=r;for(;"**"===n[i+1];)i++;i>r&&n.splice(r+1,i-r);let o=n[r+1];const s=n[r+2],a=n[r+3];if(".."!==o)continue;if(!s||"."===s||".."===s||!a||"."===a||".."===a)continue;t=!0,n.splice(r,1);const c=n.slice(0);c[r]="**",e.push(c),r--}if(!this.preserveMultipleSlashes){for(let e=1;e<n.length-1;e++){const r=n[e];1===e&&""===r&&""===n[0]||"."!==r&&""!==r||(t=!0,n.splice(e,1),e--)}"."!==n[0]||2!==n.length||"."!==n[1]&&""!==n[1]||(t=!0,n.pop())}let i=0;for(;-1!==(i=n.indexOf("..",i+1));){const e=n[i-1];if(e&&"."!==e&&".."!==e&&"**"!==e){t=!0;const e=1===i&&"**"===n[i+1]?["."]:[];n.splice(i-1,2,...e),0===n.length&&n.push(""),i-=2}}}}while(t);return e}secondPhasePreProcess(e){for(let t=0;t<e.length-1;t++)for(let n=t+1;n<e.length;n++){const r=this.partsMatch(e[t],e[n],!this.preserveMultipleSlashes);r&&(e[t]=r,e[n]=[])}return e.filter((e=>e.length))}partsMatch(e,t,n=!1){let r=0,i=0,o=[],s="";for(;r<e.length&&i<t.length;)if(e[r]===t[i])o.push("b"===s?t[i]:e[r]),r++,i++;else if(n&&"**"===e[r]&&t[i]===e[r+1])o.push(e[r]),r++;else if(n&&"**"===t[i]&&e[r]===t[i+1])o.push(t[i]),i++;else if("*"!==e[r]||!t[i]||!this.options.dot&&t[i].startsWith(".")||"**"===t[i]){if("*"!==t[i]||!e[r]||!this.options.dot&&e[r].startsWith(".")||"**"===e[r])return!1;if("a"===s)return!1;s="b",o.push(t[i]),r++,i++}else{if("b"===s)return!1;s="a",o.push(e[r]),r++,i++}return e.length===t.length&&o}parseNegate(){if(this.nonegate)return;const e=this.pattern;let t=!1,n=0;for(let r=0;r<e.length&&"!"===e.charAt(r);r++)t=!t,n++;n&&(this.pattern=e.slice(n)),this.negate=t}matchOne(e,t,n=!1){const r=this.options;if(this.isWindows){const n="string"==typeof e[0]&&/^[a-z]:$/i.test(e[0]),r=!n&&""===e[0]&&""===e[1]&&"?"===e[2]&&/^[a-z]:$/i.test(e[3]),i="string"==typeof t[0]&&/^[a-z]:$/i.test(t[0]),o=r?3:n?0:void 0,s=!i&&""===t[0]&&""===t[1]&&"?"===t[2]&&"string"==typeof t[3]&&/^[a-z]:$/i.test(t[3])?3:i?0:void 0;if("number"==typeof o&&"number"==typeof s){const[n,r]=[e[o],t[s]];n.toLowerCase()===r.toLowerCase()&&(t[s]=n,s>o?t=t.slice(s):o>s&&(e=e.slice(o)))}}const{optimizationLevel:i=1}=this.options;i>=2&&(e=this.levelTwoFileOptimize(e)),this.debug("matchOne",this,{file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var o=0,s=0,a=e.length,c=t.length;o<a&&s<c;o++,s++){this.debug("matchOne loop");var l=t[s],u=e[o];if(this.debug(t,l,u),!1===l)return!1;if(l===B){this.debug("GLOBSTAR",[t,l,u]);var p=o,d=s+1;if(d===c){for(this.debug("** at the end");o<a;o++)if("."===e[o]||".."===e[o]||!r.dot&&"."===e[o].charAt(0))return!1;return!0}for(;p<a;){var h=e[p];if(this.debug("\nglobstar while",e,p,t,d,h),this.matchOne(e.slice(p),t.slice(d),n))return this.debug("globstar found match!",p,a,h),!0;if("."===h||".."===h||!r.dot&&"."===h.charAt(0)){this.debug("dot detected!",e,p,t,d);break}this.debug("globstar swallow a segment, and continue"),p++}return!(!n||(this.debug("\n>>> no match, partial?",e,p,t,d),p!==a))}let i;if("string"==typeof l?(i=u===l,this.debug("string match",l,u,i)):(i=l.test(u),this.debug("pattern match",l,u,i)),!i)return!1}if(o===a&&s===c)return!0;if(o===a)return n;if(s===c)return o===a-1&&""===e[o];throw new Error("wtf?")}braceExpand(){return z(this.pattern,this.options)}parse(e){i(e);const t=this.options;if("**"===e)return B;if(""===e)return"";let n,r=null;(n=e.match(k))?r=t.dot?N:A:(n=e.match(S))?r=(t.nocase?t.dot?C:T:t.dot?P:w)(n[1]):(n=e.match(j))?r=(t.nocase?t.dot?L:M:t.dot?F:V)(n):(n=e.match(x))?r=t.dot?O:I:(n=e.match(R))&&(r=D);const o=b.fromGlob(e,this.options).toMMPattern();return r?Object.assign(o,{test:r}):o}makeRe(){if(this.regexp||!1===this.regexp)return this.regexp;const e=this.set;if(!e.length)return this.regexp=!1,this.regexp;const t=this.options,n=t.noglobstar?"[^/]*?":t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",r=new Set(t.nocase?["i"]:[]);let i=e.map((e=>{const t=e.map((e=>{if(e instanceof RegExp)for(const t of e.flags.split(""))r.add(t);return"string"==typeof e?e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):e===B?B:e._src}));return t.forEach(((e,r)=>{const i=t[r+1],o=t[r-1];e===B&&o!==B&&(void 0===o?void 0!==i&&i!==B?t[r+1]="(?:\\/|"+n+"\\/)?"+i:t[r]=n:void 0===i?t[r-1]=o+"(?:\\/|"+n+")?":i!==B&&(t[r-1]=o+"(?:\\/|\\/"+n+"\\/)"+i,t[r+1]=B))})),t.filter((e=>e!==B)).join("/")})).join("|");const[o,s]=e.length>1?["(?:",")"]:["",""];i="^"+o+i+s+"$",this.negate&&(i="^(?!"+i+").+$");try{this.regexp=new RegExp(i,[...r].join(""))}catch(e){this.regexp=!1}return this.regexp}slashSplit(e){return this.preserveMultipleSlashes?e.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(e)?["",...e.split(/\/+/)]:e.split(/\/+/)}match(e,t=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;const n=this.options;this.isWindows&&(e=e.split("\\").join("/"));const r=this.slashSplit(e);this.debug(this.pattern,"split",r);const i=this.set;this.debug(this.pattern,"set",i);let o=r[r.length-1];if(!o)for(let e=r.length-2;!o&&e>=0;e--)o=r[e];for(let e=0;e<i.length;e++){const s=i[e];let a=r;if(n.matchBase&&1===s.length&&(a=[o]),this.matchOne(a,s,t))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate}static defaults(e){return E.defaults(e).Minimatch}}E.AST=b,E.Minimatch=Q,E.escape=_,E.unescape=l},46203:(e,t,n)=>{"use strict";var r,i,o,s,a,c,l,u,p,d,h,f,v,g,m,y,b,_,E,S,w,P,T,C,x,I,O,R,D,k,A,N,j,M,L,F,V,U,H,W,q,B,$,K,G,z,Y,X,J,Q,Z,ee,te,ne,re,ie,oe,se,ae,ce,le,ue,pe,de,he,fe,ve,ge,me,ye,be,_e,Ee,Se,we,Pe,Te,Ce,xe,Ie;n.r(t),n.d(t,{AnnotatedTextEdit:()=>T,ChangeAnnotation:()=>w,ChangeAnnotationIdentifier:()=>P,CodeAction:()=>ae,CodeActionContext:()=>se,CodeActionKind:()=>ie,CodeActionTriggerKind:()=>oe,CodeDescription:()=>b,CodeLens:()=>ce,Color:()=>p,ColorInformation:()=>d,ColorPresentation:()=>h,Command:()=>E,CompletionItem:()=>$,CompletionItemKind:()=>V,CompletionItemLabelDetails:()=>B,CompletionItemTag:()=>H,CompletionList:()=>K,CreateFile:()=>x,DeleteFile:()=>O,Diagnostic:()=>_,DiagnosticRelatedInformation:()=>g,DiagnosticSeverity:()=>m,DiagnosticTag:()=>y,DocumentHighlight:()=>Q,DocumentHighlightKind:()=>J,DocumentLink:()=>ue,DocumentSymbol:()=>re,DocumentUri:()=>r,EOL:()=>ke,FoldingRange:()=>v,FoldingRangeKind:()=>f,FormattingOptions:()=>le,Hover:()=>z,InlayHint:()=>Ee,InlayHintKind:()=>be,InlayHintLabelPart:()=>_e,InlineCompletionContext:()=>xe,InlineCompletionItem:()=>we,InlineCompletionList:()=>Pe,InlineCompletionTriggerKind:()=>Te,InlineValueContext:()=>ye,InlineValueEvaluatableExpression:()=>me,InlineValueText:()=>ve,InlineValueVariableLookup:()=>ge,InsertReplaceEdit:()=>W,InsertTextFormat:()=>U,InsertTextMode:()=>q,LanguageKind:()=>j,Location:()=>l,LocationLink:()=>u,MarkedString:()=>G,MarkupContent:()=>F,MarkupKind:()=>L,OptionalVersionedTextDocumentIdentifier:()=>N,ParameterInformation:()=>Y,Position:()=>a,Range:()=>c,RenameFile:()=>I,SelectedCompletionInfo:()=>Ce,SelectionRange:()=>pe,SemanticTokenModifiers:()=>he,SemanticTokenTypes:()=>de,SemanticTokens:()=>fe,SignatureInformation:()=>X,SnippetTextEdit:()=>D,StringValue:()=>Se,SymbolInformation:()=>te,SymbolKind:()=>Z,SymbolTag:()=>ee,TextDocument:()=>Ae,TextDocumentEdit:()=>C,TextDocumentIdentifier:()=>k,TextDocumentItem:()=>M,TextEdit:()=>S,URI:()=>i,VersionedTextDocumentIdentifier:()=>A,WorkspaceChange:()=>De,WorkspaceEdit:()=>R,WorkspaceFolder:()=>Ie,WorkspaceSymbol:()=>ne,integer:()=>o,uinteger:()=>s}),function(e){e.is=function(e){return"string"==typeof e}}(r||(r={})),function(e){e.is=function(e){return"string"==typeof e}}(i||(i={})),function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647,e.is=function(t){return"number"==typeof t&&e.MIN_VALUE<=t&&t<=e.MAX_VALUE}}(o||(o={})),function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647,e.is=function(t){return"number"==typeof t&&e.MIN_VALUE<=t&&t<=e.MAX_VALUE}}(s||(s={})),function(e){e.create=function(e,t){return e===Number.MAX_VALUE&&(e=s.MAX_VALUE),t===Number.MAX_VALUE&&(t=s.MAX_VALUE),{line:e,character:t}},e.is=function(e){const t=e;return Ne.objectLiteral(t)&&Ne.uinteger(t.line)&&Ne.uinteger(t.character)}}(a||(a={})),function(e){e.create=function(e,t,n,r){if(Ne.uinteger(e)&&Ne.uinteger(t)&&Ne.uinteger(n)&&Ne.uinteger(r))return{start:a.create(e,t),end:a.create(n,r)};if(a.is(e)&&a.is(t))return{start:e,end:t};throw new Error(`Range#create called with invalid arguments[${e}, ${t}, ${n}, ${r}]`)},e.is=function(e){const t=e;return Ne.objectLiteral(t)&&a.is(t.start)&&a.is(t.end)}}(c||(c={})),function(e){e.create=function(e,t){return{uri:e,range:t}},e.is=function(e){const t=e;return Ne.objectLiteral(t)&&c.is(t.range)&&(Ne.string(t.uri)||Ne.undefined(t.uri))}}(l||(l={})),function(e){e.create=function(e,t,n,r){return{targetUri:e,targetRange:t,targetSelectionRange:n,originSelectionRange:r}},e.is=function(e){const t=e;return Ne.objectLiteral(t)&&c.is(t.targetRange)&&Ne.string(t.targetUri)&&c.is(t.targetSelectionRange)&&(c.is(t.originSelectionRange)||Ne.undefined(t.originSelectionRange))}}(u||(u={})),function(e){e.create=function(e,t,n,r){return{red:e,green:t,blue:n,alpha:r}},e.is=function(e){const t=e;return Ne.objectLiteral(t)&&Ne.numberRange(t.red,0,1)&&Ne.numberRange(t.green,0,1)&&Ne.numberRange(t.blue,0,1)&&Ne.numberRange(t.alpha,0,1)}}(p||(p={})),function(e){e.create=function(e,t){return{range:e,color:t}},e.is=function(e){const t=e;return Ne.objectLiteral(t)&&c.is(t.range)&&p.is(t.color)}}(d||(d={})),function(e){e.create=function(e,t,n){return{label:e,textEdit:t,additionalTextEdits:n}},e.is=function(e){const t=e;return Ne.objectLiteral(t)&&Ne.string(t.label)&&(Ne.undefined(t.textEdit)||S.is(t))&&(Ne.undefined(t.additionalTextEdits)||Ne.typedArray(t.additionalTextEdits,S.is))}}(h||(h={})),function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(f||(f={})),function(e){e.create=function(e,t,n,r,i,o){const s={startLine:e,endLine:t};return Ne.defined(n)&&(s.startCharacter=n),Ne.defined(r)&&(s.endCharacter=r),Ne.defined(i)&&(s.kind=i),Ne.defined(o)&&(s.collapsedText=o),s},e.is=function(e){const t=e;return Ne.objectLiteral(t)&&Ne.uinteger(t.startLine)&&Ne.uinteger(t.startLine)&&(Ne.undefined(t.startCharacter)||Ne.uinteger(t.startCharacter))&&(Ne.undefined(t.endCharacter)||Ne.uinteger(t.endCharacter))&&(Ne.undefined(t.kind)||Ne.string(t.kind))}}(v||(v={})),function(e){e.create=function(e,t){return{location:e,message:t}},e.is=function(e){const t=e;return Ne.defined(t)&&l.is(t.location)&&Ne.string(t.message)}}(g||(g={})),function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4}(m||(m={})),function(e){e.Unnecessary=1,e.Deprecated=2}(y||(y={})),function(e){e.is=function(e){const t=e;return Ne.objectLiteral(t)&&Ne.string(t.href)}}(b||(b={})),function(e){e.create=function(e,t,n,r,i,o){const s={range:e,message:t};return Ne.defined(n)&&(s.severity=n),Ne.defined(r)&&(s.code=r),Ne.defined(i)&&(s.source=i),Ne.defined(o)&&(s.relatedInformation=o),s},e.is=function(e){var t;const n=e;return Ne.defined(n)&&c.is(n.range)&&Ne.string(n.message)&&(Ne.number(n.severity)||Ne.undefined(n.severity))&&(Ne.integer(n.code)||Ne.string(n.code)||Ne.undefined(n.code))&&(Ne.undefined(n.codeDescription)||Ne.string(null===(t=n.codeDescription)||void 0===t?void 0:t.href))&&(Ne.string(n.source)||Ne.undefined(n.source))&&(Ne.undefined(n.relatedInformation)||Ne.typedArray(n.relatedInformation,g.is))}}(_||(_={})),function(e){e.create=function(e,t,...n){const r={title:e,command:t};return Ne.defined(n)&&n.length>0&&(r.arguments=n),r},e.is=function(e){const t=e;return Ne.defined(t)&&Ne.string(t.title)&&(void 0===t.tooltip||Ne.string(t.tooltip))&&Ne.string(t.command)}}(E||(E={})),function(e){e.replace=function(e,t){return{range:e,newText:t}},e.insert=function(e,t){return{range:{start:e,end:e},newText:t}},e.del=function(e){return{range:e,newText:""}},e.is=function(e){const t=e;return Ne.objectLiteral(t)&&Ne.string(t.newText)&&c.is(t.range)}}(S||(S={})),function(e){e.create=function(e,t,n){const r={label:e};return void 0!==t&&(r.needsConfirmation=t),void 0!==n&&(r.description=n),r},e.is=function(e){const t=e;return Ne.objectLiteral(t)&&Ne.string(t.label)&&(Ne.boolean(t.needsConfirmation)||void 0===t.needsConfirmation)&&(Ne.string(t.description)||void 0===t.description)}}(w||(w={})),function(e){e.is=function(e){const t=e;return Ne.string(t)}}(P||(P={})),function(e){e.replace=function(e,t,n){return{range:e,newText:t,annotationId:n}},e.insert=function(e,t,n){return{range:{start:e,end:e},newText:t,annotationId:n}},e.del=function(e,t){return{range:e,newText:"",annotationId:t}},e.is=function(e){const t=e;return S.is(t)&&(w.is(t.annotationId)||P.is(t.annotationId))}}(T||(T={})),function(e){e.create=function(e,t){return{textDocument:e,edits:t}},e.is=function(e){const t=e;return Ne.defined(t)&&N.is(t.textDocument)&&Array.isArray(t.edits)}}(C||(C={})),function(e){e.create=function(e,t,n){const r={kind:"create",uri:e};return void 0===t||void 0===t.overwrite&&void 0===t.ignoreIfExists||(r.options=t),void 0!==n&&(r.annotationId=n),r},e.is=function(e){const t=e;return t&&"create"===t.kind&&Ne.string(t.uri)&&(void 0===t.options||(void 0===t.options.overwrite||Ne.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||Ne.boolean(t.options.ignoreIfExists)))&&(void 0===t.annotationId||P.is(t.annotationId))}}(x||(x={})),function(e){e.create=function(e,t,n,r){const i={kind:"rename",oldUri:e,newUri:t};return void 0===n||void 0===n.overwrite&&void 0===n.ignoreIfExists||(i.options=n),void 0!==r&&(i.annotationId=r),i},e.is=function(e){const t=e;return t&&"rename"===t.kind&&Ne.string(t.oldUri)&&Ne.string(t.newUri)&&(void 0===t.options||(void 0===t.options.overwrite||Ne.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||Ne.boolean(t.options.ignoreIfExists)))&&(void 0===t.annotationId||P.is(t.annotationId))}}(I||(I={})),function(e){e.create=function(e,t,n){const r={kind:"delete",uri:e};return void 0===t||void 0===t.recursive&&void 0===t.ignoreIfNotExists||(r.options=t),void 0!==n&&(r.annotationId=n),r},e.is=function(e){const t=e;return t&&"delete"===t.kind&&Ne.string(t.uri)&&(void 0===t.options||(void 0===t.options.recursive||Ne.boolean(t.options.recursive))&&(void 0===t.options.ignoreIfNotExists||Ne.boolean(t.options.ignoreIfNotExists)))&&(void 0===t.annotationId||P.is(t.annotationId))}}(O||(O={})),function(e){e.is=function(e){const t=e;return t&&(void 0!==t.changes||void 0!==t.documentChanges)&&(void 0===t.documentChanges||t.documentChanges.every((e=>Ne.string(e.kind)?x.is(e)||I.is(e)||O.is(e):C.is(e))))}}(R||(R={}));class Oe{constructor(e,t){this.edits=e,this.changeAnnotations=t}insert(e,t,n){let r,i;if(void 0===n?r=S.insert(e,t):P.is(n)?(i=n,r=T.insert(e,t,n)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(n),r=T.insert(e,t,i)),this.edits.push(r),void 0!==i)return i}replace(e,t,n){let r,i;if(void 0===n?r=S.replace(e,t):P.is(n)?(i=n,r=T.replace(e,t,n)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(n),r=T.replace(e,t,i)),this.edits.push(r),void 0!==i)return i}delete(e,t){let n,r;if(void 0===t?n=S.del(e):P.is(t)?(r=t,n=T.del(e,t)):(this.assertChangeAnnotations(this.changeAnnotations),r=this.changeAnnotations.manage(t),n=T.del(e,r)),this.edits.push(n),void 0!==r)return r}add(e){this.edits.push(e)}all(){return this.edits}clear(){this.edits.splice(0,this.edits.length)}assertChangeAnnotations(e){if(void 0===e)throw new Error("Text edit change is not configured to manage change annotations.")}}!function(e){e.is=function(e){const t=e;return Ne.objectLiteral(t)&&c.is(t.range)&&Se.isSnippet(t.snippet)&&(void 0===t.annotationId||w.is(t.annotationId)||P.is(t.annotationId))}}(D||(D={}));class Re{constructor(e){this._annotations=void 0===e?Object.create(null):e,this._counter=0,this._size=0}all(){return this._annotations}get size(){return this._size}manage(e,t){let n;if(P.is(e)?n=e:(n=this.nextId(),t=e),void 0!==this._annotations[n])throw new Error(`Id ${n} is already in use.`);if(void 0===t)throw new Error(`No annotation provided for id ${n}`);return this._annotations[n]=t,this._size++,n}nextId(){return this._counter++,this._counter.toString()}}class De{constructor(e){this._textEditChanges=Object.create(null),void 0!==e?(this._workspaceEdit=e,e.documentChanges?(this._changeAnnotations=new Re(e.changeAnnotations),e.changeAnnotations=this._changeAnnotations.all(),e.documentChanges.forEach((e=>{if(C.is(e)){const t=new Oe(e.edits,this._changeAnnotations);this._textEditChanges[e.textDocument.uri]=t}}))):e.changes&&Object.keys(e.changes).forEach((t=>{const n=new Oe(e.changes[t]);this._textEditChanges[t]=n}))):this._workspaceEdit={}}get edit(){return this.initDocumentChanges(),void 0!==this._changeAnnotations&&(0===this._changeAnnotations.size?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit}getTextEditChange(e){if(N.is(e)){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");const t={uri:e.uri,version:e.version};let n=this._textEditChanges[t.uri];if(!n){const e=[],r={textDocument:t,edits:e};this._workspaceEdit.documentChanges.push(r),n=new Oe(e,this._changeAnnotations),this._textEditChanges[t.uri]=n}return n}{if(this.initChanges(),void 0===this._workspaceEdit.changes)throw new Error("Workspace edit is not configured for normal text edit changes.");let t=this._textEditChanges[e];if(!t){const n=[];this._workspaceEdit.changes[e]=n,t=new Oe(n),this._textEditChanges[e]=t}return t}}initDocumentChanges(){void 0===this._workspaceEdit.documentChanges&&void 0===this._workspaceEdit.changes&&(this._changeAnnotations=new Re,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())}initChanges(){void 0===this._workspaceEdit.documentChanges&&void 0===this._workspaceEdit.changes&&(this._workspaceEdit.changes=Object.create(null))}createFile(e,t,n){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");let r,i,o;if(w.is(t)||P.is(t)?r=t:n=t,void 0===r?i=x.create(e,n):(o=P.is(r)?r:this._changeAnnotations.manage(r),i=x.create(e,n,o)),this._workspaceEdit.documentChanges.push(i),void 0!==o)return o}renameFile(e,t,n,r){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");let i,o,s;if(w.is(n)||P.is(n)?i=n:r=n,void 0===i?o=I.create(e,t,r):(s=P.is(i)?i:this._changeAnnotations.manage(i),o=I.create(e,t,r,s)),this._workspaceEdit.documentChanges.push(o),void 0!==s)return s}deleteFile(e,t,n){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");let r,i,o;if(w.is(t)||P.is(t)?r=t:n=t,void 0===r?i=O.create(e,n):(o=P.is(r)?r:this._changeAnnotations.manage(r),i=O.create(e,n,o)),this._workspaceEdit.documentChanges.push(i),void 0!==o)return o}}!function(e){e.create=function(e){return{uri:e}},e.is=function(e){const t=e;return Ne.defined(t)&&Ne.string(t.uri)}}(k||(k={})),function(e){e.create=function(e,t){return{uri:e,version:t}},e.is=function(e){const t=e;return Ne.defined(t)&&Ne.string(t.uri)&&Ne.integer(t.version)}}(A||(A={})),function(e){e.create=function(e,t){return{uri:e,version:t}},e.is=function(e){const t=e;return Ne.defined(t)&&Ne.string(t.uri)&&(null===t.version||Ne.integer(t.version))}}(N||(N={})),function(e){e.ABAP="abap",e.WindowsBat="bat",e.BibTeX="bibtex",e.Clojure="clojure",e.Coffeescript="coffeescript",e.C="c",e.CPP="cpp",e.CSharp="csharp",e.CSS="css",e.D="d",e.Delphi="pascal",e.Diff="diff",e.Dart="dart",e.Dockerfile="dockerfile",e.Elixir="elixir",e.Erlang="erlang",e.FSharp="fsharp",e.GitCommit="git-commit",e.GitRebase="rebase",e.Go="go",e.Groovy="groovy",e.Handlebars="handlebars",e.Haskell="haskell",e.HTML="html",e.Ini="ini",e.Java="java",e.JavaScript="javascript",e.JavaScriptReact="javascriptreact",e.JSON="json",e.LaTeX="latex",e.Less="less",e.Lua="lua",e.Makefile="makefile",e.Markdown="markdown",e.ObjectiveC="objective-c",e.ObjectiveCPP="objective-cpp",e.Pascal="pascal",e.Perl="perl",e.Perl6="perl6",e.PHP="php",e.Powershell="powershell",e.Pug="jade",e.Python="python",e.R="r",e.Razor="razor",e.Ruby="ruby",e.Rust="rust",e.SCSS="scss",e.SASS="sass",e.Scala="scala",e.ShaderLab="shaderlab",e.ShellScript="shellscript",e.SQL="sql",e.Swift="swift",e.TypeScript="typescript",e.TypeScriptReact="typescriptreact",e.TeX="tex",e.VisualBasic="vb",e.XML="xml",e.XSL="xsl",e.YAML="yaml"}(j||(j={})),function(e){e.create=function(e,t,n,r){return{uri:e,languageId:t,version:n,text:r}},e.is=function(e){const t=e;return Ne.defined(t)&&Ne.string(t.uri)&&Ne.string(t.languageId)&&Ne.integer(t.version)&&Ne.string(t.text)}}(M||(M={})),function(e){e.PlainText="plaintext",e.Markdown="markdown",e.is=function(t){const n=t;return n===e.PlainText||n===e.Markdown}}(L||(L={})),function(e){e.is=function(e){const t=e;return Ne.objectLiteral(e)&&L.is(t.kind)&&Ne.string(t.value)}}(F||(F={})),function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25}(V||(V={})),function(e){e.PlainText=1,e.Snippet=2}(U||(U={})),function(e){e.Deprecated=1}(H||(H={})),function(e){e.create=function(e,t,n){return{newText:e,insert:t,replace:n}},e.is=function(e){const t=e;return t&&Ne.string(t.newText)&&c.is(t.insert)&&c.is(t.replace)}}(W||(W={})),function(e){e.asIs=1,e.adjustIndentation=2}(q||(q={})),function(e){e.is=function(e){const t=e;return t&&(Ne.string(t.detail)||void 0===t.detail)&&(Ne.string(t.description)||void 0===t.description)}}(B||(B={})),function(e){e.create=function(e){return{label:e}}}($||($={})),function(e){e.create=function(e,t){return{items:e||[],isIncomplete:!!t}}}(K||(K={})),function(e){e.fromPlainText=function(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},e.is=function(e){const t=e;return Ne.string(t)||Ne.objectLiteral(t)&&Ne.string(t.language)&&Ne.string(t.value)}}(G||(G={})),function(e){e.is=function(e){const t=e;return!!t&&Ne.objectLiteral(t)&&(F.is(t.contents)||G.is(t.contents)||Ne.typedArray(t.contents,G.is))&&(void 0===e.range||c.is(e.range))}}(z||(z={})),function(e){e.create=function(e,t){return t?{label:e,documentation:t}:{label:e}}}(Y||(Y={})),function(e){e.create=function(e,t,...n){const r={label:e};return Ne.defined(t)&&(r.documentation=t),Ne.defined(n)?r.parameters=n:r.parameters=[],r}}(X||(X={})),function(e){e.Text=1,e.Read=2,e.Write=3}(J||(J={})),function(e){e.create=function(e,t){const n={range:e};return Ne.number(t)&&(n.kind=t),n}}(Q||(Q={})),function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26}(Z||(Z={})),function(e){e.Deprecated=1}(ee||(ee={})),function(e){e.create=function(e,t,n,r,i){const o={name:e,kind:t,location:{uri:r,range:n}};return i&&(o.containerName=i),o}}(te||(te={})),function(e){e.create=function(e,t,n,r){return void 0!==r?{name:e,kind:t,location:{uri:n,range:r}}:{name:e,kind:t,location:{uri:n}}}}(ne||(ne={})),function(e){e.create=function(e,t,n,r,i,o){const s={name:e,detail:t,kind:n,range:r,selectionRange:i};return void 0!==o&&(s.children=o),s},e.is=function(e){const t=e;return t&&Ne.string(t.name)&&Ne.number(t.kind)&&c.is(t.range)&&c.is(t.selectionRange)&&(void 0===t.detail||Ne.string(t.detail))&&(void 0===t.deprecated||Ne.boolean(t.deprecated))&&(void 0===t.children||Array.isArray(t.children))&&(void 0===t.tags||Array.isArray(t.tags))}}(re||(re={})),function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorMove="refactor.move",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll",e.Notebook="notebook"}(ie||(ie={})),function(e){e.Invoked=1,e.Automatic=2}(oe||(oe={})),function(e){e.create=function(e,t,n){const r={diagnostics:e};return null!=t&&(r.only=t),null!=n&&(r.triggerKind=n),r},e.is=function(e){const t=e;return Ne.defined(t)&&Ne.typedArray(t.diagnostics,_.is)&&(void 0===t.only||Ne.typedArray(t.only,Ne.string))&&(void 0===t.triggerKind||t.triggerKind===oe.Invoked||t.triggerKind===oe.Automatic)}}(se||(se={})),function(e){e.create=function(e,t,n){const r={title:e};let i=!0;return"string"==typeof t?(i=!1,r.kind=t):E.is(t)?r.command=t:r.edit=t,i&&void 0!==n&&(r.kind=n),r},e.is=function(e){const t=e;return t&&Ne.string(t.title)&&(void 0===t.diagnostics||Ne.typedArray(t.diagnostics,_.is))&&(void 0===t.kind||Ne.string(t.kind))&&(void 0!==t.edit||void 0!==t.command)&&(void 0===t.command||E.is(t.command))&&(void 0===t.isPreferred||Ne.boolean(t.isPreferred))&&(void 0===t.edit||R.is(t.edit))}}(ae||(ae={})),function(e){e.create=function(e,t){const n={range:e};return Ne.defined(t)&&(n.data=t),n},e.is=function(e){const t=e;return Ne.defined(t)&&c.is(t.range)&&(Ne.undefined(t.command)||E.is(t.command))}}(ce||(ce={})),function(e){e.create=function(e,t){return{tabSize:e,insertSpaces:t}},e.is=function(e){const t=e;return Ne.defined(t)&&Ne.uinteger(t.tabSize)&&Ne.boolean(t.insertSpaces)}}(le||(le={})),function(e){e.create=function(e,t,n){return{range:e,target:t,data:n}},e.is=function(e){const t=e;return Ne.defined(t)&&c.is(t.range)&&(Ne.undefined(t.target)||Ne.string(t.target))}}(ue||(ue={})),function(e){e.create=function(e,t){return{range:e,parent:t}},e.is=function(t){const n=t;return Ne.objectLiteral(n)&&c.is(n.range)&&(void 0===n.parent||e.is(n.parent))}}(pe||(pe={})),function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator",e.label="label"}(de||(de={})),function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"}(he||(he={})),function(e){e.is=function(e){const t=e;return Ne.objectLiteral(t)&&(void 0===t.resultId||"string"==typeof t.resultId)&&Array.isArray(t.data)&&(0===t.data.length||"number"==typeof t.data[0])}}(fe||(fe={})),function(e){e.create=function(e,t){return{range:e,text:t}},e.is=function(e){const t=e;return null!=t&&c.is(t.range)&&Ne.string(t.text)}}(ve||(ve={})),function(e){e.create=function(e,t,n){return{range:e,variableName:t,caseSensitiveLookup:n}},e.is=function(e){const t=e;return null!=t&&c.is(t.range)&&Ne.boolean(t.caseSensitiveLookup)&&(Ne.string(t.variableName)||void 0===t.variableName)}}(ge||(ge={})),function(e){e.create=function(e,t){return{range:e,expression:t}},e.is=function(e){const t=e;return null!=t&&c.is(t.range)&&(Ne.string(t.expression)||void 0===t.expression)}}(me||(me={})),function(e){e.create=function(e,t){return{frameId:e,stoppedLocation:t}},e.is=function(e){const t=e;return Ne.defined(t)&&c.is(e.stoppedLocation)}}(ye||(ye={})),function(e){e.Type=1,e.Parameter=2,e.is=function(e){return 1===e||2===e}}(be||(be={})),function(e){e.create=function(e){return{value:e}},e.is=function(e){const t=e;return Ne.objectLiteral(t)&&(void 0===t.tooltip||Ne.string(t.tooltip)||F.is(t.tooltip))&&(void 0===t.location||l.is(t.location))&&(void 0===t.command||E.is(t.command))}}(_e||(_e={})),function(e){e.create=function(e,t,n){const r={position:e,label:t};return void 0!==n&&(r.kind=n),r},e.is=function(e){const t=e;return Ne.objectLiteral(t)&&a.is(t.position)&&(Ne.string(t.label)||Ne.typedArray(t.label,_e.is))&&(void 0===t.kind||be.is(t.kind))&&void 0===t.textEdits||Ne.typedArray(t.textEdits,S.is)&&(void 0===t.tooltip||Ne.string(t.tooltip)||F.is(t.tooltip))&&(void 0===t.paddingLeft||Ne.boolean(t.paddingLeft))&&(void 0===t.paddingRight||Ne.boolean(t.paddingRight))}}(Ee||(Ee={})),function(e){e.createSnippet=function(e){return{kind:"snippet",value:e}},e.isSnippet=function(e){const t=e;return Ne.objectLiteral(t)&&"snippet"===t.kind&&Ne.string(t.value)}}(Se||(Se={})),function(e){e.create=function(e,t,n,r){return{insertText:e,filterText:t,range:n,command:r}}}(we||(we={})),function(e){e.create=function(e){return{items:e}}}(Pe||(Pe={})),function(e){e.Invoked=1,e.Automatic=2}(Te||(Te={})),function(e){e.create=function(e,t){return{range:e,text:t}}}(Ce||(Ce={})),function(e){e.create=function(e,t){return{triggerKind:e,selectedCompletionInfo:t}}}(xe||(xe={})),function(e){e.is=function(e){const t=e;return Ne.objectLiteral(t)&&i.is(t.uri)&&Ne.string(t.name)}}(Ie||(Ie={}));const ke=["\n","\r\n","\r"];var Ae,Ne;!function(e){function t(e,n){if(e.length<=1)return e;const r=e.length/2|0,i=e.slice(0,r),o=e.slice(r);t(i,n),t(o,n);let s=0,a=0,c=0;for(;s<i.length&&a<o.length;){const t=n(i[s],o[a]);e[c++]=t<=0?i[s++]:o[a++]}for(;s<i.length;)e[c++]=i[s++];for(;a<o.length;)e[c++]=o[a++];return e}e.create=function(e,t,n,r){return new je(e,t,n,r)},e.is=function(e){const t=e;return!!(Ne.defined(t)&&Ne.string(t.uri)&&(Ne.undefined(t.languageId)||Ne.string(t.languageId))&&Ne.uinteger(t.lineCount)&&Ne.func(t.getText)&&Ne.func(t.positionAt)&&Ne.func(t.offsetAt))},e.applyEdits=function(e,n){let r=e.getText();const i=t(n,((e,t)=>{const n=e.range.start.line-t.range.start.line;return 0===n?e.range.start.character-t.range.start.character:n}));let o=r.length;for(let t=i.length-1;t>=0;t--){const n=i[t],s=e.offsetAt(n.range.start),a=e.offsetAt(n.range.end);if(!(a<=o))throw new Error("Overlapping edit");r=r.substring(0,s)+n.newText+r.substring(a,r.length),o=s}return r}}(Ae||(Ae={}));class je{constructor(e,t,n,r){this._uri=e,this._languageId=t,this._version=n,this._content=r,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){const t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content}update(e,t){this._content=e.text,this._version=t,this._lineOffsets=void 0}getLineOffsets(){if(void 0===this._lineOffsets){const e=[],t=this._content;let n=!0;for(let r=0;r<t.length;r++){n&&(e.push(r),n=!1);const i=t.charAt(r);n="\r"===i||"\n"===i,"\r"===i&&r+1<t.length&&"\n"===t.charAt(r+1)&&r++}n&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);const t=this.getLineOffsets();let n=0,r=t.length;if(0===r)return a.create(0,e);for(;n<r;){const i=Math.floor((n+r)/2);t[i]>e?r=i:n=i+1}const i=n-1;return a.create(i,e-t[i])}offsetAt(e){const t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;const n=t[e.line],r=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,r),n)}get lineCount(){return this.getLineOffsets().length}}!function(e){const t=Object.prototype.toString;e.defined=function(e){return void 0!==e},e.undefined=function(e){return void 0===e},e.boolean=function(e){return!0===e||!1===e},e.string=function(e){return"[object String]"===t.call(e)},e.number=function(e){return"[object Number]"===t.call(e)},e.numberRange=function(e,n,r){return"[object Number]"===t.call(e)&&n<=e&&e<=r},e.integer=function(e){return"[object Number]"===t.call(e)&&-2147483648<=e&&e<=2147483647},e.uinteger=function(e){return"[object Number]"===t.call(e)&&0<=e&&e<=2147483647},e.func=function(e){return"[object Function]"===t.call(e)},e.objectLiteral=function(e){return null!==e&&"object"==typeof e},e.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)}}(Ne||(Ne={}))},65465:e=>{"use strict";e.exports={rE:"1.7.6"}},96779:e=>{"use strict";e.exports={rE:"1.1.1"}},43267:e=>{"use strict";e.exports=JSON.parse('[["8740",""],["8767",""],["87a1",""],["8840","",4,""],["88a1",""],["8940",""],["8943",""],["8946",""],["894c",""],["89a1",""],["89ab",""],["89b0",""],["89b5",""],["89c1",""],["89c5",""],["8a40",""],["8a43",""],["8a64",""],["8a76",""],["8aa1",""],["8aac",""],["8ab2",""],["8abb",""],["8ac9",""],["8ace",""],["8adf",""],["8af6",""],["8b40",""],["8b55",""],["8ba1",""],["8bde",""],["8c40",""],["8ca1",""],["8ca7",""],["8cc9",""],["8cce",""],["8ce6",""],["8d40",""],["8d42",""],["8da1",""],["8e40",""],["8ea1",""],["8f40",""],["8fa1",""],["9040",""],["90a1",""],["9140",""],["91a1",""],["9240",""],["92a1",""],["9340",""],["93a1",""],["9440",""],["94a1",""],["9540",""],["95a1",""],["9640",""],["96a1",""],["9740",""],["97a1",""],["9840",""],["98a1",""],["9940",""],["99a1",""],["9a40",""],["9aa1",""],["9b40",""],["9b62",""],["9ba1",""],["9c40",""],["9ca1",""],["9d40",""],["9da1",""],["9e40",""],["9ea1",""],["9ead",""],["9ec5",""],["9ef5",""],["9f40",""],["9f4f",""],["9fa1",""],["9fae",""],["9fb2",""],["9fc1",""],["9fc9",""],["9fdb",""],["9fe7",""],["9feb",""],["9ff0",""],["a040",""],["a055",""],["a058",""],["a05b",""],["a063",""],["a073",""],["a0a1",""],["a0a6",""],["a0ae",""],["a0b0",""],["a0d4",""],["a0e2",""],["a3c0","",31,""],["c6a1","",9,"",9,"",9,"",23],["c740","",58,""],["c7a1","",81,"",5,"",4],["c840","",26,"",25,""],["c8a1",""],["c8cd",""],["c8f5",""],["f9fe",""],["fa40",""],["faa1",""],["fb40",""],["fba1",""],["fc40",""],["fca1",""],["fd40",""],["fda1",""],["fe40",""],["fea1",""]]')},74488:e=>{"use strict";e.exports=JSON.parse('[["0","\\u0000",127,""],["8140","",5,"",9,"",6,""],["8180","",6,"",4,"",4,"",5,""],["8240","",4,"",8,"",4,"",11],["8280","",10,"",4,"",7,"",5,"",8,"",20,"",4,"",6,""],["8340","",17,"",5,"",10,"",4,"",9,""],["8380","",5,"",13,"",28,"",4,"",4,"",5],["8440","",5,"",5,""],["8480","",9,"",4,"",6,"",6,"",9,"",5,"",10,"",7,""],["8540","",9,""],["8580","",4,"",6,"",4,"",4,"",7,""],["8640","",4,"",5,"",4,"",5,""],["8680","",4,"",4,"",5,"",6,"",8,"",4,"",4,"",4,""],["8740","",7,"",11,"",4,"",4],["8780","",7,"",6,"",14,"",10,"",6,"",12,"",8,"",5,"",6],["8840","",9,"",4,"",4,""],["8880","",4,"",6,"",8,"",6,"",7,"",4,"",4,"",7],["8940","",5,"",6,"",4,"",5,"",4,"",16,""],["8980","",4,"",4,"",7,"",17,"",10,"",13,"",5,"",7,"",4,""],["8a40","",4,"",12,""],["8a80","",5,"",6,"",4,"",11,"",6,"",4,"",4,"",9,"",5],["8b40","",8,"",17,"",6,"",13,""],["8b80","",4,"",4,"",5,"",4,"",4,"",22,"",11,"",25,"",7,"",6],["8c40","",7,""],["8c80","",8,"",4,"",6,"",6,"",6,"",4,"",4,"",4],["8d40","",5,"",5,"",5,"",6,"",9,"",4],["8d80","",5,"",4,"",4,"",4,"",7,"",7,"",10,"",10,"",12,"",21,""],["8e40","",21,"",12,"",6,"",12,""],["8e80","",4,"",7,"",4,"",4,"",5,"",6,"",4,"",14,"",4,"",4,"",6],["8f40","",5,"",11,"",8,""],["8f80","",6,"",14,"",5,"",5,"",4,""],["9040","",4,"",4,"",6,""],["9080","",7,"",4,"",4,"",4,"",4,"",18,"",6],["9140","",6,"",6,"",18,"",4,""],["9180","",6,"",8,"",9,"",5,"",4,"",4,"",16,"",13,"",8,"",5,"",4,""],["9240","",6,"",5,""],["9280","",5,"",7,"",6,""],["9340","",6,"",4,"",4,"",5,""],["9380","",5,"",4,"",6,"",4,"",7,"",9,"",6,"",8,"",4,"",6,""],["9440","",24,"",7,"",7,"",4,"",8],["9480","",4,"",4,"",14,"",7,"",7,""],["9540","",4,"",4,"",6,""],["9580","",4,"",4,"",8,"",4,"",4,"",25,"",7,"",5,""],["9640","",5,"",4,""],["9680","",7,"",9,"",7,"",4,"",6,"",6,"",5],["9740","",7,"",8,"",7,"",9,""],["9780","",6,"",5,"",4,"",9,"",4,"",11,"",7,"",16,""],["9840","",4,"",5,"",9,""],["9880","",7,"",5,"",11,"",9,"",9,"",11,"",5,"",5,"",6,"",4,"",7,"",6,""],["9940","",4,"",10,"",6,"",8,"",4,"",7,"",5],["9980","",114,"",6],["9a40","",11,"",7,"",13,""],["9a80","",4,"",7,"",7,"",6,"",4,"",4,"",7,"",6,"",4,"",4,""],["9b40","",4,""],["9b80","",5,"",4,"",4,"",5,""],["9c40","",7,""],["9c80","",7,"",7,"",10,"",14,"",4,"",6,"",5],["9d40","",7,"",4,"",9,"",6,""],["9d80","",9,"",5,"",6,"",12,"",4,"",10,"",5,"",5,"",6,"",10,""],["9e40","",7,"",32,"",7,"",6,"",6],["9e80","",9,"",17,"",13,"",11,"",12,"",12,""],["9f40","",6,"",10,"",4,"",10,"",7,""],["9f80","",13,"",12,"",4,"",4,"",5,"",4,"",4,"",6,"",5,"",8,"",9,"",4],["a040","",9,"",5,"",9,"",11,"",19],["a080","",9,"",6,"",4,"",11,"",11,"",6,""],["a1a1","",7,""],["a2a1","",9],["a2b1","",19,"",19,"",9],["a2e5","",9],["a2f1","",11],["a3a1","",88,""],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a6e0",""],["a6ee",""],["a6f4",""],["a7a1","",5,"",25],["a7d1","",5,"",25],["a840","",35,"",6],["a880","",7,""],["a8a1",""],["a8bd",""],["a8c0",""],["a8c5","",36],["a940","",8,""],["a959",""],["a95c",""],["a960","",9,"",8],["a980","",4,""],["a996",""],["a9a4","",75],["aa40","",5,"",5,"",8],["aa80","",7,"",10,""],["ab40","",11,"",4,"",5,"",4],["ab80","",6,"",4],["ac40","",10,"",8,"",5,"",4,"",11],["ac80","",6,"",12,"",4,""],["ad40","",10,"",7,"",15,"",12],["ad80","",9,"",8,"",6,""],["ae40","",6,"",7,"",4,""],["ae80","",7,"",6,"",4,""],["af40","",4,""],["af80",""],["b040","",6,"",5,"",4,"",6,"",7,""],["b080","",7,"",8,"",9,""],["b140","",4,"",7,"",10,""],["b180","",4,"",7,"",7,""],["b240","",11,"",5,"",11,"",4],["b280","",12,"",8,"",4,""],["b340","",5,""],["b380","",11,"",7,"",6,""],["b440","",7,"",9],["b480","",4,"",5,"",6,""],["b540","",5,"",9,"",4,"",14,"",4,"",8,""],["b580","",6,"",4,""],["b640","",6,"",11,"",10,"",4,"",5,""],["b680","",6,"",4,""],["b740","",14,"",5,"",9,"",4,"",16],["b780","",6,""],["b840","",4,"",10,"",10,"",9,"",5,""],["b880","",4,""],["b940","",5,"",10,"",6,""],["b980","",7,""],["ba40","",4,"",4,"",7,"",5,""],["ba80","",4,"",5,"",12,"",5,""],["bb40","",9,"",36,"",5,"",9],["bb80","",6,"",4,""],["bc40","",6,"",6,"",5,"",7,"",13,"",5],["bc80","",14,"",6,""],["bd40","",54,"",7],["bd80","",32,""],["be40","",12,"",6,"",42],["be80","",32,""],["bf40","",62],["bf80","",4,"",4,"",21,""],["c040","",35,"",23,""],["c080","",6,"",9,""],["c140","",4,"",7,"",4,"",4,"",6,""],["c180","",4,"",4,"",5,""],["c240","",6,"",5,""],["c280","",13,"",5,"",11,""],["c340","",5,"",4,"",6,""],["c380","",12,"",4,""],["c440","",5,"",4,"",4,"",5,"",4,""],["c480","",7,"",5,"",6,""],["c540","",14,"",4,"",5,"",4,"",5,""],["c580","",7,"",7,""],["c640",""],["c680","",4,"",9,""],["c740","",4,"",4,"",6,"",6,"",6,""],["c780",""],["c840","",4,"",5,"",5,"",7,"",5,"",7,""],["c880","",6,"",4,"",4,""],["c940","",4,"",7,"",12,""],["c980","",4,"",4,"",10,""],["ca40","",8,"",8,"",9,"",4,"",10],["ca80","",4,"",8,""],["cb40","",6,"",10,"",6,"",5,"",6,"",6,"",4,""],["cb80","",5,"",6,"",14,""],["cc40","",4,"",10,"",15,"",13,""],["cc80","",11,"",4,"",7,""],["cd40","",6,"",6,"",4,"",5,"",4,"",4,""],["cd80",""],["ce40","",6,"",5,"",7,""],["ce80","",4,"",6,"",4,""],["cf40","",4,"",4,"",6,"",9],["cf80","",5,"",7,"",4,""],["d040","",13,"",5,"",5,"",5,"",6,""],["d080","",4,"",4,"",5,""],["d140","",4,"",4,"",6,"",5],["d180","",4,"",4,"",4,""],["d240","",8,"",24,"",5,"",19,""],["d280","",26,""],["d340","",30,"",6],["d380","",4,"",5,"",21,""],["d440","",31,"",8,"",21],["d480","",25,"",6,""],["d540","",7,"",7,"",46],["d580","",32,""],["d640","",34,"",27],["d680","",30,""],["d740","",31,"",4,"",25],["d780","",24,""],["d840","",8,"",7,"",5,"",6,"",6,"",6,""],["d880","",6,"",20,""],["d940","",62],["d980","",32,""],["da40","",14,"",8,"",4,"",9,""],["da80","",12,""],["db40","",6,"",7,"",4,""],["db80","",4,"",5,"",11,""],["dc40","",4,"",6,"",6,"",11,"",6,"",7],["dc80","",10,"",21,""],["dd40","",62],["dd80","",32,""],["de40","",32,""],["de80","",4,""],["df40","",5,"",4,"",4,"",5,"",4,"",6,""],["df80","",4,""],["e040","",19,""],["e080","",10,"",6,"",8,""],["e140","",4,"",6,"",5,"",5,""],["e180","",10,"",9,"",8,""],["e240","",62],["e280","",32,"",5,""],["e340","",45,"",16],["e380","",7,"",24,""],["e440","",5,"",24,"",31],["e480","",32,""],["e540","",51,"",10],["e580","",31,""],["e640","",34,"",27],["e680","",29,""],["e740","",7,"",54],["e780","",32,"",6,"",4,""],["e840","",14,"",43,""],["e880","",20,""],["e940","",7,"",42],["e980","",32,""],["ea40","",27,"",6,""],["ea80","",4,"",12,""],["eb40","",9,"",7,"",9,"",6,""],["eb80","",4,""],["ec40","",8,"",4,"",18,"",7],["ec80","",4,"",7,"",4,"",4,""],["ed40","",6,"",46],["ed80","",4,"",23,""],["ee40","",62],["ee80","",32,"",4,"",6,""],["ef40","",5,"",37,"",4],["ef80","",30,"",4,"",8,""],["f040","",4,"",28,"",26],["f080","",9,"",12,"",4,"",6,""],["f140","",10,"",47],["f180","",32,""],["f240","",62],["f280","",32,""],["f340","",17,"",6,"",4,""],["f380","",8,"",6,""],["f440","",5,"",10,"",10,"",7,"",5],["f480","",32,""],["f540","",62],["f580","",32,""],["f640","",62],["f680","",32,"",5,"",5,"",4,"",7,""],["f740","",62],["f780","",4,"",4,""],["f840","",62],["f880","",32],["f940","",62],["f980","",32],["fa40","",62],["fa80","",32],["fb40","",27,"",9,""],["fb80","",5,"",8,"",5,""],["fc40","",8,"",4,"",8,"",6],["fc80","",4,"",5,"",8,""],["fd40","",4,"",4,"",10,"",38],["fd80","",5,"",11,"",4,""],["fe40",""]]')},21166:e=>{"use strict";e.exports=JSON.parse('[["0","\\u0000",127],["8141","",4,"",6,""],["8161","",9,"",5,""],["8181","",18,"",4,"",6,"",5,"",6,"",7,"",7,"",4,"",4,""],["8241","",7,"",5],["8261","",6,"",5,""],["8281","",7,"",7,"",4,"",10,"",5,"",17,"",7,"",6,"",7,"",18],["8341","",5,"",5,"",7],["8361","",18,""],["8381","",4,"",6,"",5,"",5,"",46,"",6,"",5,"",8],["8441","",5,"",8],["8461","",18],["8481","",7,"",6,"",5,"",10,"",5,"",18,"",5,"",6,"",5,"",26,""],["8541","",5,"",4,"",6,"",4],["8561","",5,"",5,"",6,""],["8581","",6,"",6,"",9,"",26,"",29,"",6,"",5,""],["8641","",6,"",5,""],["8661","",6,"",10],["8681","",22,"",4,"",6,"",5,"",6,"",22,"",4,""],["8741","",9,"",15],["8761","",18,""],["8781","",5,"",7,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",4],["8841","",4,"",5,"",6,"",4],["8861","",4,""],["8881","",15,"",4,"",6,"",5,"",54,""],["8941","",6,"",5,""],["8961","",10,"",5,""],["8981","",21,"",18,"",18,"",6,"",6,"",7,"",15],["8a41","",10,"",6,""],["8a61","",4,"",18,""],["8a81","",4,"",19,"",5,"",7,"",5,"",6,"",5,"",4,"",5,"",26,""],["8b41","",5,"",4,"",6,""],["8b61","",6,"",8],["8b81","",52,"",4,"",6,"",5,"",18,"",18],["8c41","",15,"",4],["8c61","",6,"",5,"",6,"",5],["8c81","",12,"",26,"",50,"",5,"",16],["8d41","",16,"",8],["8d61","",17,""],["8d81","",4,"",33,"",6,"",7,"",6,"",9,"",6,"",5,"",6,""],["8e41","",6,"",5,"",8],["8e61","",4,"",19],["8e81","",13,"",6,"",4,"",6,"",5,"",6,"",5,"",11,"",7,"",6,"",5,"",7],["8f41","",7,"",17],["8f61","",7,"",6,"",4],["8f81","",5,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",5],["9041","",6,"",5,""],["9061","",5,"",15],["9081","",12,"",6,"",5,"",4,"",6,"",4,"",5,"",11,"",33,""],["9141","",6,"",5],["9161","",9,"",5],["9181","",20,"",4,"",5,"",14,"",33,"",7,"",5,"",6],["9241","",7,"",4,""],["9261","",7,"",7,"",4],["9281","",21,"",18,"",6,"",7,"",6,"",35,""],["9341","",4,""],["9361","",6,"",8],["9381","",37,"",4,"",4,"",6,"",5,"",7,"",22,""],["9441","",5,"",5,"",8],["9461","",5,"",6,"",12],["9481","",5,"",6,"",6,"",9,"",22,"",4,"",6,"",10,"",6,"",24],["9541","",11,"",5,""],["9561","",6,"",5,""],["9581","",6,"",35,"",4,"",4,"",4,"",6,"",5,"",13,"",14],["9641","",23,""],["9661","",6,"",5,"",8],["9681","",10,"",5,"",13,"",33,"",6,"",44],["9741","",16,"",8],["9761","",17,"",7],["9781","",11,"",5,"",6,"",89,""],["9841","",16,"",5,""],["9861","",6,"",15],["9881","",21,"",6,"",5,"",4,"",6,"",5,"",6,"",5,"",6,"",5,""],["9941","",6,"",5,""],["9961","",6,"",5,""],["9981","",8,"",5,"",4,"",11,"",5,"",6,"",6,"",6,"",7,"",6,"",5,""],["9a41","",16],["9a61","",6,"",6,""],["9a81","",4,"",6,"",5,"",5,"",6,"",5,"",5,"",33,"",5,"",6,""],["9b41","",6,"",8],["9b61","",17,"",7],["9b81","",25,"",4,"",5,"",50,"",22,""],["9c41","",4,"",5,"",5],["9c61","",8,"",6,"",9],["9c81","",8,"",6,"",6,"",9,"",26,"",6,"",5,"",18,"",6,"",12],["9d41","",13,"",8],["9d61","",25],["9d81","",8,"",5,"",9,"",6,"",10,"",6,"",5,"",6,"",5,""],["9e41","",7,"",9,""],["9e61","",4,"",6,""],["9e81","",6,"",6,"",6,"",5,"",10,"",5,"",6,"",5,"",6,""],["9f41","",5,"",4,"",5,""],["9f61","",6,"",5,""],["9f81","",4,"",5,"",6,"",5,"",6,"",4,"",6,"",7,"",4,"",4,""],["a041","",5,"",6,""],["a061","",5,"",13],["a081","",4,"",4,"",4,"",6,"",5,"",6,"",5,"",26,"",4,"",5,"",7,""],["a141","",18,""],["a161","",6,"",5,""],["a181","",14,"",5,"",4,"",9,""],["a241","",5,"",18],["a261","",6,"",18],["a281","",7,"",6,"",7,""],["a341","",6,"",10,""],["a361","",6,"",16],["a381","",16,"",4,"",58,"",32,""],["a441","",5,""],["a461","",5,"",12],["a481","",28,"",93],["a541","",4,"",6,"",5,""],["a561","",17,"",5,""],["a581","",16,"",14,"",9],["a5b0","",9],["a5c1","",16,"",6],["a5e1","",16,"",6],["a641","",19,""],["a661","",5,"",5,"",6],["a681","",6,"",18,"",7],["a741","",4,"",6,"",7],["a761","",22,""],["a781","",6,"",5,"",7,"",9,"",9,"",4,"",5,"",4,""],["a841","",10,"",14],["a861","",18,"",6],["a881","",19,"",11,""],["a8a6",""],["a8a8",""],["a8b1","",27,"",25,"",14,""],["a941","",14,"",10],["a961","",18],["a981","",14,"",6,"",27,"",25,"",14,""],["aa41","",6,"",4,""],["aa61","",4,"",5,"",6,""],["aa81","",29,"",82],["ab41","",6,"",5,""],["ab61","",6,"",5,"",5],["ab81","",8,"",6,"",12,"",85],["ac41","",5,"",6,""],["ac61","",11,"",4],["ac81","",28,"",5,"",25],["acd1","",5,"",25],["ad41","",6,"",5,"",7],["ad61","",6,"",10,""],["ad81","",5,"",18,""],["ae41","",5,"",16],["ae61","",5,"",6,"",4],["ae81","",6,"",5,""],["af41","",19],["af61","",13,"",5,""],["af81","",5,"",6,"",5,""],["b041","",5,"",5,"",12],["b061","",5,"",19],["b081","",13,"",6,"",5,"",7,"",4,""],["b141","",6,"",5,""],["b161","",6,"",5,"",11],["b181","",14,"",6,""],["b241","",6,"",5,""],["b261","",18,"",5,""],["b281","",5,"",18,"",6,""],["b341","",19,""],["b361","",5,"",5,"",5],["b381","",5,"",5,"",19,"",4,""],["b441","",5,"",6,"",5],["b461","",6,"",10,""],["b481","",6,"",18,"",4,"",4,""],["b541","",14,"",5],["b561","",5,"",5,"",4],["b581","",6,"",5,"",11,""],["b641","",7,"",17],["b661","",15,""],["b681","",5,"",6,"",5,""],["b741","",13,"",6,""],["b761","",20,""],["b781","",6,"",14,""],["b841","",7,"",17],["b861","",8,"",13],["b881","",5,"",24,"",4,""],["b941","",6,"",5,""],["b961","",14,"",6,""],["b981","",22,"",4,"",4,""],["ba41","",5,"",6,""],["ba61","",5,"",4,"",5],["ba81","",6,"",9,""],["bb41","",4,"",5,"",4,""],["bb61","",6,"",5,""],["bb81","",31,""],["bc41","",17,""],["bc61","",5,"",6,""],["bc81","",4,"",6,"",5,"",5,"",4,""],["bd41","",7,"",7,""],["bd61","",5,"",13],["bd81","",5,"",25,""],["be41","",7,"",14],["be61","",7,"",7,""],["be81","",4,"",4,"",5,"",8,"",6,""],["bf41","",10,"",14],["bf61","",18,""],["bf81","",5,"",7,"",6,"",5,""],["c041","",5,"",6,"",5],["c061","",25],["c081","",6,"",5,"",7,""],["c141","",5,"",6,""],["c161","",19,""],["c181","",31,""],["c241","",4,"",5,""],["c261","",4,"",5,"",6,""],["c281","",5,"",7,"",9,""],["c341","",4],["c361","",4,"",5,"",11],["c381","",5,"",7,"",5,""],["c441","",7,"",7,""],["c461","",5,"",4],["c481","",5,"",11,""],["c541","",6,"",5,""],["c561","",6,"",5,"",4],["c581","",6,"",5,""],["c641","",6,"",5],["c6a1",""],["c7a1",""],["c8a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1","",5,"",4,""],["d2a1","",4,"",5,"",10,"",7,"",5,""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f5a1",""],["f6a1",""],["f7a1",""],["f8a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fda1",""]]')},72324:e=>{"use strict";e.exports=JSON.parse('[["0","\\u0000",127],["a140",""],["a1a1","",4,""],["a240","",7,""],["a2a1","",9,"",9,"",8,"",25,"",21],["a340","",16,"",6,"",16,"",6,"",10],["a3a1","",25,""],["a3e1",""],["a440",""],["a4a1",""],["a540",""],["a5a1",""],["a640",""],["a6a1",""],["a740",""],["a7a1",""],["a840",""],["a8a1",""],["a940",""],["a9a1",""],["aa40",""],["aaa1",""],["ab40",""],["aba1",""],["ac40",""],["aca1",""],["ad40",""],["ada1",""],["ae40",""],["aea1",""],["af40",""],["afa1",""],["b040",""],["b0a1",""],["b140",""],["b1a1",""],["b240",""],["b2a1",""],["b340",""],["b3a1",""],["b440",""],["b4a1",""],["b540",""],["b5a1",""],["b640",""],["b6a1",""],["b740",""],["b7a1",""],["b840",""],["b8a1",""],["b940",""],["b9a1",""],["ba40",""],["baa1",""],["bb40",""],["bba1",""],["bc40",""],["bca1",""],["bd40",""],["bda1",""],["be40",""],["bea1",""],["bf40",""],["bfa1",""],["c040",""],["c0a1",""],["c140",""],["c1a1",""],["c240",""],["c2a1",""],["c340",""],["c3a1",""],["c440",""],["c4a1",""],["c540",""],["c5a1",""],["c640",""],["c940",""],["c9a1",""],["ca40",""],["caa1",""],["cb40",""],["cba1",""],["cc40",""],["cca1",""],["cd40",""],["cda1",""],["ce40",""],["cea1",""],["cf40",""],["cfa1",""],["d040",""],["d0a1",""],["d140",""],["d1a1",""],["d240",""],["d2a1",""],["d340",""],["d3a1",""],["d440",""],["d4a1",""],["d540",""],["d5a1",""],["d640",""],["d6a1",""],["d740",""],["d7a1",""],["d840",""],["d8a1",""],["d940",""],["d9a1",""],["da40",""],["daa1",""],["db40",""],["dba1",""],["dc40",""],["dca1",""],["dd40",""],["dda1",""],["de40",""],["dea1",""],["df40",""],["dfa1",""],["e040",""],["e0a1",""],["e140",""],["e1a1",""],["e240",""],["e2a1",""],["e340",""],["e3a1",""],["e440",""],["e4a1",""],["e540",""],["e5a1",""],["e640",""],["e6a1",""],["e740",""],["e7a1",""],["e840",""],["e8a1",""],["e940",""],["e9a1",""],["ea40",""],["eaa1",""],["eb40",""],["eba1",""],["ec40",""],["eca1",""],["ed40",""],["eda1",""],["ee40",""],["eea1",""],["ef40",""],["efa1",""],["f040",""],["f0a1",""],["f140",""],["f1a1",""],["f240",""],["f2a1",""],["f340",""],["f3a1",""],["f440",""],["f4a1",""],["f540",""],["f5a1",""],["f640",""],["f6a1",""],["f740",""],["f7a1",""],["f840",""],["f8a1",""],["f940",""],["f9a1",""]]')},56406:e=>{"use strict";e.exports=JSON.parse('[["0","\\u0000",127],["8ea1","",62],["a1a1","",9,""],["a2a1",""],["a2ba",""],["a2ca",""],["a2dc",""],["a2f2",""],["a2fe",""],["a3b0","",9],["a3c1","",25],["a3e1","",25],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a7a1","",5,"",25],["a7d1","",5,"",25],["a8a1",""],["ada1","",19,"",9],["adc0",""],["addf","",4,""],["b0a1",""],["b1a1",""],["b2a1",""],["b3a1",""],["b4a1",""],["b5a1",""],["b6a1",""],["b7a1",""],["b8a1",""],["b9a1",""],["baa1",""],["bba1",""],["bca1",""],["bda1",""],["bea1",""],["bfa1",""],["c0a1",""],["c1a1",""],["c2a1",""],["c3a1",""],["c4a1",""],["c5a1",""],["c6a1",""],["c7a1",""],["c8a1",""],["c9a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1",""],["d2a1",""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fcf1","",9,""],["8fa2af",""],["8fa2c2",""],["8fa2eb",""],["8fa6e1",""],["8fa6e7",""],["8fa6e9",""],["8fa6ec",""],["8fa6f1",""],["8fa7c2","",10,""],["8fa7f2","",10,""],["8fa9a1",""],["8fa9a4",""],["8fa9a6",""],["8fa9a8",""],["8fa9ab",""],["8fa9af",""],["8fa9c1",""],["8faaa1",""],["8faaba",""],["8faba1",""],["8fabbd",""],["8fabc5",""],["8fb0a1",""],["8fb1a1",""],["8fb2a1","",4,""],["8fb3a1",""],["8fb4a1",""],["8fb5a1",""],["8fb6a1","",5,"",4,""],["8fb7a1","",4,""],["8fb8a1",""],["8fb9a1",""],["8fbaa1","",4,""],["8fbba1",""],["8fbca1","",4,""],["8fbda1","",4,""],["8fbea1","",4,""],["8fbfa1",""],["8fc0a1",""],["8fc1a1",""],["8fc2a1",""],["8fc3a1","",4,""],["8fc4a1",""],["8fc5a1",""],["8fc6a1",""],["8fc7a1",""],["8fc8a1",""],["8fc9a1","",4,"",4,""],["8fcaa1",""],["8fcba1",""],["8fcca1","",9,""],["8fcda1","",5,""],["8fcea1","",6,""],["8fcfa1",""],["8fd0a1",""],["8fd1a1",""],["8fd2a1","",5],["8fd3a1",""],["8fd4a1","",4,""],["8fd5a1",""],["8fd6a1",""],["8fd7a1",""],["8fd8a1",""],["8fd9a1","",4,"",6,""],["8fdaa1","",4,""],["8fdba1","",6,""],["8fdca1","",4,""],["8fdda1","",4,""],["8fdea1","",4,""],["8fdfa1",""],["8fe0a1",""],["8fe1a1","",4,""],["8fe2a1",""],["8fe3a1","",5,"",4,""],["8fe4a1","",4,""],["8fe5a1","",4,""],["8fe6a1",""],["8fe7a1",""],["8fe8a1","",4,""],["8fe9a1","",4],["8feaa1","",4,""],["8feba1","",4,""],["8feca1",""],["8feda1","",4,"",4,""]]')},99129:e=>{"use strict";e.exports=JSON.parse('{"uChars":[128,165,169,178,184,216,226,235,238,244,248,251,253,258,276,284,300,325,329,334,364,463,465,467,469,471,473,475,477,506,594,610,712,716,730,930,938,962,970,1026,1104,1106,8209,8215,8218,8222,8231,8241,8244,8246,8252,8365,8452,8454,8458,8471,8482,8556,8570,8596,8602,8713,8720,8722,8726,8731,8737,8740,8742,8748,8751,8760,8766,8777,8781,8787,8802,8808,8816,8854,8858,8870,8896,8979,9322,9372,9548,9588,9616,9622,9634,9652,9662,9672,9676,9680,9702,9735,9738,9793,9795,11906,11909,11913,11917,11928,11944,11947,11951,11956,11960,11964,11979,12284,12292,12312,12319,12330,12351,12436,12447,12535,12543,12586,12842,12850,12964,13200,13215,13218,13253,13263,13267,13270,13384,13428,13727,13839,13851,14617,14703,14801,14816,14964,15183,15471,15585,16471,16736,17208,17325,17330,17374,17623,17997,18018,18212,18218,18301,18318,18760,18811,18814,18820,18823,18844,18848,18872,19576,19620,19738,19887,40870,59244,59336,59367,59413,59417,59423,59431,59437,59443,59452,59460,59478,59493,63789,63866,63894,63976,63986,64016,64018,64021,64025,64034,64037,64042,65074,65093,65107,65112,65127,65132,65375,65510,65536],"gbChars":[0,36,38,45,50,81,89,95,96,100,103,104,105,109,126,133,148,172,175,179,208,306,307,308,309,310,311,312,313,341,428,443,544,545,558,741,742,749,750,805,819,820,7922,7924,7925,7927,7934,7943,7944,7945,7950,8062,8148,8149,8152,8164,8174,8236,8240,8262,8264,8374,8380,8381,8384,8388,8390,8392,8393,8394,8396,8401,8406,8416,8419,8424,8437,8439,8445,8482,8485,8496,8521,8603,8936,8946,9046,9050,9063,9066,9076,9092,9100,9108,9111,9113,9131,9162,9164,9218,9219,11329,11331,11334,11336,11346,11361,11363,11366,11370,11372,11375,11389,11682,11686,11687,11692,11694,11714,11716,11723,11725,11730,11736,11982,11989,12102,12336,12348,12350,12384,12393,12395,12397,12510,12553,12851,12962,12973,13738,13823,13919,13933,14080,14298,14585,14698,15583,15847,16318,16434,16438,16481,16729,17102,17122,17315,17320,17402,17418,17859,17909,17911,17915,17916,17936,17939,17961,18664,18703,18814,18962,19043,33469,33470,33471,33484,33485,33490,33497,33501,33505,33513,33520,33536,33550,37845,37921,37948,38029,38038,38064,38065,38066,38069,38075,38076,38078,39108,39109,39113,39114,39115,39116,39265,39394,189000]}')},55914:e=>{"use strict";e.exports=JSON.parse('[["a140","",62],["a180","",32],["a240","",62],["a280","",32],["a2ab","",5],["a2e3",""],["a2ef",""],["a2fd",""],["a340","",62],["a380","",31,""],["a440","",62],["a480","",32],["a4f4","",10],["a540","",62],["a580","",32],["a5f7","",7],["a640","",62],["a680","",32],["a6b9","",7],["a6d9","",6],["a6ec",""],["a6f3",""],["a6f6","",8],["a740","",62],["a780","",32],["a7c2","",14],["a7f2","",12],["a896","",10],["a8bc",""],["a8bf",""],["a8c1",""],["a8ea","",20],["a958",""],["a95b",""],["a95d",""],["a989","",11],["a997","",12],["a9f0","",14],["aaa1","",93],["aba1","",93],["aca1","",93],["ada1","",93],["aea1","",93],["afa1","",93],["d7fa","",4],["f8a1","",93],["f9a1","",93],["faa1","",93],["fba1","",93],["fca1","",93],["fda1","",93],["fe50",""],["fe80","",6,"",93],["8135f437",""]]')},40679:e=>{"use strict";e.exports=JSON.parse('[["0","\\u0000",128],["a1","",62],["8140","",9,""],["8180",""],["81b8",""],["81c8",""],["81da",""],["81f0",""],["81fc",""],["824f","",9],["8260","",25],["8281","",25],["829f","",82],["8340","",62],["8380","",22],["839f","",16,"",6],["83bf","",16,"",6],["8440","",5,"",25],["8470","",5,"",7],["8480","",17],["849f",""],["8740","",19,"",9],["875f",""],["877e",""],["8780","",4,""],["889f",""],["8940",""],["8980",""],["8a40",""],["8a80",""],["8b40",""],["8b80",""],["8c40",""],["8c80",""],["8d40",""],["8d80",""],["8e40",""],["8e80",""],["8f40",""],["8f80",""],["9040",""],["9080",""],["9140",""],["9180",""],["9240",""],["9280",""],["9340",""],["9380",""],["9440",""],["9480",""],["9540",""],["9580",""],["9640",""],["9680",""],["9740",""],["9780",""],["9840",""],["989f",""],["9940",""],["9980",""],["9a40",""],["9a80",""],["9b40",""],["9b80",""],["9c40",""],["9c80",""],["9d40",""],["9d80",""],["9e40",""],["9e80",""],["9f40",""],["9f80",""],["e040",""],["e080",""],["e140",""],["e180",""],["e240",""],["e280",""],["e340",""],["e380",""],["e440",""],["e480",""],["e540",""],["e580",""],["e640",""],["e680",""],["e740",""],["e780",""],["e840",""],["e880",""],["e940",""],["e980",""],["ea40",""],["ea80",""],["ed40",""],["ed80",""],["ee40",""],["ee80",""],["eeef","",9,""],["f040","",62],["f080","",124],["f140","",62],["f180","",124],["f240","",62],["f280","",124],["f340","",62],["f380","",124],["f440","",62],["f480","",124],["f540","",62],["f580","",124],["f640","",62],["f680","",124],["f740","",62],["f780","",124],["f840","",62],["f880","",124],["f940",""],["fa40","",9,"",9,""],["fa80",""],["fb40",""],["fb80",""],["fc40",""]]')},81813:e=>{"use strict";e.exports=JSON.parse('{"application/1d-interleaved-parityfec":{"source":"iana"},"application/3gpdash-qoe-report+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/3gpp-ims+xml":{"source":"iana","compressible":true},"application/3gpphal+json":{"source":"iana","compressible":true},"application/3gpphalforms+json":{"source":"iana","compressible":true},"application/a2l":{"source":"iana"},"application/ace+cbor":{"source":"iana"},"application/activemessage":{"source":"iana"},"application/activity+json":{"source":"iana","compressible":true},"application/alto-costmap+json":{"source":"iana","compressible":true},"application/alto-costmapfilter+json":{"source":"iana","compressible":true},"application/alto-directory+json":{"source":"iana","compressible":true},"application/alto-endpointcost+json":{"source":"iana","compressible":true},"application/alto-endpointcostparams+json":{"source":"iana","compressible":true},"application/alto-endpointprop+json":{"source":"iana","compressible":true},"application/alto-endpointpropparams+json":{"source":"iana","compressible":true},"application/alto-error+json":{"source":"iana","compressible":true},"application/alto-networkmap+json":{"source":"iana","compressible":true},"application/alto-networkmapfilter+json":{"source":"iana","compressible":true},"application/alto-updatestreamcontrol+json":{"source":"iana","compressible":true},"application/alto-updatestreamparams+json":{"source":"iana","compressible":true},"application/aml":{"source":"iana"},"application/andrew-inset":{"source":"iana","extensions":["ez"]},"application/applefile":{"source":"iana"},"application/applixware":{"source":"apache","extensions":["aw"]},"application/at+jwt":{"source":"iana"},"application/atf":{"source":"iana"},"application/atfx":{"source":"iana"},"application/atom+xml":{"source":"iana","compressible":true,"extensions":["atom"]},"application/atomcat+xml":{"source":"iana","compressible":true,"extensions":["atomcat"]},"application/atomdeleted+xml":{"source":"iana","compressible":true,"extensions":["atomdeleted"]},"application/atomicmail":{"source":"iana"},"application/atomsvc+xml":{"source":"iana","compressible":true,"extensions":["atomsvc"]},"application/atsc-dwd+xml":{"source":"iana","compressible":true,"extensions":["dwd"]},"application/atsc-dynamic-event-message":{"source":"iana"},"application/atsc-held+xml":{"source":"iana","compressible":true,"extensions":["held"]},"application/atsc-rdt+json":{"source":"iana","compressible":true},"application/atsc-rsat+xml":{"source":"iana","compressible":true,"extensions":["rsat"]},"application/atxml":{"source":"iana"},"application/auth-policy+xml":{"source":"iana","compressible":true},"application/bacnet-xdd+zip":{"source":"iana","compressible":false},"application/batch-smtp":{"source":"iana"},"application/bdoc":{"compressible":false,"extensions":["bdoc"]},"application/beep+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/calendar+json":{"source":"iana","compressible":true},"application/calendar+xml":{"source":"iana","compressible":true,"extensions":["xcs"]},"application/call-completion":{"source":"iana"},"application/cals-1840":{"source":"iana"},"application/captive+json":{"source":"iana","compressible":true},"application/cbor":{"source":"iana"},"application/cbor-seq":{"source":"iana"},"application/cccex":{"source":"iana"},"application/ccmp+xml":{"source":"iana","compressible":true},"application/ccxml+xml":{"source":"iana","compressible":true,"extensions":["ccxml"]},"application/cdfx+xml":{"source":"iana","compressible":true,"extensions":["cdfx"]},"application/cdmi-capability":{"source":"iana","extensions":["cdmia"]},"application/cdmi-container":{"source":"iana","extensions":["cdmic"]},"application/cdmi-domain":{"source":"iana","extensions":["cdmid"]},"application/cdmi-object":{"source":"iana","extensions":["cdmio"]},"application/cdmi-queue":{"source":"iana","extensions":["cdmiq"]},"application/cdni":{"source":"iana"},"application/cea":{"source":"iana"},"application/cea-2018+xml":{"source":"iana","compressible":true},"application/cellml+xml":{"source":"iana","compressible":true},"application/cfw":{"source":"iana"},"application/city+json":{"source":"iana","compressible":true},"application/clr":{"source":"iana"},"application/clue+xml":{"source":"iana","compressible":true},"application/clue_info+xml":{"source":"iana","compressible":true},"application/cms":{"source":"iana"},"application/cnrp+xml":{"source":"iana","compressible":true},"application/coap-group+json":{"source":"iana","compressible":true},"application/coap-payload":{"source":"iana"},"application/commonground":{"source":"iana"},"application/conference-info+xml":{"source":"iana","compressible":true},"application/cose":{"source":"iana"},"application/cose-key":{"source":"iana"},"application/cose-key-set":{"source":"iana"},"application/cpl+xml":{"source":"iana","compressible":true,"extensions":["cpl"]},"application/csrattrs":{"source":"iana"},"application/csta+xml":{"source":"iana","compressible":true},"application/cstadata+xml":{"source":"iana","compressible":true},"application/csvm+json":{"source":"iana","compressible":true},"application/cu-seeme":{"source":"apache","extensions":["cu"]},"application/cwt":{"source":"iana"},"application/cybercash":{"source":"iana"},"application/dart":{"compressible":true},"application/dash+xml":{"source":"iana","compressible":true,"extensions":["mpd"]},"application/dash-patch+xml":{"source":"iana","compressible":true,"extensions":["mpp"]},"application/dashdelta":{"source":"iana"},"application/davmount+xml":{"source":"iana","compressible":true,"extensions":["davmount"]},"application/dca-rft":{"source":"iana"},"application/dcd":{"source":"iana"},"application/dec-dx":{"source":"iana"},"application/dialog-info+xml":{"source":"iana","compressible":true},"application/dicom":{"source":"iana"},"application/dicom+json":{"source":"iana","compressible":true},"application/dicom+xml":{"source":"iana","compressible":true},"application/dii":{"source":"iana"},"application/dit":{"source":"iana"},"application/dns":{"source":"iana"},"application/dns+json":{"source":"iana","compressible":true},"application/dns-message":{"source":"iana"},"application/docbook+xml":{"source":"apache","compressible":true,"extensions":["dbk"]},"application/dots+cbor":{"source":"iana"},"application/dskpp+xml":{"source":"iana","compressible":true},"application/dssc+der":{"source":"iana","extensions":["dssc"]},"application/dssc+xml":{"source":"iana","compressible":true,"extensions":["xdssc"]},"application/dvcs":{"source":"iana"},"application/ecmascript":{"source":"iana","compressible":true,"extensions":["es","ecma"]},"application/edi-consent":{"source":"iana"},"application/edi-x12":{"source":"iana","compressible":false},"application/edifact":{"source":"iana","compressible":false},"application/efi":{"source":"iana"},"application/elm+json":{"source":"iana","charset":"UTF-8","compressible":true},"application/elm+xml":{"source":"iana","compressible":true},"application/emergencycalldata.cap+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/emergencycalldata.comment+xml":{"source":"iana","compressible":true},"application/emergencycalldata.control+xml":{"source":"iana","compressible":true},"application/emergencycalldata.deviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.ecall.msd":{"source":"iana"},"application/emergencycalldata.providerinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.serviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.subscriberinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.veds+xml":{"source":"iana","compressible":true},"application/emma+xml":{"source":"iana","compressible":true,"extensions":["emma"]},"application/emotionml+xml":{"source":"iana","compressible":true,"extensions":["emotionml"]},"application/encaprtp":{"source":"iana"},"application/epp+xml":{"source":"iana","compressible":true},"application/epub+zip":{"source":"iana","compressible":false,"extensions":["epub"]},"application/eshop":{"source":"iana"},"application/exi":{"source":"iana","extensions":["exi"]},"application/expect-ct-report+json":{"source":"iana","compressible":true},"application/express":{"source":"iana","extensions":["exp"]},"application/fastinfoset":{"source":"iana"},"application/fastsoap":{"source":"iana"},"application/fdt+xml":{"source":"iana","compressible":true,"extensions":["fdt"]},"application/fhir+json":{"source":"iana","charset":"UTF-8","compressible":true},"application/fhir+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/fido.trusted-apps+json":{"compressible":true},"application/fits":{"source":"iana"},"application/flexfec":{"source":"iana"},"application/font-sfnt":{"source":"iana"},"application/font-tdpfr":{"source":"iana","extensions":["pfr"]},"application/font-woff":{"source":"iana","compressible":false},"application/framework-attributes+xml":{"source":"iana","compressible":true},"application/geo+json":{"source":"iana","compressible":true,"extensions":["geojson"]},"application/geo+json-seq":{"source":"iana"},"application/geopackage+sqlite3":{"source":"iana"},"application/geoxacml+xml":{"source":"iana","compressible":true},"application/gltf-buffer":{"source":"iana"},"application/gml+xml":{"source":"iana","compressible":true,"extensions":["gml"]},"application/gpx+xml":{"source":"apache","compressible":true,"extensions":["gpx"]},"application/gxf":{"source":"apache","extensions":["gxf"]},"application/gzip":{"source":"iana","compressible":false,"extensions":["gz"]},"application/h224":{"source":"iana"},"application/held+xml":{"source":"iana","compressible":true},"application/hjson":{"extensions":["hjson"]},"application/http":{"source":"iana"},"application/hyperstudio":{"source":"iana","extensions":["stk"]},"application/ibe-key-request+xml":{"source":"iana","compressible":true},"application/ibe-pkg-reply+xml":{"source":"iana","compressible":true},"application/ibe-pp-data":{"source":"iana"},"application/iges":{"source":"iana"},"application/im-iscomposing+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/index":{"source":"iana"},"application/index.cmd":{"source":"iana"},"application/index.obj":{"source":"iana"},"application/index.response":{"source":"iana"},"application/index.vnd":{"source":"iana"},"application/inkml+xml":{"source":"iana","compressible":true,"extensions":["ink","inkml"]},"application/iotp":{"source":"iana"},"application/ipfix":{"source":"iana","extensions":["ipfix"]},"application/ipp":{"source":"iana"},"application/isup":{"source":"iana"},"application/its+xml":{"source":"iana","compressible":true,"extensions":["its"]},"application/java-archive":{"source":"apache","compressible":false,"extensions":["jar","war","ear"]},"application/java-serialized-object":{"source":"apache","compressible":false,"extensions":["ser"]},"application/java-vm":{"source":"apache","compressible":false,"extensions":["class"]},"application/javascript":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["js","mjs"]},"application/jf2feed+json":{"source":"iana","compressible":true},"application/jose":{"source":"iana"},"application/jose+json":{"source":"iana","compressible":true},"application/jrd+json":{"source":"iana","compressible":true},"application/jscalendar+json":{"source":"iana","compressible":true},"application/json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["json","map"]},"application/json-patch+json":{"source":"iana","compressible":true},"application/json-seq":{"source":"iana"},"application/json5":{"extensions":["json5"]},"application/jsonml+json":{"source":"apache","compressible":true,"extensions":["jsonml"]},"application/jwk+json":{"source":"iana","compressible":true},"application/jwk-set+json":{"source":"iana","compressible":true},"application/jwt":{"source":"iana"},"application/kpml-request+xml":{"source":"iana","compressible":true},"application/kpml-response+xml":{"source":"iana","compressible":true},"application/ld+json":{"source":"iana","compressible":true,"extensions":["jsonld"]},"application/lgr+xml":{"source":"iana","compressible":true,"extensions":["lgr"]},"application/link-format":{"source":"iana"},"application/load-control+xml":{"source":"iana","compressible":true},"application/lost+xml":{"source":"iana","compressible":true,"extensions":["lostxml"]},"application/lostsync+xml":{"source":"iana","compressible":true},"application/lpf+zip":{"source":"iana","compressible":false},"application/lxf":{"source":"iana"},"application/mac-binhex40":{"source":"iana","extensions":["hqx"]},"application/mac-compactpro":{"source":"apache","extensions":["cpt"]},"application/macwriteii":{"source":"iana"},"application/mads+xml":{"source":"iana","compressible":true,"extensions":["mads"]},"application/manifest+json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["webmanifest"]},"application/marc":{"source":"iana","extensions":["mrc"]},"application/marcxml+xml":{"source":"iana","compressible":true,"extensions":["mrcx"]},"application/mathematica":{"source":"iana","extensions":["ma","nb","mb"]},"application/mathml+xml":{"source":"iana","compressible":true,"extensions":["mathml"]},"application/mathml-content+xml":{"source":"iana","compressible":true},"application/mathml-presentation+xml":{"source":"iana","compressible":true},"application/mbms-associated-procedure-description+xml":{"source":"iana","compressible":true},"application/mbms-deregister+xml":{"source":"iana","compressible":true},"application/mbms-envelope+xml":{"source":"iana","compressible":true},"application/mbms-msk+xml":{"source":"iana","compressible":true},"application/mbms-msk-response+xml":{"source":"iana","compressible":true},"application/mbms-protection-description+xml":{"source":"iana","compressible":true},"application/mbms-reception-report+xml":{"source":"iana","compressible":true},"application/mbms-register+xml":{"source":"iana","compressible":true},"application/mbms-register-response+xml":{"source":"iana","compressible":true},"application/mbms-schedule+xml":{"source":"iana","compressible":true},"application/mbms-user-service-description+xml":{"source":"iana","compressible":true},"application/mbox":{"source":"iana","extensions":["mbox"]},"application/media-policy-dataset+xml":{"source":"iana","compressible":true,"extensions":["mpf"]},"application/media_control+xml":{"source":"iana","compressible":true},"application/mediaservercontrol+xml":{"source":"iana","compressible":true,"extensions":["mscml"]},"application/merge-patch+json":{"source":"iana","compressible":true},"application/metalink+xml":{"source":"apache","compressible":true,"extensions":["metalink"]},"application/metalink4+xml":{"source":"iana","compressible":true,"extensions":["meta4"]},"application/mets+xml":{"source":"iana","compressible":true,"extensions":["mets"]},"application/mf4":{"source":"iana"},"application/mikey":{"source":"iana"},"application/mipc":{"source":"iana"},"application/missing-blocks+cbor-seq":{"source":"iana"},"application/mmt-aei+xml":{"source":"iana","compressible":true,"extensions":["maei"]},"application/mmt-usd+xml":{"source":"iana","compressible":true,"extensions":["musd"]},"application/mods+xml":{"source":"iana","compressible":true,"extensions":["mods"]},"application/moss-keys":{"source":"iana"},"application/moss-signature":{"source":"iana"},"application/mosskey-data":{"source":"iana"},"application/mosskey-request":{"source":"iana"},"application/mp21":{"source":"iana","extensions":["m21","mp21"]},"application/mp4":{"source":"iana","extensions":["mp4s","m4p"]},"application/mpeg4-generic":{"source":"iana"},"application/mpeg4-iod":{"source":"iana"},"application/mpeg4-iod-xmt":{"source":"iana"},"application/mrb-consumer+xml":{"source":"iana","compressible":true},"application/mrb-publish+xml":{"source":"iana","compressible":true},"application/msc-ivr+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msc-mixer+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msword":{"source":"iana","compressible":false,"extensions":["doc","dot"]},"application/mud+json":{"source":"iana","compressible":true},"application/multipart-core":{"source":"iana"},"application/mxf":{"source":"iana","extensions":["mxf"]},"application/n-quads":{"source":"iana","extensions":["nq"]},"application/n-triples":{"source":"iana","extensions":["nt"]},"application/nasdata":{"source":"iana"},"application/news-checkgroups":{"source":"iana","charset":"US-ASCII"},"application/news-groupinfo":{"source":"iana","charset":"US-ASCII"},"application/news-transmission":{"source":"iana"},"application/nlsml+xml":{"source":"iana","compressible":true},"application/node":{"source":"iana","extensions":["cjs"]},"application/nss":{"source":"iana"},"application/oauth-authz-req+jwt":{"source":"iana"},"application/oblivious-dns-message":{"source":"iana"},"application/ocsp-request":{"source":"iana"},"application/ocsp-response":{"source":"iana"},"application/octet-stream":{"source":"iana","compressible":false,"extensions":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{"source":"iana","extensions":["oda"]},"application/odm+xml":{"source":"iana","compressible":true},"application/odx":{"source":"iana"},"application/oebps-package+xml":{"source":"iana","compressible":true,"extensions":["opf"]},"application/ogg":{"source":"iana","compressible":false,"extensions":["ogx"]},"application/omdoc+xml":{"source":"apache","compressible":true,"extensions":["omdoc"]},"application/onenote":{"source":"apache","extensions":["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{"source":"iana","compressible":true},"application/oscore":{"source":"iana"},"application/oxps":{"source":"iana","extensions":["oxps"]},"application/p21":{"source":"iana"},"application/p21+zip":{"source":"iana","compressible":false},"application/p2p-overlay+xml":{"source":"iana","compressible":true,"extensions":["relo"]},"application/parityfec":{"source":"iana"},"application/passport":{"source":"iana"},"application/patch-ops-error+xml":{"source":"iana","compressible":true,"extensions":["xer"]},"application/pdf":{"source":"iana","compressible":false,"extensions":["pdf"]},"application/pdx":{"source":"iana"},"application/pem-certificate-chain":{"source":"iana"},"application/pgp-encrypted":{"source":"iana","compressible":false,"extensions":["pgp"]},"application/pgp-keys":{"source":"iana","extensions":["asc"]},"application/pgp-signature":{"source":"iana","extensions":["asc","sig"]},"application/pics-rules":{"source":"apache","extensions":["prf"]},"application/pidf+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pidf-diff+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pkcs10":{"source":"iana","extensions":["p10"]},"application/pkcs12":{"source":"iana"},"application/pkcs7-mime":{"source":"iana","extensions":["p7m","p7c"]},"application/pkcs7-signature":{"source":"iana","extensions":["p7s"]},"application/pkcs8":{"source":"iana","extensions":["p8"]},"application/pkcs8-encrypted":{"source":"iana"},"application/pkix-attr-cert":{"source":"iana","extensions":["ac"]},"application/pkix-cert":{"source":"iana","extensions":["cer"]},"application/pkix-crl":{"source":"iana","extensions":["crl"]},"application/pkix-pkipath":{"source":"iana","extensions":["pkipath"]},"application/pkixcmp":{"source":"iana","extensions":["pki"]},"application/pls+xml":{"source":"iana","compressible":true,"extensions":["pls"]},"application/poc-settings+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/postscript":{"source":"iana","compressible":true,"extensions":["ai","eps","ps"]},"application/ppsp-tracker+json":{"source":"iana","compressible":true},"application/problem+json":{"source":"iana","compressible":true},"application/problem+xml":{"source":"iana","compressible":true},"application/provenance+xml":{"source":"iana","compressible":true,"extensions":["provx"]},"application/prs.alvestrand.titrax-sheet":{"source":"iana"},"application/prs.cww":{"source":"iana","extensions":["cww"]},"application/prs.cyn":{"source":"iana","charset":"7-BIT"},"application/prs.hpub+zip":{"source":"iana","compressible":false},"application/prs.nprend":{"source":"iana"},"application/prs.plucker":{"source":"iana"},"application/prs.rdf-xml-crypt":{"source":"iana"},"application/prs.xsf+xml":{"source":"iana","compressible":true},"application/pskc+xml":{"source":"iana","compressible":true,"extensions":["pskcxml"]},"application/pvd+json":{"source":"iana","compressible":true},"application/qsig":{"source":"iana"},"application/raml+yaml":{"compressible":true,"extensions":["raml"]},"application/raptorfec":{"source":"iana"},"application/rdap+json":{"source":"iana","compressible":true},"application/rdf+xml":{"source":"iana","compressible":true,"extensions":["rdf","owl"]},"application/reginfo+xml":{"source":"iana","compressible":true,"extensions":["rif"]},"application/relax-ng-compact-syntax":{"source":"iana","extensions":["rnc"]},"application/remote-printing":{"source":"iana"},"application/reputon+json":{"source":"iana","compressible":true},"application/resource-lists+xml":{"source":"iana","compressible":true,"extensions":["rl"]},"application/resource-lists-diff+xml":{"source":"iana","compressible":true,"extensions":["rld"]},"application/rfc+xml":{"source":"iana","compressible":true},"application/riscos":{"source":"iana"},"application/rlmi+xml":{"source":"iana","compressible":true},"application/rls-services+xml":{"source":"iana","compressible":true,"extensions":["rs"]},"application/route-apd+xml":{"source":"iana","compressible":true,"extensions":["rapd"]},"application/route-s-tsid+xml":{"source":"iana","compressible":true,"extensions":["sls"]},"application/route-usd+xml":{"source":"iana","compressible":true,"extensions":["rusd"]},"application/rpki-ghostbusters":{"source":"iana","extensions":["gbr"]},"application/rpki-manifest":{"source":"iana","extensions":["mft"]},"application/rpki-publication":{"source":"iana"},"application/rpki-roa":{"source":"iana","extensions":["roa"]},"application/rpki-updown":{"source":"iana"},"application/rsd+xml":{"source":"apache","compressible":true,"extensions":["rsd"]},"application/rss+xml":{"source":"apache","compressible":true,"extensions":["rss"]},"application/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"application/rtploopback":{"source":"iana"},"application/rtx":{"source":"iana"},"application/samlassertion+xml":{"source":"iana","compressible":true},"application/samlmetadata+xml":{"source":"iana","compressible":true},"application/sarif+json":{"source":"iana","compressible":true},"application/sarif-external-properties+json":{"source":"iana","compressible":true},"application/sbe":{"source":"iana"},"application/sbml+xml":{"source":"iana","compressible":true,"extensions":["sbml"]},"application/scaip+xml":{"source":"iana","compressible":true},"application/scim+json":{"source":"iana","compressible":true},"application/scvp-cv-request":{"source":"iana","extensions":["scq"]},"application/scvp-cv-response":{"source":"iana","extensions":["scs"]},"application/scvp-vp-request":{"source":"iana","extensions":["spq"]},"application/scvp-vp-response":{"source":"iana","extensions":["spp"]},"application/sdp":{"source":"iana","extensions":["sdp"]},"application/secevent+jwt":{"source":"iana"},"application/senml+cbor":{"source":"iana"},"application/senml+json":{"source":"iana","compressible":true},"application/senml+xml":{"source":"iana","compressible":true,"extensions":["senmlx"]},"application/senml-etch+cbor":{"source":"iana"},"application/senml-etch+json":{"source":"iana","compressible":true},"application/senml-exi":{"source":"iana"},"application/sensml+cbor":{"source":"iana"},"application/sensml+json":{"source":"iana","compressible":true},"application/sensml+xml":{"source":"iana","compressible":true,"extensions":["sensmlx"]},"application/sensml-exi":{"source":"iana"},"application/sep+xml":{"source":"iana","compressible":true},"application/sep-exi":{"source":"iana"},"application/session-info":{"source":"iana"},"application/set-payment":{"source":"iana"},"application/set-payment-initiation":{"source":"iana","extensions":["setpay"]},"application/set-registration":{"source":"iana"},"application/set-registration-initiation":{"source":"iana","extensions":["setreg"]},"application/sgml":{"source":"iana"},"application/sgml-open-catalog":{"source":"iana"},"application/shf+xml":{"source":"iana","compressible":true,"extensions":["shf"]},"application/sieve":{"source":"iana","extensions":["siv","sieve"]},"application/simple-filter+xml":{"source":"iana","compressible":true},"application/simple-message-summary":{"source":"iana"},"application/simplesymbolcontainer":{"source":"iana"},"application/sipc":{"source":"iana"},"application/slate":{"source":"iana"},"application/smil":{"source":"iana"},"application/smil+xml":{"source":"iana","compressible":true,"extensions":["smi","smil"]},"application/smpte336m":{"source":"iana"},"application/soap+fastinfoset":{"source":"iana"},"application/soap+xml":{"source":"iana","compressible":true},"application/sparql-query":{"source":"iana","extensions":["rq"]},"application/sparql-results+xml":{"source":"iana","compressible":true,"extensions":["srx"]},"application/spdx+json":{"source":"iana","compressible":true},"application/spirits-event+xml":{"source":"iana","compressible":true},"application/sql":{"source":"iana"},"application/srgs":{"source":"iana","extensions":["gram"]},"application/srgs+xml":{"source":"iana","compressible":true,"extensions":["grxml"]},"application/sru+xml":{"source":"iana","compressible":true,"extensions":["sru"]},"application/ssdl+xml":{"source":"apache","compressible":true,"extensions":["ssdl"]},"application/ssml+xml":{"source":"iana","compressible":true,"extensions":["ssml"]},"application/stix+json":{"source":"iana","compressible":true},"application/swid+xml":{"source":"iana","compressible":true,"extensions":["swidtag"]},"application/tamp-apex-update":{"source":"iana"},"application/tamp-apex-update-confirm":{"source":"iana"},"application/tamp-community-update":{"source":"iana"},"application/tamp-community-update-confirm":{"source":"iana"},"application/tamp-error":{"source":"iana"},"application/tamp-sequence-adjust":{"source":"iana"},"application/tamp-sequence-adjust-confirm":{"source":"iana"},"application/tamp-status-query":{"source":"iana"},"application/tamp-status-response":{"source":"iana"},"application/tamp-update":{"source":"iana"},"application/tamp-update-confirm":{"source":"iana"},"application/tar":{"compressible":true},"application/taxii+json":{"source":"iana","compressible":true},"application/td+json":{"source":"iana","compressible":true},"application/tei+xml":{"source":"iana","compressible":true,"extensions":["tei","teicorpus"]},"application/tetra_isi":{"source":"iana"},"application/thraud+xml":{"source":"iana","compressible":true,"extensions":["tfi"]},"application/timestamp-query":{"source":"iana"},"application/timestamp-reply":{"source":"iana"},"application/timestamped-data":{"source":"iana","extensions":["tsd"]},"application/tlsrpt+gzip":{"source":"iana"},"application/tlsrpt+json":{"source":"iana","compressible":true},"application/tnauthlist":{"source":"iana"},"application/token-introspection+jwt":{"source":"iana"},"application/toml":{"compressible":true,"extensions":["toml"]},"application/trickle-ice-sdpfrag":{"source":"iana"},"application/trig":{"source":"iana","extensions":["trig"]},"application/ttml+xml":{"source":"iana","compressible":true,"extensions":["ttml"]},"application/tve-trigger":{"source":"iana"},"application/tzif":{"source":"iana"},"application/tzif-leap":{"source":"iana"},"application/ubjson":{"compressible":false,"extensions":["ubj"]},"application/ulpfec":{"source":"iana"},"application/urc-grpsheet+xml":{"source":"iana","compressible":true},"application/urc-ressheet+xml":{"source":"iana","compressible":true,"extensions":["rsheet"]},"application/urc-targetdesc+xml":{"source":"iana","compressible":true,"extensions":["td"]},"application/urc-uisocketdesc+xml":{"source":"iana","compressible":true},"application/vcard+json":{"source":"iana","compressible":true},"application/vcard+xml":{"source":"iana","compressible":true},"application/vemmi":{"source":"iana"},"application/vividence.scriptfile":{"source":"apache"},"application/vnd.1000minds.decision-model+xml":{"source":"iana","compressible":true,"extensions":["1km"]},"application/vnd.3gpp-prose+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-prose-pc3ch+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-v2x-local-service-information":{"source":"iana"},"application/vnd.3gpp.5gnas":{"source":"iana"},"application/vnd.3gpp.access-transfer-events+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.bsf+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.gmop+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.gtpc":{"source":"iana"},"application/vnd.3gpp.interworking-data":{"source":"iana"},"application/vnd.3gpp.lpp":{"source":"iana"},"application/vnd.3gpp.mc-signalling-ear":{"source":"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-payload":{"source":"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-signalling":{"source":"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-floor-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-signed+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-init-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-transmission-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mid-call+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.ngap":{"source":"iana"},"application/vnd.3gpp.pfcp":{"source":"iana"},"application/vnd.3gpp.pic-bw-large":{"source":"iana","extensions":["plb"]},"application/vnd.3gpp.pic-bw-small":{"source":"iana","extensions":["psb"]},"application/vnd.3gpp.pic-bw-var":{"source":"iana","extensions":["pvb"]},"application/vnd.3gpp.s1ap":{"source":"iana"},"application/vnd.3gpp.sms":{"source":"iana"},"application/vnd.3gpp.sms+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-ext+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.state-and-event-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.ussd+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.bcmcsinfo+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.sms":{"source":"iana"},"application/vnd.3gpp2.tcap":{"source":"iana","extensions":["tcap"]},"application/vnd.3lightssoftware.imagescal":{"source":"iana"},"application/vnd.3m.post-it-notes":{"source":"iana","extensions":["pwn"]},"application/vnd.accpac.simply.aso":{"source":"iana","extensions":["aso"]},"application/vnd.accpac.simply.imp":{"source":"iana","extensions":["imp"]},"application/vnd.acucobol":{"source":"iana","extensions":["acu"]},"application/vnd.acucorp":{"source":"iana","extensions":["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{"source":"apache","compressible":false,"extensions":["air"]},"application/vnd.adobe.flash.movie":{"source":"iana"},"application/vnd.adobe.formscentral.fcdt":{"source":"iana","extensions":["fcdt"]},"application/vnd.adobe.fxp":{"source":"iana","extensions":["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{"source":"iana"},"application/vnd.adobe.xdp+xml":{"source":"iana","compressible":true,"extensions":["xdp"]},"application/vnd.adobe.xfdf":{"source":"iana","extensions":["xfdf"]},"application/vnd.aether.imp":{"source":"iana"},"application/vnd.afpc.afplinedata":{"source":"iana"},"application/vnd.afpc.afplinedata-pagedef":{"source":"iana"},"application/vnd.afpc.cmoca-cmresource":{"source":"iana"},"application/vnd.afpc.foca-charset":{"source":"iana"},"application/vnd.afpc.foca-codedfont":{"source":"iana"},"application/vnd.afpc.foca-codepage":{"source":"iana"},"application/vnd.afpc.modca":{"source":"iana"},"application/vnd.afpc.modca-cmtable":{"source":"iana"},"application/vnd.afpc.modca-formdef":{"source":"iana"},"application/vnd.afpc.modca-mediummap":{"source":"iana"},"application/vnd.afpc.modca-objectcontainer":{"source":"iana"},"application/vnd.afpc.modca-overlay":{"source":"iana"},"application/vnd.afpc.modca-pagesegment":{"source":"iana"},"application/vnd.age":{"source":"iana","extensions":["age"]},"application/vnd.ah-barcode":{"source":"iana"},"application/vnd.ahead.space":{"source":"iana","extensions":["ahead"]},"application/vnd.airzip.filesecure.azf":{"source":"iana","extensions":["azf"]},"application/vnd.airzip.filesecure.azs":{"source":"iana","extensions":["azs"]},"application/vnd.amadeus+json":{"source":"iana","compressible":true},"application/vnd.amazon.ebook":{"source":"apache","extensions":["azw"]},"application/vnd.amazon.mobi8-ebook":{"source":"iana"},"application/vnd.americandynamics.acc":{"source":"iana","extensions":["acc"]},"application/vnd.amiga.ami":{"source":"iana","extensions":["ami"]},"application/vnd.amundsen.maze+xml":{"source":"iana","compressible":true},"application/vnd.android.ota":{"source":"iana"},"application/vnd.android.package-archive":{"source":"apache","compressible":false,"extensions":["apk"]},"application/vnd.anki":{"source":"iana"},"application/vnd.anser-web-certificate-issue-initiation":{"source":"iana","extensions":["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{"source":"apache","extensions":["fti"]},"application/vnd.antix.game-component":{"source":"iana","extensions":["atx"]},"application/vnd.apache.arrow.file":{"source":"iana"},"application/vnd.apache.arrow.stream":{"source":"iana"},"application/vnd.apache.thrift.binary":{"source":"iana"},"application/vnd.apache.thrift.compact":{"source":"iana"},"application/vnd.apache.thrift.json":{"source":"iana"},"application/vnd.api+json":{"source":"iana","compressible":true},"application/vnd.aplextor.warrp+json":{"source":"iana","compressible":true},"application/vnd.apothekende.reservation+json":{"source":"iana","compressible":true},"application/vnd.apple.installer+xml":{"source":"iana","compressible":true,"extensions":["mpkg"]},"application/vnd.apple.keynote":{"source":"iana","extensions":["key"]},"application/vnd.apple.mpegurl":{"source":"iana","extensions":["m3u8"]},"application/vnd.apple.numbers":{"source":"iana","extensions":["numbers"]},"application/vnd.apple.pages":{"source":"iana","extensions":["pages"]},"application/vnd.apple.pkpass":{"compressible":false,"extensions":["pkpass"]},"application/vnd.arastra.swi":{"source":"iana"},"application/vnd.aristanetworks.swi":{"source":"iana","extensions":["swi"]},"application/vnd.artisan+json":{"source":"iana","compressible":true},"application/vnd.artsquare":{"source":"iana"},"application/vnd.astraea-software.iota":{"source":"iana","extensions":["iota"]},"application/vnd.audiograph":{"source":"iana","extensions":["aep"]},"application/vnd.autopackage":{"source":"iana"},"application/vnd.avalon+json":{"source":"iana","compressible":true},"application/vnd.avistar+xml":{"source":"iana","compressible":true},"application/vnd.balsamiq.bmml+xml":{"source":"iana","compressible":true,"extensions":["bmml"]},"application/vnd.balsamiq.bmpr":{"source":"iana"},"application/vnd.banana-accounting":{"source":"iana"},"application/vnd.bbf.usp.error":{"source":"iana"},"application/vnd.bbf.usp.msg":{"source":"iana"},"application/vnd.bbf.usp.msg+json":{"source":"iana","compressible":true},"application/vnd.bekitzur-stech+json":{"source":"iana","compressible":true},"application/vnd.bint.med-content":{"source":"iana"},"application/vnd.biopax.rdf+xml":{"source":"iana","compressible":true},"application/vnd.blink-idb-value-wrapper":{"source":"iana"},"application/vnd.blueice.multipass":{"source":"iana","extensions":["mpm"]},"application/vnd.bluetooth.ep.oob":{"source":"iana"},"application/vnd.bluetooth.le.oob":{"source":"iana"},"application/vnd.bmi":{"source":"iana","extensions":["bmi"]},"application/vnd.bpf":{"source":"iana"},"application/vnd.bpf3":{"source":"iana"},"application/vnd.businessobjects":{"source":"iana","extensions":["rep"]},"application/vnd.byu.uapi+json":{"source":"iana","compressible":true},"application/vnd.cab-jscript":{"source":"iana"},"application/vnd.canon-cpdl":{"source":"iana"},"application/vnd.canon-lips":{"source":"iana"},"application/vnd.capasystems-pg+json":{"source":"iana","compressible":true},"application/vnd.cendio.thinlinc.clientconf":{"source":"iana"},"application/vnd.century-systems.tcp_stream":{"source":"iana"},"application/vnd.chemdraw+xml":{"source":"iana","compressible":true,"extensions":["cdxml"]},"application/vnd.chess-pgn":{"source":"iana"},"application/vnd.chipnuts.karaoke-mmd":{"source":"iana","extensions":["mmd"]},"application/vnd.ciedi":{"source":"iana"},"application/vnd.cinderella":{"source":"iana","extensions":["cdy"]},"application/vnd.cirpack.isdn-ext":{"source":"iana"},"application/vnd.citationstyles.style+xml":{"source":"iana","compressible":true,"extensions":["csl"]},"application/vnd.claymore":{"source":"iana","extensions":["cla"]},"application/vnd.cloanto.rp9":{"source":"iana","extensions":["rp9"]},"application/vnd.clonk.c4group":{"source":"iana","extensions":["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{"source":"iana","extensions":["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{"source":"iana","extensions":["c11amz"]},"application/vnd.coffeescript":{"source":"iana"},"application/vnd.collabio.xodocuments.document":{"source":"iana"},"application/vnd.collabio.xodocuments.document-template":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation-template":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{"source":"iana"},"application/vnd.collection+json":{"source":"iana","compressible":true},"application/vnd.collection.doc+json":{"source":"iana","compressible":true},"application/vnd.collection.next+json":{"source":"iana","compressible":true},"application/vnd.comicbook+zip":{"source":"iana","compressible":false},"application/vnd.comicbook-rar":{"source":"iana"},"application/vnd.commerce-battelle":{"source":"iana"},"application/vnd.commonspace":{"source":"iana","extensions":["csp"]},"application/vnd.contact.cmsg":{"source":"iana","extensions":["cdbcmsg"]},"application/vnd.coreos.ignition+json":{"source":"iana","compressible":true},"application/vnd.cosmocaller":{"source":"iana","extensions":["cmc"]},"application/vnd.crick.clicker":{"source":"iana","extensions":["clkx"]},"application/vnd.crick.clicker.keyboard":{"source":"iana","extensions":["clkk"]},"application/vnd.crick.clicker.palette":{"source":"iana","extensions":["clkp"]},"application/vnd.crick.clicker.template":{"source":"iana","extensions":["clkt"]},"application/vnd.crick.clicker.wordbank":{"source":"iana","extensions":["clkw"]},"application/vnd.criticaltools.wbs+xml":{"source":"iana","compressible":true,"extensions":["wbs"]},"application/vnd.cryptii.pipe+json":{"source":"iana","compressible":true},"application/vnd.crypto-shade-file":{"source":"iana"},"application/vnd.cryptomator.encrypted":{"source":"iana"},"application/vnd.cryptomator.vault":{"source":"iana"},"application/vnd.ctc-posml":{"source":"iana","extensions":["pml"]},"application/vnd.ctct.ws+xml":{"source":"iana","compressible":true},"application/vnd.cups-pdf":{"source":"iana"},"application/vnd.cups-postscript":{"source":"iana"},"application/vnd.cups-ppd":{"source":"iana","extensions":["ppd"]},"application/vnd.cups-raster":{"source":"iana"},"application/vnd.cups-raw":{"source":"iana"},"application/vnd.curl":{"source":"iana"},"application/vnd.curl.car":{"source":"apache","extensions":["car"]},"application/vnd.curl.pcurl":{"source":"apache","extensions":["pcurl"]},"application/vnd.cyan.dean.root+xml":{"source":"iana","compressible":true},"application/vnd.cybank":{"source":"iana"},"application/vnd.cyclonedx+json":{"source":"iana","compressible":true},"application/vnd.cyclonedx+xml":{"source":"iana","compressible":true},"application/vnd.d2l.coursepackage1p0+zip":{"source":"iana","compressible":false},"application/vnd.d3m-dataset":{"source":"iana"},"application/vnd.d3m-problem":{"source":"iana"},"application/vnd.dart":{"source":"iana","compressible":true,"extensions":["dart"]},"application/vnd.data-vision.rdz":{"source":"iana","extensions":["rdz"]},"application/vnd.datapackage+json":{"source":"iana","compressible":true},"application/vnd.dataresource+json":{"source":"iana","compressible":true},"application/vnd.dbf":{"source":"iana","extensions":["dbf"]},"application/vnd.debian.binary-package":{"source":"iana"},"application/vnd.dece.data":{"source":"iana","extensions":["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{"source":"iana","compressible":true,"extensions":["uvt","uvvt"]},"application/vnd.dece.unspecified":{"source":"iana","extensions":["uvx","uvvx"]},"application/vnd.dece.zip":{"source":"iana","extensions":["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{"source":"iana","extensions":["fe_launch"]},"application/vnd.desmume.movie":{"source":"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{"source":"iana"},"application/vnd.dm.delegation+xml":{"source":"iana","compressible":true},"application/vnd.dna":{"source":"iana","extensions":["dna"]},"application/vnd.document+json":{"source":"iana","compressible":true},"application/vnd.dolby.mlp":{"source":"apache","extensions":["mlp"]},"application/vnd.dolby.mobile.1":{"source":"iana"},"application/vnd.dolby.mobile.2":{"source":"iana"},"application/vnd.doremir.scorecloud-binary-document":{"source":"iana"},"application/vnd.dpgraph":{"source":"iana","extensions":["dpg"]},"application/vnd.dreamfactory":{"source":"iana","extensions":["dfac"]},"application/vnd.drive+json":{"source":"iana","compressible":true},"application/vnd.ds-keypoint":{"source":"apache","extensions":["kpxx"]},"application/vnd.dtg.local":{"source":"iana"},"application/vnd.dtg.local.flash":{"source":"iana"},"application/vnd.dtg.local.html":{"source":"iana"},"application/vnd.dvb.ait":{"source":"iana","extensions":["ait"]},"application/vnd.dvb.dvbisl+xml":{"source":"iana","compressible":true},"application/vnd.dvb.dvbj":{"source":"iana"},"application/vnd.dvb.esgcontainer":{"source":"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess2":{"source":"iana"},"application/vnd.dvb.ipdcesgpdd":{"source":"iana"},"application/vnd.dvb.ipdcroaming":{"source":"iana"},"application/vnd.dvb.iptv.alfec-base":{"source":"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{"source":"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-container+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-generic+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-msglist+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-request+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-response+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-init+xml":{"source":"iana","compressible":true},"application/vnd.dvb.pfr":{"source":"iana"},"application/vnd.dvb.service":{"source":"iana","extensions":["svc"]},"application/vnd.dxr":{"source":"iana"},"application/vnd.dynageo":{"source":"iana","extensions":["geo"]},"application/vnd.dzr":{"source":"iana"},"application/vnd.easykaraoke.cdgdownload":{"source":"iana"},"application/vnd.ecdis-update":{"source":"iana"},"application/vnd.ecip.rlp":{"source":"iana"},"application/vnd.eclipse.ditto+json":{"source":"iana","compressible":true},"application/vnd.ecowin.chart":{"source":"iana","extensions":["mag"]},"application/vnd.ecowin.filerequest":{"source":"iana"},"application/vnd.ecowin.fileupdate":{"source":"iana"},"application/vnd.ecowin.series":{"source":"iana"},"application/vnd.ecowin.seriesrequest":{"source":"iana"},"application/vnd.ecowin.seriesupdate":{"source":"iana"},"application/vnd.efi.img":{"source":"iana"},"application/vnd.efi.iso":{"source":"iana"},"application/vnd.emclient.accessrequest+xml":{"source":"iana","compressible":true},"application/vnd.enliven":{"source":"iana","extensions":["nml"]},"application/vnd.enphase.envoy":{"source":"iana"},"application/vnd.eprints.data+xml":{"source":"iana","compressible":true},"application/vnd.epson.esf":{"source":"iana","extensions":["esf"]},"application/vnd.epson.msf":{"source":"iana","extensions":["msf"]},"application/vnd.epson.quickanime":{"source":"iana","extensions":["qam"]},"application/vnd.epson.salt":{"source":"iana","extensions":["slt"]},"application/vnd.epson.ssf":{"source":"iana","extensions":["ssf"]},"application/vnd.ericsson.quickcall":{"source":"iana"},"application/vnd.espass-espass+zip":{"source":"iana","compressible":false},"application/vnd.eszigno3+xml":{"source":"iana","compressible":true,"extensions":["es3","et3"]},"application/vnd.etsi.aoc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.asic-e+zip":{"source":"iana","compressible":false},"application/vnd.etsi.asic-s+zip":{"source":"iana","compressible":false},"application/vnd.etsi.cug+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvcommand+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-bc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-cod+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-npvr+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvservice+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsync+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvueprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mcid+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mheg5":{"source":"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{"source":"iana","compressible":true},"application/vnd.etsi.pstn+xml":{"source":"iana","compressible":true},"application/vnd.etsi.sci+xml":{"source":"iana","compressible":true},"application/vnd.etsi.simservs+xml":{"source":"iana","compressible":true},"application/vnd.etsi.timestamp-token":{"source":"iana"},"application/vnd.etsi.tsl+xml":{"source":"iana","compressible":true},"application/vnd.etsi.tsl.der":{"source":"iana"},"application/vnd.eu.kasparian.car+json":{"source":"iana","compressible":true},"application/vnd.eudora.data":{"source":"iana"},"application/vnd.evolv.ecig.profile":{"source":"iana"},"application/vnd.evolv.ecig.settings":{"source":"iana"},"application/vnd.evolv.ecig.theme":{"source":"iana"},"application/vnd.exstream-empower+zip":{"source":"iana","compressible":false},"application/vnd.exstream-package":{"source":"iana"},"application/vnd.ezpix-album":{"source":"iana","extensions":["ez2"]},"application/vnd.ezpix-package":{"source":"iana","extensions":["ez3"]},"application/vnd.f-secure.mobile":{"source":"iana"},"application/vnd.familysearch.gedcom+zip":{"source":"iana","compressible":false},"application/vnd.fastcopy-disk-image":{"source":"iana"},"application/vnd.fdf":{"source":"iana","extensions":["fdf"]},"application/vnd.fdsn.mseed":{"source":"iana","extensions":["mseed"]},"application/vnd.fdsn.seed":{"source":"iana","extensions":["seed","dataless"]},"application/vnd.ffsns":{"source":"iana"},"application/vnd.ficlab.flb+zip":{"source":"iana","compressible":false},"application/vnd.filmit.zfc":{"source":"iana"},"application/vnd.fints":{"source":"iana"},"application/vnd.firemonkeys.cloudcell":{"source":"iana"},"application/vnd.flographit":{"source":"iana","extensions":["gph"]},"application/vnd.fluxtime.clip":{"source":"iana","extensions":["ftc"]},"application/vnd.font-fontforge-sfd":{"source":"iana"},"application/vnd.framemaker":{"source":"iana","extensions":["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{"source":"iana","extensions":["fnc"]},"application/vnd.frogans.ltf":{"source":"iana","extensions":["ltf"]},"application/vnd.fsc.weblaunch":{"source":"iana","extensions":["fsc"]},"application/vnd.fujifilm.fb.docuworks":{"source":"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{"source":"iana"},"application/vnd.fujifilm.fb.docuworks.container":{"source":"iana"},"application/vnd.fujifilm.fb.jfi+xml":{"source":"iana","compressible":true},"application/vnd.fujitsu.oasys":{"source":"iana","extensions":["oas"]},"application/vnd.fujitsu.oasys2":{"source":"iana","extensions":["oa2"]},"application/vnd.fujitsu.oasys3":{"source":"iana","extensions":["oa3"]},"application/vnd.fujitsu.oasysgp":{"source":"iana","extensions":["fg5"]},"application/vnd.fujitsu.oasysprs":{"source":"iana","extensions":["bh2"]},"application/vnd.fujixerox.art-ex":{"source":"iana"},"application/vnd.fujixerox.art4":{"source":"iana"},"application/vnd.fujixerox.ddd":{"source":"iana","extensions":["ddd"]},"application/vnd.fujixerox.docuworks":{"source":"iana","extensions":["xdw"]},"application/vnd.fujixerox.docuworks.binder":{"source":"iana","extensions":["xbd"]},"application/vnd.fujixerox.docuworks.container":{"source":"iana"},"application/vnd.fujixerox.hbpl":{"source":"iana"},"application/vnd.fut-misnet":{"source":"iana"},"application/vnd.futoin+cbor":{"source":"iana"},"application/vnd.futoin+json":{"source":"iana","compressible":true},"application/vnd.fuzzysheet":{"source":"iana","extensions":["fzs"]},"application/vnd.genomatix.tuxedo":{"source":"iana","extensions":["txd"]},"application/vnd.gentics.grd+json":{"source":"iana","compressible":true},"application/vnd.geo+json":{"source":"iana","compressible":true},"application/vnd.geocube+xml":{"source":"iana","compressible":true},"application/vnd.geogebra.file":{"source":"iana","extensions":["ggb"]},"application/vnd.geogebra.slides":{"source":"iana"},"application/vnd.geogebra.tool":{"source":"iana","extensions":["ggt"]},"application/vnd.geometry-explorer":{"source":"iana","extensions":["gex","gre"]},"application/vnd.geonext":{"source":"iana","extensions":["gxt"]},"application/vnd.geoplan":{"source":"iana","extensions":["g2w"]},"application/vnd.geospace":{"source":"iana","extensions":["g3w"]},"application/vnd.gerber":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt-response":{"source":"iana"},"application/vnd.gmx":{"source":"iana","extensions":["gmx"]},"application/vnd.google-apps.document":{"compressible":false,"extensions":["gdoc"]},"application/vnd.google-apps.presentation":{"compressible":false,"extensions":["gslides"]},"application/vnd.google-apps.spreadsheet":{"compressible":false,"extensions":["gsheet"]},"application/vnd.google-earth.kml+xml":{"source":"iana","compressible":true,"extensions":["kml"]},"application/vnd.google-earth.kmz":{"source":"iana","compressible":false,"extensions":["kmz"]},"application/vnd.gov.sk.e-form+xml":{"source":"iana","compressible":true},"application/vnd.gov.sk.e-form+zip":{"source":"iana","compressible":false},"application/vnd.gov.sk.xmldatacontainer+xml":{"source":"iana","compressible":true},"application/vnd.grafeq":{"source":"iana","extensions":["gqf","gqs"]},"application/vnd.gridmp":{"source":"iana"},"application/vnd.groove-account":{"source":"iana","extensions":["gac"]},"application/vnd.groove-help":{"source":"iana","extensions":["ghf"]},"application/vnd.groove-identity-message":{"source":"iana","extensions":["gim"]},"application/vnd.groove-injector":{"source":"iana","extensions":["grv"]},"application/vnd.groove-tool-message":{"source":"iana","extensions":["gtm"]},"application/vnd.groove-tool-template":{"source":"iana","extensions":["tpl"]},"application/vnd.groove-vcard":{"source":"iana","extensions":["vcg"]},"application/vnd.hal+json":{"source":"iana","compressible":true},"application/vnd.hal+xml":{"source":"iana","compressible":true,"extensions":["hal"]},"application/vnd.handheld-entertainment+xml":{"source":"iana","compressible":true,"extensions":["zmm"]},"application/vnd.hbci":{"source":"iana","extensions":["hbci"]},"application/vnd.hc+json":{"source":"iana","compressible":true},"application/vnd.hcl-bireports":{"source":"iana"},"application/vnd.hdt":{"source":"iana"},"application/vnd.heroku+json":{"source":"iana","compressible":true},"application/vnd.hhe.lesson-player":{"source":"iana","extensions":["les"]},"application/vnd.hl7cda+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.hl7v2+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.hp-hpgl":{"source":"iana","extensions":["hpgl"]},"application/vnd.hp-hpid":{"source":"iana","extensions":["hpid"]},"application/vnd.hp-hps":{"source":"iana","extensions":["hps"]},"application/vnd.hp-jlyt":{"source":"iana","extensions":["jlt"]},"application/vnd.hp-pcl":{"source":"iana","extensions":["pcl"]},"application/vnd.hp-pclxl":{"source":"iana","extensions":["pclxl"]},"application/vnd.httphone":{"source":"iana"},"application/vnd.hydrostatix.sof-data":{"source":"iana","extensions":["sfd-hdstx"]},"application/vnd.hyper+json":{"source":"iana","compressible":true},"application/vnd.hyper-item+json":{"source":"iana","compressible":true},"application/vnd.hyperdrive+json":{"source":"iana","compressible":true},"application/vnd.hzn-3d-crossword":{"source":"iana"},"application/vnd.ibm.afplinedata":{"source":"iana"},"application/vnd.ibm.electronic-media":{"source":"iana"},"application/vnd.ibm.minipay":{"source":"iana","extensions":["mpy"]},"application/vnd.ibm.modcap":{"source":"iana","extensions":["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{"source":"iana","extensions":["irm"]},"application/vnd.ibm.secure-container":{"source":"iana","extensions":["sc"]},"application/vnd.iccprofile":{"source":"iana","extensions":["icc","icm"]},"application/vnd.ieee.1905":{"source":"iana"},"application/vnd.igloader":{"source":"iana","extensions":["igl"]},"application/vnd.imagemeter.folder+zip":{"source":"iana","compressible":false},"application/vnd.imagemeter.image+zip":{"source":"iana","compressible":false},"application/vnd.immervision-ivp":{"source":"iana","extensions":["ivp"]},"application/vnd.immervision-ivu":{"source":"iana","extensions":["ivu"]},"application/vnd.ims.imsccv1p1":{"source":"iana"},"application/vnd.ims.imsccv1p2":{"source":"iana"},"application/vnd.ims.imsccv1p3":{"source":"iana"},"application/vnd.ims.lis.v2.result+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy.id+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings.simple+json":{"source":"iana","compressible":true},"application/vnd.informedcontrol.rms+xml":{"source":"iana","compressible":true},"application/vnd.informix-visionary":{"source":"iana"},"application/vnd.infotech.project":{"source":"iana"},"application/vnd.infotech.project+xml":{"source":"iana","compressible":true},"application/vnd.innopath.wamp.notification":{"source":"iana"},"application/vnd.insors.igm":{"source":"iana","extensions":["igm"]},"application/vnd.intercon.formnet":{"source":"iana","extensions":["xpw","xpx"]},"application/vnd.intergeo":{"source":"iana","extensions":["i2g"]},"application/vnd.intertrust.digibox":{"source":"iana"},"application/vnd.intertrust.nncp":{"source":"iana"},"application/vnd.intu.qbo":{"source":"iana","extensions":["qbo"]},"application/vnd.intu.qfx":{"source":"iana","extensions":["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.conceptitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.knowledgeitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsmessage+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.packageitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.planningitem+xml":{"source":"iana","compressible":true},"application/vnd.ipunplugged.rcprofile":{"source":"iana","extensions":["rcprofile"]},"application/vnd.irepository.package+xml":{"source":"iana","compressible":true,"extensions":["irp"]},"application/vnd.is-xpr":{"source":"iana","extensions":["xpr"]},"application/vnd.isac.fcs":{"source":"iana","extensions":["fcs"]},"application/vnd.iso11783-10+zip":{"source":"iana","compressible":false},"application/vnd.jam":{"source":"iana","extensions":["jam"]},"application/vnd.japannet-directory-service":{"source":"iana"},"application/vnd.japannet-jpnstore-wakeup":{"source":"iana"},"application/vnd.japannet-payment-wakeup":{"source":"iana"},"application/vnd.japannet-registration":{"source":"iana"},"application/vnd.japannet-registration-wakeup":{"source":"iana"},"application/vnd.japannet-setstore-wakeup":{"source":"iana"},"application/vnd.japannet-verification":{"source":"iana"},"application/vnd.japannet-verification-wakeup":{"source":"iana"},"application/vnd.jcp.javame.midlet-rms":{"source":"iana","extensions":["rms"]},"application/vnd.jisp":{"source":"iana","extensions":["jisp"]},"application/vnd.joost.joda-archive":{"source":"iana","extensions":["joda"]},"application/vnd.jsk.isdn-ngn":{"source":"iana"},"application/vnd.kahootz":{"source":"iana","extensions":["ktz","ktr"]},"application/vnd.kde.karbon":{"source":"iana","extensions":["karbon"]},"application/vnd.kde.kchart":{"source":"iana","extensions":["chrt"]},"application/vnd.kde.kformula":{"source":"iana","extensions":["kfo"]},"application/vnd.kde.kivio":{"source":"iana","extensions":["flw"]},"application/vnd.kde.kontour":{"source":"iana","extensions":["kon"]},"application/vnd.kde.kpresenter":{"source":"iana","extensions":["kpr","kpt"]},"application/vnd.kde.kspread":{"source":"iana","extensions":["ksp"]},"application/vnd.kde.kword":{"source":"iana","extensions":["kwd","kwt"]},"application/vnd.kenameaapp":{"source":"iana","extensions":["htke"]},"application/vnd.kidspiration":{"source":"iana","extensions":["kia"]},"application/vnd.kinar":{"source":"iana","extensions":["kne","knp"]},"application/vnd.koan":{"source":"iana","extensions":["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{"source":"iana","extensions":["sse"]},"application/vnd.las":{"source":"iana"},"application/vnd.las.las+json":{"source":"iana","compressible":true},"application/vnd.las.las+xml":{"source":"iana","compressible":true,"extensions":["lasxml"]},"application/vnd.laszip":{"source":"iana"},"application/vnd.leap+json":{"source":"iana","compressible":true},"application/vnd.liberty-request+xml":{"source":"iana","compressible":true},"application/vnd.llamagraphics.life-balance.desktop":{"source":"iana","extensions":["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{"source":"iana","compressible":true,"extensions":["lbe"]},"application/vnd.logipipe.circuit+zip":{"source":"iana","compressible":false},"application/vnd.loom":{"source":"iana"},"application/vnd.lotus-1-2-3":{"source":"iana","extensions":["123"]},"application/vnd.lotus-approach":{"source":"iana","extensions":["apr"]},"application/vnd.lotus-freelance":{"source":"iana","extensions":["pre"]},"application/vnd.lotus-notes":{"source":"iana","extensions":["nsf"]},"application/vnd.lotus-organizer":{"source":"iana","extensions":["org"]},"application/vnd.lotus-screencam":{"source":"iana","extensions":["scm"]},"application/vnd.lotus-wordpro":{"source":"iana","extensions":["lwp"]},"application/vnd.macports.portpkg":{"source":"iana","extensions":["portpkg"]},"application/vnd.mapbox-vector-tile":{"source":"iana","extensions":["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.conftoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.license+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.mdcf":{"source":"iana"},"application/vnd.mason+json":{"source":"iana","compressible":true},"application/vnd.maxar.archive.3tz+zip":{"source":"iana","compressible":false},"application/vnd.maxmind.maxmind-db":{"source":"iana"},"application/vnd.mcd":{"source":"iana","extensions":["mcd"]},"application/vnd.medcalcdata":{"source":"iana","extensions":["mc1"]},"application/vnd.mediastation.cdkey":{"source":"iana","extensions":["cdkey"]},"application/vnd.meridian-slingshot":{"source":"iana"},"application/vnd.mfer":{"source":"iana","extensions":["mwf"]},"application/vnd.mfmp":{"source":"iana","extensions":["mfm"]},"application/vnd.micro+json":{"source":"iana","compressible":true},"application/vnd.micrografx.flo":{"source":"iana","extensions":["flo"]},"application/vnd.micrografx.igx":{"source":"iana","extensions":["igx"]},"application/vnd.microsoft.portable-executable":{"source":"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{"source":"iana"},"application/vnd.miele+json":{"source":"iana","compressible":true},"application/vnd.mif":{"source":"iana","extensions":["mif"]},"application/vnd.minisoft-hp3000-save":{"source":"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{"source":"iana"},"application/vnd.mobius.daf":{"source":"iana","extensions":["daf"]},"application/vnd.mobius.dis":{"source":"iana","extensions":["dis"]},"application/vnd.mobius.mbk":{"source":"iana","extensions":["mbk"]},"application/vnd.mobius.mqy":{"source":"iana","extensions":["mqy"]},"application/vnd.mobius.msl":{"source":"iana","extensions":["msl"]},"application/vnd.mobius.plc":{"source":"iana","extensions":["plc"]},"application/vnd.mobius.txf":{"source":"iana","extensions":["txf"]},"application/vnd.mophun.application":{"source":"iana","extensions":["mpn"]},"application/vnd.mophun.certificate":{"source":"iana","extensions":["mpc"]},"application/vnd.motorola.flexsuite":{"source":"iana"},"application/vnd.motorola.flexsuite.adsi":{"source":"iana"},"application/vnd.motorola.flexsuite.fis":{"source":"iana"},"application/vnd.motorola.flexsuite.gotap":{"source":"iana"},"application/vnd.motorola.flexsuite.kmr":{"source":"iana"},"application/vnd.motorola.flexsuite.ttc":{"source":"iana"},"application/vnd.motorola.flexsuite.wem":{"source":"iana"},"application/vnd.motorola.iprm":{"source":"iana"},"application/vnd.mozilla.xul+xml":{"source":"iana","compressible":true,"extensions":["xul"]},"application/vnd.ms-3mfdocument":{"source":"iana"},"application/vnd.ms-artgalry":{"source":"iana","extensions":["cil"]},"application/vnd.ms-asf":{"source":"iana"},"application/vnd.ms-cab-compressed":{"source":"iana","extensions":["cab"]},"application/vnd.ms-color.iccprofile":{"source":"apache"},"application/vnd.ms-excel":{"source":"iana","compressible":false,"extensions":["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{"source":"iana","extensions":["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{"source":"iana","extensions":["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{"source":"iana","extensions":["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{"source":"iana","extensions":["xltm"]},"application/vnd.ms-fontobject":{"source":"iana","compressible":true,"extensions":["eot"]},"application/vnd.ms-htmlhelp":{"source":"iana","extensions":["chm"]},"application/vnd.ms-ims":{"source":"iana","extensions":["ims"]},"application/vnd.ms-lrm":{"source":"iana","extensions":["lrm"]},"application/vnd.ms-office.activex+xml":{"source":"iana","compressible":true},"application/vnd.ms-officetheme":{"source":"iana","extensions":["thmx"]},"application/vnd.ms-opentype":{"source":"apache","compressible":true},"application/vnd.ms-outlook":{"compressible":false,"extensions":["msg"]},"application/vnd.ms-package.obfuscated-opentype":{"source":"apache"},"application/vnd.ms-pki.seccat":{"source":"apache","extensions":["cat"]},"application/vnd.ms-pki.stl":{"source":"apache","extensions":["stl"]},"application/vnd.ms-playready.initiator+xml":{"source":"iana","compressible":true},"application/vnd.ms-powerpoint":{"source":"iana","compressible":false,"extensions":["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{"source":"iana","extensions":["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{"source":"iana","extensions":["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{"source":"iana","extensions":["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{"source":"iana","extensions":["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{"source":"iana","extensions":["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{"source":"iana","compressible":true},"application/vnd.ms-printing.printticket+xml":{"source":"apache","compressible":true},"application/vnd.ms-printschematicket+xml":{"source":"iana","compressible":true},"application/vnd.ms-project":{"source":"iana","extensions":["mpp","mpt"]},"application/vnd.ms-tnef":{"source":"iana"},"application/vnd.ms-windows.devicepairing":{"source":"iana"},"application/vnd.ms-windows.nwprinting.oob":{"source":"iana"},"application/vnd.ms-windows.printerpairing":{"source":"iana"},"application/vnd.ms-windows.wsd.oob":{"source":"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.lic-resp":{"source":"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.meter-resp":{"source":"iana"},"application/vnd.ms-word.document.macroenabled.12":{"source":"iana","extensions":["docm"]},"application/vnd.ms-word.template.macroenabled.12":{"source":"iana","extensions":["dotm"]},"application/vnd.ms-works":{"source":"iana","extensions":["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{"source":"iana","extensions":["wpl"]},"application/vnd.ms-xpsdocument":{"source":"iana","compressible":false,"extensions":["xps"]},"application/vnd.msa-disk-image":{"source":"iana"},"application/vnd.mseq":{"source":"iana","extensions":["mseq"]},"application/vnd.msign":{"source":"iana"},"application/vnd.multiad.creator":{"source":"iana"},"application/vnd.multiad.creator.cif":{"source":"iana"},"application/vnd.music-niff":{"source":"iana"},"application/vnd.musician":{"source":"iana","extensions":["mus"]},"application/vnd.muvee.style":{"source":"iana","extensions":["msty"]},"application/vnd.mynfc":{"source":"iana","extensions":["taglet"]},"application/vnd.nacamar.ybrid+json":{"source":"iana","compressible":true},"application/vnd.ncd.control":{"source":"iana"},"application/vnd.ncd.reference":{"source":"iana"},"application/vnd.nearst.inv+json":{"source":"iana","compressible":true},"application/vnd.nebumind.line":{"source":"iana"},"application/vnd.nervana":{"source":"iana"},"application/vnd.netfpx":{"source":"iana"},"application/vnd.neurolanguage.nlu":{"source":"iana","extensions":["nlu"]},"application/vnd.nimn":{"source":"iana"},"application/vnd.nintendo.nitro.rom":{"source":"iana"},"application/vnd.nintendo.snes.rom":{"source":"iana"},"application/vnd.nitf":{"source":"iana","extensions":["ntf","nitf"]},"application/vnd.noblenet-directory":{"source":"iana","extensions":["nnd"]},"application/vnd.noblenet-sealer":{"source":"iana","extensions":["nns"]},"application/vnd.noblenet-web":{"source":"iana","extensions":["nnw"]},"application/vnd.nokia.catalogs":{"source":"iana"},"application/vnd.nokia.conml+wbxml":{"source":"iana"},"application/vnd.nokia.conml+xml":{"source":"iana","compressible":true},"application/vnd.nokia.iptv.config+xml":{"source":"iana","compressible":true},"application/vnd.nokia.isds-radio-presets":{"source":"iana"},"application/vnd.nokia.landmark+wbxml":{"source":"iana"},"application/vnd.nokia.landmark+xml":{"source":"iana","compressible":true},"application/vnd.nokia.landmarkcollection+xml":{"source":"iana","compressible":true},"application/vnd.nokia.n-gage.ac+xml":{"source":"iana","compressible":true,"extensions":["ac"]},"application/vnd.nokia.n-gage.data":{"source":"iana","extensions":["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{"source":"iana","extensions":["n-gage"]},"application/vnd.nokia.ncd":{"source":"iana"},"application/vnd.nokia.pcd+wbxml":{"source":"iana"},"application/vnd.nokia.pcd+xml":{"source":"iana","compressible":true},"application/vnd.nokia.radio-preset":{"source":"iana","extensions":["rpst"]},"application/vnd.nokia.radio-presets":{"source":"iana","extensions":["rpss"]},"application/vnd.novadigm.edm":{"source":"iana","extensions":["edm"]},"application/vnd.novadigm.edx":{"source":"iana","extensions":["edx"]},"application/vnd.novadigm.ext":{"source":"iana","extensions":["ext"]},"application/vnd.ntt-local.content-share":{"source":"iana"},"application/vnd.ntt-local.file-transfer":{"source":"iana"},"application/vnd.ntt-local.ogw_remote-access":{"source":"iana"},"application/vnd.ntt-local.sip-ta_remote":{"source":"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{"source":"iana"},"application/vnd.oasis.opendocument.chart":{"source":"iana","extensions":["odc"]},"application/vnd.oasis.opendocument.chart-template":{"source":"iana","extensions":["otc"]},"application/vnd.oasis.opendocument.database":{"source":"iana","extensions":["odb"]},"application/vnd.oasis.opendocument.formula":{"source":"iana","extensions":["odf"]},"application/vnd.oasis.opendocument.formula-template":{"source":"iana","extensions":["odft"]},"application/vnd.oasis.opendocument.graphics":{"source":"iana","compressible":false,"extensions":["odg"]},"application/vnd.oasis.opendocument.graphics-template":{"source":"iana","extensions":["otg"]},"application/vnd.oasis.opendocument.image":{"source":"iana","extensions":["odi"]},"application/vnd.oasis.opendocument.image-template":{"source":"iana","extensions":["oti"]},"application/vnd.oasis.opendocument.presentation":{"source":"iana","compressible":false,"extensions":["odp"]},"application/vnd.oasis.opendocument.presentation-template":{"source":"iana","extensions":["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{"source":"iana","compressible":false,"extensions":["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{"source":"iana","extensions":["ots"]},"application/vnd.oasis.opendocument.text":{"source":"iana","compressible":false,"extensions":["odt"]},"application/vnd.oasis.opendocument.text-master":{"source":"iana","extensions":["odm"]},"application/vnd.oasis.opendocument.text-template":{"source":"iana","extensions":["ott"]},"application/vnd.oasis.opendocument.text-web":{"source":"iana","extensions":["oth"]},"application/vnd.obn":{"source":"iana"},"application/vnd.ocf+cbor":{"source":"iana"},"application/vnd.oci.image.manifest.v1+json":{"source":"iana","compressible":true},"application/vnd.oftn.l10n+json":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessdownload+xml":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessstreaming+xml":{"source":"iana","compressible":true},"application/vnd.oipf.cspg-hexbinary":{"source":"iana"},"application/vnd.oipf.dae.svg+xml":{"source":"iana","compressible":true},"application/vnd.oipf.dae.xhtml+xml":{"source":"iana","compressible":true},"application/vnd.oipf.mippvcontrolmessage+xml":{"source":"iana","compressible":true},"application/vnd.oipf.pae.gem":{"source":"iana"},"application/vnd.oipf.spdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.oipf.spdlist+xml":{"source":"iana","compressible":true},"application/vnd.oipf.ueprofile+xml":{"source":"iana","compressible":true},"application/vnd.oipf.userprofile+xml":{"source":"iana","compressible":true},"application/vnd.olpc-sugar":{"source":"iana","extensions":["xo"]},"application/vnd.oma-scws-config":{"source":"iana"},"application/vnd.oma-scws-http-request":{"source":"iana"},"application/vnd.oma-scws-http-response":{"source":"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.drm-trigger+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.imd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.ltkm":{"source":"iana"},"application/vnd.oma.bcast.notification+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.provisioningtrigger":{"source":"iana"},"application/vnd.oma.bcast.sgboot":{"source":"iana"},"application/vnd.oma.bcast.sgdd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sgdu":{"source":"iana"},"application/vnd.oma.bcast.simple-symbol-container":{"source":"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sprov+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.stkm":{"source":"iana"},"application/vnd.oma.cab-address-book+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-feature-handler+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-pcc+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-subs-invite+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-user-prefs+xml":{"source":"iana","compressible":true},"application/vnd.oma.dcd":{"source":"iana"},"application/vnd.oma.dcdc":{"source":"iana"},"application/vnd.oma.dd2+xml":{"source":"iana","compressible":true,"extensions":["dd2"]},"application/vnd.oma.drm.risd+xml":{"source":"iana","compressible":true},"application/vnd.oma.group-usage-list+xml":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+cbor":{"source":"iana"},"application/vnd.oma.lwm2m+json":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+tlv":{"source":"iana"},"application/vnd.oma.pal+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.detailed-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.final-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.groups+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.invocation-descriptor+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.optimized-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.push":{"source":"iana"},"application/vnd.oma.scidm.messages+xml":{"source":"iana","compressible":true},"application/vnd.oma.xcap-directory+xml":{"source":"iana","compressible":true},"application/vnd.omads-email+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-file+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-folder+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omaloc-supl-init":{"source":"iana"},"application/vnd.onepager":{"source":"iana"},"application/vnd.onepagertamp":{"source":"iana"},"application/vnd.onepagertamx":{"source":"iana"},"application/vnd.onepagertat":{"source":"iana"},"application/vnd.onepagertatp":{"source":"iana"},"application/vnd.onepagertatx":{"source":"iana"},"application/vnd.openblox.game+xml":{"source":"iana","compressible":true,"extensions":["obgx"]},"application/vnd.openblox.game-binary":{"source":"iana"},"application/vnd.openeye.oeb":{"source":"iana"},"application/vnd.openofficeorg.extension":{"source":"apache","extensions":["oxt"]},"application/vnd.openstreetmap.data+xml":{"source":"iana","compressible":true,"extensions":["osm"]},"application/vnd.opentimestamps.ots":{"source":"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawing+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{"source":"iana","compressible":false,"extensions":["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slide":{"source":"iana","extensions":["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{"source":"iana","extensions":["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.template":{"source":"iana","extensions":["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{"source":"iana","compressible":false,"extensions":["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{"source":"iana","extensions":["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.theme+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.vmldrawing":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{"source":"iana","compressible":false,"extensions":["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{"source":"iana","extensions":["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.core-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.relationships+xml":{"source":"iana","compressible":true},"application/vnd.oracle.resource+json":{"source":"iana","compressible":true},"application/vnd.orange.indata":{"source":"iana"},"application/vnd.osa.netdeploy":{"source":"iana"},"application/vnd.osgeo.mapguide.package":{"source":"iana","extensions":["mgp"]},"application/vnd.osgi.bundle":{"source":"iana"},"application/vnd.osgi.dp":{"source":"iana","extensions":["dp"]},"application/vnd.osgi.subsystem":{"source":"iana","extensions":["esa"]},"application/vnd.otps.ct-kip+xml":{"source":"iana","compressible":true},"application/vnd.oxli.countgraph":{"source":"iana"},"application/vnd.pagerduty+json":{"source":"iana","compressible":true},"application/vnd.palm":{"source":"iana","extensions":["pdb","pqa","oprc"]},"application/vnd.panoply":{"source":"iana"},"application/vnd.paos.xml":{"source":"iana"},"application/vnd.patentdive":{"source":"iana"},"application/vnd.patientecommsdoc":{"source":"iana"},"application/vnd.pawaafile":{"source":"iana","extensions":["paw"]},"application/vnd.pcos":{"source":"iana"},"application/vnd.pg.format":{"source":"iana","extensions":["str"]},"application/vnd.pg.osasli":{"source":"iana","extensions":["ei6"]},"application/vnd.piaccess.application-licence":{"source":"iana"},"application/vnd.picsel":{"source":"iana","extensions":["efif"]},"application/vnd.pmi.widget":{"source":"iana","extensions":["wg"]},"application/vnd.poc.group-advertisement+xml":{"source":"iana","compressible":true},"application/vnd.pocketlearn":{"source":"iana","extensions":["plf"]},"application/vnd.powerbuilder6":{"source":"iana","extensions":["pbd"]},"application/vnd.powerbuilder6-s":{"source":"iana"},"application/vnd.powerbuilder7":{"source":"iana"},"application/vnd.powerbuilder7-s":{"source":"iana"},"application/vnd.powerbuilder75":{"source":"iana"},"application/vnd.powerbuilder75-s":{"source":"iana"},"application/vnd.preminet":{"source":"iana"},"application/vnd.previewsystems.box":{"source":"iana","extensions":["box"]},"application/vnd.proteus.magazine":{"source":"iana","extensions":["mgz"]},"application/vnd.psfs":{"source":"iana"},"application/vnd.publishare-delta-tree":{"source":"iana","extensions":["qps"]},"application/vnd.pvi.ptid1":{"source":"iana","extensions":["ptid"]},"application/vnd.pwg-multiplexed":{"source":"iana"},"application/vnd.pwg-xhtml-print+xml":{"source":"iana","compressible":true},"application/vnd.qualcomm.brew-app-res":{"source":"iana"},"application/vnd.quarantainenet":{"source":"iana"},"application/vnd.quark.quarkxpress":{"source":"iana","extensions":["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{"source":"iana"},"application/vnd.radisys.moml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conn+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-stream+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-base+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-detect+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-group+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-speech+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-transform+xml":{"source":"iana","compressible":true},"application/vnd.rainstor.data":{"source":"iana"},"application/vnd.rapid":{"source":"iana"},"application/vnd.rar":{"source":"iana","extensions":["rar"]},"application/vnd.realvnc.bed":{"source":"iana","extensions":["bed"]},"application/vnd.recordare.musicxml":{"source":"iana","extensions":["mxl"]},"application/vnd.recordare.musicxml+xml":{"source":"iana","compressible":true,"extensions":["musicxml"]},"application/vnd.renlearn.rlprint":{"source":"iana"},"application/vnd.resilient.logic":{"source":"iana"},"application/vnd.restful+json":{"source":"iana","compressible":true},"application/vnd.rig.cryptonote":{"source":"iana","extensions":["cryptonote"]},"application/vnd.rim.cod":{"source":"apache","extensions":["cod"]},"application/vnd.rn-realmedia":{"source":"apache","extensions":["rm"]},"application/vnd.rn-realmedia-vbr":{"source":"apache","extensions":["rmvb"]},"application/vnd.route66.link66+xml":{"source":"iana","compressible":true,"extensions":["link66"]},"application/vnd.rs-274x":{"source":"iana"},"application/vnd.ruckus.download":{"source":"iana"},"application/vnd.s3sms":{"source":"iana"},"application/vnd.sailingtracker.track":{"source":"iana","extensions":["st"]},"application/vnd.sar":{"source":"iana"},"application/vnd.sbm.cid":{"source":"iana"},"application/vnd.sbm.mid2":{"source":"iana"},"application/vnd.scribus":{"source":"iana"},"application/vnd.sealed.3df":{"source":"iana"},"application/vnd.sealed.csf":{"source":"iana"},"application/vnd.sealed.doc":{"source":"iana"},"application/vnd.sealed.eml":{"source":"iana"},"application/vnd.sealed.mht":{"source":"iana"},"application/vnd.sealed.net":{"source":"iana"},"application/vnd.sealed.ppt":{"source":"iana"},"application/vnd.sealed.tiff":{"source":"iana"},"application/vnd.sealed.xls":{"source":"iana"},"application/vnd.sealedmedia.softseal.html":{"source":"iana"},"application/vnd.sealedmedia.softseal.pdf":{"source":"iana"},"application/vnd.seemail":{"source":"iana","extensions":["see"]},"application/vnd.seis+json":{"source":"iana","compressible":true},"application/vnd.sema":{"source":"iana","extensions":["sema"]},"application/vnd.semd":{"source":"iana","extensions":["semd"]},"application/vnd.semf":{"source":"iana","extensions":["semf"]},"application/vnd.shade-save-file":{"source":"iana"},"application/vnd.shana.informed.formdata":{"source":"iana","extensions":["ifm"]},"application/vnd.shana.informed.formtemplate":{"source":"iana","extensions":["itp"]},"application/vnd.shana.informed.interchange":{"source":"iana","extensions":["iif"]},"application/vnd.shana.informed.package":{"source":"iana","extensions":["ipk"]},"application/vnd.shootproof+json":{"source":"iana","compressible":true},"application/vnd.shopkick+json":{"source":"iana","compressible":true},"application/vnd.shp":{"source":"iana"},"application/vnd.shx":{"source":"iana"},"application/vnd.sigrok.session":{"source":"iana"},"application/vnd.simtech-mindmapper":{"source":"iana","extensions":["twd","twds"]},"application/vnd.siren+json":{"source":"iana","compressible":true},"application/vnd.smaf":{"source":"iana","extensions":["mmf"]},"application/vnd.smart.notebook":{"source":"iana"},"application/vnd.smart.teacher":{"source":"iana","extensions":["teacher"]},"application/vnd.snesdev-page-table":{"source":"iana"},"application/vnd.software602.filler.form+xml":{"source":"iana","compressible":true,"extensions":["fo"]},"application/vnd.software602.filler.form-xml-zip":{"source":"iana"},"application/vnd.solent.sdkm+xml":{"source":"iana","compressible":true,"extensions":["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{"source":"iana","extensions":["dxp"]},"application/vnd.spotfire.sfs":{"source":"iana","extensions":["sfs"]},"application/vnd.sqlite3":{"source":"iana"},"application/vnd.sss-cod":{"source":"iana"},"application/vnd.sss-dtf":{"source":"iana"},"application/vnd.sss-ntf":{"source":"iana"},"application/vnd.stardivision.calc":{"source":"apache","extensions":["sdc"]},"application/vnd.stardivision.draw":{"source":"apache","extensions":["sda"]},"application/vnd.stardivision.impress":{"source":"apache","extensions":["sdd"]},"application/vnd.stardivision.math":{"source":"apache","extensions":["smf"]},"application/vnd.stardivision.writer":{"source":"apache","extensions":["sdw","vor"]},"application/vnd.stardivision.writer-global":{"source":"apache","extensions":["sgl"]},"application/vnd.stepmania.package":{"source":"iana","extensions":["smzip"]},"application/vnd.stepmania.stepchart":{"source":"iana","extensions":["sm"]},"application/vnd.street-stream":{"source":"iana"},"application/vnd.sun.wadl+xml":{"source":"iana","compressible":true,"extensions":["wadl"]},"application/vnd.sun.xml.calc":{"source":"apache","extensions":["sxc"]},"application/vnd.sun.xml.calc.template":{"source":"apache","extensions":["stc"]},"application/vnd.sun.xml.draw":{"source":"apache","extensions":["sxd"]},"application/vnd.sun.xml.draw.template":{"source":"apache","extensions":["std"]},"application/vnd.sun.xml.impress":{"source":"apache","extensions":["sxi"]},"application/vnd.sun.xml.impress.template":{"source":"apache","extensions":["sti"]},"application/vnd.sun.xml.math":{"source":"apache","extensions":["sxm"]},"application/vnd.sun.xml.writer":{"source":"apache","extensions":["sxw"]},"application/vnd.sun.xml.writer.global":{"source":"apache","extensions":["sxg"]},"application/vnd.sun.xml.writer.template":{"source":"apache","extensions":["stw"]},"application/vnd.sus-calendar":{"source":"iana","extensions":["sus","susp"]},"application/vnd.svd":{"source":"iana","extensions":["svd"]},"application/vnd.swiftview-ics":{"source":"iana"},"application/vnd.sycle+xml":{"source":"iana","compressible":true},"application/vnd.syft+json":{"source":"iana","compressible":true},"application/vnd.symbian.install":{"source":"apache","extensions":["sis","sisx"]},"application/vnd.syncml+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xsm"]},"application/vnd.syncml.dm+wbxml":{"source":"iana","charset":"UTF-8","extensions":["bdm"]},"application/vnd.syncml.dm+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xdm"]},"application/vnd.syncml.dm.notification":{"source":"iana"},"application/vnd.syncml.dmddf+wbxml":{"source":"iana"},"application/vnd.syncml.dmddf+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{"source":"iana"},"application/vnd.syncml.dmtnds+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.syncml.ds.notification":{"source":"iana"},"application/vnd.tableschema+json":{"source":"iana","compressible":true},"application/vnd.tao.intent-module-archive":{"source":"iana","extensions":["tao"]},"application/vnd.tcpdump.pcap":{"source":"iana","extensions":["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{"source":"iana","compressible":true},"application/vnd.tmd.mediaflex.api+xml":{"source":"iana","compressible":true},"application/vnd.tml":{"source":"iana"},"application/vnd.tmobile-livetv":{"source":"iana","extensions":["tmo"]},"application/vnd.tri.onesource":{"source":"iana"},"application/vnd.trid.tpt":{"source":"iana","extensions":["tpt"]},"application/vnd.triscape.mxs":{"source":"iana","extensions":["mxs"]},"application/vnd.trueapp":{"source":"iana","extensions":["tra"]},"application/vnd.truedoc":{"source":"iana"},"application/vnd.ubisoft.webplayer":{"source":"iana"},"application/vnd.ufdl":{"source":"iana","extensions":["ufd","ufdl"]},"application/vnd.uiq.theme":{"source":"iana","extensions":["utz"]},"application/vnd.umajin":{"source":"iana","extensions":["umj"]},"application/vnd.unity":{"source":"iana","extensions":["unityweb"]},"application/vnd.uoml+xml":{"source":"iana","compressible":true,"extensions":["uoml"]},"application/vnd.uplanet.alert":{"source":"iana"},"application/vnd.uplanet.alert-wbxml":{"source":"iana"},"application/vnd.uplanet.bearer-choice":{"source":"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{"source":"iana"},"application/vnd.uplanet.cacheop":{"source":"iana"},"application/vnd.uplanet.cacheop-wbxml":{"source":"iana"},"application/vnd.uplanet.channel":{"source":"iana"},"application/vnd.uplanet.channel-wbxml":{"source":"iana"},"application/vnd.uplanet.list":{"source":"iana"},"application/vnd.uplanet.list-wbxml":{"source":"iana"},"application/vnd.uplanet.listcmd":{"source":"iana"},"application/vnd.uplanet.listcmd-wbxml":{"source":"iana"},"application/vnd.uplanet.signal":{"source":"iana"},"application/vnd.uri-map":{"source":"iana"},"application/vnd.valve.source.material":{"source":"iana"},"application/vnd.vcx":{"source":"iana","extensions":["vcx"]},"application/vnd.vd-study":{"source":"iana"},"application/vnd.vectorworks":{"source":"iana"},"application/vnd.vel+json":{"source":"iana","compressible":true},"application/vnd.verimatrix.vcas":{"source":"iana"},"application/vnd.veritone.aion+json":{"source":"iana","compressible":true},"application/vnd.veryant.thin":{"source":"iana"},"application/vnd.ves.encrypted":{"source":"iana"},"application/vnd.vidsoft.vidconference":{"source":"iana"},"application/vnd.visio":{"source":"iana","extensions":["vsd","vst","vss","vsw"]},"application/vnd.visionary":{"source":"iana","extensions":["vis"]},"application/vnd.vividence.scriptfile":{"source":"iana"},"application/vnd.vsf":{"source":"iana","extensions":["vsf"]},"application/vnd.wap.sic":{"source":"iana"},"application/vnd.wap.slc":{"source":"iana"},"application/vnd.wap.wbxml":{"source":"iana","charset":"UTF-8","extensions":["wbxml"]},"application/vnd.wap.wmlc":{"source":"iana","extensions":["wmlc"]},"application/vnd.wap.wmlscriptc":{"source":"iana","extensions":["wmlsc"]},"application/vnd.webturbo":{"source":"iana","extensions":["wtb"]},"application/vnd.wfa.dpp":{"source":"iana"},"application/vnd.wfa.p2p":{"source":"iana"},"application/vnd.wfa.wsc":{"source":"iana"},"application/vnd.windows.devicepairing":{"source":"iana"},"application/vnd.wmc":{"source":"iana"},"application/vnd.wmf.bootstrap":{"source":"iana"},"application/vnd.wolfram.mathematica":{"source":"iana"},"application/vnd.wolfram.mathematica.package":{"source":"iana"},"application/vnd.wolfram.player":{"source":"iana","extensions":["nbp"]},"application/vnd.wordperfect":{"source":"iana","extensions":["wpd"]},"application/vnd.wqd":{"source":"iana","extensions":["wqd"]},"application/vnd.wrq-hp3000-labelled":{"source":"iana"},"application/vnd.wt.stf":{"source":"iana","extensions":["stf"]},"application/vnd.wv.csp+wbxml":{"source":"iana"},"application/vnd.wv.csp+xml":{"source":"iana","compressible":true},"application/vnd.wv.ssp+xml":{"source":"iana","compressible":true},"application/vnd.xacml+json":{"source":"iana","compressible":true},"application/vnd.xara":{"source":"iana","extensions":["xar"]},"application/vnd.xfdl":{"source":"iana","extensions":["xfdl"]},"application/vnd.xfdl.webform":{"source":"iana"},"application/vnd.xmi+xml":{"source":"iana","compressible":true},"application/vnd.xmpie.cpkg":{"source":"iana"},"application/vnd.xmpie.dpkg":{"source":"iana"},"application/vnd.xmpie.plan":{"source":"iana"},"application/vnd.xmpie.ppkg":{"source":"iana"},"application/vnd.xmpie.xlim":{"source":"iana"},"application/vnd.yamaha.hv-dic":{"source":"iana","extensions":["hvd"]},"application/vnd.yamaha.hv-script":{"source":"iana","extensions":["hvs"]},"application/vnd.yamaha.hv-voice":{"source":"iana","extensions":["hvp"]},"application/vnd.yamaha.openscoreformat":{"source":"iana","extensions":["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{"source":"iana","compressible":true,"extensions":["osfpvg"]},"application/vnd.yamaha.remote-setup":{"source":"iana"},"application/vnd.yamaha.smaf-audio":{"source":"iana","extensions":["saf"]},"application/vnd.yamaha.smaf-phrase":{"source":"iana","extensions":["spf"]},"application/vnd.yamaha.through-ngn":{"source":"iana"},"application/vnd.yamaha.tunnel-udpencap":{"source":"iana"},"application/vnd.yaoweme":{"source":"iana"},"application/vnd.yellowriver-custom-menu":{"source":"iana","extensions":["cmp"]},"application/vnd.youtube.yt":{"source":"iana"},"application/vnd.zul":{"source":"iana","extensions":["zir","zirz"]},"application/vnd.zzazz.deck+xml":{"source":"iana","compressible":true,"extensions":["zaz"]},"application/voicexml+xml":{"source":"iana","compressible":true,"extensions":["vxml"]},"application/voucher-cms+json":{"source":"iana","compressible":true},"application/vq-rtcpxr":{"source":"iana"},"application/wasm":{"source":"iana","compressible":true,"extensions":["wasm"]},"application/watcherinfo+xml":{"source":"iana","compressible":true,"extensions":["wif"]},"application/webpush-options+json":{"source":"iana","compressible":true},"application/whoispp-query":{"source":"iana"},"application/whoispp-response":{"source":"iana"},"application/widget":{"source":"iana","extensions":["wgt"]},"application/winhlp":{"source":"apache","extensions":["hlp"]},"application/wita":{"source":"iana"},"application/wordperfect5.1":{"source":"iana"},"application/wsdl+xml":{"source":"iana","compressible":true,"extensions":["wsdl"]},"application/wspolicy+xml":{"source":"iana","compressible":true,"extensions":["wspolicy"]},"application/x-7z-compressed":{"source":"apache","compressible":false,"extensions":["7z"]},"application/x-abiword":{"source":"apache","extensions":["abw"]},"application/x-ace-compressed":{"source":"apache","extensions":["ace"]},"application/x-amf":{"source":"apache"},"application/x-apple-diskimage":{"source":"apache","extensions":["dmg"]},"application/x-arj":{"compressible":false,"extensions":["arj"]},"application/x-authorware-bin":{"source":"apache","extensions":["aab","x32","u32","vox"]},"application/x-authorware-map":{"source":"apache","extensions":["aam"]},"application/x-authorware-seg":{"source":"apache","extensions":["aas"]},"application/x-bcpio":{"source":"apache","extensions":["bcpio"]},"application/x-bdoc":{"compressible":false,"extensions":["bdoc"]},"application/x-bittorrent":{"source":"apache","extensions":["torrent"]},"application/x-blorb":{"source":"apache","extensions":["blb","blorb"]},"application/x-bzip":{"source":"apache","compressible":false,"extensions":["bz"]},"application/x-bzip2":{"source":"apache","compressible":false,"extensions":["bz2","boz"]},"application/x-cbr":{"source":"apache","extensions":["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{"source":"apache","extensions":["vcd"]},"application/x-cfs-compressed":{"source":"apache","extensions":["cfs"]},"application/x-chat":{"source":"apache","extensions":["chat"]},"application/x-chess-pgn":{"source":"apache","extensions":["pgn"]},"application/x-chrome-extension":{"extensions":["crx"]},"application/x-cocoa":{"source":"nginx","extensions":["cco"]},"application/x-compress":{"source":"apache"},"application/x-conference":{"source":"apache","extensions":["nsc"]},"application/x-cpio":{"source":"apache","extensions":["cpio"]},"application/x-csh":{"source":"apache","extensions":["csh"]},"application/x-deb":{"compressible":false},"application/x-debian-package":{"source":"apache","extensions":["deb","udeb"]},"application/x-dgc-compressed":{"source":"apache","extensions":["dgc"]},"application/x-director":{"source":"apache","extensions":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{"source":"apache","extensions":["wad"]},"application/x-dtbncx+xml":{"source":"apache","compressible":true,"extensions":["ncx"]},"application/x-dtbook+xml":{"source":"apache","compressible":true,"extensions":["dtb"]},"application/x-dtbresource+xml":{"source":"apache","compressible":true,"extensions":["res"]},"application/x-dvi":{"source":"apache","compressible":false,"extensions":["dvi"]},"application/x-envoy":{"source":"apache","extensions":["evy"]},"application/x-eva":{"source":"apache","extensions":["eva"]},"application/x-font-bdf":{"source":"apache","extensions":["bdf"]},"application/x-font-dos":{"source":"apache"},"application/x-font-framemaker":{"source":"apache"},"application/x-font-ghostscript":{"source":"apache","extensions":["gsf"]},"application/x-font-libgrx":{"source":"apache"},"application/x-font-linux-psf":{"source":"apache","extensions":["psf"]},"application/x-font-pcf":{"source":"apache","extensions":["pcf"]},"application/x-font-snf":{"source":"apache","extensions":["snf"]},"application/x-font-speedo":{"source":"apache"},"application/x-font-sunos-news":{"source":"apache"},"application/x-font-type1":{"source":"apache","extensions":["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{"source":"apache"},"application/x-freearc":{"source":"apache","extensions":["arc"]},"application/x-futuresplash":{"source":"apache","extensions":["spl"]},"application/x-gca-compressed":{"source":"apache","extensions":["gca"]},"application/x-glulx":{"source":"apache","extensions":["ulx"]},"application/x-gnumeric":{"source":"apache","extensions":["gnumeric"]},"application/x-gramps-xml":{"source":"apache","extensions":["gramps"]},"application/x-gtar":{"source":"apache","extensions":["gtar"]},"application/x-gzip":{"source":"apache"},"application/x-hdf":{"source":"apache","extensions":["hdf"]},"application/x-httpd-php":{"compressible":true,"extensions":["php"]},"application/x-install-instructions":{"source":"apache","extensions":["install"]},"application/x-iso9660-image":{"source":"apache","extensions":["iso"]},"application/x-iwork-keynote-sffkey":{"extensions":["key"]},"application/x-iwork-numbers-sffnumbers":{"extensions":["numbers"]},"application/x-iwork-pages-sffpages":{"extensions":["pages"]},"application/x-java-archive-diff":{"source":"nginx","extensions":["jardiff"]},"application/x-java-jnlp-file":{"source":"apache","compressible":false,"extensions":["jnlp"]},"application/x-javascript":{"compressible":true},"application/x-keepass2":{"extensions":["kdbx"]},"application/x-latex":{"source":"apache","compressible":false,"extensions":["latex"]},"application/x-lua-bytecode":{"extensions":["luac"]},"application/x-lzh-compressed":{"source":"apache","extensions":["lzh","lha"]},"application/x-makeself":{"source":"nginx","extensions":["run"]},"application/x-mie":{"source":"apache","extensions":["mie"]},"application/x-mobipocket-ebook":{"source":"apache","extensions":["prc","mobi"]},"application/x-mpegurl":{"compressible":false},"application/x-ms-application":{"source":"apache","extensions":["application"]},"application/x-ms-shortcut":{"source":"apache","extensions":["lnk"]},"application/x-ms-wmd":{"source":"apache","extensions":["wmd"]},"application/x-ms-wmz":{"source":"apache","extensions":["wmz"]},"application/x-ms-xbap":{"source":"apache","extensions":["xbap"]},"application/x-msaccess":{"source":"apache","extensions":["mdb"]},"application/x-msbinder":{"source":"apache","extensions":["obd"]},"application/x-mscardfile":{"source":"apache","extensions":["crd"]},"application/x-msclip":{"source":"apache","extensions":["clp"]},"application/x-msdos-program":{"extensions":["exe"]},"application/x-msdownload":{"source":"apache","extensions":["exe","dll","com","bat","msi"]},"application/x-msmediaview":{"source":"apache","extensions":["mvb","m13","m14"]},"application/x-msmetafile":{"source":"apache","extensions":["wmf","wmz","emf","emz"]},"application/x-msmoney":{"source":"apache","extensions":["mny"]},"application/x-mspublisher":{"source":"apache","extensions":["pub"]},"application/x-msschedule":{"source":"apache","extensions":["scd"]},"application/x-msterminal":{"source":"apache","extensions":["trm"]},"application/x-mswrite":{"source":"apache","extensions":["wri"]},"application/x-netcdf":{"source":"apache","extensions":["nc","cdf"]},"application/x-ns-proxy-autoconfig":{"compressible":true,"extensions":["pac"]},"application/x-nzb":{"source":"apache","extensions":["nzb"]},"application/x-perl":{"source":"nginx","extensions":["pl","pm"]},"application/x-pilot":{"source":"nginx","extensions":["prc","pdb"]},"application/x-pkcs12":{"source":"apache","compressible":false,"extensions":["p12","pfx"]},"application/x-pkcs7-certificates":{"source":"apache","extensions":["p7b","spc"]},"application/x-pkcs7-certreqresp":{"source":"apache","extensions":["p7r"]},"application/x-pki-message":{"source":"iana"},"application/x-rar-compressed":{"source":"apache","compressible":false,"extensions":["rar"]},"application/x-redhat-package-manager":{"source":"nginx","extensions":["rpm"]},"application/x-research-info-systems":{"source":"apache","extensions":["ris"]},"application/x-sea":{"source":"nginx","extensions":["sea"]},"application/x-sh":{"source":"apache","compressible":true,"extensions":["sh"]},"application/x-shar":{"source":"apache","extensions":["shar"]},"application/x-shockwave-flash":{"source":"apache","compressible":false,"extensions":["swf"]},"application/x-silverlight-app":{"source":"apache","extensions":["xap"]},"application/x-sql":{"source":"apache","extensions":["sql"]},"application/x-stuffit":{"source":"apache","compressible":false,"extensions":["sit"]},"application/x-stuffitx":{"source":"apache","extensions":["sitx"]},"application/x-subrip":{"source":"apache","extensions":["srt"]},"application/x-sv4cpio":{"source":"apache","extensions":["sv4cpio"]},"application/x-sv4crc":{"source":"apache","extensions":["sv4crc"]},"application/x-t3vm-image":{"source":"apache","extensions":["t3"]},"application/x-tads":{"source":"apache","extensions":["gam"]},"application/x-tar":{"source":"apache","compressible":true,"extensions":["tar"]},"application/x-tcl":{"source":"apache","extensions":["tcl","tk"]},"application/x-tex":{"source":"apache","extensions":["tex"]},"application/x-tex-tfm":{"source":"apache","extensions":["tfm"]},"application/x-texinfo":{"source":"apache","extensions":["texinfo","texi"]},"application/x-tgif":{"source":"apache","extensions":["obj"]},"application/x-ustar":{"source":"apache","extensions":["ustar"]},"application/x-virtualbox-hdd":{"compressible":true,"extensions":["hdd"]},"application/x-virtualbox-ova":{"compressible":true,"extensions":["ova"]},"application/x-virtualbox-ovf":{"compressible":true,"extensions":["ovf"]},"application/x-virtualbox-vbox":{"compressible":true,"extensions":["vbox"]},"application/x-virtualbox-vbox-extpack":{"compressible":false,"extensions":["vbox-extpack"]},"application/x-virtualbox-vdi":{"compressible":true,"extensions":["vdi"]},"application/x-virtualbox-vhd":{"compressible":true,"extensions":["vhd"]},"application/x-virtualbox-vmdk":{"compressible":true,"extensions":["vmdk"]},"application/x-wais-source":{"source":"apache","extensions":["src"]},"application/x-web-app-manifest+json":{"compressible":true,"extensions":["webapp"]},"application/x-www-form-urlencoded":{"source":"iana","compressible":true},"application/x-x509-ca-cert":{"source":"iana","extensions":["der","crt","pem"]},"application/x-x509-ca-ra-cert":{"source":"iana"},"application/x-x509-next-ca-cert":{"source":"iana"},"application/x-xfig":{"source":"apache","extensions":["fig"]},"application/x-xliff+xml":{"source":"apache","compressible":true,"extensions":["xlf"]},"application/x-xpinstall":{"source":"apache","compressible":false,"extensions":["xpi"]},"application/x-xz":{"source":"apache","extensions":["xz"]},"application/x-zmachine":{"source":"apache","extensions":["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{"source":"iana"},"application/xacml+xml":{"source":"iana","compressible":true},"application/xaml+xml":{"source":"apache","compressible":true,"extensions":["xaml"]},"application/xcap-att+xml":{"source":"iana","compressible":true,"extensions":["xav"]},"application/xcap-caps+xml":{"source":"iana","compressible":true,"extensions":["xca"]},"application/xcap-diff+xml":{"source":"iana","compressible":true,"extensions":["xdf"]},"application/xcap-el+xml":{"source":"iana","compressible":true,"extensions":["xel"]},"application/xcap-error+xml":{"source":"iana","compressible":true},"application/xcap-ns+xml":{"source":"iana","compressible":true,"extensions":["xns"]},"application/xcon-conference-info+xml":{"source":"iana","compressible":true},"application/xcon-conference-info-diff+xml":{"source":"iana","compressible":true},"application/xenc+xml":{"source":"iana","compressible":true,"extensions":["xenc"]},"application/xhtml+xml":{"source":"iana","compressible":true,"extensions":["xhtml","xht"]},"application/xhtml-voice+xml":{"source":"apache","compressible":true},"application/xliff+xml":{"source":"iana","compressible":true,"extensions":["xlf"]},"application/xml":{"source":"iana","compressible":true,"extensions":["xml","xsl","xsd","rng"]},"application/xml-dtd":{"source":"iana","compressible":true,"extensions":["dtd"]},"application/xml-external-parsed-entity":{"source":"iana"},"application/xml-patch+xml":{"source":"iana","compressible":true},"application/xmpp+xml":{"source":"iana","compressible":true},"application/xop+xml":{"source":"iana","compressible":true,"extensions":["xop"]},"application/xproc+xml":{"source":"apache","compressible":true,"extensions":["xpl"]},"application/xslt+xml":{"source":"iana","compressible":true,"extensions":["xsl","xslt"]},"application/xspf+xml":{"source":"apache","compressible":true,"extensions":["xspf"]},"application/xv+xml":{"source":"iana","compressible":true,"extensions":["mxml","xhvml","xvml","xvm"]},"application/yang":{"source":"iana","extensions":["yang"]},"application/yang-data+json":{"source":"iana","compressible":true},"application/yang-data+xml":{"source":"iana","compressible":true},"application/yang-patch+json":{"source":"iana","compressible":true},"application/yang-patch+xml":{"source":"iana","compressible":true},"application/yin+xml":{"source":"iana","compressible":true,"extensions":["yin"]},"application/zip":{"source":"iana","compressible":false,"extensions":["zip"]},"application/zlib":{"source":"iana"},"application/zstd":{"source":"iana"},"audio/1d-interleaved-parityfec":{"source":"iana"},"audio/32kadpcm":{"source":"iana"},"audio/3gpp":{"source":"iana","compressible":false,"extensions":["3gpp"]},"audio/3gpp2":{"source":"iana"},"audio/aac":{"source":"iana"},"audio/ac3":{"source":"iana"},"audio/adpcm":{"source":"apache","extensions":["adp"]},"audio/amr":{"source":"iana","extensions":["amr"]},"audio/amr-wb":{"source":"iana"},"audio/amr-wb+":{"source":"iana"},"audio/aptx":{"source":"iana"},"audio/asc":{"source":"iana"},"audio/atrac-advanced-lossless":{"source":"iana"},"audio/atrac-x":{"source":"iana"},"audio/atrac3":{"source":"iana"},"audio/basic":{"source":"iana","compressible":false,"extensions":["au","snd"]},"audio/bv16":{"source":"iana"},"audio/bv32":{"source":"iana"},"audio/clearmode":{"source":"iana"},"audio/cn":{"source":"iana"},"audio/dat12":{"source":"iana"},"audio/dls":{"source":"iana"},"audio/dsr-es201108":{"source":"iana"},"audio/dsr-es202050":{"source":"iana"},"audio/dsr-es202211":{"source":"iana"},"audio/dsr-es202212":{"source":"iana"},"audio/dv":{"source":"iana"},"audio/dvi4":{"source":"iana"},"audio/eac3":{"source":"iana"},"audio/encaprtp":{"source":"iana"},"audio/evrc":{"source":"iana"},"audio/evrc-qcp":{"source":"iana"},"audio/evrc0":{"source":"iana"},"audio/evrc1":{"source":"iana"},"audio/evrcb":{"source":"iana"},"audio/evrcb0":{"source":"iana"},"audio/evrcb1":{"source":"iana"},"audio/evrcnw":{"source":"iana"},"audio/evrcnw0":{"source":"iana"},"audio/evrcnw1":{"source":"iana"},"audio/evrcwb":{"source":"iana"},"audio/evrcwb0":{"source":"iana"},"audio/evrcwb1":{"source":"iana"},"audio/evs":{"source":"iana"},"audio/flexfec":{"source":"iana"},"audio/fwdred":{"source":"iana"},"audio/g711-0":{"source":"iana"},"audio/g719":{"source":"iana"},"audio/g722":{"source":"iana"},"audio/g7221":{"source":"iana"},"audio/g723":{"source":"iana"},"audio/g726-16":{"source":"iana"},"audio/g726-24":{"source":"iana"},"audio/g726-32":{"source":"iana"},"audio/g726-40":{"source":"iana"},"audio/g728":{"source":"iana"},"audio/g729":{"source":"iana"},"audio/g7291":{"source":"iana"},"audio/g729d":{"source":"iana"},"audio/g729e":{"source":"iana"},"audio/gsm":{"source":"iana"},"audio/gsm-efr":{"source":"iana"},"audio/gsm-hr-08":{"source":"iana"},"audio/ilbc":{"source":"iana"},"audio/ip-mr_v2.5":{"source":"iana"},"audio/isac":{"source":"apache"},"audio/l16":{"source":"iana"},"audio/l20":{"source":"iana"},"audio/l24":{"source":"iana","compressible":false},"audio/l8":{"source":"iana"},"audio/lpc":{"source":"iana"},"audio/melp":{"source":"iana"},"audio/melp1200":{"source":"iana"},"audio/melp2400":{"source":"iana"},"audio/melp600":{"source":"iana"},"audio/mhas":{"source":"iana"},"audio/midi":{"source":"apache","extensions":["mid","midi","kar","rmi"]},"audio/mobile-xmf":{"source":"iana","extensions":["mxmf"]},"audio/mp3":{"compressible":false,"extensions":["mp3"]},"audio/mp4":{"source":"iana","compressible":false,"extensions":["m4a","mp4a"]},"audio/mp4a-latm":{"source":"iana"},"audio/mpa":{"source":"iana"},"audio/mpa-robust":{"source":"iana"},"audio/mpeg":{"source":"iana","compressible":false,"extensions":["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{"source":"iana"},"audio/musepack":{"source":"apache"},"audio/ogg":{"source":"iana","compressible":false,"extensions":["oga","ogg","spx","opus"]},"audio/opus":{"source":"iana"},"audio/parityfec":{"source":"iana"},"audio/pcma":{"source":"iana"},"audio/pcma-wb":{"source":"iana"},"audio/pcmu":{"source":"iana"},"audio/pcmu-wb":{"source":"iana"},"audio/prs.sid":{"source":"iana"},"audio/qcelp":{"source":"iana"},"audio/raptorfec":{"source":"iana"},"audio/red":{"source":"iana"},"audio/rtp-enc-aescm128":{"source":"iana"},"audio/rtp-midi":{"source":"iana"},"audio/rtploopback":{"source":"iana"},"audio/rtx":{"source":"iana"},"audio/s3m":{"source":"apache","extensions":["s3m"]},"audio/scip":{"source":"iana"},"audio/silk":{"source":"apache","extensions":["sil"]},"audio/smv":{"source":"iana"},"audio/smv-qcp":{"source":"iana"},"audio/smv0":{"source":"iana"},"audio/sofa":{"source":"iana"},"audio/sp-midi":{"source":"iana"},"audio/speex":{"source":"iana"},"audio/t140c":{"source":"iana"},"audio/t38":{"source":"iana"},"audio/telephone-event":{"source":"iana"},"audio/tetra_acelp":{"source":"iana"},"audio/tetra_acelp_bb":{"source":"iana"},"audio/tone":{"source":"iana"},"audio/tsvcis":{"source":"iana"},"audio/uemclip":{"source":"iana"},"audio/ulpfec":{"source":"iana"},"audio/usac":{"source":"iana"},"audio/vdvi":{"source":"iana"},"audio/vmr-wb":{"source":"iana"},"audio/vnd.3gpp.iufp":{"source":"iana"},"audio/vnd.4sb":{"source":"iana"},"audio/vnd.audiokoz":{"source":"iana"},"audio/vnd.celp":{"source":"iana"},"audio/vnd.cisco.nse":{"source":"iana"},"audio/vnd.cmles.radio-events":{"source":"iana"},"audio/vnd.cns.anp1":{"source":"iana"},"audio/vnd.cns.inf1":{"source":"iana"},"audio/vnd.dece.audio":{"source":"iana","extensions":["uva","uvva"]},"audio/vnd.digital-winds":{"source":"iana","extensions":["eol"]},"audio/vnd.dlna.adts":{"source":"iana"},"audio/vnd.dolby.heaac.1":{"source":"iana"},"audio/vnd.dolby.heaac.2":{"source":"iana"},"audio/vnd.dolby.mlp":{"source":"iana"},"audio/vnd.dolby.mps":{"source":"iana"},"audio/vnd.dolby.pl2":{"source":"iana"},"audio/vnd.dolby.pl2x":{"source":"iana"},"audio/vnd.dolby.pl2z":{"source":"iana"},"audio/vnd.dolby.pulse.1":{"source":"iana"},"audio/vnd.dra":{"source":"iana","extensions":["dra"]},"audio/vnd.dts":{"source":"iana","extensions":["dts"]},"audio/vnd.dts.hd":{"source":"iana","extensions":["dtshd"]},"audio/vnd.dts.uhd":{"source":"iana"},"audio/vnd.dvb.file":{"source":"iana"},"audio/vnd.everad.plj":{"source":"iana"},"audio/vnd.hns.audio":{"source":"iana"},"audio/vnd.lucent.voice":{"source":"iana","extensions":["lvp"]},"audio/vnd.ms-playready.media.pya":{"source":"iana","extensions":["pya"]},"audio/vnd.nokia.mobile-xmf":{"source":"iana"},"audio/vnd.nortel.vbk":{"source":"iana"},"audio/vnd.nuera.ecelp4800":{"source":"iana","extensions":["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{"source":"iana","extensions":["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{"source":"iana","extensions":["ecelp9600"]},"audio/vnd.octel.sbc":{"source":"iana"},"audio/vnd.presonus.multitrack":{"source":"iana"},"audio/vnd.qcelp":{"source":"iana"},"audio/vnd.rhetorex.32kadpcm":{"source":"iana"},"audio/vnd.rip":{"source":"iana","extensions":["rip"]},"audio/vnd.rn-realaudio":{"compressible":false},"audio/vnd.sealedmedia.softseal.mpeg":{"source":"iana"},"audio/vnd.vmx.cvsd":{"source":"iana"},"audio/vnd.wave":{"compressible":false},"audio/vorbis":{"source":"iana","compressible":false},"audio/vorbis-config":{"source":"iana"},"audio/wav":{"compressible":false,"extensions":["wav"]},"audio/wave":{"compressible":false,"extensions":["wav"]},"audio/webm":{"source":"apache","compressible":false,"extensions":["weba"]},"audio/x-aac":{"source":"apache","compressible":false,"extensions":["aac"]},"audio/x-aiff":{"source":"apache","extensions":["aif","aiff","aifc"]},"audio/x-caf":{"source":"apache","compressible":false,"extensions":["caf"]},"audio/x-flac":{"source":"apache","extensions":["flac"]},"audio/x-m4a":{"source":"nginx","extensions":["m4a"]},"audio/x-matroska":{"source":"apache","extensions":["mka"]},"audio/x-mpegurl":{"source":"apache","extensions":["m3u"]},"audio/x-ms-wax":{"source":"apache","extensions":["wax"]},"audio/x-ms-wma":{"source":"apache","extensions":["wma"]},"audio/x-pn-realaudio":{"source":"apache","extensions":["ram","ra"]},"audio/x-pn-realaudio-plugin":{"source":"apache","extensions":["rmp"]},"audio/x-realaudio":{"source":"nginx","extensions":["ra"]},"audio/x-tta":{"source":"apache"},"audio/x-wav":{"source":"apache","extensions":["wav"]},"audio/xm":{"source":"apache","extensions":["xm"]},"chemical/x-cdx":{"source":"apache","extensions":["cdx"]},"chemical/x-cif":{"source":"apache","extensions":["cif"]},"chemical/x-cmdf":{"source":"apache","extensions":["cmdf"]},"chemical/x-cml":{"source":"apache","extensions":["cml"]},"chemical/x-csml":{"source":"apache","extensions":["csml"]},"chemical/x-pdb":{"source":"apache"},"chemical/x-xyz":{"source":"apache","extensions":["xyz"]},"font/collection":{"source":"iana","extensions":["ttc"]},"font/otf":{"source":"iana","compressible":true,"extensions":["otf"]},"font/sfnt":{"source":"iana"},"font/ttf":{"source":"iana","compressible":true,"extensions":["ttf"]},"font/woff":{"source":"iana","extensions":["woff"]},"font/woff2":{"source":"iana","extensions":["woff2"]},"image/aces":{"source":"iana","extensions":["exr"]},"image/apng":{"compressible":false,"extensions":["apng"]},"image/avci":{"source":"iana","extensions":["avci"]},"image/avcs":{"source":"iana","extensions":["avcs"]},"image/avif":{"source":"iana","compressible":false,"extensions":["avif"]},"image/bmp":{"source":"iana","compressible":true,"extensions":["bmp"]},"image/cgm":{"source":"iana","extensions":["cgm"]},"image/dicom-rle":{"source":"iana","extensions":["drle"]},"image/emf":{"source":"iana","extensions":["emf"]},"image/fits":{"source":"iana","extensions":["fits"]},"image/g3fax":{"source":"iana","extensions":["g3"]},"image/gif":{"source":"iana","compressible":false,"extensions":["gif"]},"image/heic":{"source":"iana","extensions":["heic"]},"image/heic-sequence":{"source":"iana","extensions":["heics"]},"image/heif":{"source":"iana","extensions":["heif"]},"image/heif-sequence":{"source":"iana","extensions":["heifs"]},"image/hej2k":{"source":"iana","extensions":["hej2"]},"image/hsj2":{"source":"iana","extensions":["hsj2"]},"image/ief":{"source":"iana","extensions":["ief"]},"image/jls":{"source":"iana","extensions":["jls"]},"image/jp2":{"source":"iana","compressible":false,"extensions":["jp2","jpg2"]},"image/jpeg":{"source":"iana","compressible":false,"extensions":["jpeg","jpg","jpe"]},"image/jph":{"source":"iana","extensions":["jph"]},"image/jphc":{"source":"iana","extensions":["jhc"]},"image/jpm":{"source":"iana","compressible":false,"extensions":["jpm"]},"image/jpx":{"source":"iana","compressible":false,"extensions":["jpx","jpf"]},"image/jxr":{"source":"iana","extensions":["jxr"]},"image/jxra":{"source":"iana","extensions":["jxra"]},"image/jxrs":{"source":"iana","extensions":["jxrs"]},"image/jxs":{"source":"iana","extensions":["jxs"]},"image/jxsc":{"source":"iana","extensions":["jxsc"]},"image/jxsi":{"source":"iana","extensions":["jxsi"]},"image/jxss":{"source":"iana","extensions":["jxss"]},"image/ktx":{"source":"iana","extensions":["ktx"]},"image/ktx2":{"source":"iana","extensions":["ktx2"]},"image/naplps":{"source":"iana"},"image/pjpeg":{"compressible":false},"image/png":{"source":"iana","compressible":false,"extensions":["png"]},"image/prs.btif":{"source":"iana","extensions":["btif"]},"image/prs.pti":{"source":"iana","extensions":["pti"]},"image/pwg-raster":{"source":"iana"},"image/sgi":{"source":"apache","extensions":["sgi"]},"image/svg+xml":{"source":"iana","compressible":true,"extensions":["svg","svgz"]},"image/t38":{"source":"iana","extensions":["t38"]},"image/tiff":{"source":"iana","compressible":false,"extensions":["tif","tiff"]},"image/tiff-fx":{"source":"iana","extensions":["tfx"]},"image/vnd.adobe.photoshop":{"source":"iana","compressible":true,"extensions":["psd"]},"image/vnd.airzip.accelerator.azv":{"source":"iana","extensions":["azv"]},"image/vnd.cns.inf2":{"source":"iana"},"image/vnd.dece.graphic":{"source":"iana","extensions":["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{"source":"iana","extensions":["djvu","djv"]},"image/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"image/vnd.dwg":{"source":"iana","extensions":["dwg"]},"image/vnd.dxf":{"source":"iana","extensions":["dxf"]},"image/vnd.fastbidsheet":{"source":"iana","extensions":["fbs"]},"image/vnd.fpx":{"source":"iana","extensions":["fpx"]},"image/vnd.fst":{"source":"iana","extensions":["fst"]},"image/vnd.fujixerox.edmics-mmr":{"source":"iana","extensions":["mmr"]},"image/vnd.fujixerox.edmics-rlc":{"source":"iana","extensions":["rlc"]},"image/vnd.globalgraphics.pgb":{"source":"iana"},"image/vnd.microsoft.icon":{"source":"iana","compressible":true,"extensions":["ico"]},"image/vnd.mix":{"source":"iana"},"image/vnd.mozilla.apng":{"source":"iana"},"image/vnd.ms-dds":{"compressible":true,"extensions":["dds"]},"image/vnd.ms-modi":{"source":"iana","extensions":["mdi"]},"image/vnd.ms-photo":{"source":"apache","extensions":["wdp"]},"image/vnd.net-fpx":{"source":"iana","extensions":["npx"]},"image/vnd.pco.b16":{"source":"iana","extensions":["b16"]},"image/vnd.radiance":{"source":"iana"},"image/vnd.sealed.png":{"source":"iana"},"image/vnd.sealedmedia.softseal.gif":{"source":"iana"},"image/vnd.sealedmedia.softseal.jpg":{"source":"iana"},"image/vnd.svf":{"source":"iana"},"image/vnd.tencent.tap":{"source":"iana","extensions":["tap"]},"image/vnd.valve.source.texture":{"source":"iana","extensions":["vtf"]},"image/vnd.wap.wbmp":{"source":"iana","extensions":["wbmp"]},"image/vnd.xiff":{"source":"iana","extensions":["xif"]},"image/vnd.zbrush.pcx":{"source":"iana","extensions":["pcx"]},"image/webp":{"source":"apache","extensions":["webp"]},"image/wmf":{"source":"iana","extensions":["wmf"]},"image/x-3ds":{"source":"apache","extensions":["3ds"]},"image/x-cmu-raster":{"source":"apache","extensions":["ras"]},"image/x-cmx":{"source":"apache","extensions":["cmx"]},"image/x-freehand":{"source":"apache","extensions":["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{"source":"apache","compressible":true,"extensions":["ico"]},"image/x-jng":{"source":"nginx","extensions":["jng"]},"image/x-mrsid-image":{"source":"apache","extensions":["sid"]},"image/x-ms-bmp":{"source":"nginx","compressible":true,"extensions":["bmp"]},"image/x-pcx":{"source":"apache","extensions":["pcx"]},"image/x-pict":{"source":"apache","extensions":["pic","pct"]},"image/x-portable-anymap":{"source":"apache","extensions":["pnm"]},"image/x-portable-bitmap":{"source":"apache","extensions":["pbm"]},"image/x-portable-graymap":{"source":"apache","extensions":["pgm"]},"image/x-portable-pixmap":{"source":"apache","extensions":["ppm"]},"image/x-rgb":{"source":"apache","extensions":["rgb"]},"image/x-tga":{"source":"apache","extensions":["tga"]},"image/x-xbitmap":{"source":"apache","extensions":["xbm"]},"image/x-xcf":{"compressible":false},"image/x-xpixmap":{"source":"apache","extensions":["xpm"]},"image/x-xwindowdump":{"source":"apache","extensions":["xwd"]},"message/cpim":{"source":"iana"},"message/delivery-status":{"source":"iana"},"message/disposition-notification":{"source":"iana","extensions":["disposition-notification"]},"message/external-body":{"source":"iana"},"message/feedback-report":{"source":"iana"},"message/global":{"source":"iana","extensions":["u8msg"]},"message/global-delivery-status":{"source":"iana","extensions":["u8dsn"]},"message/global-disposition-notification":{"source":"iana","extensions":["u8mdn"]},"message/global-headers":{"source":"iana","extensions":["u8hdr"]},"message/http":{"source":"iana","compressible":false},"message/imdn+xml":{"source":"iana","compressible":true},"message/news":{"source":"iana"},"message/partial":{"source":"iana","compressible":false},"message/rfc822":{"source":"iana","compressible":true,"extensions":["eml","mime"]},"message/s-http":{"source":"iana"},"message/sip":{"source":"iana"},"message/sipfrag":{"source":"iana"},"message/tracking-status":{"source":"iana"},"message/vnd.si.simp":{"source":"iana"},"message/vnd.wfa.wsc":{"source":"iana","extensions":["wsc"]},"model/3mf":{"source":"iana","extensions":["3mf"]},"model/e57":{"source":"iana"},"model/gltf+json":{"source":"iana","compressible":true,"extensions":["gltf"]},"model/gltf-binary":{"source":"iana","compressible":true,"extensions":["glb"]},"model/iges":{"source":"iana","compressible":false,"extensions":["igs","iges"]},"model/mesh":{"source":"iana","compressible":false,"extensions":["msh","mesh","silo"]},"model/mtl":{"source":"iana","extensions":["mtl"]},"model/obj":{"source":"iana","extensions":["obj"]},"model/step":{"source":"iana"},"model/step+xml":{"source":"iana","compressible":true,"extensions":["stpx"]},"model/step+zip":{"source":"iana","compressible":false,"extensions":["stpz"]},"model/step-xml+zip":{"source":"iana","compressible":false,"extensions":["stpxz"]},"model/stl":{"source":"iana","extensions":["stl"]},"model/vnd.collada+xml":{"source":"iana","compressible":true,"extensions":["dae"]},"model/vnd.dwf":{"source":"iana","extensions":["dwf"]},"model/vnd.flatland.3dml":{"source":"iana"},"model/vnd.gdl":{"source":"iana","extensions":["gdl"]},"model/vnd.gs-gdl":{"source":"apache"},"model/vnd.gs.gdl":{"source":"iana"},"model/vnd.gtw":{"source":"iana","extensions":["gtw"]},"model/vnd.moml+xml":{"source":"iana","compressible":true},"model/vnd.mts":{"source":"iana","extensions":["mts"]},"model/vnd.opengex":{"source":"iana","extensions":["ogex"]},"model/vnd.parasolid.transmit.binary":{"source":"iana","extensions":["x_b"]},"model/vnd.parasolid.transmit.text":{"source":"iana","extensions":["x_t"]},"model/vnd.pytha.pyox":{"source":"iana"},"model/vnd.rosette.annotated-data-model":{"source":"iana"},"model/vnd.sap.vds":{"source":"iana","extensions":["vds"]},"model/vnd.usdz+zip":{"source":"iana","compressible":false,"extensions":["usdz"]},"model/vnd.valve.source.compiled-map":{"source":"iana","extensions":["bsp"]},"model/vnd.vtu":{"source":"iana","extensions":["vtu"]},"model/vrml":{"source":"iana","compressible":false,"extensions":["wrl","vrml"]},"model/x3d+binary":{"source":"apache","compressible":false,"extensions":["x3db","x3dbz"]},"model/x3d+fastinfoset":{"source":"iana","extensions":["x3db"]},"model/x3d+vrml":{"source":"apache","compressible":false,"extensions":["x3dv","x3dvz"]},"model/x3d+xml":{"source":"iana","compressible":true,"extensions":["x3d","x3dz"]},"model/x3d-vrml":{"source":"iana","extensions":["x3dv"]},"multipart/alternative":{"source":"iana","compressible":false},"multipart/appledouble":{"source":"iana"},"multipart/byteranges":{"source":"iana"},"multipart/digest":{"source":"iana"},"multipart/encrypted":{"source":"iana","compressible":false},"multipart/form-data":{"source":"iana","compressible":false},"multipart/header-set":{"source":"iana"},"multipart/mixed":{"source":"iana"},"multipart/multilingual":{"source":"iana"},"multipart/parallel":{"source":"iana"},"multipart/related":{"source":"iana","compressible":false},"multipart/report":{"source":"iana"},"multipart/signed":{"source":"iana","compressible":false},"multipart/vnd.bint.med-plus":{"source":"iana"},"multipart/voice-message":{"source":"iana"},"multipart/x-mixed-replace":{"source":"iana"},"text/1d-interleaved-parityfec":{"source":"iana"},"text/cache-manifest":{"source":"iana","compressible":true,"extensions":["appcache","manifest"]},"text/calendar":{"source":"iana","extensions":["ics","ifb"]},"text/calender":{"compressible":true},"text/cmd":{"compressible":true},"text/coffeescript":{"extensions":["coffee","litcoffee"]},"text/cql":{"source":"iana"},"text/cql-expression":{"source":"iana"},"text/cql-identifier":{"source":"iana"},"text/css":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["css"]},"text/csv":{"source":"iana","compressible":true,"extensions":["csv"]},"text/csv-schema":{"source":"iana"},"text/directory":{"source":"iana"},"text/dns":{"source":"iana"},"text/ecmascript":{"source":"iana"},"text/encaprtp":{"source":"iana"},"text/enriched":{"source":"iana"},"text/fhirpath":{"source":"iana"},"text/flexfec":{"source":"iana"},"text/fwdred":{"source":"iana"},"text/gff3":{"source":"iana"},"text/grammar-ref-list":{"source":"iana"},"text/html":{"source":"iana","compressible":true,"extensions":["html","htm","shtml"]},"text/jade":{"extensions":["jade"]},"text/javascript":{"source":"iana","compressible":true},"text/jcr-cnd":{"source":"iana"},"text/jsx":{"compressible":true,"extensions":["jsx"]},"text/less":{"compressible":true,"extensions":["less"]},"text/markdown":{"source":"iana","compressible":true,"extensions":["markdown","md"]},"text/mathml":{"source":"nginx","extensions":["mml"]},"text/mdx":{"compressible":true,"extensions":["mdx"]},"text/mizar":{"source":"iana"},"text/n3":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["n3"]},"text/parameters":{"source":"iana","charset":"UTF-8"},"text/parityfec":{"source":"iana"},"text/plain":{"source":"iana","compressible":true,"extensions":["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{"source":"iana","charset":"UTF-8"},"text/prs.fallenstein.rst":{"source":"iana"},"text/prs.lines.tag":{"source":"iana","extensions":["dsc"]},"text/prs.prop.logic":{"source":"iana"},"text/raptorfec":{"source":"iana"},"text/red":{"source":"iana"},"text/rfc822-headers":{"source":"iana"},"text/richtext":{"source":"iana","compressible":true,"extensions":["rtx"]},"text/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"text/rtp-enc-aescm128":{"source":"iana"},"text/rtploopback":{"source":"iana"},"text/rtx":{"source":"iana"},"text/sgml":{"source":"iana","extensions":["sgml","sgm"]},"text/shaclc":{"source":"iana"},"text/shex":{"source":"iana","extensions":["shex"]},"text/slim":{"extensions":["slim","slm"]},"text/spdx":{"source":"iana","extensions":["spdx"]},"text/strings":{"source":"iana"},"text/stylus":{"extensions":["stylus","styl"]},"text/t140":{"source":"iana"},"text/tab-separated-values":{"source":"iana","compressible":true,"extensions":["tsv"]},"text/troff":{"source":"iana","extensions":["t","tr","roff","man","me","ms"]},"text/turtle":{"source":"iana","charset":"UTF-8","extensions":["ttl"]},"text/ulpfec":{"source":"iana"},"text/uri-list":{"source":"iana","compressible":true,"extensions":["uri","uris","urls"]},"text/vcard":{"source":"iana","compressible":true,"extensions":["vcard"]},"text/vnd.a":{"source":"iana"},"text/vnd.abc":{"source":"iana"},"text/vnd.ascii-art":{"source":"iana"},"text/vnd.curl":{"source":"iana","extensions":["curl"]},"text/vnd.curl.dcurl":{"source":"apache","extensions":["dcurl"]},"text/vnd.curl.mcurl":{"source":"apache","extensions":["mcurl"]},"text/vnd.curl.scurl":{"source":"apache","extensions":["scurl"]},"text/vnd.debian.copyright":{"source":"iana","charset":"UTF-8"},"text/vnd.dmclientscript":{"source":"iana"},"text/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"text/vnd.esmertec.theme-descriptor":{"source":"iana","charset":"UTF-8"},"text/vnd.familysearch.gedcom":{"source":"iana","extensions":["ged"]},"text/vnd.ficlab.flt":{"source":"iana"},"text/vnd.fly":{"source":"iana","extensions":["fly"]},"text/vnd.fmi.flexstor":{"source":"iana","extensions":["flx"]},"text/vnd.gml":{"source":"iana"},"text/vnd.graphviz":{"source":"iana","extensions":["gv"]},"text/vnd.hans":{"source":"iana"},"text/vnd.hgl":{"source":"iana"},"text/vnd.in3d.3dml":{"source":"iana","extensions":["3dml"]},"text/vnd.in3d.spot":{"source":"iana","extensions":["spot"]},"text/vnd.iptc.newsml":{"source":"iana"},"text/vnd.iptc.nitf":{"source":"iana"},"text/vnd.latex-z":{"source":"iana"},"text/vnd.motorola.reflex":{"source":"iana"},"text/vnd.ms-mediapackage":{"source":"iana"},"text/vnd.net2phone.commcenter.command":{"source":"iana"},"text/vnd.radisys.msml-basic-layout":{"source":"iana"},"text/vnd.senx.warpscript":{"source":"iana"},"text/vnd.si.uricatalogue":{"source":"iana"},"text/vnd.sosi":{"source":"iana"},"text/vnd.sun.j2me.app-descriptor":{"source":"iana","charset":"UTF-8","extensions":["jad"]},"text/vnd.trolltech.linguist":{"source":"iana","charset":"UTF-8"},"text/vnd.wap.si":{"source":"iana"},"text/vnd.wap.sl":{"source":"iana"},"text/vnd.wap.wml":{"source":"iana","extensions":["wml"]},"text/vnd.wap.wmlscript":{"source":"iana","extensions":["wmls"]},"text/vtt":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["vtt"]},"text/x-asm":{"source":"apache","extensions":["s","asm"]},"text/x-c":{"source":"apache","extensions":["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{"source":"nginx","extensions":["htc"]},"text/x-fortran":{"source":"apache","extensions":["f","for","f77","f90"]},"text/x-gwt-rpc":{"compressible":true},"text/x-handlebars-template":{"extensions":["hbs"]},"text/x-java-source":{"source":"apache","extensions":["java"]},"text/x-jquery-tmpl":{"compressible":true},"text/x-lua":{"extensions":["lua"]},"text/x-markdown":{"compressible":true,"extensions":["mkd"]},"text/x-nfo":{"source":"apache","extensions":["nfo"]},"text/x-opml":{"source":"apache","extensions":["opml"]},"text/x-org":{"compressible":true,"extensions":["org"]},"text/x-pascal":{"source":"apache","extensions":["p","pas"]},"text/x-processing":{"compressible":true,"extensions":["pde"]},"text/x-sass":{"extensions":["sass"]},"text/x-scss":{"extensions":["scss"]},"text/x-setext":{"source":"apache","extensions":["etx"]},"text/x-sfv":{"source":"apache","extensions":["sfv"]},"text/x-suse-ymp":{"compressible":true,"extensions":["ymp"]},"text/x-uuencode":{"source":"apache","extensions":["uu"]},"text/x-vcalendar":{"source":"apache","extensions":["vcs"]},"text/x-vcard":{"source":"apache","extensions":["vcf"]},"text/xml":{"source":"iana","compressible":true,"extensions":["xml"]},"text/xml-external-parsed-entity":{"source":"iana"},"text/yaml":{"compressible":true,"extensions":["yaml","yml"]},"video/1d-interleaved-parityfec":{"source":"iana"},"video/3gpp":{"source":"iana","extensions":["3gp","3gpp"]},"video/3gpp-tt":{"source":"iana"},"video/3gpp2":{"source":"iana","extensions":["3g2"]},"video/av1":{"source":"iana"},"video/bmpeg":{"source":"iana"},"video/bt656":{"source":"iana"},"video/celb":{"source":"iana"},"video/dv":{"source":"iana"},"video/encaprtp":{"source":"iana"},"video/ffv1":{"source":"iana"},"video/flexfec":{"source":"iana"},"video/h261":{"source":"iana","extensions":["h261"]},"video/h263":{"source":"iana","extensions":["h263"]},"video/h263-1998":{"source":"iana"},"video/h263-2000":{"source":"iana"},"video/h264":{"source":"iana","extensions":["h264"]},"video/h264-rcdo":{"source":"iana"},"video/h264-svc":{"source":"iana"},"video/h265":{"source":"iana"},"video/iso.segment":{"source":"iana","extensions":["m4s"]},"video/jpeg":{"source":"iana","extensions":["jpgv"]},"video/jpeg2000":{"source":"iana"},"video/jpm":{"source":"apache","extensions":["jpm","jpgm"]},"video/jxsv":{"source":"iana"},"video/mj2":{"source":"iana","extensions":["mj2","mjp2"]},"video/mp1s":{"source":"iana"},"video/mp2p":{"source":"iana"},"video/mp2t":{"source":"iana","extensions":["ts"]},"video/mp4":{"source":"iana","compressible":false,"extensions":["mp4","mp4v","mpg4"]},"video/mp4v-es":{"source":"iana"},"video/mpeg":{"source":"iana","compressible":false,"extensions":["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{"source":"iana"},"video/mpv":{"source":"iana"},"video/nv":{"source":"iana"},"video/ogg":{"source":"iana","compressible":false,"extensions":["ogv"]},"video/parityfec":{"source":"iana"},"video/pointer":{"source":"iana"},"video/quicktime":{"source":"iana","compressible":false,"extensions":["qt","mov"]},"video/raptorfec":{"source":"iana"},"video/raw":{"source":"iana"},"video/rtp-enc-aescm128":{"source":"iana"},"video/rtploopback":{"source":"iana"},"video/rtx":{"source":"iana"},"video/scip":{"source":"iana"},"video/smpte291":{"source":"iana"},"video/smpte292m":{"source":"iana"},"video/ulpfec":{"source":"iana"},"video/vc1":{"source":"iana"},"video/vc2":{"source":"iana"},"video/vnd.cctv":{"source":"iana"},"video/vnd.dece.hd":{"source":"iana","extensions":["uvh","uvvh"]},"video/vnd.dece.mobile":{"source":"iana","extensions":["uvm","uvvm"]},"video/vnd.dece.mp4":{"source":"iana"},"video/vnd.dece.pd":{"source":"iana","extensions":["uvp","uvvp"]},"video/vnd.dece.sd":{"source":"iana","extensions":["uvs","uvvs"]},"video/vnd.dece.video":{"source":"iana","extensions":["uvv","uvvv"]},"video/vnd.directv.mpeg":{"source":"iana"},"video/vnd.directv.mpeg-tts":{"source":"iana"},"video/vnd.dlna.mpeg-tts":{"source":"iana"},"video/vnd.dvb.file":{"source":"iana","extensions":["dvb"]},"video/vnd.fvt":{"source":"iana","extensions":["fvt"]},"video/vnd.hns.video":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.ttsavc":{"source":"iana"},"video/vnd.iptvforum.ttsmpeg2":{"source":"iana"},"video/vnd.motorola.video":{"source":"iana"},"video/vnd.motorola.videop":{"source":"iana"},"video/vnd.mpegurl":{"source":"iana","extensions":["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{"source":"iana","extensions":["pyv"]},"video/vnd.nokia.interleaved-multimedia":{"source":"iana"},"video/vnd.nokia.mp4vr":{"source":"iana"},"video/vnd.nokia.videovoip":{"source":"iana"},"video/vnd.objectvideo":{"source":"iana"},"video/vnd.radgamettools.bink":{"source":"iana"},"video/vnd.radgamettools.smacker":{"source":"iana"},"video/vnd.sealed.mpeg1":{"source":"iana"},"video/vnd.sealed.mpeg4":{"source":"iana"},"video/vnd.sealed.swf":{"source":"iana"},"video/vnd.sealedmedia.softseal.mov":{"source":"iana"},"video/vnd.uvvu.mp4":{"source":"iana","extensions":["uvu","uvvu"]},"video/vnd.vivo":{"source":"iana","extensions":["viv"]},"video/vnd.youtube.yt":{"source":"iana"},"video/vp8":{"source":"iana"},"video/vp9":{"source":"iana"},"video/webm":{"source":"apache","compressible":false,"extensions":["webm"]},"video/x-f4v":{"source":"apache","extensions":["f4v"]},"video/x-fli":{"source":"apache","extensions":["fli"]},"video/x-flv":{"source":"apache","compressible":false,"extensions":["flv"]},"video/x-m4v":{"source":"apache","extensions":["m4v"]},"video/x-matroska":{"source":"apache","compressible":false,"extensions":["mkv","mk3d","mks"]},"video/x-mng":{"source":"apache","extensions":["mng"]},"video/x-ms-asf":{"source":"apache","extensions":["asf","asx"]},"video/x-ms-vob":{"source":"apache","extensions":["vob"]},"video/x-ms-wm":{"source":"apache","extensions":["wm"]},"video/x-ms-wmv":{"source":"apache","compressible":false,"extensions":["wmv"]},"video/x-ms-wmx":{"source":"apache","extensions":["wmx"]},"video/x-ms-wvx":{"source":"apache","extensions":["wvx"]},"video/x-msvideo":{"source":"apache","extensions":["avi"]},"video/x-sgi-movie":{"source":"apache","extensions":["movie"]},"video/x-smv":{"source":"apache","extensions":["smv"]},"x-conference/x-cooltalk":{"source":"apache","extensions":["ice"]},"x-shader/x-fragment":{"compressible":true},"x-shader/x-vertex":{"compressible":true}}')},93948:e=>{"use strict";e.exports={rE:"1.3.7"}},8330:e=>{"use strict";e.exports=JSON.parse('{"name":"python","displayName":"Python","description":"Python language support with extension access points for IntelliSense (Pylance), Debugging (Python Debugger), linting, formatting, refactoring, unit tests, and more.","version":"2025.6.1","featureFlags":{"usingNewInterpreterStorage":true},"capabilities":{"untrustedWorkspaces":{"supported":"limited","description":"Only Partial IntelliSense with Pylance is supported. Cannot execute Python with untrusted files."},"virtualWorkspaces":{"supported":"limited","description":"Only Partial IntelliSense supported."}},"publisher":"ms-python","enabledApiProposals":["contribEditorContentMenu","quickPickSortByLabel","testObserver","quickPickItemTooltip","terminalDataWriteEvent","terminalExecuteCommandEvent","codeActionAI","notebookReplDocument","notebookVariableProvider"],"author":{"name":"Microsoft Corporation"},"license":"MIT","homepage":"https://github.com/Microsoft/vscode-python","repository":{"type":"git","url":"https://github.com/Microsoft/vscode-python"},"bugs":{"url":"https://github.com/Microsoft/vscode-python/issues"},"qna":"https://github.com/microsoft/vscode-python/discussions/categories/q-a","icon":"icon.png","galleryBanner":{"color":"#1e415e","theme":"dark"},"engines":{"vscode":"^1.94.0-20240918"},"enableTelemetry":true,"keywords":["python","django","unittest","multi-root ready"],"categories":["Programming Languages","Debuggers","Other","Data Science","Machine Learning"],"activationEvents":["onDebugInitialConfigurations","onLanguage:python","onDebugResolve:python","onCommand:python.copilotSetupTests","workspaceContains:mspythonconfig.json","workspaceContains:pyproject.toml","workspaceContains:Pipfile","workspaceContains:setup.py","workspaceContains:requirements.txt","workspaceContains:manage.py","workspaceContains:app.py","workspaceContains:.venv","workspaceContains:.conda"],"main":"./out/client/extension","browser":"./dist/extension.browser.js","l10n":"./l10n","contributes":{"problemMatchers":[{"name":"python","owner":"python","source":"python","fileLocation":"autoDetect","pattern":[{"regexp":"^.*File \\\\\\"([^\\\\\\"]|.*)\\\\\\", line (\\\\d+).*","file":1,"line":2},{"regexp":"^\\\\s*(.*)\\\\s*$"},{"regexp":"^\\\\s*(.*Error.*)$","message":1}]}],"walkthroughs":[{"id":"pythonWelcome","title":"%walkthrough.pythonWelcome.title%","description":"%walkthrough.pythonWelcome.description%","when":"workspacePlatform != webworker","steps":[{"id":"python.createPythonFolder","title":"%walkthrough.step.python.createPythonFolder.title%","description":"%walkthrough.step.python.createPythonFolder.description%","media":{"svg":"resources/walkthrough/open-folder.svg","altText":"%walkthrough.step.python.createPythonFile.altText%"},"when":"workspaceFolderCount = 0"},{"id":"python.createPythonFile","title":"%walkthrough.step.python.createPythonFile.title%","description":"%walkthrough.step.python.createPythonFile.description%","media":{"svg":"resources/walkthrough/open-folder.svg","altText":"%walkthrough.step.python.createPythonFile.altText%"}},{"id":"python.installPythonWin8","title":"%walkthrough.step.python.installPythonWin8.title%","description":"%walkthrough.step.python.installPythonWin8.description%","media":{"markdown":"resources/walkthrough/install-python-windows-8.md"},"when":"workspacePlatform == windows && showInstallPythonTile"},{"id":"python.installPythonMac","title":"%walkthrough.step.python.installPythonMac.title%","description":"%walkthrough.step.python.installPythonMac.description%","media":{"markdown":"resources/walkthrough/install-python-macos.md"},"when":"workspacePlatform == mac && showInstallPythonTile","command":"workbench.action.terminal.new"},{"id":"python.installPythonLinux","title":"%walkthrough.step.python.installPythonLinux.title%","description":"%walkthrough.step.python.installPythonLinux.description%","media":{"markdown":"resources/walkthrough/install-python-linux.md"},"when":"workspacePlatform == linux && showInstallPythonTile","command":"workbench.action.terminal.new"},{"id":"python.createEnvironment","title":"%walkthrough.step.python.createEnvironment.title%","description":"%walkthrough.step.python.createEnvironment.description%","media":{"svg":"resources/walkthrough/create-environment.svg","altText":"%walkthrough.step.python.createEnvironment.altText%"}},{"id":"python.runAndDebug","title":"%walkthrough.step.python.runAndDebug.title%","description":"%walkthrough.step.python.runAndDebug.description%","media":{"svg":"resources/walkthrough/rundebug2.svg","altText":"%walkthrough.step.python.runAndDebug.altText%"}},{"id":"python.learnMoreWithDS","title":"%walkthrough.step.python.learnMoreWithDS.title%","description":"%walkthrough.step.python.learnMoreWithDS.description%","media":{"altText":"%walkthrough.step.python.learnMoreWithDS.altText%","svg":"resources/walkthrough/learnmore.svg"}}]},{"id":"pythonDataScienceWelcome","title":"%walkthrough.pythonDataScienceWelcome.title%","description":"%walkthrough.pythonDataScienceWelcome.description%","when":"false","steps":[{"id":"python.installJupyterExt","title":"%walkthrough.step.python.installJupyterExt.title%","description":"%walkthrough.step.python.installJupyterExt.description%","media":{"svg":"resources/walkthrough/data-science.svg","altText":"%walkthrough.step.python.installJupyterExt.altText%"}},{"id":"python.createNewNotebook","title":"%walkthrough.step.python.createNewNotebook.title%","description":"%walkthrough.step.python.createNewNotebook.description%","media":{"svg":"resources/walkthrough/create-notebook.svg","altText":"%walkthrough.step.python.createNewNotebook.altText%"},"completionEvents":["onCommand:jupyter.createnewnotebook","onCommand:workbench.action.files.openFolder","onCommand:workbench.action.files.openFileFolder"]},{"id":"python.openInteractiveWindow","title":"%walkthrough.step.python.openInteractiveWindow.title%","description":"%walkthrough.step.python.openInteractiveWindow.description%","media":{"svg":"resources/walkthrough/interactive-window.svg","altText":"%walkthrough.step.python.openInteractiveWindow.altText%"},"completionEvents":["onCommand:jupyter.createnewinteractive"]},{"id":"python.dataScienceLearnMore","title":"%walkthrough.step.python.dataScienceLearnMore.title%","description":"%walkthrough.step.python.dataScienceLearnMore.description%","media":{"svg":"resources/walkthrough/learnmore.svg","altText":"%walkthrough.step.python.dataScienceLearnMore.altText%"}}]}],"breakpoints":[{"language":"html"},{"language":"jinja"},{"language":"python"},{"language":"django-html"},{"language":"django-txt"}],"commands":[{"title":"%python.command.python.createNewFile.title%","shortTitle":"%python.menu.createNewFile.title%","category":"Python","command":"python.createNewFile"},{"category":"Python","command":"python.analysis.restartLanguageServer","title":"%python.command.python.analysis.restartLanguageServer.title%"},{"category":"Python","command":"python.clearCacheAndReload","title":"%python.command.python.clearCacheAndReload.title%"},{"category":"Python","command":"python.clearWorkspaceInterpreter","title":"%python.command.python.clearWorkspaceInterpreter.title%"},{"category":"Python","command":"python.configureTests","title":"%python.command.python.configureTests.title%"},{"category":"Python","command":"python.createTerminal","title":"%python.command.python.createTerminal.title%"},{"category":"Python","command":"python.createEnvironment","title":"%python.command.python.createEnvironment.title%"},{"category":"Python","command":"python.createEnvironment-button","title":"%python.command.python.createEnvironment.title%"},{"category":"Python","command":"python.execInTerminal","title":"%python.command.python.execInTerminal.title%"},{"category":"Python","command":"python.execInTerminal-icon","icon":"$(play)","title":"%python.command.python.execInTerminalIcon.title%"},{"category":"Python","command":"python.execInDedicatedTerminal","icon":"$(play)","title":"%python.command.python.execInDedicatedTerminal.title%"},{"category":"Python","command":"python.execSelectionInDjangoShell","title":"%python.command.python.execSelectionInDjangoShell.title%"},{"category":"Python","command":"python.execSelectionInTerminal","title":"%python.command.python.execSelectionInTerminal.title%"},{"category":"Python","command":"python.execInREPL","title":"%python.command.python.execInREPL.title%"},{"category":"Python","command":"python.reportIssue","title":"%python.command.python.reportIssue.title%"},{"category":"Test","command":"testing.reRunFailTests","icon":"$(run-errors)","title":"%python.command.testing.rerunFailedTests.title%"},{"category":"Python","command":"python.setInterpreter","title":"%python.command.python.setInterpreter.title%"},{"category":"Python","command":"python.startREPL","title":"%python.command.python.startTerminalREPL.title%"},{"category":"Python","command":"python.startNativeREPL","title":"%python.command.python.startNativeREPL.title%"},{"category":"Python","command":"python.viewLanguageServerOutput","enablement":"python.hasLanguageServerOutputChannel","title":"%python.command.python.viewLanguageServerOutput.title%"},{"category":"Python","command":"python.viewOutput","icon":{"dark":"resources/dark/repl.svg","light":"resources/light/repl.svg"},"title":"%python.command.python.viewOutput.title%"},{"category":"Python","command":"python.installJupyter","title":"%python.command.python.installJupyter.title%"}],"configuration":{"properties":{"python.activeStateToolPath":{"default":"state","description":"%python.activeStateToolPath.description%","scope":"machine-overridable","type":"string"},"python.autoComplete.extraPaths":{"default":[],"description":"%python.autoComplete.extraPaths.description%","scope":"resource","type":"array","uniqueItems":true},"python.createEnvironment.contentButton":{"default":"hide","markdownDescription":"%python.createEnvironment.contentButton.description%","scope":"machine-overridable","type":"string","enum":["show","hide"]},"python.createEnvironment.trigger":{"default":"prompt","markdownDescription":"%python.createEnvironment.trigger.description%","scope":"machine-overridable","type":"string","enum":["off","prompt"]},"python.condaPath":{"default":"","description":"%python.condaPath.description%","scope":"machine","type":"string"},"python.defaultInterpreterPath":{"default":"python","markdownDescription":"%python.defaultInterpreterPath.description%","scope":"machine-overridable","type":"string"},"python.envFile":{"default":"${workspaceFolder}/.env","description":"%python.envFile.description%","scope":"resource","type":"string"},"python.experiments.enabled":{"default":true,"description":"%python.experiments.enabled.description%","scope":"window","type":"boolean"},"python.experiments.optInto":{"default":[],"markdownDescription":"%python.experiments.optInto.description%","items":{"enum":["All","pythonSurveyNotification","pythonPromptNewToolsExt","pythonTerminalEnvVarActivation","pythonDiscoveryUsingWorkers","pythonTestAdapter"],"enumDescriptions":["%python.experiments.All.description%","%python.experiments.pythonSurveyNotification.description%","%python.experiments.pythonPromptNewToolsExt.description%","%python.experiments.pythonTerminalEnvVarActivation.description%","%python.experiments.pythonDiscoveryUsingWorkers.description%","%python.experiments.pythonTestAdapter.description%"]},"scope":"window","type":"array","uniqueItems":true},"python.experiments.optOutFrom":{"default":[],"markdownDescription":"%python.experiments.optOutFrom.description%","items":{"enum":["All","pythonSurveyNotification","pythonPromptNewToolsExt","pythonTerminalEnvVarActivation","pythonDiscoveryUsingWorkers","pythonTestAdapter"],"enumDescriptions":["%python.experiments.All.description%","%python.experiments.pythonSurveyNotification.description%","%python.experiments.pythonPromptNewToolsExt.description%","%python.experiments.pythonTerminalEnvVarActivation.description%","%python.experiments.pythonDiscoveryUsingWorkers.description%","%python.experiments.pythonTestAdapter.description%"]},"scope":"window","type":"array","uniqueItems":true},"python.globalModuleInstallation":{"default":false,"description":"%python.globalModuleInstallation.description%","scope":"resource","type":"boolean"},"python.languageServer":{"default":"Default","description":"%python.languageServer.description%","enum":["Default","Jedi","Pylance","None"],"enumDescriptions":["%python.languageServer.defaultDescription%","%python.languageServer.jediDescription%","%python.languageServer.pylanceDescription%","%python.languageServer.noneDescription%"],"scope":"window","type":"string"},"python.interpreter.infoVisibility":{"default":"onPythonRelated","description":"%python.interpreter.infoVisibility.description%","enum":["never","onPythonRelated","always"],"enumDescriptions":["%python.interpreter.infoVisibility.never.description%","%python.interpreter.infoVisibility.onPythonRelated.description%","%python.interpreter.infoVisibility.always.description%"],"scope":"machine","type":"string"},"python.logging.level":{"default":"error","deprecationMessage":"%python.logging.level.deprecation%","description":"%python.logging.level.description%","enum":["debug","error","info","off","warn"],"scope":"machine","type":"string"},"python.missingPackage.severity":{"default":"Hint","description":"%python.missingPackage.severity.description%","enum":["Error","Hint","Information","Warning"],"scope":"resource","type":"string"},"python.locator":{"default":"js","description":"%python.locator.description%","enum":["js","native"],"tags":["onExP","preview"],"scope":"machine","type":"string"},"python.pipenvPath":{"default":"pipenv","description":"%python.pipenvPath.description%","scope":"machine-overridable","type":"string"},"python.poetryPath":{"default":"poetry","description":"%python.poetryPath.description%","scope":"machine-overridable","type":"string"},"python.pixiToolPath":{"default":"pixi","description":"%python.pixiToolPath.description%","scope":"machine-overridable","type":"string"},"python.terminal.activateEnvInCurrentTerminal":{"default":false,"description":"%python.terminal.activateEnvInCurrentTerminal.description%","scope":"resource","type":"boolean"},"python.terminal.activateEnvironment":{"default":true,"description":"%python.terminal.activateEnvironment.description%","scope":"resource","type":"boolean"},"python.terminal.executeInFileDir":{"default":false,"description":"%python.terminal.executeInFileDir.description%","scope":"resource","type":"boolean"},"python.terminal.focusAfterLaunch":{"default":false,"description":"%python.terminal.focusAfterLaunch.description%","scope":"resource","type":"boolean"},"python.terminal.launchArgs":{"default":[],"description":"%python.terminal.launchArgs.description%","scope":"resource","type":"array"},"python.terminal.shellIntegration.enabled":{"default":false,"markdownDescription":"%python.terminal.shellIntegration.enabled.description%","scope":"resource","type":"boolean","tags":["preview"]},"python.REPL.enableREPLSmartSend":{"default":true,"description":"%python.EnableREPLSmartSend.description%","scope":"resource","type":"boolean"},"python.REPL.sendToNativeREPL":{"default":false,"description":"%python.REPL.sendToNativeREPL.description%","scope":"resource","type":"boolean"},"python.REPL.provideVariables":{"default":true,"description":"%python.REPL.provideVariables.description%","scope":"resource","type":"boolean"},"python.testing.autoTestDiscoverOnSaveEnabled":{"default":true,"description":"%python.testing.autoTestDiscoverOnSaveEnabled.description%","scope":"resource","type":"boolean"},"python.testing.autoTestDiscoverOnSavePattern":{"default":"**/*.py","description":"%python.testing.autoTestDiscoverOnSavePattern.description%","scope":"resource","type":"string"},"python.testing.cwd":{"default":null,"description":"%python.testing.cwd.description%","scope":"resource","type":"string"},"python.testing.debugPort":{"default":3000,"description":"%python.testing.debugPort.description%","scope":"resource","type":"number"},"python.testing.promptToConfigure":{"default":true,"description":"%python.testing.promptToConfigure.description%","scope":"resource","type":"boolean"},"python.testing.pytestArgs":{"default":[],"description":"%python.testing.pytestArgs.description%","items":{"type":"string"},"scope":"resource","type":"array"},"python.testing.pytestEnabled":{"default":false,"description":"%python.testing.pytestEnabled.description%","scope":"resource","type":"boolean"},"python.testing.pytestPath":{"default":"pytest","description":"%python.testing.pytestPath.description%","scope":"machine-overridable","type":"string"},"python.testing.unittestArgs":{"default":["-v","-s",".","-p","*test*.py"],"description":"%python.testing.unittestArgs.description%","items":{"type":"string"},"scope":"resource","type":"array"},"python.testing.unittestEnabled":{"default":false,"description":"%python.testing.unittestEnabled.description%","scope":"resource","type":"boolean"},"python.venvFolders":{"default":[],"description":"%python.venvFolders.description%","items":{"type":"string"},"scope":"machine","type":"array","uniqueItems":true},"python.venvPath":{"default":"","description":"%python.venvPath.description%","scope":"machine","type":"string"}},"title":"Python","type":"object"},"debuggers":[{"configurationAttributes":{"attach":{"properties":{"connect":{"label":"Attach by connecting to debugpy over a socket.","properties":{"host":{"default":"127.0.0.1","description":"Hostname or IP address to connect to.","type":"string"},"port":{"description":"Port to connect to.","type":"number"}},"required":["port"],"type":"object"},"debugAdapterPath":{"description":"Path (fully qualified) to the python debug adapter executable.","type":"string"},"django":{"default":false,"description":"Django debugging.","type":"boolean"},"host":{"default":"127.0.0.1","description":"Hostname or IP address to connect to.","type":"string"},"jinja":{"default":null,"description":"Jinja template debugging (e.g. Flask).","enum":[false,null,true]},"justMyCode":{"default":true,"description":"If true, show and debug only user-written code. If false, show and debug all code, including library calls.","type":"boolean"},"listen":{"label":"Attach by listening for incoming socket connection from debugpy","properties":{"host":{"default":"127.0.0.1","description":"Hostname or IP address of the interface to listen on.","type":"string"},"port":{"description":"Port to listen on.","type":"number"}},"required":["port"],"type":"object"},"logToFile":{"default":false,"description":"Enable logging of debugger events to a log file.","type":"boolean"},"pathMappings":{"default":[],"items":{"label":"Path mapping","properties":{"localRoot":{"default":"${workspaceFolder}","label":"Local source root.","type":"string"},"remoteRoot":{"default":"","label":"Remote source root.","type":"string"}},"required":["localRoot","remoteRoot"],"type":"object"},"label":"Path mappings.","type":"array"},"port":{"description":"Port to connect to.","type":"number"},"processId":{"anyOf":[{"default":"${command:pickProcess}","description":"Use process picker to select a process to attach, or Process ID as integer.","enum":["${command:pickProcess}"]},{"description":"ID of the local process to attach to.","type":"integer"}]},"redirectOutput":{"default":true,"description":"Redirect output.","type":"boolean"},"showReturnValue":{"default":true,"description":"Show return value of functions when stepping.","type":"boolean"},"subProcess":{"default":false,"description":"Whether to enable Sub Process debugging","type":"boolean"}}},"launch":{"properties":{"args":{"default":[],"description":"Command line arguments passed to the program.","items":{"type":"string"},"type":["array","string"]},"autoReload":{"default":{},"description":"Configures automatic reload of code on edit.","properties":{"enable":{"default":false,"description":"Automatically reload code on edit.","type":"boolean"},"exclude":{"default":["**/.git/**","**/.metadata/**","**/__pycache__/**","**/node_modules/**","**/site-packages/**"],"description":"Glob patterns of paths to exclude from auto reload.","items":{"type":"string"},"type":"array"},"include":{"default":["**/*.py","**/*.pyw"],"description":"Glob patterns of paths to include in auto reload.","items":{"type":"string"},"type":"array"}},"type":"object"},"console":{"default":"integratedTerminal","description":"Where to launch the debug target: internal console, integrated terminal, or external terminal.","enum":["externalTerminal","integratedTerminal","internalConsole"]},"consoleTitle":{"default":"Python Debug Console","description":"Display name of the debug console or terminal"},"cwd":{"default":"${workspaceFolder}","description":"Absolute path to the working directory of the program being debugged. Default is the root directory of the file (leave empty).","type":"string"},"debugAdapterPath":{"description":"Path (fully qualified) to the python debug adapter executable.","type":"string"},"django":{"default":false,"description":"Django debugging.","type":"boolean"},"env":{"additionalProperties":{"type":"string"},"default":{},"description":"Environment variables defined as a key value pair. Property ends up being the Environment Variable and the value of the property ends up being the value of the Env Variable.","type":"object"},"envFile":{"default":"${workspaceFolder}/.env","description":"Absolute path to a file containing environment variable definitions.","type":"string"},"gevent":{"default":false,"description":"Enable debugging of gevent monkey-patched code.","type":"boolean"},"host":{"default":"localhost","description":"IP address of the of the local debug server (default is localhost).","type":"string"},"jinja":{"default":null,"description":"Jinja template debugging (e.g. Flask).","enum":[false,null,true]},"justMyCode":{"default":true,"description":"Debug only user-written code.","type":"boolean"},"logToFile":{"default":false,"description":"Enable logging of debugger events to a log file.","type":"boolean"},"module":{"default":"","description":"Name of the module to be debugged.","type":"string"},"pathMappings":{"default":[],"items":{"label":"Path mapping","properties":{"localRoot":{"default":"${workspaceFolder}","label":"Local source root.","type":"string"},"remoteRoot":{"default":"","label":"Remote source root.","type":"string"}},"required":["localRoot","remoteRoot"],"type":"object"},"label":"Path mappings.","type":"array"},"port":{"default":0,"description":"Debug port (default is 0, resulting in the use of a dynamic port).","type":"number"},"program":{"default":"${file}","description":"Absolute path to the program.","type":"string"},"purpose":{"default":[],"description":"Tells extension to use this configuration for test debugging, or when using debug-in-terminal command.","items":{"enum":["debug-test","debug-in-terminal"],"enumDescriptions":["Use this configuration while debugging tests using test view or test debug commands.","Use this configuration while debugging a file using debug in terminal button in the editor."]},"type":"array"},"pyramid":{"default":false,"description":"Whether debugging Pyramid applications","type":"boolean"},"python":{"default":"${command:python.interpreterPath}","description":"Absolute path to the Python interpreter executable; overrides workspace configuration if set.","type":"string"},"pythonArgs":{"default":[],"description":"Command-line arguments passed to the Python interpreter. To pass arguments to the debug target, use \\"args\\".","items":{"type":"string"},"type":"array"},"redirectOutput":{"default":true,"description":"Redirect output.","type":"boolean"},"showReturnValue":{"default":true,"description":"Show return value of functions when stepping.","type":"boolean"},"stopOnEntry":{"default":false,"description":"Automatically stop after launch.","type":"boolean"},"subProcess":{"default":false,"description":"Whether to enable Sub Process debugging","type":"boolean"},"sudo":{"default":false,"description":"Running debug program under elevated permissions (on Unix).","type":"boolean"}}}},"deprecated":"%python.debugger.deprecatedMessage%","configurationSnippets":[],"label":"Python","languages":["python"],"type":"python","variables":{"pickProcess":"python.pickLocalProcess"},"when":"!virtualWorkspace && shellExecutionSupported","hiddenWhen":"true"}],"grammars":[{"language":"pip-requirements","path":"./syntaxes/pip-requirements.tmLanguage.json","scopeName":"source.pip-requirements"}],"jsonValidation":[{"fileMatch":".condarc","url":"./schemas/condarc.json"},{"fileMatch":"environment.yml","url":"./schemas/conda-environment.json"},{"fileMatch":"meta.yaml","url":"./schemas/conda-meta.json"}],"keybindings":[{"command":"python.execSelectionInTerminal","key":"shift+enter","when":"editorTextFocus && editorLangId == python && !findInputFocussed && !replaceInputFocussed && !jupyter.ownsSelection && !notebookEditorFocused && !isCompositeNotebook"},{"command":"python.execInREPL","key":"shift+enter","when":"config.python.REPL.sendToNativeREPL && editorLangId == python && editorTextFocus && !jupyter.ownsSelection && !notebookEditorFocused && !isCompositeNotebook"},{"command":"python.execInREPLEnter","key":"enter","when":"!config.interactiveWindow.executeWithShiftEnter && isCompositeNotebook && activeEditor == \'workbench.editor.repl\' && !inlineChatFocused && !notebookCellListFocused"},{"command":"python.execInInteractiveWindowEnter","key":"enter","when":"!config.interactiveWindow.executeWithShiftEnter && isCompositeNotebook && activeEditor == \'workbench.editor.interactive\' && !inlineChatFocused && !notebookCellListFocused"}],"languages":[{"aliases":["Jinja"],"extensions":[".j2",".jinja2"],"id":"jinja"},{"aliases":["pip requirements","requirements.txt"],"configuration":"./languages/pip-requirements.json","filenamePatterns":["**/*requirements*.{txt, in}","**/*constraints*.txt","**/requirements/*.{txt,in}","**/constraints/*.txt"],"filenames":["constraints.txt","requirements.in","requirements.txt"],"id":"pip-requirements"},{"filenames":[".condarc"],"id":"yaml"},{"filenames":[".flake8",".pep8",".pylintrc",".pypirc"],"id":"ini"},{"filenames":["Pipfile","poetry.lock","uv.lock"],"id":"toml"},{"filenames":["Pipfile.lock"],"id":"json"}],"menus":{"issue/reporter":[{"command":"python.reportIssue"}],"commandPalette":[{"category":"Python","command":"python.analysis.restartLanguageServer","title":"%python.command.python.analysis.restartLanguageServer.title%","when":"!virtualWorkspace && shellExecutionSupported && (editorLangId == python || notebookType == jupyter-notebook)"},{"category":"Python","command":"python.clearCacheAndReload","title":"%python.command.python.clearCacheAndReload.title%","when":"!virtualWorkspace && shellExecutionSupported"},{"category":"Python","command":"python.clearWorkspaceInterpreter","title":"%python.command.python.clearWorkspaceInterpreter.title%","when":"!virtualWorkspace && shellExecutionSupported"},{"category":"Python","command":"python.configureTests","title":"%python.command.python.configureTests.title%","when":"!virtualWorkspace && shellExecutionSupported"},{"category":"Python","command":"python.createEnvironment","title":"%python.command.python.createEnvironment.title%","when":"!virtualWorkspace && shellExecutionSupported"},{"category":"Python","command":"python.createEnvironment-button","title":"%python.command.python.createEnvironment.title%","when":"false"},{"category":"Python","command":"python.createTerminal","title":"%python.command.python.createTerminal.title%","when":"!virtualWorkspace && shellExecutionSupported"},{"category":"Python","command":"python.execInTerminal","title":"%python.command.python.execInTerminal.title%","when":"!virtualWorkspace && shellExecutionSupported && editorLangId == python"},{"category":"Python","command":"python.execInTerminal-icon","icon":"$(play)","title":"%python.command.python.execInTerminalIcon.title%","when":"false"},{"category":"Python","command":"python.execInDedicatedTerminal","icon":"$(play)","title":"%python.command.python.execInDedicatedTerminal.title%","when":"false"},{"category":"Python","command":"python.execSelectionInDjangoShell","title":"%python.command.python.execSelectionInDjangoShell.title%","when":"!virtualWorkspace && shellExecutionSupported && editorLangId == python"},{"category":"Python","command":"python.execSelectionInTerminal","title":"%python.command.python.execSelectionInTerminal.title%","when":"!virtualWorkspace && shellExecutionSupported && editorLangId == python"},{"category":"Python","command":"python.execInREPL","title":"%python.command.python.execInREPL.title%","when":"false"},{"category":"Python","command":"python.reportIssue","title":"%python.command.python.reportIssue.title%","when":"!virtualWorkspace && shellExecutionSupported"},{"category":"Test","command":"testing.reRunFailTests","icon":"$(run-errors)","title":"%python.command.testing.rerunFailedTests.title%","when":"!virtualWorkspace && shellExecutionSupported"},{"category":"Python","command":"python.setInterpreter","title":"%python.command.python.setInterpreter.title%","when":"!virtualWorkspace && shellExecutionSupported"},{"category":"Python","command":"python.startREPL","title":"%python.command.python.startTerminalREPL.title%","when":"!virtualWorkspace && shellExecutionSupported"},{"category":"Python","command":"python.startNativeREPL","title":"%python.command.python.startNativeREPL.title%","when":"!virtualWorkspace && shellExecutionSupported"},{"category":"Python","command":"python.viewLanguageServerOutput","enablement":"python.hasLanguageServerOutputChannel","title":"%python.command.python.viewLanguageServerOutput.title%","when":"!virtualWorkspace && shellExecutionSupported"},{"category":"Python","command":"python.viewOutput","title":"%python.command.python.viewOutput.title%","when":"!virtualWorkspace && shellExecutionSupported"}],"editor/content":[{"group":"Python","command":"python.createEnvironment-button","when":"showCreateEnvButton && resourceLangId == pip-requirements && !virtualWorkspace && shellExecutionSupported && !inDiffEditor && !isMergeResultEditor && pythonDepsNotInstalled"},{"group":"Python","command":"python.createEnvironment-button","when":"showCreateEnvButton && resourceFilename == pyproject.toml && pipInstallableToml && !virtualWorkspace && shellExecutionSupported  && !inDiffEditor && !isMergeResultEditor && pythonDepsNotInstalled"}],"editor/context":[{"submenu":"python.run","group":"Python","when":"editorLangId == python && !virtualWorkspace && shellExecutionSupported && isWorkspaceTrusted && !inChat  && notebookType != jupyter-notebook"},{"submenu":"python.runFileInteractive","group":"Jupyter2","when":"editorLangId == python && !virtualWorkspace && shellExecutionSupported && !isJupyterInstalled && isWorkspaceTrusted && !inChat"}],"python.runFileInteractive":[{"command":"python.installJupyter","group":"Jupyter2","when":"resourceLangId == python && !virtualWorkspace && shellExecutionSupported"}],"python.run":[{"command":"python.execInTerminal","group":"Python","when":"resourceLangId == python && !virtualWorkspace && shellExecutionSupported"},{"command":"python.execSelectionInDjangoShell","group":"Python","when":"editorHasSelection && editorLangId == python && python.isDjangoProject && !virtualWorkspace && shellExecutionSupported"},{"command":"python.execSelectionInTerminal","group":"Python","when":"!config.python.REPL.sendToNativeREPL && editorFocus && editorLangId == python && !virtualWorkspace && shellExecutionSupported"},{"command":"python.execInREPL","group":"Python","when":"editorFocus && editorLangId == python && !virtualWorkspace && shellExecutionSupported && config.python.REPL.sendToNativeREPL"}],"editor/title/run":[{"command":"python.execInTerminal-icon","group":"navigation@0","title":"%python.command.python.execInTerminalIcon.title%","when":"resourceLangId == python && !isInDiffEditor && !virtualWorkspace && shellExecutionSupported"},{"command":"python.execInDedicatedTerminal","group":"navigation@0","title":"%python.command.python.execInDedicatedTerminal.title%","when":"resourceLangId == python && !isInDiffEditor && !virtualWorkspace && shellExecutionSupported"}],"explorer/context":[{"command":"python.execInTerminal","group":"Python","when":"resourceLangId == python && !virtualWorkspace && shellExecutionSupported"}],"file/newFile":[{"command":"python.createNewFile","group":"file","when":"!virtualWorkspace"}],"view/title":[{"command":"testing.reRunFailTests","when":"view == workbench.view.testing && hasFailedTests && !virtualWorkspace && shellExecutionSupported","group":"navigation@1"}]},"submenus":[{"id":"python.run","label":"%python.editor.context.submenu.runPython%","icon":"$(play)"},{"id":"python.runFileInteractive","label":"%python.editor.context.submenu.runPythonInteractive%"}],"viewsWelcome":[{"view":"testing","contents":"Configure a test framework to see your tests here.\\n[Configure Python Tests](command:python.configureTests)","when":"!virtualWorkspace && shellExecutionSupported"}],"yamlValidation":[{"fileMatch":".condarc","url":"./schemas/condarc.json"},{"fileMatch":"environment.yml","url":"./schemas/conda-environment.json"},{"fileMatch":"meta.yaml","url":"./schemas/conda-meta.json"}]},"copilot":{"tests":{"getSetupConfirmation":"python.copilotSetupTests"}},"scripts":{"package":"gulp clean && gulp prePublishBundle && vsce package -o ms-python-insiders.vsix","prePublish":"gulp clean && gulp prePublishNonBundle","compile":"tsc -watch -p ./","compileApi":"node ./node_modules/typescript/lib/tsc.js -b ./pythonExtensionApi/tsconfig.json","compiled":"deemon npm run compile","kill-compiled":"deemon --kill npm run compile","checkDependencies":"gulp checkDependencies","test":"node ./out/test/standardTest.js && node ./out/test/multiRootTest.js","test:unittests":"mocha --config ./build/.mocha.unittests.json","test:unittests:cover":"nyc --no-clean --nycrc-path ./build/.nycrc mocha --config ./build/.mocha.unittests.json","test:functional":"mocha --require source-map-support/register --config ./build/.mocha.functional.json","test:functional:perf":"node --inspect-brk ./node_modules/mocha/bin/_mocha --require source-map-support/register --config ./build/.mocha.functional.perf.json","test:functional:memleak":"node --inspect-brk ./node_modules/mocha/bin/_mocha --require source-map-support/register --config ./build/.mocha.functional.json","test:functional:cover":"nyc --no-clean --nycrc-path ./build/.nycrc mocha --require source-map-support/register --config ./build/.mocha.functional.json","test:cover:report":"nyc --nycrc-path ./build/.nycrc  report --reporter=text --reporter=html --reporter=text-summary --reporter=cobertura","testDebugger":"node ./out/test/testBootstrap.js ./out/test/debuggerTest.js","testDebugger:cover":"nyc --no-clean --use-spawn-wrap --nycrc-path ./build/.nycrc --require source-map-support/register node ./out/test/debuggerTest.js","testSingleWorkspace":"node ./out/test/testBootstrap.js ./out/test/standardTest.js","testSingleWorkspace:cover":"nyc --no-clean --use-spawn-wrap --nycrc-path ./build/.nycrc --require source-map-support/register node ./out/test/standardTest.js","preTestJediLSP":"node ./out/test/languageServers/jedi/lspSetup.js","testJediLSP":"node ./out/test/languageServers/jedi/lspSetup.js && cross-env CODE_TESTS_WORKSPACE=src/test VSC_PYTHON_CI_TEST_GREP=\'Language Server:\' node ./out/test/testBootstrap.js ./out/test/standardTest.js && node ./out/test/languageServers/jedi/lspTeardown.js","testMultiWorkspace":"node ./out/test/testBootstrap.js ./out/test/multiRootTest.js","testPerformance":"node ./out/test/testBootstrap.js ./out/test/performanceTest.js","testSmoke":"cross-env INSTALL_JUPYTER_EXTENSION=true \\"node ./out/test/smokeTest.js\\"","testInsiders":"cross-env VSC_PYTHON_CI_TEST_VSC_CHANNEL=insiders INSTALL_PYLANCE_EXTENSION=true TEST_FILES_SUFFIX=insiders.test CODE_TESTS_WORKSPACE=src/testMultiRootWkspc/smokeTests \\"node ./out/test/standardTest.js\\"","lint-staged":"node gulpfile.js","lint":"eslint  src build pythonExtensionApi","lint-fix":"eslint --fix src build pythonExtensionApi gulpfile.js","format-check":"prettier --check \'src/**/*.ts\' \'build/**/*.js\' \'.github/**/*.yml\' gulpfile.js","format-fix":"prettier --write \'src/**/*.ts\' \'build/**/*.js\' \'.github/**/*.yml\' gulpfile.js","clean":"gulp clean","addExtensionPackDependencies":"gulp addExtensionPackDependencies","updateBuildNumber":"gulp updateBuildNumber","verifyBundle":"gulp verifyBundle","webpack":"webpack"},"dependencies":{"@iarna/toml":"^2.2.5","@vscode/extension-telemetry":"^0.8.4","arch":"^2.1.0","fs-extra":"^11.2.0","glob":"^7.2.0","iconv-lite":"^0.6.3","inversify":"^6.0.2","jsonc-parser":"^3.0.0","lodash":"^4.17.21","minimatch":"^5.0.1","named-js-regexp":"^1.3.3","node-stream-zip":"^1.6.0","reflect-metadata":"^0.2.2","rxjs":"^6.5.4","rxjs-compat":"^6.5.4","semver":"^7.5.2","stack-trace":"0.0.10","sudo-prompt":"^9.2.1","tmp":"^0.0.33","uint64be":"^3.0.0","unicode":"^14.0.0","vscode-debugprotocol":"^1.28.0","vscode-jsonrpc":"^9.0.0-next.5","vscode-languageclient":"^10.0.0-next.12","vscode-languageserver-protocol":"^3.17.6-next.10","vscode-tas-client":"^0.1.84","which":"^2.0.2","winreg":"^1.2.4","xml2js":"^0.5.0"},"devDependencies":{"@istanbuljs/nyc-config-typescript":"^1.0.2","@types/bent":"^7.3.0","@types/chai":"^4.1.2","@types/chai-arrays":"^2.0.0","@types/chai-as-promised":"^7.1.0","@types/download":"^8.0.1","@types/fs-extra":"^11.0.4","@types/glob":"^7.2.0","@types/lodash":"^4.14.104","@types/mocha":"^9.1.0","@types/node":"^22.5.0","@types/semver":"^5.5.0","@types/shortid":"^0.0.29","@types/sinon":"^17.0.3","@types/stack-trace":"0.0.29","@types/tmp":"^0.0.33","@types/vscode":"^1.93.0","@types/which":"^2.0.1","@types/winreg":"^1.2.30","@types/xml2js":"^0.4.2","@typescript-eslint/eslint-plugin":"^6.21.0","@typescript-eslint/parser":"^6.21.0","@vscode/test-electron":"^2.3.8","@vscode/vsce":"^2.27.0","bent":"^7.3.12","chai":"^4.1.2","chai-arrays":"^2.0.0","chai-as-promised":"^7.1.1","copy-webpack-plugin":"^9.1.0","cross-env":"^7.0.3","cross-spawn":"^6.0.5","del":"^6.0.0","download":"^8.0.0","eslint":"^8.57.1","eslint-config-prettier":"^8.3.0","eslint-plugin-import":"^2.31.0","eslint-plugin-jsx-a11y":"^6.3.1","eslint-plugin-no-only-tests":"^3.3.0","eslint-plugin-react":"^7.20.3","eslint-plugin-react-hooks":"^4.0.0","expose-loader":"^3.1.0","flat":"^5.0.2","get-port":"^5.1.1","gulp":"^5.0.0","gulp-typescript":"^5.0.0","mocha":"^11.1.0","mocha-junit-reporter":"^2.0.2","mocha-multi-reporters":"^1.1.7","node-has-native-dependencies":"^1.0.2","node-loader":"^1.0.2","node-polyfill-webpack-plugin":"^1.1.4","nyc":"^15.0.0","prettier":"^2.0.2","rewiremock":"^3.13.0","shortid":"^2.2.8","sinon":"^18.0.0","source-map-support":"^0.5.12","ts-loader":"^9.2.8","ts-mockito":"^2.5.0","ts-node":"^10.7.0","tsconfig-paths-webpack-plugin":"^3.2.0","typemoq":"^2.1.0","typescript":"~5.2","uuid":"^8.3.2","webpack":"^5.76.0","webpack-bundle-analyzer":"^4.5.0","webpack-cli":"^4.9.2","webpack-fix-default-import-plugin":"^1.0.3","webpack-merge":"^5.8.0","webpack-node-externals":"^3.0.0","webpack-require-from":"^1.8.6","worker-loader":"^3.0.8","yargs":"^15.3.1"},"extensionPack":["ms-python.vscode-pylance","ms-python.debugpy"]}')}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var __webpack_exports__={};(()=>{"use strict";var e=__webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),e.deactivate=e.activate=void 0,void 0===Reflect.metadata&&__webpack_require__(38630);const t={},n=__webpack_require__(51080),r=new n.StopWatch,i=__webpack_require__(61905),o=[];(0,i.initializeFileLogging)(o);const s=__webpack_require__(54980),a=__webpack_require__(34287),c=__webpack_require__(54661),l=__webpack_require__(86156),u=__webpack_require__(7855),p=__webpack_require__(14152),d=__webpack_require__(96130),h=__webpack_require__(49892),f=__webpack_require__(95411),v=__webpack_require__(91738),g=__webpack_require__(29413),m=__webpack_require__(68397),y=__webpack_require__(51271),b=__webpack_require__(94925),_=__webpack_require__(9923);let E;async function S(){if(E){const e=E.get(l.IDisposableRegistry);for(await(0,y.disposeAll)(e);e.pop(););}}t.codeLoadingTime=r.elapsedTime,e.activate=async function e(y){let w,P,T,C;try{C=0===y.globalState.get(_.GLOBAL_PERSISTENT_KEYS,[]).length;const f=new m.WorkspaceService;y.subscriptions.push(f.onDidGrantWorkspaceTrust((async()=>{await S(),await e(y)}))),[w,P,T]=await async function(e,t,r){e.subscriptions.push(...o);const f=(0,u.createDeferred)();(function(e){const t={location:s.ProgressLocation.Window,title:p.Common.loadingExtension};s.window.withProgress(t,(()=>e))})(f.promise),r.startActivateTime=t.elapsedTime;const m=new n.StopWatch,y=(0,h.initializeGlobals)(e);E=y.legacyIOC.serviceContainer,(0,h.initializeStandard)(y);const _=E.get(l.IExperimentService);await _.activate();const S=await(0,h.initializeComponents)(y),w=await(0,d.activateComponents)(y,S,m);(0,d.activateFeatures)(y,S);const P=w.map((e=>e.fullyReady)),T=(async()=>{await Promise.all(P)})();r.totalActivateTime=t.elapsedTime-r.startActivateTime,f.resolve(),setTimeout((async()=>{var e;if(E){const t=E.get(c.IWorkspaceService);if(t.isTrusted){const n=E.get(g.IInterpreterService),r=null!==(e=t.workspaceFolders)&&void 0!==e?e:[];await n.refresh(r.length>0?r[0].uri:void 0).catch((e=>(0,i.traceError)("Python Extension: interpreterManager.refresh",e)))}}(0,v.runAfterActivation)()}));return[{...(0,a.buildApi)(T,y.legacyIOC.serviceManager,y.legacyIOC.serviceContainer,S.pythonEnvs),...(0,b.buildProposedApi)(S.pythonEnvs,y.legacyIOC.serviceContainer)},T,y.legacyIOC.serviceContainer]}(y,r,t)}catch(e){throw await async function(e,t){(function(){try{let e=s.window;E&&(e=E.get(c.IApplicationShell)),e.showErrorMessage("Extension activation failed, run the 'Developer: Toggle Developer Tools' command for more information.").ignoreErrors()}catch(e){(0,i.traceError)("Failed to Notify User",e)}})(),(0,i.traceError)("extension activation failed",e),await(0,f.sendErrorTelemetry)(e,t,E)}(e,t),e}return(0,f.sendStartupTelemetry)(P,t,r,T,C).ignoreErrors(),w},e.deactivate=S})(),module.exports=__webpack_exports__})();
//# sourceMappingURL=extension.js.map