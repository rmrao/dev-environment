"use strict";var Qs=Object.create;var we=Object.defineProperty;var en=Object.getOwnPropertyDescriptor;var tn=Object.getOwnPropertyNames;var rn=Object.getPrototypeOf,sn=Object.prototype.hasOwnProperty;var d=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),nn=(t,e)=>{for(var r in e)we(t,r,{get:e[r],enumerable:!0})},wt=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of tn(e))!sn.call(t,n)&&n!==r&&we(t,n,{get:()=>e[n],enumerable:!(s=en(e,n))||s.enumerable});return t};var $e=(t,e,r)=>(r=t!=null?Qs(rn(t)):{},wt(e||!t||!t.__esModule?we(r,"default",{value:t,enumerable:!0}):r,t)),on=t=>wt(we({},"__esModule",{value:!0}),t);var fe=d((Ua,Pt)=>{var yn="2.0.0",Tn=Number.MAX_SAFE_INTEGER||9007199254740991,wn=16,$n=256-6,On=["major","premajor","minor","preminor","patch","prepatch","prerelease"];Pt.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:wn,MAX_SAFE_BUILD_LENGTH:$n,MAX_SAFE_INTEGER:Tn,RELEASE_TYPES:On,SEMVER_SPEC_VERSION:yn,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var pe=d((Xa,_t)=>{var Sn=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};_t.exports=Sn});var ne=d((M,qt)=>{var{MAX_SAFE_COMPONENT_LENGTH:Se,MAX_SAFE_BUILD_LENGTH:An}=fe(),Ln=pe();M=qt.exports={};var bn=M.re=[],Cn=M.safeRe=[],m=M.src=[],g=M.t={},Nn=0,He="[a-zA-Z0-9-]",Dn=[["\\s",1],["\\d",Se],[He,An]],Pn=t=>{for(let[e,r]of Dn)t=t.split(`${e}*`).join(`${e}{0,${r}}`).split(`${e}+`).join(`${e}{1,${r}}`);return t},v=(t,e,r)=>{let s=Pn(e),n=Nn++;Ln(t,n,e),g[t]=n,m[n]=e,bn[n]=new RegExp(e,r?"g":void 0),Cn[n]=new RegExp(s,r?"g":void 0)};v("NUMERICIDENTIFIER","0|[1-9]\\d*");v("NUMERICIDENTIFIERLOOSE","\\d+");v("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${He}*`);v("MAINVERSION",`(${m[g.NUMERICIDENTIFIER]})\\.(${m[g.NUMERICIDENTIFIER]})\\.(${m[g.NUMERICIDENTIFIER]})`);v("MAINVERSIONLOOSE",`(${m[g.NUMERICIDENTIFIERLOOSE]})\\.(${m[g.NUMERICIDENTIFIERLOOSE]})\\.(${m[g.NUMERICIDENTIFIERLOOSE]})`);v("PRERELEASEIDENTIFIER",`(?:${m[g.NUMERICIDENTIFIER]}|${m[g.NONNUMERICIDENTIFIER]})`);v("PRERELEASEIDENTIFIERLOOSE",`(?:${m[g.NUMERICIDENTIFIERLOOSE]}|${m[g.NONNUMERICIDENTIFIER]})`);v("PRERELEASE",`(?:-(${m[g.PRERELEASEIDENTIFIER]}(?:\\.${m[g.PRERELEASEIDENTIFIER]})*))`);v("PRERELEASELOOSE",`(?:-?(${m[g.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${m[g.PRERELEASEIDENTIFIERLOOSE]})*))`);v("BUILDIDENTIFIER",`${He}+`);v("BUILD",`(?:\\+(${m[g.BUILDIDENTIFIER]}(?:\\.${m[g.BUILDIDENTIFIER]})*))`);v("FULLPLAIN",`v?${m[g.MAINVERSION]}${m[g.PRERELEASE]}?${m[g.BUILD]}?`);v("FULL",`^${m[g.FULLPLAIN]}$`);v("LOOSEPLAIN",`[v=\\s]*${m[g.MAINVERSIONLOOSE]}${m[g.PRERELEASELOOSE]}?${m[g.BUILD]}?`);v("LOOSE",`^${m[g.LOOSEPLAIN]}$`);v("GTLT","((?:<|>)?=?)");v("XRANGEIDENTIFIERLOOSE",`${m[g.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);v("XRANGEIDENTIFIER",`${m[g.NUMERICIDENTIFIER]}|x|X|\\*`);v("XRANGEPLAIN",`[v=\\s]*(${m[g.XRANGEIDENTIFIER]})(?:\\.(${m[g.XRANGEIDENTIFIER]})(?:\\.(${m[g.XRANGEIDENTIFIER]})(?:${m[g.PRERELEASE]})?${m[g.BUILD]}?)?)?`);v("XRANGEPLAINLOOSE",`[v=\\s]*(${m[g.XRANGEIDENTIFIERLOOSE]})(?:\\.(${m[g.XRANGEIDENTIFIERLOOSE]})(?:\\.(${m[g.XRANGEIDENTIFIERLOOSE]})(?:${m[g.PRERELEASELOOSE]})?${m[g.BUILD]}?)?)?`);v("XRANGE",`^${m[g.GTLT]}\\s*${m[g.XRANGEPLAIN]}$`);v("XRANGELOOSE",`^${m[g.GTLT]}\\s*${m[g.XRANGEPLAINLOOSE]}$`);v("COERCE",`(^|[^\\d])(\\d{1,${Se}})(?:\\.(\\d{1,${Se}}))?(?:\\.(\\d{1,${Se}}))?(?:$|[^\\d])`);v("COERCERTL",m[g.COERCE],!0);v("LONETILDE","(?:~>?)");v("TILDETRIM",`(\\s*)${m[g.LONETILDE]}\\s+`,!0);M.tildeTrimReplace="$1~";v("TILDE",`^${m[g.LONETILDE]}${m[g.XRANGEPLAIN]}$`);v("TILDELOOSE",`^${m[g.LONETILDE]}${m[g.XRANGEPLAINLOOSE]}$`);v("LONECARET","(?:\\^)");v("CARETTRIM",`(\\s*)${m[g.LONECARET]}\\s+`,!0);M.caretTrimReplace="$1^";v("CARET",`^${m[g.LONECARET]}${m[g.XRANGEPLAIN]}$`);v("CARETLOOSE",`^${m[g.LONECARET]}${m[g.XRANGEPLAINLOOSE]}$`);v("COMPARATORLOOSE",`^${m[g.GTLT]}\\s*(${m[g.LOOSEPLAIN]})$|^$`);v("COMPARATOR",`^${m[g.GTLT]}\\s*(${m[g.FULLPLAIN]})$|^$`);v("COMPARATORTRIM",`(\\s*)${m[g.GTLT]}\\s*(${m[g.LOOSEPLAIN]}|${m[g.XRANGEPLAIN]})`,!0);M.comparatorTrimReplace="$1$2$3";v("HYPHENRANGE",`^\\s*(${m[g.XRANGEPLAIN]})\\s+-\\s+(${m[g.XRANGEPLAIN]})\\s*$`);v("HYPHENRANGELOOSE",`^\\s*(${m[g.XRANGEPLAINLOOSE]})\\s+-\\s+(${m[g.XRANGEPLAINLOOSE]})\\s*$`);v("STAR","(<|>)?=?\\s*\\*");v("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");v("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var Ae=d((Ba,jt)=>{var _n=Object.freeze({loose:!0}),qn=Object.freeze({}),jn=t=>t?typeof t!="object"?_n:t:qn;jt.exports=jn});var ze=d((Ha,kt)=>{var Vt=/^[0-9]+$/,Gt=(t,e)=>{let r=Vt.test(t),s=Vt.test(e);return r&&s&&(t=+t,e=+e),t===e?0:r&&!s?-1:s&&!r?1:t<e?-1:1},Vn=(t,e)=>Gt(e,t);kt.exports={compareIdentifiers:Gt,rcompareIdentifiers:Vn}});var b=d((za,Xt)=>{var Le=pe(),{MAX_LENGTH:Ft,MAX_SAFE_INTEGER:be}=fe(),{safeRe:Mt,t:Ut}=ne(),Gn=Ae(),{compareIdentifiers:ie}=ze(),Ke=class t{constructor(e,r){if(r=Gn(r),e instanceof t){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>Ft)throw new TypeError(`version is longer than ${Ft} characters`);Le("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let s=e.trim().match(r.loose?Mt[Ut.LOOSE]:Mt[Ut.FULL]);if(!s)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+s[1],this.minor=+s[2],this.patch=+s[3],this.major>be||this.major<0)throw new TypeError("Invalid major version");if(this.minor>be||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>be||this.patch<0)throw new TypeError("Invalid patch version");s[4]?this.prerelease=s[4].split(".").map(n=>{if(/^[0-9]+$/.test(n)){let o=+n;if(o>=0&&o<be)return o}return n}):this.prerelease=[],this.build=s[5]?s[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Le("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),ie(this.major,e.major)||ie(this.minor,e.minor)||ie(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let s=this.prerelease[r],n=e.prerelease[r];if(Le("prerelease compare",r,s,n),s===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(s===void 0)return-1;if(s===n)continue;return ie(s,n)}while(++r)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let r=0;do{let s=this.build[r],n=e.build[r];if(Le("prerelease compare",r,s,n),s===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(s===void 0)return-1;if(s===n)continue;return ie(s,n)}while(++r)}inc(e,r,s){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,s);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,s);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,s),this.inc("pre",r,s);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,s),this.inc("pre",r,s);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let n=Number(s)?1:0;if(!r&&s===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[n];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);if(o===-1){if(r===this.prerelease.join(".")&&s===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(n)}}if(r){let o=[r,n];s===!1&&(o=[r]),ie(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};Xt.exports=Ke});var J=d((Ka,Ht)=>{var Bt=b(),kn=(t,e,r=!1)=>{if(t instanceof Bt)return t;try{return new Bt(t,e)}catch(s){if(!r)return null;throw s}};Ht.exports=kn});var Kt=d((Wa,zt)=>{var Fn=J(),Mn=(t,e)=>{let r=Fn(t,e);return r?r.version:null};zt.exports=Mn});var Yt=d((Ya,Wt)=>{var Un=J(),Xn=(t,e)=>{let r=Un(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};Wt.exports=Xn});var Qt=d((Ja,Zt)=>{var Jt=b(),Bn=(t,e,r,s,n)=>{typeof r=="string"&&(n=s,s=r,r=void 0);try{return new Jt(t instanceof Jt?t.version:t,r).inc(e,s,n).version}catch{return null}};Zt.exports=Bn});var rr=d((Za,tr)=>{var er=J(),Hn=(t,e)=>{let r=er(t,null,!0),s=er(e,null,!0),n=r.compare(s);if(n===0)return null;let o=n>0,a=o?r:s,h=o?s:r,i=!!a.prerelease.length;if(!!h.prerelease.length&&!i)return!h.patch&&!h.minor?"major":a.patch?"patch":a.minor?"minor":"major";let l=i?"pre":"";return r.major!==s.major?l+"major":r.minor!==s.minor?l+"minor":r.patch!==s.patch?l+"patch":"prerelease"};tr.exports=Hn});var nr=d((Qa,sr)=>{var zn=b(),Kn=(t,e)=>new zn(t,e).major;sr.exports=Kn});var or=d((el,ir)=>{var Wn=b(),Yn=(t,e)=>new Wn(t,e).minor;ir.exports=Yn});var lr=d((tl,ar)=>{var Jn=b(),Zn=(t,e)=>new Jn(t,e).patch;ar.exports=Zn});var ur=d((rl,cr)=>{var Qn=J(),ei=(t,e)=>{let r=Qn(t,e);return r&&r.prerelease.length?r.prerelease:null};cr.exports=ei});var q=d((sl,fr)=>{var hr=b(),ti=(t,e,r)=>new hr(t,r).compare(new hr(e,r));fr.exports=ti});var mr=d((nl,pr)=>{var ri=q(),si=(t,e,r)=>ri(e,t,r);pr.exports=si});var dr=d((il,gr)=>{var ni=q(),ii=(t,e)=>ni(t,e,!0);gr.exports=ii});var Ce=d((ol,vr)=>{var Er=b(),oi=(t,e,r)=>{let s=new Er(t,r),n=new Er(e,r);return s.compare(n)||s.compareBuild(n)};vr.exports=oi});var Rr=d((al,Ir)=>{var ai=Ce(),li=(t,e)=>t.sort((r,s)=>ai(r,s,e));Ir.exports=li});var yr=d((ll,xr)=>{var ci=Ce(),ui=(t,e)=>t.sort((r,s)=>ci(s,r,e));xr.exports=ui});var me=d((cl,Tr)=>{var hi=q(),fi=(t,e,r)=>hi(t,e,r)>0;Tr.exports=fi});var Ne=d((ul,wr)=>{var pi=q(),mi=(t,e,r)=>pi(t,e,r)<0;wr.exports=mi});var We=d((hl,$r)=>{var gi=q(),di=(t,e,r)=>gi(t,e,r)===0;$r.exports=di});var Ye=d((fl,Or)=>{var Ei=q(),vi=(t,e,r)=>Ei(t,e,r)!==0;Or.exports=vi});var De=d((pl,Sr)=>{var Ii=q(),Ri=(t,e,r)=>Ii(t,e,r)>=0;Sr.exports=Ri});var Pe=d((ml,Ar)=>{var xi=q(),yi=(t,e,r)=>xi(t,e,r)<=0;Ar.exports=yi});var Je=d((gl,Lr)=>{var Ti=We(),wi=Ye(),$i=me(),Oi=De(),Si=Ne(),Ai=Pe(),Li=(t,e,r,s)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return Ti(t,r,s);case"!=":return wi(t,r,s);case">":return $i(t,r,s);case">=":return Oi(t,r,s);case"<":return Si(t,r,s);case"<=":return Ai(t,r,s);default:throw new TypeError(`Invalid operator: ${e}`)}};Lr.exports=Li});var Cr=d((dl,br)=>{var bi=b(),Ci=J(),{safeRe:_e,t:qe}=ne(),Ni=(t,e)=>{if(t instanceof bi)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(_e[qe.COERCE]);else{let s;for(;(s=_e[qe.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||s.index+s[0].length!==r.index+r[0].length)&&(r=s),_e[qe.COERCERTL].lastIndex=s.index+s[1].length+s[2].length;_e[qe.COERCERTL].lastIndex=-1}return r===null?null:Ci(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)};br.exports=Ni});var Dr=d((El,Nr)=>{"use strict";Nr.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var _r=d((vl,Pr)=>{"use strict";Pr.exports=R;R.Node=Z;R.create=R;function R(t){var e=this;if(e instanceof R||(e=new R),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(n){e.push(n)});else if(arguments.length>0)for(var r=0,s=arguments.length;r<s;r++)e.push(arguments[r]);return e}R.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};R.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};R.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};R.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)Pi(this,arguments[t]);return this.length};R.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)_i(this,arguments[t]);return this.length};R.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};R.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};R.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,s=0;r!==null;s++)t.call(e,r.value,s,this),r=r.next};R.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,s=this.length-1;r!==null;s--)t.call(e,r.value,s,this),r=r.prev};R.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};R.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};R.prototype.map=function(t,e){e=e||this;for(var r=new R,s=this.head;s!==null;)r.push(t.call(e,s.value,this)),s=s.next;return r};R.prototype.mapReverse=function(t,e){e=e||this;for(var r=new R,s=this.tail;s!==null;)r.push(t.call(e,s.value,this)),s=s.prev;return r};R.prototype.reduce=function(t,e){var r,s=this.head;if(arguments.length>1)r=e;else if(this.head)s=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var n=0;s!==null;n++)r=t(r,s.value,n),s=s.next;return r};R.prototype.reduceReverse=function(t,e){var r,s=this.tail;if(arguments.length>1)r=e;else if(this.tail)s=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var n=this.length-1;s!==null;n--)r=t(r,s.value,n),s=s.prev;return r};R.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};R.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};R.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new R;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var s=0,n=this.head;n!==null&&s<t;s++)n=n.next;for(;n!==null&&s<e;s++,n=n.next)r.push(n.value);return r};R.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new R;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var s=this.length,n=this.tail;n!==null&&s>e;s--)n=n.prev;for(;n!==null&&s>t;s--,n=n.prev)r.push(n.value);return r};R.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var s=0,n=this.head;n!==null&&s<t;s++)n=n.next;for(var o=[],s=0;n&&s<e;s++)o.push(n.value),n=this.removeNode(n);n===null&&(n=this.tail),n!==this.head&&n!==this.tail&&(n=n.prev);for(var s=0;s<r.length;s++)n=Di(this,n,r[s]);return o};R.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var s=r.prev;r.prev=r.next,r.next=s}return this.head=e,this.tail=t,this};function Di(t,e,r){var s=e===t.head?new Z(r,null,e,t):new Z(r,e,e.next,t);return s.next===null&&(t.tail=s),s.prev===null&&(t.head=s),t.length++,s}function Pi(t,e){t.tail=new Z(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function _i(t,e){t.head=new Z(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function Z(t,e,r,s){if(!(this instanceof Z))return new Z(t,e,r,s);this.list=s,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{Dr()(R)}catch{}});var kr=d((Il,Gr)=>{"use strict";var qi=_r(),Q=Symbol("max"),X=Symbol("length"),oe=Symbol("lengthCalculator"),de=Symbol("allowStale"),ee=Symbol("maxAge"),U=Symbol("dispose"),qr=Symbol("noDisposeOnSet"),S=Symbol("lruList"),k=Symbol("cache"),Vr=Symbol("updateAgeOnGet"),Ze=()=>1,et=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let r=this[Q]=e.max||1/0,s=e.length||Ze;if(this[oe]=typeof s!="function"?Ze:s,this[de]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[ee]=e.maxAge||0,this[U]=e.dispose,this[qr]=e.noDisposeOnSet||!1,this[Vr]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[Q]=e||1/0,ge(this)}get max(){return this[Q]}set allowStale(e){this[de]=!!e}get allowStale(){return this[de]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[ee]=e,ge(this)}get maxAge(){return this[ee]}set lengthCalculator(e){typeof e!="function"&&(e=Ze),e!==this[oe]&&(this[oe]=e,this[X]=0,this[S].forEach(r=>{r.length=this[oe](r.value,r.key),this[X]+=r.length})),ge(this)}get lengthCalculator(){return this[oe]}get length(){return this[X]}get itemCount(){return this[S].length}rforEach(e,r){r=r||this;for(let s=this[S].tail;s!==null;){let n=s.prev;jr(this,e,s,r),s=n}}forEach(e,r){r=r||this;for(let s=this[S].head;s!==null;){let n=s.next;jr(this,e,s,r),s=n}}keys(){return this[S].toArray().map(e=>e.key)}values(){return this[S].toArray().map(e=>e.value)}reset(){this[U]&&this[S]&&this[S].length&&this[S].forEach(e=>this[U](e.key,e.value)),this[k]=new Map,this[S]=new qi,this[X]=0}dump(){return this[S].map(e=>je(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[S]}set(e,r,s){if(s=s||this[ee],s&&typeof s!="number")throw new TypeError("maxAge must be a number");let n=s?Date.now():0,o=this[oe](r,e);if(this[k].has(e)){if(o>this[Q])return ae(this,this[k].get(e)),!1;let i=this[k].get(e).value;return this[U]&&(this[qr]||this[U](e,i.value)),i.now=n,i.maxAge=s,i.value=r,this[X]+=o-i.length,i.length=o,this.get(e),ge(this),!0}let a=new tt(e,r,o,n,s);return a.length>this[Q]?(this[U]&&this[U](e,r),!1):(this[X]+=a.length,this[S].unshift(a),this[k].set(e,this[S].head),ge(this),!0)}has(e){if(!this[k].has(e))return!1;let r=this[k].get(e).value;return!je(this,r)}get(e){return Qe(this,e,!0)}peek(e){return Qe(this,e,!1)}pop(){let e=this[S].tail;return e?(ae(this,e),e.value):null}del(e){ae(this,this[k].get(e))}load(e){this.reset();let r=Date.now();for(let s=e.length-1;s>=0;s--){let n=e[s],o=n.e||0;if(o===0)this.set(n.k,n.v);else{let a=o-r;a>0&&this.set(n.k,n.v,a)}}}prune(){this[k].forEach((e,r)=>Qe(this,r,!1))}},Qe=(t,e,r)=>{let s=t[k].get(e);if(s){let n=s.value;if(je(t,n)){if(ae(t,s),!t[de])return}else r&&(t[Vr]&&(s.value.now=Date.now()),t[S].unshiftNode(s));return n.value}},je=(t,e)=>{if(!e||!e.maxAge&&!t[ee])return!1;let r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[ee]&&r>t[ee]},ge=t=>{if(t[X]>t[Q])for(let e=t[S].tail;t[X]>t[Q]&&e!==null;){let r=e.prev;ae(t,e),e=r}},ae=(t,e)=>{if(e){let r=e.value;t[U]&&t[U](r.key,r.value),t[X]-=r.length,t[k].delete(r.key),t[S].removeNode(e)}},tt=class{constructor(e,r,s,n,o){this.key=e,this.value=r,this.length=s,this.now=n,this.maxAge=o||0}},jr=(t,e,r,s)=>{let n=r.value;je(t,n)&&(ae(t,r),t[de]||(n=void 0)),n&&e.call(s,n.value,n.key,t)};Gr.exports=et});var j=d((Rl,Xr)=>{var rt=class t{constructor(e,r){if(r=Vi(r),e instanceof t)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new t(e.raw,r);if(e instanceof st)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(s=>this.parseRange(s)).filter(s=>s.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let s=this.set[0];if(this.set=this.set.filter(n=>!Mr(n[0])),this.set.length===0)this.set=[s];else if(this.set.length>1){for(let n of this.set)if(n.length===1&&Bi(n[0])){this.set=[n];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){let s=((this.options.includePrerelease&&Ui)|(this.options.loose&&Xi))+":"+e,n=Fr.get(s);if(n)return n;let o=this.options.loose,a=o?D[C.HYPHENRANGELOOSE]:D[C.HYPHENRANGE];e=e.replace(a,to(this.options.includePrerelease)),y("hyphen replace",e),e=e.replace(D[C.COMPARATORTRIM],ki),y("comparator trim",e),e=e.replace(D[C.TILDETRIM],Fi),y("tilde trim",e),e=e.replace(D[C.CARETTRIM],Mi),y("caret trim",e);let h=e.split(" ").map(u=>Hi(u,this.options)).join(" ").split(/\s+/).map(u=>eo(u,this.options));o&&(h=h.filter(u=>(y("loose invalid filter",u,this.options),!!u.match(D[C.COMPARATORLOOSE])))),y("range list",h);let i=new Map,c=h.map(u=>new st(u,this.options));for(let u of c){if(Mr(u))return[u];i.set(u.value,u)}i.size>1&&i.has("")&&i.delete("");let l=[...i.values()];return Fr.set(s,l),l}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(s=>Ur(s,r)&&e.set.some(n=>Ur(n,r)&&s.every(o=>n.every(a=>o.intersects(a,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new Gi(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(ro(this.set[r],e,this.options))return!0;return!1}};Xr.exports=rt;var ji=kr(),Fr=new ji({max:1e3}),Vi=Ae(),st=Ee(),y=pe(),Gi=b(),{safeRe:D,t:C,comparatorTrimReplace:ki,tildeTrimReplace:Fi,caretTrimReplace:Mi}=ne(),{FLAG_INCLUDE_PRERELEASE:Ui,FLAG_LOOSE:Xi}=fe(),Mr=t=>t.value==="<0.0.0-0",Bi=t=>t.value==="",Ur=(t,e)=>{let r=!0,s=t.slice(),n=s.pop();for(;r&&s.length;)r=s.every(o=>n.intersects(o,e)),n=s.pop();return r},Hi=(t,e)=>(y("comp",t,e),t=Wi(t,e),y("caret",t),t=zi(t,e),y("tildes",t),t=Ji(t,e),y("xrange",t),t=Qi(t,e),y("stars",t),t),N=t=>!t||t.toLowerCase()==="x"||t==="*",zi=(t,e)=>t.trim().split(/\s+/).map(r=>Ki(r,e)).join(" "),Ki=(t,e)=>{let r=e.loose?D[C.TILDELOOSE]:D[C.TILDE];return t.replace(r,(s,n,o,a,h)=>{y("tilde",t,s,n,o,a,h);let i;return N(n)?i="":N(o)?i=`>=${n}.0.0 <${+n+1}.0.0-0`:N(a)?i=`>=${n}.${o}.0 <${n}.${+o+1}.0-0`:h?(y("replaceTilde pr",h),i=`>=${n}.${o}.${a}-${h} <${n}.${+o+1}.0-0`):i=`>=${n}.${o}.${a} <${n}.${+o+1}.0-0`,y("tilde return",i),i})},Wi=(t,e)=>t.trim().split(/\s+/).map(r=>Yi(r,e)).join(" "),Yi=(t,e)=>{y("caret",t,e);let r=e.loose?D[C.CARETLOOSE]:D[C.CARET],s=e.includePrerelease?"-0":"";return t.replace(r,(n,o,a,h,i)=>{y("caret",t,n,o,a,h,i);let c;return N(o)?c="":N(a)?c=`>=${o}.0.0${s} <${+o+1}.0.0-0`:N(h)?o==="0"?c=`>=${o}.${a}.0${s} <${o}.${+a+1}.0-0`:c=`>=${o}.${a}.0${s} <${+o+1}.0.0-0`:i?(y("replaceCaret pr",i),o==="0"?a==="0"?c=`>=${o}.${a}.${h}-${i} <${o}.${a}.${+h+1}-0`:c=`>=${o}.${a}.${h}-${i} <${o}.${+a+1}.0-0`:c=`>=${o}.${a}.${h}-${i} <${+o+1}.0.0-0`):(y("no pr"),o==="0"?a==="0"?c=`>=${o}.${a}.${h}${s} <${o}.${a}.${+h+1}-0`:c=`>=${o}.${a}.${h}${s} <${o}.${+a+1}.0-0`:c=`>=${o}.${a}.${h} <${+o+1}.0.0-0`),y("caret return",c),c})},Ji=(t,e)=>(y("replaceXRanges",t,e),t.split(/\s+/).map(r=>Zi(r,e)).join(" ")),Zi=(t,e)=>{t=t.trim();let r=e.loose?D[C.XRANGELOOSE]:D[C.XRANGE];return t.replace(r,(s,n,o,a,h,i)=>{y("xRange",t,s,n,o,a,h,i);let c=N(o),l=c||N(a),u=l||N(h),f=u;return n==="="&&f&&(n=""),i=e.includePrerelease?"-0":"",c?n===">"||n==="<"?s="<0.0.0-0":s="*":n&&f?(l&&(a=0),h=0,n===">"?(n=">=",l?(o=+o+1,a=0,h=0):(a=+a+1,h=0)):n==="<="&&(n="<",l?o=+o+1:a=+a+1),n==="<"&&(i="-0"),s=`${n+o}.${a}.${h}${i}`):l?s=`>=${o}.0.0${i} <${+o+1}.0.0-0`:u&&(s=`>=${o}.${a}.0${i} <${o}.${+a+1}.0-0`),y("xRange return",s),s})},Qi=(t,e)=>(y("replaceStars",t,e),t.trim().replace(D[C.STAR],"")),eo=(t,e)=>(y("replaceGTE0",t,e),t.trim().replace(D[e.includePrerelease?C.GTE0PRE:C.GTE0],"")),to=t=>(e,r,s,n,o,a,h,i,c,l,u,f,p)=>(N(s)?r="":N(n)?r=`>=${s}.0.0${t?"-0":""}`:N(o)?r=`>=${s}.${n}.0${t?"-0":""}`:a?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,N(c)?i="":N(l)?i=`<${+c+1}.0.0-0`:N(u)?i=`<${c}.${+l+1}.0-0`:f?i=`<=${c}.${l}.${u}-${f}`:t?i=`<${c}.${l}.${+u+1}-0`:i=`<=${i}`,`${r} ${i}`.trim()),ro=(t,e,r)=>{for(let s=0;s<t.length;s++)if(!t[s].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let s=0;s<t.length;s++)if(y(t[s].semver),t[s].semver!==st.ANY&&t[s].semver.prerelease.length>0){let n=t[s].semver;if(n.major===e.major&&n.minor===e.minor&&n.patch===e.patch)return!0}return!1}return!0}});var Ee=d((xl,Yr)=>{var ve=Symbol("SemVer ANY"),ot=class t{static get ANY(){return ve}constructor(e,r){if(r=Br(r),e instanceof t){if(e.loose===!!r.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),it("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===ve?this.value="":this.value=this.operator+this.semver.version,it("comp",this)}parse(e){let r=this.options.loose?Hr[zr.COMPARATORLOOSE]:Hr[zr.COMPARATOR],s=e.match(r);if(!s)throw new TypeError(`Invalid comparator: ${e}`);this.operator=s[1]!==void 0?s[1]:"",this.operator==="="&&(this.operator=""),s[2]?this.semver=new Kr(s[2],this.options.loose):this.semver=ve}toString(){return this.value}test(e){if(it("Comparator.test",e,this.options.loose),this.semver===ve||e===ve)return!0;if(typeof e=="string")try{e=new Kr(e,this.options)}catch{return!1}return nt(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new Wr(e.value,r).test(this.value):e.operator===""?e.value===""?!0:new Wr(this.value,r).test(e.semver):(r=Br(r),r.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||nt(this.semver,"<",e.semver,r)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||nt(this.semver,">",e.semver,r)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};Yr.exports=ot;var Br=Ae(),{safeRe:Hr,t:zr}=ne(),nt=Je(),it=pe(),Kr=b(),Wr=j()});var Ie=d((yl,Jr)=>{var so=j(),no=(t,e,r)=>{try{e=new so(e,r)}catch{return!1}return e.test(t)};Jr.exports=no});var Qr=d((Tl,Zr)=>{var io=j(),oo=(t,e)=>new io(t,e).set.map(r=>r.map(s=>s.value).join(" ").trim().split(" "));Zr.exports=oo});var ts=d((wl,es)=>{var ao=b(),lo=j(),co=(t,e,r)=>{let s=null,n=null,o=null;try{o=new lo(e,r)}catch{return null}return t.forEach(a=>{o.test(a)&&(!s||n.compare(a)===-1)&&(s=a,n=new ao(s,r))}),s};es.exports=co});var ss=d(($l,rs)=>{var uo=b(),ho=j(),fo=(t,e,r)=>{let s=null,n=null,o=null;try{o=new ho(e,r)}catch{return null}return t.forEach(a=>{o.test(a)&&(!s||n.compare(a)===1)&&(s=a,n=new uo(s,r))}),s};rs.exports=fo});var os=d((Ol,is)=>{var at=b(),po=j(),ns=me(),mo=(t,e)=>{t=new po(t,e);let r=new at("0.0.0");if(t.test(r)||(r=new at("0.0.0-0"),t.test(r)))return r;r=null;for(let s=0;s<t.set.length;++s){let n=t.set[s],o=null;n.forEach(a=>{let h=new at(a.semver.version);switch(a.operator){case">":h.prerelease.length===0?h.patch++:h.prerelease.push(0),h.raw=h.format();case"":case">=":(!o||ns(h,o))&&(o=h);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),o&&(!r||ns(r,o))&&(r=o)}return r&&t.test(r)?r:null};is.exports=mo});var ls=d((Sl,as)=>{var go=j(),Eo=(t,e)=>{try{return new go(t,e).range||"*"}catch{return null}};as.exports=Eo});var Ve=d((Al,fs)=>{var vo=b(),hs=Ee(),{ANY:Io}=hs,Ro=j(),xo=Ie(),cs=me(),us=Ne(),yo=Pe(),To=De(),wo=(t,e,r,s)=>{t=new vo(t,s),e=new Ro(e,s);let n,o,a,h,i;switch(r){case">":n=cs,o=yo,a=us,h=">",i=">=";break;case"<":n=us,o=To,a=cs,h="<",i="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(xo(t,e,s))return!1;for(let c=0;c<e.set.length;++c){let l=e.set[c],u=null,f=null;if(l.forEach(p=>{p.semver===Io&&(p=new hs(">=0.0.0")),u=u||p,f=f||p,n(p.semver,u.semver,s)?u=p:a(p.semver,f.semver,s)&&(f=p)}),u.operator===h||u.operator===i||(!f.operator||f.operator===h)&&o(t,f.semver))return!1;if(f.operator===i&&a(t,f.semver))return!1}return!0};fs.exports=wo});var ms=d((Ll,ps)=>{var $o=Ve(),Oo=(t,e,r)=>$o(t,e,">",r);ps.exports=Oo});var ds=d((bl,gs)=>{var So=Ve(),Ao=(t,e,r)=>So(t,e,"<",r);gs.exports=Ao});var Is=d((Cl,vs)=>{var Es=j(),Lo=(t,e,r)=>(t=new Es(t,r),e=new Es(e,r),t.intersects(e,r));vs.exports=Lo});var xs=d((Nl,Rs)=>{var bo=Ie(),Co=q();Rs.exports=(t,e,r)=>{let s=[],n=null,o=null,a=t.sort((l,u)=>Co(l,u,r));for(let l of a)bo(l,e,r)?(o=l,n||(n=l)):(o&&s.push([n,o]),o=null,n=null);n&&s.push([n,null]);let h=[];for(let[l,u]of s)l===u?h.push(l):!u&&l===a[0]?h.push("*"):u?l===a[0]?h.push(`<=${u}`):h.push(`${l} - ${u}`):h.push(`>=${l}`);let i=h.join(" || "),c=typeof e.raw=="string"?e.raw:String(e);return i.length<c.length?i:e}});var Ss=d((Dl,Os)=>{var ys=j(),ct=Ee(),{ANY:lt}=ct,Re=Ie(),ut=q(),No=(t,e,r={})=>{if(t===e)return!0;t=new ys(t,r),e=new ys(e,r);let s=!1;e:for(let n of t.set){for(let o of e.set){let a=Po(n,o,r);if(s=s||a!==null,a)continue e}if(s)return!1}return!0},Do=[new ct(">=0.0.0-0")],Ts=[new ct(">=0.0.0")],Po=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===lt){if(e.length===1&&e[0].semver===lt)return!0;r.includePrerelease?t=Do:t=Ts}if(e.length===1&&e[0].semver===lt){if(r.includePrerelease)return!0;e=Ts}let s=new Set,n,o;for(let p of t)p.operator===">"||p.operator===">="?n=ws(n,p,r):p.operator==="<"||p.operator==="<="?o=$s(o,p,r):s.add(p.semver);if(s.size>1)return null;let a;if(n&&o){if(a=ut(n.semver,o.semver,r),a>0)return null;if(a===0&&(n.operator!==">="||o.operator!=="<="))return null}for(let p of s){if(n&&!Re(p,String(n),r)||o&&!Re(p,String(o),r))return null;for(let E of e)if(!Re(p,String(E),r))return!1;return!0}let h,i,c,l,u=o&&!r.includePrerelease&&o.semver.prerelease.length?o.semver:!1,f=n&&!r.includePrerelease&&n.semver.prerelease.length?n.semver:!1;u&&u.prerelease.length===1&&o.operator==="<"&&u.prerelease[0]===0&&(u=!1);for(let p of e){if(l=l||p.operator===">"||p.operator===">=",c=c||p.operator==="<"||p.operator==="<=",n){if(f&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===f.major&&p.semver.minor===f.minor&&p.semver.patch===f.patch&&(f=!1),p.operator===">"||p.operator===">="){if(h=ws(n,p,r),h===p&&h!==n)return!1}else if(n.operator===">="&&!Re(n.semver,String(p),r))return!1}if(o){if(u&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===u.major&&p.semver.minor===u.minor&&p.semver.patch===u.patch&&(u=!1),p.operator==="<"||p.operator==="<="){if(i=$s(o,p,r),i===p&&i!==o)return!1}else if(o.operator==="<="&&!Re(o.semver,String(p),r))return!1}if(!p.operator&&(o||n)&&a!==0)return!1}return!(n&&c&&!o&&a!==0||o&&l&&!n&&a!==0||f||u)},ws=(t,e,r)=>{if(!t)return e;let s=ut(t.semver,e.semver,r);return s>0?t:s<0||e.operator===">"&&t.operator===">="?e:t},$s=(t,e,r)=>{if(!t)return e;let s=ut(t.semver,e.semver,r);return s<0?t:s>0||e.operator==="<"&&t.operator==="<="?e:t};Os.exports=No});var ft=d((Pl,bs)=>{var ht=ne(),As=fe(),_o=b(),Ls=ze(),qo=J(),jo=Kt(),Vo=Yt(),Go=Qt(),ko=rr(),Fo=nr(),Mo=or(),Uo=lr(),Xo=ur(),Bo=q(),Ho=mr(),zo=dr(),Ko=Ce(),Wo=Rr(),Yo=yr(),Jo=me(),Zo=Ne(),Qo=We(),ea=Ye(),ta=De(),ra=Pe(),sa=Je(),na=Cr(),ia=Ee(),oa=j(),aa=Ie(),la=Qr(),ca=ts(),ua=ss(),ha=os(),fa=ls(),pa=Ve(),ma=ms(),ga=ds(),da=Is(),Ea=xs(),va=Ss();bs.exports={parse:qo,valid:jo,clean:Vo,inc:Go,diff:ko,major:Fo,minor:Mo,patch:Uo,prerelease:Xo,compare:Bo,rcompare:Ho,compareLoose:zo,compareBuild:Ko,sort:Wo,rsort:Yo,gt:Jo,lt:Zo,eq:Qo,neq:ea,gte:ta,lte:ra,cmp:sa,coerce:na,Comparator:ia,Range:oa,satisfies:aa,toComparators:la,maxSatisfying:ca,minSatisfying:ua,minVersion:ha,validRange:fa,outside:pa,gtr:ma,ltr:ga,intersects:da,simplifyRange:Ea,subset:va,SemVer:_o,re:ht.re,src:ht.src,tokens:ht.t,SEMVER_SPEC_VERSION:As.SEMVER_SPEC_VERSION,RELEASE_TYPES:As.RELEASE_TYPES,compareIdentifiers:Ls.compareIdentifiers,rcompareIdentifiers:Ls.rcompareIdentifiers}});var Ps=d((Yl,ke)=>{var Ra=function(){"use strict";function t(l,u){return u!=null&&l instanceof u}var e;try{e=Map}catch{e=function(){}}var r;try{r=Set}catch{r=function(){}}var s;try{s=Promise}catch{s=function(){}}function n(l,u,f,p,E){typeof u=="object"&&(f=u.depth,p=u.prototype,E=u.includeNonEnumerable,u=u.circular);var w=[],O=[],A=typeof Buffer<"u";typeof u>"u"&&(u=!0),typeof f>"u"&&(f=1/0);function $(I,V){if(I===null)return null;if(V===0)return I;var x,le;if(typeof I!="object")return I;if(t(I,e))x=new e;else if(t(I,r))x=new r;else if(t(I,s))x=new s(function(ce,ue){I.then(function(he){ce($(he,V-1))},function(he){ue($(he,V-1))})});else if(n.__isArray(I))x=[];else if(n.__isRegExp(I))x=new RegExp(I.source,c(I)),I.lastIndex&&(x.lastIndex=I.lastIndex);else if(n.__isDate(I))x=new Date(I.getTime());else{if(A&&Buffer.isBuffer(I))return Buffer.allocUnsafe?x=Buffer.allocUnsafe(I.length):x=new Buffer(I.length),I.copy(x),x;t(I,Error)?x=Object.create(I):typeof p>"u"?(le=Object.getPrototypeOf(I),x=Object.create(le)):(x=Object.create(p),le=p)}if(u){var xt=w.indexOf(I);if(xt!=-1)return O[xt];w.push(I),O.push(x)}t(I,e)&&I.forEach(function(ce,ue){var he=$(ue,V-1),Zs=$(ce,V-1);x.set(he,Zs)}),t(I,r)&&I.forEach(function(ce){var ue=$(ce,V-1);x.add(ue)});for(var G in I){var Ue;le&&(Ue=Object.getOwnPropertyDescriptor(le,G)),!(Ue&&Ue.set==null)&&(x[G]=$(I[G],V-1))}if(Object.getOwnPropertySymbols)for(var yt=Object.getOwnPropertySymbols(I),G=0;G<yt.length;G++){var ye=yt[G],re=Object.getOwnPropertyDescriptor(I,ye);re&&!re.enumerable&&!E||(x[ye]=$(I[ye],V-1),re.enumerable||Object.defineProperty(x,ye,{enumerable:!1}))}if(E)for(var Tt=Object.getOwnPropertyNames(I),G=0;G<Tt.length;G++){var Te=Tt[G],re=Object.getOwnPropertyDescriptor(I,Te);re&&re.enumerable||(x[Te]=$(I[Te],V-1),Object.defineProperty(x,Te,{enumerable:!1}))}return x}return $(l,f)}n.clonePrototype=function(u){if(u===null)return null;var f=function(){};return f.prototype=u,new f};function o(l){return Object.prototype.toString.call(l)}n.__objToStr=o;function a(l){return typeof l=="object"&&o(l)==="[object Date]"}n.__isDate=a;function h(l){return typeof l=="object"&&o(l)==="[object Array]"}n.__isArray=h;function i(l){return typeof l=="object"&&o(l)==="[object RegExp]"}n.__isRegExp=i;function c(l){var u="";return l.global&&(u+="g"),l.ignoreCase&&(u+="i"),l.multiline&&(u+="m"),u}return n.__getRegExpFlags=c,n}();typeof ke=="object"&&ke.exports&&(ke.exports=Ra)});var js=d((_s,qs)=>{(function(){var t,e,r,s=[].splice,n=function(a,h){if(!(a instanceof h))throw new Error("Bound instance method accessed before binding")},o=[].indexOf;r=Ps(),t=require("events").EventEmitter,qs.exports=e=function(){class a extends t{constructor(i={}){super(),this.get=this.get.bind(this),this.mget=this.mget.bind(this),this.set=this.set.bind(this),this.mset=this.mset.bind(this),this.del=this.del.bind(this),this.take=this.take.bind(this),this.ttl=this.ttl.bind(this),this.getTtl=this.getTtl.bind(this),this.keys=this.keys.bind(this),this.has=this.has.bind(this),this.getStats=this.getStats.bind(this),this.flushAll=this.flushAll.bind(this),this.flushStats=this.flushStats.bind(this),this.close=this.close.bind(this),this._checkData=this._checkData.bind(this),this._check=this._check.bind(this),this._isInvalidKey=this._isInvalidKey.bind(this),this._wrap=this._wrap.bind(this),this._getValLength=this._getValLength.bind(this),this._error=this._error.bind(this),this._initErrors=this._initErrors.bind(this),this.options=i,this._initErrors(),this.data={},this.options=Object.assign({forceString:!1,objectValueSize:80,promiseValueSize:80,arrayValueSize:40,stdTTL:0,checkperiod:600,useClones:!0,deleteOnExpire:!0,enableLegacyCallbacks:!1,maxKeys:-1},this.options),this.options.enableLegacyCallbacks&&(console.warn("WARNING! node-cache legacy callback support will drop in v6.x"),["get","mget","set","del","ttl","getTtl","keys","has"].forEach(c=>{var l;l=this[c],this[c]=function(...u){var f,p,E,w;if(E=u,[...u]=E,[f]=s.call(u,-1),typeof f=="function")try{w=l(...u),f(null,w)}catch(O){p=O,f(p)}else return l(...u,f)}})),this.stats={hits:0,misses:0,keys:0,ksize:0,vsize:0},this.validKeyTypes=["string","number"],this._checkData()}get(i){var c,l;if(n(this,a),(l=this._isInvalidKey(i))!=null)throw l;if(this.data[i]!=null&&this._check(i,this.data[i]))return this.stats.hits++,c=this._unwrap(this.data[i]),c;this.stats.misses++}mget(i){var c,l,u,f,p,E;if(n(this,a),!Array.isArray(i))throw c=this._error("EKEYSTYPE"),c;for(E={},u=0,p=i.length;u<p;u++){if(f=i[u],(l=this._isInvalidKey(f))!=null)throw l;this.data[f]!=null&&this._check(f,this.data[f])?(this.stats.hits++,E[f]=this._unwrap(this.data[f])):this.stats.misses++}return E}set(i,c,l){var u,f,p;if(n(this,a),this.options.maxKeys>-1&&this.stats.keys>=this.options.maxKeys)throw u=this._error("ECACHEFULL"),u;if(this.options.forceString&&!1==="string"&&(c=JSON.stringify(c)),l==null&&(l=this.options.stdTTL),(f=this._isInvalidKey(i))!=null)throw f;return p=!1,this.data[i]&&(p=!0,this.stats.vsize-=this._getValLength(this._unwrap(this.data[i],!1))),this.data[i]=this._wrap(c,l),this.stats.vsize+=this._getValLength(c),p||(this.stats.ksize+=this._getKeyLength(i),this.stats.keys++),this.emit("set",i,c),!0}mset(i){var c,l,u,f,p,E,w,O,A,$;if(n(this,a),this.options.maxKeys>-1&&this.stats.keys+i.length>=this.options.maxKeys)throw c=this._error("ECACHEFULL"),c;for(u=0,w=i.length;u<w;u++){if(E=i[u],{key:p,val:$,ttl:A}=E,A&&typeof A!="number")throw c=this._error("ETTLTYPE"),c;if((l=this._isInvalidKey(p))!=null)throw l}for(f=0,O=i.length;f<O;f++)E=i[f],{key:p,val:$,ttl:A}=E,this.set(p,$,A);return!0}del(i){var c,l,u,f,p,E;for(n(this,a),Array.isArray(i)||(i=[i]),c=0,u=0,p=i.length;u<p;u++){if(f=i[u],(l=this._isInvalidKey(f))!=null)throw l;this.data[f]!=null&&(this.stats.vsize-=this._getValLength(this._unwrap(this.data[f],!1)),this.stats.ksize-=this._getKeyLength(f),this.stats.keys--,c++,E=this.data[f],delete this.data[f],this.emit("del",f,E.v))}return c}take(i){var c;return n(this,a),c=this.get(i),c!=null&&this.del(i),c}ttl(i,c){var l;if(n(this,a),c||(c=this.options.stdTTL),!i)return!1;if((l=this._isInvalidKey(i))!=null)throw l;return this.data[i]!=null&&this._check(i,this.data[i])?(c>=0?this.data[i]=this._wrap(this.data[i].v,c,!1):this.del(i),!0):!1}getTtl(i){var c,l;if(n(this,a),!!i){if((l=this._isInvalidKey(i))!=null)throw l;if(this.data[i]!=null&&this._check(i,this.data[i]))return c=this.data[i].t,c}}keys(){var i;return n(this,a),i=Object.keys(this.data),i}has(i){var c;return n(this,a),c=this.data[i]!=null&&this._check(i,this.data[i]),c}getStats(){return n(this,a),this.stats}flushAll(i=!0){n(this,a),this.data={},this.stats={hits:0,misses:0,keys:0,ksize:0,vsize:0},this._killCheckPeriod(),this._checkData(i),this.emit("flush")}flushStats(){n(this,a),this.stats={hits:0,misses:0,keys:0,ksize:0,vsize:0},this.emit("flush_stats")}close(){n(this,a),this._killCheckPeriod()}_checkData(i=!0){var c,l,u;n(this,a),l=this.data;for(c in l)u=l[c],this._check(c,u);i&&this.options.checkperiod>0&&(this.checkTimeout=setTimeout(this._checkData,this.options.checkperiod*1e3,i),this.checkTimeout!=null&&this.checkTimeout.unref!=null&&this.checkTimeout.unref())}_killCheckPeriod(){if(this.checkTimeout!=null)return clearTimeout(this.checkTimeout)}_check(i,c){var l;return n(this,a),l=!0,c.t!==0&&c.t<Date.now()&&(this.options.deleteOnExpire&&(l=!1,this.del(i)),this.emit("expired",i,this._unwrap(c))),l}_isInvalidKey(i){var c;if(n(this,a),c=typeof i,o.call(this.validKeyTypes,c)<0)return this._error("EKEYTYPE",{type:typeof i})}_wrap(i,c,l=!0){var u,f,p,E;return n(this,a),this.options.useClones||(l=!1),f=Date.now(),u=0,E=1e3,c===0?u=0:c?u=f+c*E:this.options.stdTTL===0?u=this.options.stdTTL:u=f+this.options.stdTTL*E,p={t:u,v:l?r(i):i}}_unwrap(i,c=!0){return this.options.useClones||(c=!1),i.v!=null?c?r(i.v):i.v:null}_getKeyLength(i){return i.toString().length}_getValLength(i){return n(this,a),typeof i=="string"?i.length:this.options.forceString?JSON.stringify(i).length:Array.isArray(i)?this.options.arrayValueSize*i.length:typeof i=="number"?8:typeof i?.then=="function"?this.options.promiseValueSize:typeof Buffer<"u"&&Buffer!==null&&Buffer.isBuffer(i)?i.length:i!=null&&typeof i=="object"?this.options.objectValueSize*Object.keys(i).length:typeof i=="boolean"?8:0}_error(i,c={}){var l;return n(this,a),l=new Error,l.name=i,l.errorcode=i,l.message=this.ERRORS[i]!=null?this.ERRORS[i](c):"-",l.data=c,l}_initErrors(){var i,c,l;n(this,a),this.ERRORS={},l=this._ERRORS;for(c in l)i=l[c],this.ERRORS[c]=this.createErrorMessage(i)}createErrorMessage(i){return function(c){return i.replace("__key",c.type)}}}return a.prototype._ERRORS={ENOTFOUND:"Key `__key` not found",ECACHEFULL:"Cache max keys amount exceeded",EKEYTYPE:"The key argument has to be of type `string` or `number`. Found: `__key`",EKEYSTYPE:"The keys argument has to be an array.",ETTLTYPE:"The ttl argument has to be a number."},a}.call(this)}).call(_s)});var ks=d((Vs,Gs)=>{(function(){var t;t=Gs.exports=js(),t.version="5.1.2"}).call(Vs)});var ba={};nn(ba,{activate:()=>Aa,deactivate:()=>La});module.exports=on(ba);var H=require("vscode");var Js=require("vscode");var _=class{constructor(e){this.key="";this.values=[];this.value="";this.start=-1;this.end=-1;e&&(this.key=e.key,this.values=e.values,this.value=e.value,this.start=e.start,this.end=e.end)}};var $t=/^[ \t]*(?<!#)(\S+?)([ \t]*=[ \t]*)(?:({.*?version[ \t]*=[ \t]*)("|')(.*?)\4|("|')(.*?)\6)/;var an=/^[ \t]*(?!#)[ \t]*\[[ \t]*(.+?)[ \t]*\][ \t]*$/,ln=/^(?:.+?\.)?(?:dev-)?dependencies(?:\.([^.]+?))?$/;function Ot(t,e){for(;--e>=0;){let r=t.lineAt(e).text.match(an);if(r)return r[1].match(ln)?.[1]}}function cn(t){let e=[];for(let r of t.values)if(!r.key.endsWith(".workspace"))if(r.values.length>0){let s=St(r);s&&e.push(s)}else r.value!=null&&e.push(r);return e}function St(t){let e=null,r=null;for(let s of t.values){if(s.key==="workspace")return null;s.key==="version"&&(e=new _(s),e.key=t.key),s.key==="package"&&(r=s.value)}return e&&r&&(e.key=r),e}function At(t){let e=[];for(let r=0;r<t.length;r++){let s=t[r];if(!s.key.startsWith("package.metadata")&&s.key.endsWith("dependencies"))e=e.concat(cn(s));else{let n=s.key.lastIndexOf("."),o=n-12;if(s.key.indexOf("dependencies")===o){let a=new _(s);a.key=s.key.substring(n+1);let h=St(a);h&&e.push(h)}}}return e}function Lt(t){let e=new _;return e.start=0,e.end=t.length,un(t,e),e}function un(t,e){let r=new _,s=-1,n=[];for(;s++<t.length;){let o=t.charAt(s);Oe(o)||K(o)||(Be(o)?s=Xe(t,s):o==="["?(r=new _,r.start=s,n=[]):o==="]"?(r.key=n.join(""),s=bt(t,r,s),r=z(r,e,s)):n.push(o))}return e}function bt(t,e,r){let s=r,n=new _,o="",a=!0;for(;s++<t.length;){let h=t.charAt(s),i="";if(K(o)&&(i=pn(t,s)),o=h,!(Oe(h)||K(h)||Nt(h)))if(Be(h)||In(i)||Rn(i))s=Xe(t,s);else if(a){if(h==="[")return--s;if(h==="}")return s;s=mn(t,n,s),a=!1}else h==='"'||h==="'"?(s=Ct(t,n,s,h),n=z(n,e,s),a=!0):h==="["?(s=fn(t,n,s),n=z(n,e,s),a=!0):h==="{"?(s=bt(t,n,s),hn(n)||(n.start=-1),n=z(n,e,s),a=!0):En(t,s)?(s=gn(t,n,s,h),n=z(n,e,s),a=!0):vn(t,s)&&(s=dn(t,n,s),n=z(n,e,s),a=!0)}return s}function hn(t){if(t.values&&t.values.length)for(let e of t.values){if(e.key==="git"||e.key==="path")return!1;e.key==="package"&&(t.key=e.value)}return!0}function fn(t,e,r){let s=r,n=new _;for(;s++<t.length;){let o=t.charAt(s);if(!(Oe(o)||K(o)||Nt(o))){if(Be(o))s=Xe(t,s);else if(o==='"'||o==="'")s=Ct(t,n,s,o),n=z(n,e,s);else if(o==="]")return s}}return s}function Ct(t,e,r,s){let n=r;e.start=r;let o=[],a=t.substring(n,n+3)===s.repeat(3);for(a&&(n+=2);n++<t.length;){let h=t.charAt(n);switch(h){case'"':case"'":if(h===s&&(!a||t.substring(n,n+3)===s.repeat(3)))return a&&(n+=2),e.value=o.join(""),e.end=n,n;default:o.push(h)}}return n}function Xe(t,e){let r=e;for(;r++<t.length;){let s=t.charAt(r);if(K(s))return r}return r}function pn(t,e){let r=e,s="";for(;r<t.length;){let n=t.charAt(r);if(K(n))return s;s+=n,r++}return s}function mn(t,e,r){let s=r,n=[];for(e.start=r;s<t.length;){let o=t.charAt(s);if(o==="=")return e.key=n.join(""),s;Oe(o)||n.push(o),s++}return s}function gn(t,e,r,s){switch(t.charAt(r)){case"t":return e.value="true",r+3;case"f":return e.value="false",r+4;default:return r}}function dn(t,e,r){let s=t.charAt(r);(s==="+"||s==="-")&&r++;let n=r;e.start=r;let o=[];for(;n<t.length;){let a=t.charAt(n);switch(a){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case".":o.push(a);break;default:if(K(a))return e.value=o.join(""),e.end=n,n}n++}return n}function z(t,e,r){return t.start!==-1&&(t.end=r+1,e.values.push(t)),new _}function Oe(t){return t===" "||t==="	"}function K(t){return t===`
`||t==="\r"}function Nt(t){return t===","}function Be(t){return t==="#"}function En(t,e){return t.substring(e,e+4)==="true"||t.substring(e,e+5)==="false"}function vn(t,e){let r=t.charAt(e);return r==="+"||r==="-"?!0:parseInt(t.charAt(e),10)}function In(t){return t.startsWith("<<<<<<<")||t.startsWith(">>>>>>>")||t.startsWith("=======")}function Rn(t){return t.replace(/\s/g,"").endsWith("#crates:disable-check")}var se=require("vscode"),T=se.window.createStatusBarItem(se.StatusBarAlignment.Right,0);T.setText=(t,e)=>{switch(t){case"Error":T.color="statusBarItem.errorForeground",T.text="$(error) Crates",T.tooltip="",se.window.showErrorMessage(e||"Error");return;case"Warning":T.text="$(warning) Crates",T.color="statusBarItem.warningForeground";break;case"Info":T.color="statusBarItem.foreground",T.text="$(check-all) Crates";break;case"Loading":T.color="statusBarItem.activeForeground",T.text="$(sync~spin) Crates"}e&&se.window.setStatusBarMessage(`Crates: ${e}`,2e3),T.tooltip=e,T.command="crates.retry"};var W=require("vscode");var L={inProgress:!1,replaceItems:[]},xn=W.commands.registerTextEditorCommand("crates.replaceVersion",(t,e,r)=>{if(t&&r&&!L.inProgress){let{fileName:s}=t.document;s.toLocaleLowerCase().endsWith("cargo.toml")&&(L.inProgress=!0,console.log("Replacing",r.item),e.replace(new W.Range(t.document.positionAt(r.start+1),t.document.positionAt(r.end-1)),r.item.substr(1,r.item.length-2)),L.inProgress=!1)}}),ka=W.commands.registerTextEditorCommand("crates.retry",(t,e,r)=>{t&&Y(t)}),Fa=W.commands.registerTextEditorCommand("crates.updateAll",(t,e)=>{if(t&&!L.inProgress&&L.replaceItems&&L.replaceItems.length>0&&t.document.fileName.toLocaleLowerCase().endsWith("cargo.toml")){L.inProgress=!0,console.log("Replacing All");for(let r=L.replaceItems.length-1;r>-1;r--){let s=L.replaceItems[r];e.replace(new W.Range(t.document.positionAt(s.start),t.document.positionAt(s.end)),s.item)}L.inProgress=!1,t.document.save().then(r=>{r||t.document.save()})}}),Dt={replaceVersion:xn};var Ds=require("vscode");var B=require("vscode");var Ge=$e(ft());function pt(t="0.0.0",e){let r=t,s=r.charCodeAt(0);s>47&&s<58&&(r="^"+r);let n=e[0];return[(0,Ge.satisfies)(n,r),(0,Ge.maxSatisfying)(e,t)]}var Cs=$e(ft()),Ns=t=>B.window.createTextEditorDecorationType({after:{margin:"2em"}});function mt(t,e,r,s,n){let o=e.start,a=t.document.lineAt(t.document.positionAt(e.end)).range.end,h=e.end,i=e.value?.replace(",",""),[c,l]=pt(i,r),u=w=>{let O=w.split(`
`),A=new B.MarkdownString("#### Errors ");return A.appendMarkdown(`
`),O.filter($=>$).forEach($=>{A.appendMarkdown("* "),A.appendText($.trim()),A.appendMarkdown(`
`)}),A},f=new B.MarkdownString,p={};if(n)f=u(n),p=s.errorDecoratorCss;else{f.appendMarkdown("#### Versions"),f.appendMarkdown(` _( [View Crate](https://crates.io/crates/${e.key.replace(/"/g,"")}) | [Check Reviews](https://web.crev.dev/rust-reviews/crate/${e.key.replace(/"/g,"")}) )_`),f.isTrusted=!0,r.length>0&&L.replaceItems.push({item:`"${r[0]}"`,start:o,end:h});for(let w=0;w<r.length;w++){let O=r[w],A={item:`"${O}"`,start:o,end:h},$=O===l,I=encodeURI(JSON.stringify(A)),V=w===0||$?`[(docs)](https://docs.rs/crate/${e.key.replace(/"/g,"")}/${O})`:"",x=`${$?"**":""}[${O}](command:crates.replaceVersion?${I})${V}${$?"**":""}`;f.appendMarkdown(`
 * `),f.appendMarkdown(x)}if(i=="?"){let O={item:`"${r[0]}"`,start:o,end:h};t.edit(A=>{A.replace(new B.Range(t.document.positionAt(O.start+1),t.document.positionAt(O.end-1)),O.item.substr(1,O.item.length-2))}),t.document.save()}p=s.compatibleDecoratorCss,(0,Cs.validRange)(i)?r[0]!==l&&(c?p=s.compatibleDecoratorCss:p=s.incompatibleDecoratorCss):p=s.errorDecoratorCss,p.after.contentText=p.after.contentText.replace("${version}",r[0])}let E={range:new B.Range(t.document.positionAt(o),a),hoverMessage:f,renderOptions:{}};return i!="?"&&p.after.contentText.length>0&&(E.renderOptions=p),E}var te;function gt(t,e){let r=Ia(),s=[],n=e.filter(a=>(a&&!a.error&&a.versions&&a.versions.length||(a.error||(a.error=a.item.key+": No versions found"),s.push(`${a.error}`)),a)),o=[];for(let a=n.length-1;a>-1;a--){let h=n[a];try{let i=mt(t,h.item,h.versions||[],JSON.parse(JSON.stringify(r)),h.error);i&&o.push(i)}catch(i){console.error(i),s.push(`Failed to build build decorator (${h.item.value})`)}}te&&te.dispose(),te=Ns("VERSION"),t.setDecorations(te,o),s.length?T.setText("Error",`Completed with errors
${s.join(`
`)}`):T.setText("Info")}function Ia(){let t=Ds.workspace.getConfiguration(""),e=t.get("crates.compatibleDecorator")??"",r=t.get("crates.compatibleDecoratorCss")??{},s=t.get("crates.errorDecorator"),n=t.get("crates.errorDecoratorCss")??{},o=t.get("crates.incompatibleDecorator")??"",a=t.get("crates.incompatibleDecoratorCss")??{},h=s?s+"":"";return r.after==null&&(r.after={}),a.after==null&&(a.after={}),n.after==null&&(n.after={}),r.after.contentText=e,a.after.contentText=o,n.after.contentText=h,{compatibleDecoratorCss:r,incompatibleDecoratorCss:a,errorDecoratorCss:n}}var Ms=$e(require("https")),Us=$e(ks()),dt="https://index.crates.io",Fs=new Us.default({stdTTL:60*10}),Et=(t,e)=>(t=t.replace(/"/g,""),new Promise(function(r,s){let n=Fs.get(t);if(n){r(n);return}var o,a=t.toLowerCase();a.length<=2?o=a.length:a.length==3?o="3/"+a.substring(0,1):o=a.substring(0,2)+"/"+a.substring(2,4);var h=Ms.get(`${e}/${o}/${a}`,function(i){if(!i.statusCode){s(new Error("statusCode="+i.statusCode));return}if(i.statusCode<200||i.statusCode>=300)return s(new Error("statusCode="+i.statusCode));var c,l=[];i.on("data",function(u){l.push(u)}),i.on("end",function(){try{var u=Buffer.concat(l).toString().split(`
`).filter(E=>E),f=[];for(var p of u)f.push(JSON.parse(p));c={name:t,versions:f.filter(E=>E.yanked===!1).map(E=>E.vers),features:Object.keys(f.at(-1).features).filter(E=>E!=="default")},Fs.set(t,c)}catch(E){s(E)}r(c)})});h.on("error",function(i){s(i)}),h.end()}));var Hs=/^v?(?:\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+))?(?:-[\da-z\-]+(?:\.[\da-z\-]+)*)?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i;function xa(t,e){return t.indexOf(e)===-1?t.length:t.indexOf(e)}function Xs(t){let e=t.replace(/^v/,"").replace(/\+.*$/,""),r=xa(e,"-"),s=e.substring(0,r).split(".");return s.push(e.substring(r+1)),s}function ya(t){if(!Hs.test(t))throw new Error("Invalid argument not valid semver ('"+t+"' received)")}function Fe(t,e){[t,e].forEach(ya);let r=Xs(t),s=Xs(e),n=Math.max(r.length-1,s.length-1);for(let c=0;c<n;c++){var o=parseInt(r[c]||"0",10),a=parseInt(s[c]||"0",10);if(o>a)return 1;if(a>o)return-1}var h=r[r.length-1],i=s[s.length-1];if(h&&i){let c=h.split(".").map(f=>/^\d+$/.test(f)?parseInt(f,10):f),l=i.split(".").map(f=>/^\d+$/.test(f)?parseInt(f,10):f),u=Math.max(c.length,l.length);for(let f=0;f<u;f++){if(c[f]===void 0||typeof l[f]=="string"&&typeof c[f]=="number")return-1;if(l[f]===void 0||typeof c[f]=="string"&&typeof l[f]=="number"||c[f]>l[f])return 1;if(l[f]>c[f])return-1}}else if(h||i)return h?-1:1;return 0}var Bs=[">",">=","=","<","<="],Ta={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1]};function wa(t){if(typeof t!="string")throw new TypeError("Invalid operator type, expected string but got "+typeof t);if(Bs.indexOf(t)===-1)throw new TypeError("Invalid operator, expected one of "+Bs.join("|"))}Fe.validate=function(t){return typeof t=="string"&&Hs.test(t)};Fe.compare=function(t,e,r){wa(r);var s=Fe(t,e);return Ta[r].indexOf(s)>-1};var zs=Fe;var F=require("vscode");var P=require("vscode");var vt="abcdefghijklmnopqrstuvwxyz";function It(t){let e=Math.floor(t/vt.length),r=vt[t%vt.length];return"z".repeat(e)+r}var Me=class{provideCompletionItems(e,r,s,n){if(!xe)return;let o=e.lineAt(r).text.match($t);if(o){let a=o[1]==="version"?Ot(e,r.line):o[1];if(!a)return;let h=o[7]??o[5],i=Ks(e,a,r);if(!i||!i.versions)return;let c=o[1].length+o[2].length+(o[3]?.length??0)+1,l=c+h.length;if(!new P.Range(new P.Position(r.line,c),new P.Position(r.line,l)).contains(r))return;if(h.trim().length!==0){let u=h.substr(0,c-r.character).toLowerCase(),f=new P.Range(new P.Position(r.line,c),new P.Position(r.line,l)),p=0;return new P.CompletionList((u.length>0?i.versions.filter(E=>E.toLowerCase().startsWith(u)):i.versions).map(E=>{let w=new P.CompletionItem(E,P.CompletionItemKind.Class);return w.range=f,w.preselect=p===0,w.sortText=It(p++),w}),!0)}else if(r.character!==l+1)return i.versionCompletionItems}}};async function Ws(t){let e=F.workspace.getConfiguration(""),r=!!e.get("crates.listPreReleases");var s=e.get("crates.indexServerURL")??dt,n;try{n=Et}catch(i){console.error(`Could not check index compatibility for url "${s}" (using sparse instead) : ${i}`),s=dt,n=Et}T.setText("Loading","\u{1F440} Fetching "+s.replace(/^https?:\/\//,""));let o=$a(n,r,s),a=new Map,h=t.map(o);return[Promise.all(h),a]}function $a(t,e,r){return function(s){return t(s.key,r).then(n=>{let o=n.versions.reduce((c,l)=>(!e&&(l.indexOf("-alpha")!==-1||l.indexOf("-beta")!==-1||l.indexOf("-rc")!==-1||l.indexOf("-pre")!==-1)||c.push(l),c),[]).sort(zs).reverse(),a=0,h=new F.CompletionList(o.map(c=>{let l=new F.CompletionItem(c,F.CompletionItemKind.Class);return l.preselect=a===0,l.sortText=It(a++),l}),!0),i=new Map;return n.features?.forEach(c=>{i.set(c,new F.CompletionList(n.features.map(l=>new F.CompletionItem(l,F.CompletionItemKind.Class))))}),{item:s,versions:o,versionCompletionItems:h,featureCompletionItems:i}}).catch(n=>(console.error(n),{item:s,error:s.key+": "+n}))}}function Oa(t){console.log("Parsing...");let e=Lt(t),r=At(e.values);return console.log("Parsed"),r}var Ys,Rt,xe;function Ks(t,e,r){let s=xe.get(e);if(s){if(s.length===1)return s[0];for(let n=0;n<s.length;n++)if(new Js.Range(t.positionAt(s[n].item.start+1),t.positionAt(s[n].item.end-1)).contains(r))return s[n]}}async function Sa(t,e=!1,r=!0){let s=t.document.getText();try{if(T.setText("Loading","Parsing Cargo.toml"),Ys=Oa(s),r||!Rt||!xe){let n=await Ws(Ys);Rt=await n[0],xe=n[1]}gt(t,Rt)}catch(n){console.error(n),T.setText("Error","Cargo.toml is not valid!"),te&&te.dispose()}}async function Y(t){if(t){let{fileName:e}=t.document;e.toLocaleLowerCase().endsWith("cargo.toml")?(L.inProgress=!0,L.replaceItems=[],T.show(),await Sa(t)):T.hide(),L.inProgress=!1}else console.log("No active editor found.");return Promise.resolve()}function Aa(t){let e={language:"toml",pattern:"**/[Cc]argo.toml"};t.subscriptions.push(H.window.onDidChangeActiveTextEditor(Y),H.workspace.onDidChangeTextDocument(r=>{let{fileName:s}=r.document;s.toLocaleLowerCase().endsWith("cargo.toml")&&(r.document.isDirty||Y(H.window.activeTextEditor))}),H.languages.registerCompletionItemProvider(e,new Me,"'",'"',".","+","-","0","1","2","3","4","5","6","7","8","9")),Y(H.window.activeTextEditor),t.subscriptions.push(Dt.replaceVersion)}function La(){}0&&(module.exports={activate,deactivate});
